(self.webpackChunkAngularDijkstra=self.webpackChunkAngularDijkstra||[]).push([[792],{1082:(Ti,li,Me)=>{"use strict";var Pt={};Me.r(Pt),Me.d(Pt,{Decoder:()=>qQ,Encoder:()=>Ynt,PacketType:()=>Vr,isPacketValid:()=>iit,protocol:()=>Xnt});var Tt=Me(467);let yn=null,vn=!1,Pn=1;const Gn=Symbol("SIGNAL");function It(n){const t=yn;return yn=n,t}const Ct={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function en(n){if(vn)throw new Error("");if(null===yn)return;yn.consumerOnSignalRead(n);const t=yn.nextProducerIndex++;Fr(yn),t<yn.producerNode.length&&yn.producerNode[t]!==n&&us(yn)&&Gs(yn.producerNode[t],yn.producerIndexOfThis[t]),yn.producerNode[t]!==n&&(yn.producerNode[t]=n,yn.producerIndexOfThis[t]=us(yn)?$o(n,yn,t):0),yn.producerLastReadVersion[t]=n.version}function fn(n){if((!us(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Pn)){if(!n.producerMustRecompute(n)&&!Ri(n))return n.dirty=!1,void(n.lastCleanEpoch=Pn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Pn}}function vr(n){if(void 0===n.liveConsumerNode)return;const t=vn;vn=!0;try{for(const e of n.liveConsumerNode)e.dirty||uo(e)}finally{vn=t}}function Rs(){return!1!==yn?.consumerAllowSignalWrites}function uo(n){n.dirty=!0,vr(n),n.consumerMarkedDirty?.(n)}function Ys(n){return n&&(n.nextProducerIndex=0),It(n)}function sl(n,t){if(It(t),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(us(n))for(let e=n.nextProducerIndex;e<n.producerNode.length;e++)Gs(n.producerNode[e],n.producerIndexOfThis[e]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ri(n){Fr(n);for(let t=0;t<n.producerNode.length;t++){const e=n.producerNode[t],i=n.producerLastReadVersion[t];if(i!==e.version||(fn(e),i!==e.version))return!0}return!1}function cs(n){if(Fr(n),us(n))for(let t=0;t<n.producerNode.length;t++)Gs(n.producerNode[t],n.producerIndexOfThis[t]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function $o(n,t,e){if(zr(n),Fr(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=$o(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(e),n.liveConsumerNode.push(t)-1}function Gs(n,t){if(zr(n),Fr(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)Gs(n.producerNode[i],n.producerIndexOfThis[i]);const e=n.liveConsumerNode.length-1;if(n.liveConsumerNode[t]=n.liveConsumerNode[e],n.liveConsumerIndexOfThis[t]=n.liveConsumerIndexOfThis[e],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,t<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[t],r=n.liveConsumerNode[t];Fr(r),r.producerIndexOfThis[i]=t}}function us(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Fr(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function zr(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let Bp=function Qu(){throw new Error};function Sg(){Bp()}let Fp=null;function Pp(n,t){Rs()||Sg(),n.equal(n.value,t)||(n.value=t,function _t(n){n.version++,function cn(){Pn++}(),vr(n),Fp?.()}(n))}const Mg={...Ct,equal:function Ot(n,t){return Object.is(n,t)},value:void 0};const ln=()=>{},_n={...Ct,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{null!==n.schedule&&n.schedule(n.ref)},hasRun:!1,cleanupFn:ln};function bn(n){return"function"==typeof n}function ho(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const Mr=ho(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function ts(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class Ni{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(bn(i))try{i()}catch(s){t=s instanceof Mr?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{Oc(s)}catch(o){t=t??[],o instanceof Mr?t=[...t,...o.errors]:t.push(o)}}if(t)throw new Mr(t)}}add(t){var e;if(t&&t!==this)if(this.closed)Oc(t);else{if(t instanceof Ni){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&ts(e,t)}remove(t){const{_finalizers:e}=this;e&&ts(e,t),t instanceof Ni&&t._removeParent(this)}}Ni.EMPTY=(()=>{const n=new Ni;return n.closed=!0,n})();const du=Ni.EMPTY;function Fd(n){return n instanceof Ni||n&&"closed"in n&&bn(n.remove)&&bn(n.add)&&bn(n.unsubscribe)}function Oc(n){bn(n)?n():n.unsubscribe()}const Kl={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ea={setTimeout(n,t,...e){const{delegate:i}=ea;return i?.setTimeout?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=ea;return(t?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Rc(n){ea.setTimeout(()=>{const{onUnhandledError:t}=Kl;if(!t)throw n;t(n)})}function Zs(){}const Nh=He("C",void 0,void 0);function He(n,t,e){return{kind:n,value:t,error:e}}let et=null;function vt(n){if(Kl.useDeprecatedSynchronousErrorHandling){const t=!et;if(t&&(et={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=et;if(et=null,e)throw i}}else n()}class rn extends Ni{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Fd(t)&&t.add(this)):this.destination=Ro}static create(t,e,i){return new Hn(t,e,i)}next(t){this.isStopped?Lr(function Ih(n){return He("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Lr(function Gm(n){return He("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Lr(Nh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Wt=Function.prototype.bind;function Dn(n,t){return Wt.call(n,t)}class dn{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){nn(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){nn(i)}else nn(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){nn(e)}}}class Hn extends rn{constructor(t,e,i){let r;if(super(),bn(t)||!t)r={next:t??void 0,error:e??void 0,complete:i??void 0};else{let s;this&&Kl.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Dn(t.next,s),error:t.error&&Dn(t.error,s),complete:t.complete&&Dn(t.complete,s)}):r=t}this.destination=new dn(r)}}function nn(n){Kl.useDeprecatedSynchronousErrorHandling?function jt(n){Kl.useDeprecatedSynchronousErrorHandling&&et&&(et.errorThrown=!0,et.error=n)}(n):Rc(n)}function Lr(n,t){const{onStoppedNotification:e}=Kl;e&&ea.setTimeout(()=>e(n,t))}const Ro={closed:!0,next:Zs,error:function xi(n){throw n},complete:Zs},ya="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ns(n){return n}function ll(n){return 0===n.length?Ns:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let Xi=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const s=function Tg(n){return n&&n instanceof rn||function Bf(n){return n&&bn(n.next)&&bn(n.error)&&bn(n.complete)}(n)&&Fd(n)}(e)?e:new Hn(e,i,r);return vt(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=Op(i))((r,s)=>{const o=new Hn({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[ya](){return this}pipe(...e){return ll(e)(this)}toPromise(e){return new(e=Op(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function Op(n){var t;return null!==(t=n??Kl.Promise)&&void 0!==t?t:Promise}const eS=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Rn=(()=>{class n extends Xi{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Tr(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new eS}next(e){vt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){vt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){vt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:s}=this;return i||r?du:(this.currentObservers=null,s.push(e),new Ni(()=>{this.currentObservers=null,ts(s,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:s}=this;i?e.error(r):s&&e.complete()}asObservable(){const e=new Xi;return e.source=this,e}}return n.create=(t,e)=>new Tr(t,e),n})();class Tr extends Rn{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:du}}class Qr extends Rn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function Ng(n){return bn(n?.lift)}function Xr(n){return t=>{if(Ng(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ds(n,t,e,i,r){return new _y(n,t,e,i,r)}class _y extends rn{constructor(t,e,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function _i(n,t){return Xr((e,i)=>{let r=0;e.subscribe(ds(i,s=>{i.next(n.call(t,s,r++))}))})}const k_="https://g.co/ng/security#xss";class xt extends Error{constructor(t,e){super(function Rp(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function Pd(n){return{toString:n}.toString()}const Up="__parameters__";function Ff(n,t,e){return Pd(()=>{const i=function Hp(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(Up)?l[Up]:Object.defineProperty(l,Up,{value:[]})[Up];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}const Gr=globalThis;function Yr(n){for(let t in n)if(n[t]===Yr)return t;throw Error("Could not find renamed property on target object.")}function Bg(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Co(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Co).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function H_(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const yy=Yr({__forward_ref__:Yr});function jr(n){return n.__forward_ref__=jr,n.toString=function(){return Co(this())},n}function Ii(n){return Dl(n)?n():n}function Dl(n){return"function"==typeof n&&n.hasOwnProperty(yy)&&n.__forward_ref__===jr}function Vp(n,t,e){n!=t&&function Di(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(e,n,t,"==")}function Nt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pi(n){return{providers:n.providers||[],imports:n.imports||[]}}function xy(n){return TT(n,z_)||TT(n,NT)}function TT(n,t){return n.hasOwnProperty(t)?n[t]:null}function V_(n){return n&&(n.hasOwnProperty(Cy)||n.hasOwnProperty(WL))?n[Cy]:null}const z_=Yr({\u0275prov:Yr}),Cy=Yr({\u0275inj:Yr}),NT=Yr({ngInjectableDef:Yr}),WL=Yr({ngInjectorDef:Yr});class Rt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=Nt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sS(n){return n&&!!n.\u0275providers}const G_=Yr({\u0275cmp:Yr}),Pg=Yr({\u0275dir:Yr}),Og=Yr({\u0275pipe:Yr}),oS=Yr({\u0275mod:Yr}),Pf=Yr({\u0275fac:Yr}),ju=Yr({__NG_ELEMENT_ID__:Yr}),j_=Yr({__NG_ENV_ID__:Yr});function Qi(n){return"string"==typeof n?n:null==n?"":String(n)}function aS(n,t){throw new xt(-201,!1)}var Ur=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ur||{});let lS;function IT(){return lS}function Lc(n){const t=lS;return lS=n,t}function BT(n,t,e){const i=xy(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ur.Optional?null:void 0!==t?t:void aS()}const q_={},uS="__NG_DI_FLAG__",Dy="ngTempTokenPath",JL=/\n/gm,FT="__source";let zp;function Of(n){const t=zp;return zp=n,t}function W_(n,t=Ur.Default){if(void 0===zp)throw new xt(-203,!1);return null===zp?BT(n,void 0,t):zp.get(n,t&Ur.Optional?null:void 0,t)}function dt(n,t=Ur.Default){return(IT()||W_)(Ii(n),t)}function ze(n,t=Ur.Default){return dt(n,Rg(t))}function Rg(n){return typeof n>"u"||"number"==typeof n?n:(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function My(n){const t=[];for(let e=0;e<n.length;e++){const i=Ii(n[e]);if(Array.isArray(i)){if(0===i.length)throw new xt(900,!1);let r,s=Ur.Default;for(let o=0;o<i.length;o++){const a=i[o],l=Ph(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}t.push(dt(r,s))}else t.push(dt(i))}return t}function Fh(n,t){return n[uS]=t,n.prototype[uS]=t,n}function Ph(n){return n[uS]}const kg=Fh(Ff("Optional"),8),jm=Fh(Ff("SkipSelf"),4);function Od(n,t){return n.hasOwnProperty(Pf)?n[Pf]:null}function qm(n,t){n.forEach(e=>Array.isArray(e)?qm(e,t):t(e))}function dS(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function $_(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function xa(n,t,e){let i=pu(n,t);return i>=0?n[1|i]=e:(i=~i,function fu(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Ca(n,t){const e=pu(n,t);if(e>=0)return n[1|e]}function pu(n,t){return function hS(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const qu={},ns=[],Km=new Rt(""),Lg=new Rt("",-1),Rd=new Rt("");class Ny{get(t,e=q_){if(e===q_){const i=new Error(`NullInjectorError: No provider for ${Co(t)}!`);throw i.name="NullInjectorError",i}return e}}var Iy=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Iy||{}),Uc=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Uc||{}),kt=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(kt||{});function r5(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}function fS(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];pS(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Wu(n){return 3===n||4===n||6===n}function pS(n){return 64===n.charCodeAt(0)}function K_(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||OT(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function OT(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const X_="ng-template";function s5(n,t,e,i){let r=0;if(i){for(;r<t.length&&"string"==typeof t[r];r+=2)if("class"===t[r]&&-1!==r5(t[r+1].toLowerCase(),e,0))return!0}else if(By(n))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&"string"==typeof(s=t[r]);)if(s.toLowerCase()===e)return!0}return!1}function By(n){return 4===n.type&&n.value!==X_}function RT(n,t,e){return t===(4!==n.type||e?n.value:X_)}function kT(n,t,e){let i=4;const r=n.attrs,s=null!==r?function HT(n){for(let t=0;t<n.length;t++)if(Wu(n[t]))return t;return n.length}(r):0;let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!RT(n,l,e)||""===l&&1===t.length){if($u(i))return!1;o=!0}}else if(8&i){if(null===r||!s5(n,r,l,e)){if($u(i))return!1;o=!0}}else{const c=t[++a],u=LT(l,r,By(n),e);if(-1===u){if($u(i))return!1;o=!0;continue}if(""!==c){let d;if(d=u>s?"":r[u+1].toLowerCase(),2&i&&c!==d){if($u(i))return!1;o=!0}}}}else{if(!o&&!$u(i)&&!$u(l))return!1;if(o&&$u(l))continue;o=!1,i=l|1&i}}return $u(i)||o}function $u(n){return!(1&n)}function LT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function o5(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function mS(n,t,e=!1){for(let i=0;i<t.length;i++)if(kT(n,t[i],e))return!0;return!1}function Fy(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function VT(n,t){return n?":not("+t.trim()+")":t}function a5(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!$u(o)&&(t+=VT(s,r),r=""),i=o,s=s||!$u(i);e++}return""!==r&&(t+=VT(s,r)),t}function Nn(n){return Pd(()=>{const t=QT(n),e={...t,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Iy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Uc.Emulated,styles:n.styles||ns,_:null,schemas:n.schemas||null,tView:null,id:""};GT(e);const i=n.dependencies;return e.directiveDefs=Xm(i,!1),e.pipeDefs=Xm(i,!0),e.id=function h5(n){let t=0;const e=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of e)t=Math.imul(31,t)+r.charCodeAt(0)|0;return t+=2147483648,"c"+t}(e),e})}function c5(n){return Nr(n)||La(n)}function u5(n){return null!==n}function gi(n){return Pd(()=>({type:n.type,bootstrap:n.bootstrap||ns,declarations:n.declarations||ns,imports:n.imports||ns,exports:n.exports||ns,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zT(n,t){if(null==n)return qu;const e={};for(const i in n)if(n.hasOwnProperty(i)){const r=n[i];let s,o,a=kt.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(e[s]=a!==kt.None?[i,a]:i,t[s]=o):e[s]=i}return e}function Mt(n){return Pd(()=>{const t=QT(n);return GT(t),t})}function dl(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Nr(n){return n[G_]||null}function La(n){return n[Pg]||null}function Sa(n){return n[Og]||null}function Yl(n,t){const e=n[oS]||null;if(!e&&!0===t)throw new Error(`Type ${Co(n)} does not have '\u0275mod' property.`);return e}function QT(n){const t={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:n.inputs||qu,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||ns,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zT(n.inputs,t),outputs:zT(n.outputs),debugInfo:null}}function GT(n){n.features?.forEach(t=>t(n))}function Xm(n,t){if(!n)return null;const e=t?Sa:c5;return()=>("function"==typeof n?n():n).map(i=>e(i)).filter(u5)}function Ug(n){return{\u0275providers:n}}function f5(...n){return{\u0275providers:Hg(0,n),\u0275fromNgModule:!0}}function Hg(n,...t){const e=[],i=new Set;let r;const s=o=>{e.push(o)};return qm(t,o=>{const a=o;Py(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&jT(r,s),e}function jT(n,t){for(let e=0;e<n.length;e++){const{ngModule:i,providers:r}=n[e];gS(r,s=>{t(s,i)})}}function Py(n,t,e,i){if(!(n=Ii(n)))return!1;let r=null,s=V_(n);const o=!s&&Nr(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const l=n.ngModule;if(s=V_(l),!s)return!1;r=l}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)Py(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{qm(s.imports,u=>{Py(u,t,e,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&jT(c,t)}if(!a){const c=Od(r)||(()=>new r);t({provide:r,useFactory:c,deps:ns},r),t({provide:Rd,useValue:r,multi:!0},r),t({provide:Km,useValue:()=>dt(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const c=n;gS(l,u=>{t(u,c)})}}}return r!==n&&void 0!==n.providers}function gS(n,t){for(let e of n)sS(e)&&(e=e.\u0275providers),Array.isArray(e)?gS(e,t):t(e)}const Oy=Yr({provide:String,useValue:Yr});function vS(n){return null!==n&&"object"==typeof n&&Oy in n}function Ym(n){return"function"==typeof n}const _S=new Rt(""),Ry={},m5={};let bS;function ky(){return void 0===bS&&(bS=new Ny),bS}class Ua{}class Vg extends Ua{get destroyed(){return this._destroyed}constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,wS(t,o=>this.processProvider(o)),this.records.set(Lg,qp(void 0,this)),r.has("environment")&&this.records.set(Ua,qp(void 0,this));const s=this.records.get(_S);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Rd,ns,Ur.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=It(null);try{for(const i of this._ngOnDestroyHooks)i.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const i of e)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),It(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const e=Of(this),i=Lc(void 0);try{return t()}finally{Of(e),Lc(i)}}get(t,e=q_,i=Ur.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(j_))return t[j_](this);i=Rg(i);const s=Of(this),o=Lc(void 0);try{if(!(i&Ur.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function v5(n){return"function"==typeof n||"object"==typeof n&&n instanceof Rt}(t)&&xy(t);l=c&&this.injectableDefInScope(c)?qp(yS(t),Ry):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&Ur.Self?ky():this.parent).get(t,e=i&Ur.Optional&&e===q_?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[Dy]=a[Dy]||[]).unshift(Co(t)),s)throw a;return function t5(n,t,e,i){const r=n[Dy];throw t[FT]&&r.unshift(t[FT]),n.message=function Qp(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Co(t);if(Array.isArray(t))r=t.map(Co).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Co(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(JL,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[Dy]=null,n}(a,t,"R3InjectorError",this.source)}throw a}finally{Lc(o),Of(s)}}resolveInjectorInitializers(){const t=It(null),e=Of(this),i=Lc(void 0);try{const s=this.get(Km,ns,Ur.Self);for(const o of s)o()}finally{Of(e),Lc(i),It(t)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Co(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xt(205,!1)}processProvider(t){let e=Ym(t=Ii(t))?t:Ii(t&&t.provide);const i=function A5(n){return vS(n)?qp(void 0,n.useValue):qp(KT(n),Ry)}(t);if(!Ym(t)&&!0===t.multi){let r=this.records.get(e);r||(r=qp(void 0,Ry,!0),r.factory=()=>My(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){const i=It(null);try{return e.value===Ry&&(e.value=m5,e.value=e.factory()),"object"==typeof e.value&&e.value&&function g5(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}finally{It(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ii(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(t){const e=this._onDestroyHooks.indexOf(t);-1!==e&&this._onDestroyHooks.splice(e,1)}}function yS(n){const t=xy(n),e=null!==t?t.factory:Od(n);if(null!==e)return e;if(n instanceof Rt)throw new xt(204,!1);if(n instanceof Function)return function $T(n){if(n.length>0)throw new xt(204,!1);const e=function Bh(n){return n&&(n[z_]||n[NT])||null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new xt(204,!1)}function KT(n,t,e){let i;if(Ym(n)){const r=Ii(n);return Od(r)||yS(r)}if(vS(n))i=()=>Ii(n.useValue);else if(function WT(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...My(n.deps||[]));else if(function qT(n){return!(!n||!n.useExisting)}(n))i=()=>dt(Ii(n.useExisting));else{const r=Ii(n&&(n.useClass||n.provide));if(!function Ly(n){return!!n.deps}(n))return Od(r)||yS(r);i=()=>new r(...My(n.deps))}return i}function qp(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function wS(n,t){for(const e of n)Array.isArray(e)?wS(e,t):e&&sS(e)?wS(e.\u0275providers,t):t(e)}function Oh(n,t){n instanceof Vg&&n.assertNotDestroyed();const i=Of(n),r=Lc(void 0);try{return t()}finally{Of(i),Lc(r)}}function XT(){return void 0!==IT()||null!=function PT(){return zp}()}function Y_(n){if(!XT())throw new xt(-203,!1)}const ko=0,wn=1,hi=2,ua=3,kd=4,Tl=5,mu=6,zg=7,po=8,Ea=9,Ld=10,ki=11,J_=12,ZT=13,Lo=14,Ko=15,e0=16,Qg=17,kf=18,t0=19,xS=20,Wp=21,Vy=22,Zm=23,Yi=25,CS=1,Ud=7,Gg=9,da=10;var r0=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(r0||{});function So(n){return Array.isArray(n)&&"object"==typeof n[CS]}function Zl(n){return Array.isArray(n)&&!0===n[CS]}function zy(n){return!!(4&n.flags)}function Hd(n){return n.componentOffset>-1}function Jm(n){return!(1&~n.flags)}function Vd(n){return!!n.template}function SS(n){return!!(512&n[hi])}class DS{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function jy(n,t,e,i){null!==t?t.applyValueToInputSignal(t,i):n[e]=i}function js(){return MS}function MS(n){return n.type.prototype.ngOnChanges&&(n.setInput=nN),B5}function B5(){const n=Wy(this),t=n?.current;if(t){const e=n.previous;if(e===qu)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function nN(n,t,e,i,r){const s=this.declaredInputs[i],o=Wy(n)||function iN(n,t){return n[qy]=t}(n,{previous:qu,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new DS(c&&c.currentValue,e,l===qu),jy(n,t,r,e)}js.ngInherit=!0;const qy="__ngSimpleChanges__";function Wy(n){return n[qy]||null}const zd=function(n,t,e){},Ky="svg";let oN=!1;function Bs(n){for(;Array.isArray(n);)n=n[ko];return n}function o0(n,t){return Bs(t[n])}function yc(n,t){return Bs(t[n.index])}function a0(n,t){return n.data[t]}function jg(n,t){return n[t]}function Au(n,t){const e=t[n];return So(e)?e:e[ko]}function NS(n){return!(128&~n[hi])}function Rh(n,t){return null==t?null:n[t]}function Xy(n){n[Qg]=0}function lN(n){1024&n[hi]||(n[hi]|=1024,NS(n)&&l0(n))}function tA(n){return!!(9216&n[hi]||n[Zm]?.dirty)}function IS(n){n[Ld].changeDetectionScheduler?.notify(1),tA(n)?l0(n):64&n[hi]&&(function F5(){return oN}()?(n[hi]|=1024,l0(n)):n[Ld].changeDetectionScheduler?.notify())}function l0(n){n[Ld].changeDetectionScheduler?.notify();let t=nA(n);for(;null!==t&&!(8192&t[hi])&&(t[hi]|=8192,NS(t));)t=nA(t)}function c0(n,t){if(!(256&~n[hi]))throw new xt(911,!1);null===n[Wp]&&(n[Wp]=[]),n[Wp].push(t)}function nA(n){const t=n[ua];return Zl(t)?t[ua]:t}const Li={lFrame:LS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function uN(){return Li.bindingsEnabled}function iA(){return null!==Li.skipHydrationRootTNode}function Lt(){return Li.lFrame.lView}function Hr(){return Li.lFrame.tView}function $t(n){return Li.lFrame.contextLView=n,n[po]}function Gt(n){return Li.lFrame.contextLView=null,n}function As(){let n=pN();for(;null!==n&&64===n.type;)n=n.parent;return n}function pN(){return Li.lFrame.currentTNode}function qg(){const n=Li.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}function Ku(n,t){const e=Li.lFrame;e.currentTNode=n,e.isParent=t}function Yy(){return Li.lFrame.isParent}function Zy(){Li.lFrame.isParent=!1}function Jl(){const n=Li.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function kh(){return Li.lFrame.bindingIndex}function Gd(){return Li.lFrame.bindingIndex++}function Lh(n){const t=Li.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Jy(n){Li.lFrame.inI18n=n}function e1(n,t){const e=Li.lFrame;e.bindingIndex=e.bindingRootIndex=n,FS(t)}function FS(n){Li.lFrame.currentDirectiveIndex=n}function OS(){return Li.lFrame.currentQueryIndex}function h0(n){Li.lFrame.currentQueryIndex=n}function RS(n){const t=n[wn];return 2===t.type?t.declTNode:1===t.type?n[Tl]:null}function kS(n,t,e){if(e&Ur.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Ur.Host||(r=RS(s),null===r||(s=s[Lo],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Li.lFrame=n1();return i.currentTNode=t,i.lView=n,!0}function t1(n){const t=n1(),e=n[wn];Li.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function n1(){const n=Li.lFrame,t=null===n?null:n.child;return null===t?LS(n):t}function LS(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function US(){const n=Li.lFrame;return Li.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const gN=US;function $g(){const n=US();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Nl(){return Li.lFrame.selectedIndex}function $p(n){Li.lFrame.selectedIndex=n}function mo(){const n=Li.lFrame;return a0(n.tView,n.selectedIndex)}function Kp(){Li.lFrame.currentNamespace=Ky}let VS=!0;function Eo(){return VS}function ec(n){VS=n}function jd(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks??=[]).push(-e,o),a&&((n.contentHooks??=[]).push(e,a),(n.contentCheckHooks??=[]).push(e,a)),l&&(n.viewHooks??=[]).push(-e,l),c&&((n.viewHooks??=[]).push(e,c),(n.viewCheckHooks??=[]).push(e,c)),null!=u&&(n.destroyHooks??=[]).push(e,u)}}function qd(n,t,e){zS(n,t,3,e)}function Xp(n,t,e,i){(3&n[hi])===e&&zS(n,t,e,i)}function Wd(n,t){let e=n[hi];(3&e)===t&&(e&=16383,e+=1,n[hi]=e)}function zS(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[Qg]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[Qg]+=65536),(a<s||-1==s)&&(_N(n,e,t,l),n[Qg]=(4294901760&n[Qg])+l+2),l++}function QS(n,t){zd(4,n,t);const e=It(null);try{t.call(n)}finally{It(e),zd(5,n,t)}}function _N(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];r?n[hi]>>14<n[Qg]>>16&&(3&n[hi])===t&&(n[hi]+=16384,QS(a,s)):QS(a,s)}const Yp=-1;class Lf{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function GS(n){return n!==Yp}function sA(n){return 32767&n}function f0(n,t){let e=function G5(n){return n>>16}(n),i=t;for(;e>0;)i=i[Lo],e--;return i}let jS=!0;function a1(n){const t=jS;return jS=n,t}const l1=255,c1=5;let yN=0;const Uh={};function p0(n,t){const e=wN(n,t);if(-1!==e)return e;const i=t[wn];i.firstCreatePass&&(n.injectorIndex=t.length,qS(i.data,n),qS(t,null),qS(i.blueprint,null));const r=u1(n,t),s=n.injectorIndex;if(GS(r)){const o=sA(r),a=f0(r,t),l=a[wn].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|l[o+c]}return t[s+8]=r,s}function qS(n,t){n.push(0,0,0,0,0,0,0,0,t)}function wN(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function u1(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=EN(r),null===i)return Yp;if(e++,r=r[Lo],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return Yp}function WS(n,t,e){!function j5(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ju)&&(i=e[ju]),null==i&&(i=e[ju]=yN++);const r=i&l1;t.data[n+(r>>c1)]|=1<<r}(n,t,e)}function d1(n,t,e){if(e&Ur.Optional||void 0!==n)return n;aS()}function xN(n,t,e,i){if(e&Ur.Optional&&void 0===i&&(i=null),!(e&(Ur.Self|Ur.Host))){const r=n[Ea],s=Lc(void 0);try{return r?r.get(t,i,e&Ur.Optional):BT(t,i,e&Ur.Optional)}finally{Lc(s)}}return d1(i,0,e)}function h1(n,t,e,i=Ur.Default,r){if(null!==n){if(2048&t[hi]&&!(i&Ur.Self)){const o=function W5(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&2048&o[hi]&&!(512&o[hi]);){const a=CN(s,o,e,i|Ur.Self,Uh);if(a!==Uh)return a;let l=s.parent;if(!l){const c=o[xS];if(c){const u=c.get(e,Uh,i);if(u!==Uh)return u}l=EN(o),o=o[Lo]}s=l}return r}(n,t,e,i,Uh);if(o!==Uh)return o}const s=CN(n,t,e,i,Uh);if(s!==Uh)return s}return xN(t,e,i,r)}function CN(n,t,e,i,r){const s=function Xu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ju)?n[ju]:void 0;return"number"==typeof t?t>=0?t&l1:f1:t}(e);if("function"==typeof s){if(!kS(t,n,i))return i&Ur.Host?d1(r,0,i):xN(t,e,i,r);try{let o;if(o=s(i),null!=o||i&Ur.Optional)return o;aS()}finally{gN()}}else if("number"==typeof s){let o=null,a=wN(n,t),l=Yp,c=i&Ur.Host?t[Ko][Tl]:null;for((-1===a||i&Ur.SkipSelf)&&(l=-1===a?u1(n,t):t[a+8],l!==Yp&&Fs(i,!1)?(o=t[wn],a=sA(l),t=f0(l,t)):a=-1);-1!==a;){const u=t[wn];if(SN(s,a,u.data)){const d=zn(a,t,e,o,i,c);if(d!==Uh)return d}l=t[a+8],l!==Yp&&Fs(i,t[wn].data[a+8]===c)&&SN(s,a,t)?(o=u,a=sA(l),t=f0(l,t)):a=-1}}return r}function zn(n,t,e,i,r,s){const o=t[wn],a=o.data[n+8],u=Uf(a,o,e,null==i?Hd(a)&&jS:i!=o&&!!(3&a.type),r&Ur.Host&&s===a);return null!==u?Hh(t,o,u,a):Uh}function Uf(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,l=n.directiveStart,u=s>>20,f=r?a+u:n.directiveEnd;for(let h=i?a:a+u;h<f;h++){const p=o[h];if(h<l&&e===p||h>=l&&p.type===e)return h}if(r){const h=o[l];if(h&&Vd(h)&&h.type===e)return l}return null}function Hh(n,t,e,i){let r=n[e];const s=t.data;if(function bN(n){return n instanceof Lf}(r)){const o=r;o.resolving&&function XL(n,t){throw t&&t.join(" > "),new xt(-200,n)}(function xs(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Qi(n)}(s[e]));const a=a1(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Lc(o.injectImpl):null;kS(n,i,Ur.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Kg(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=MS(t);(e.preOrderHooks??=[]).push(n,o),(e.preOrderCheckHooks??=[]).push(n,o)}r&&(e.preOrderHooks??=[]).push(0-n,r),s&&((e.preOrderHooks??=[]).push(n,s),(e.preOrderCheckHooks??=[]).push(n,s))}(e,s[e],t)}finally{null!==c&&Lc(c),a1(a),o.resolving=!1,gN()}}return r}function SN(n,t,e){return!!(e[t+(n>>c1)]&1<<n)}function Fs(n,t){return!(n&Ur.Self||n&Ur.Host&&t)}class Va{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return h1(this._tNode,this._lView,t,Rg(i),e)}}function f1(){return new Va(As(),Lt())}function tr(n){return Pd(()=>{const t=n.prototype.constructor,e=t[Pf]||Xg(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Pf]||Xg(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Xg(n){return Dl(n)?()=>{const t=Xg(Ii(n));return t&&t()}:Od(n)}function EN(n){const t=n[wn],e=t.type;return 2===e?t.declTNode:1===e?n[Tl]:null}function $d(n){return function q5(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Wu(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(As(),n)}function JS(n,t=null,e=null,i){const r=A0(n,t,e,i);return r.resolveInjectorInitializers(),r}function A0(n,t=null,e=null,i,r=new Set){const s=[e||ns,f5(n)];return i=i||("object"==typeof n?void 0:Co(n)),new Vg(s,t||ky(),i||null,r)}let ta=(()=>{class n{static{this.THROW_IF_NOT_FOUND=q_}static{this.NULL=new Ny}static create(e,i){if(Array.isArray(e))return JS({name:""},i,e,"");{const r=e.name??"";return JS({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Nt({token:n,providedIn:"any",factory:()=>dt(Lg)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function Yg(n){return n.ngOriginalError}class Xd{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Yg(t);for(;e&&Yg(e);)e=Yg(e);return e||null}}const oA=new Rt("",{providedIn:"root",factory:()=>ze(Xd).handleError.bind(void 0)});let Vh=(()=>{class n{static{this.__NG_ELEMENT_ID__=TN}static{this.__NG_ENV_ID__=e=>e}}return n})();class Z5 extends Vh{constructor(t){super(),this._lView=t}onDestroy(t){return c0(this._lView,t),()=>function u0(n,t){if(null===n[Wp])return;const e=n[Wp].indexOf(t);-1!==e&&n[Wp].splice(e,1)}(this._lView,t)}}function TN(){return new Z5(Lt())}function e3(){return Zg(As(),Lt())}function Zg(n,t){return new $n(yc(n,t))}let $n=(()=>{class n{constructor(e){this.nativeElement=e}static{this.__NG_ELEMENT_ID__=e3}}return n})();function IN(n){return n instanceof $n?n.nativeElement:n}function eE(n){return t=>{setTimeout(n,void 0,t)}}const Cn=class t3 extends Rn{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,XT()&&(this.destroyRef=ze(Vh,{optional:!0})??void 0)}emit(t){const e=It(null);try{super.next(t)}finally{It(e)}}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=eE(s),r&&(r=eE(r)),o&&(o=eE(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof Ni&&t.add(a),a}};function n3(){return this._results[Symbol.iterator]()}class Jg{get changes(){return this._changes??=new Cn}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Jg.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=n3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){this.dirty=!1;const i=function bc(n){return n.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function fo(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(this._results,i,e))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function I(n){return!(128&~n.flags)}const ne=new Map;let me=0;const In="__ngContext__";function bi(n,t){So(t)?(n[In]=t[t0],function Ie(n){ne.set(n[t0],n)}(t)):n[In]=t}function fl(n){return wc(n[J_])}function Vf(n){return wc(n[kd])}function wc(n){for(;null!==n&&!Zl(n);)n=n[kd];return n}let r3;function ev(){if(void 0!==r3)return r3;if(typeof document<"u")return document;throw new xt(210,!1)}const tE=new Rt("",{providedIn:"root",factory:()=>V0e}),V0e="ng",$j=new Rt(""),jf=new Rt("",{providedIn:"platform",factory:()=>"unknown"}),Yu=new Rt(""),s3=new Rt("",{providedIn:"root",factory:()=>ev().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Kj=()=>null;function f3(n,t,e=!1){return Kj(n,t,e)}const eq=new Rt("",{providedIn:"root",factory:()=>!1});let LN,UN;function _1(n){return function g3(){if(void 0===LN&&(LN=null,Gr.trustedTypes))try{LN=Gr.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return LN}()?.createHTML(n)||n}function rq(n){return function v3(){if(void 0===UN&&(UN=null,Gr.trustedTypes))try{UN=Gr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return UN}()?.createScriptURL(n)||n}class sq{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${k_})`}}function tv(n){return n instanceof sq?n.changingThisBreaksApplicationSecurity:n}function oE(n,t){const e=function obe(n){return n instanceof sq&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${k_})`)}return e===t}class abe{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(_1(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class lbe{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const e=this.inertDocument.createElement("template");return e.innerHTML=_1(t),e}}const ube=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _3(n){return(n=String(n)).match(ube)?n:"unsafe:"+n}function uA(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function aE(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const aq=uA("area,br,col,hr,img,wbr"),lq=uA("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),cq=uA("rp,rt"),b3=aE(aq,aE(lq,uA("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aE(cq,uA("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),aE(cq,lq)),y3=uA("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),uq=aE(y3,uA("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),uA("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var b1=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(b1||{});function Js(n){const t=lE();return t?t.sanitize(b1.URL,n)||"":oE(n,"URL")?tv(n):_3(Qi(n))}function pq(n){const t=lE();if(t)return rq(t.sanitize(b1.RESOURCE_URL,n)||"");if(oE(n,"ResourceURL"))return rq(tv(n));throw new xt(904,!1)}function lE(){const n=Lt();return n&&n[Ld].sanitizer}const Ebe=/^>|^->|<!--|-->|--!>|<!-$/g,Dbe=/(<|>)/g,Mbe="\u200b$1\u200b";function _q(n){return n.ownerDocument.defaultView}function Zd(n){return n instanceof Function?n():n}var nv=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(nv||{});let E3;function D3(n,t){return E3(n,t)}function w1(n,t,e,i,r){if(null!=i){let s,o=!1;Zl(i)?s=i:So(i)&&(o=!0,i=i[ko]);const a=Bs(i);0===n&&null!==e?null==r?Mq(t,e,a):_0(t,e,a,r||null,!0):1===n&&null!==e?_0(t,e,a,r||null,!0):2===n?function dE(n,t,e){const i=jN(n,t);i&&function qbe(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function Kbe(n,t,e,i,r){const s=e[Ud];s!==Bs(e)&&w1(t,n,i,s,r);for(let a=da;a<e.length;a++){const l=e[a];WN(l[wn],l,n,t,i,s)}}(t,n,s,e,r)}}function M3(n,t){return n.createText(t)}function T3(n,t){return n.createComment(function Aq(n){return n.replace(Ebe,t=>t.replace(Dbe,Mbe))}(t))}function QN(n,t,e){return n.createElement(t,e)}function Sq(n,t){t[Ld].changeDetectionScheduler?.notify(1),WN(n,t,t[ki],2,null,null)}function Eq(n,t){const e=n[Gg],i=e.indexOf(t);e.splice(i,1)}function cE(n,t){if(n.length<=da)return;const e=da+t,i=n[e];if(i){const r=i[e0];null!==r&&r!==n&&Eq(r,i),t>0&&(n[e-1][kd]=i[kd]);const s=$_(n,da+t);!function Ube(n,t){Sq(n,t),t[ko]=null,t[Tl]=null}(i[wn],i);const o=s[kf];null!==o&&o.detachView(s[wn]),i[ua]=null,i[kd]=null,i[hi]&=-129}return i}function GN(n,t){if(!(256&t[hi])){const e=t[ki];e.destroyNode&&WN(n,t,e,3,null,null),function Vbe(n){let t=n[J_];if(!t)return N3(n[wn],n);for(;t;){let e=null;if(So(t))e=t[J_];else{const i=t[da];i&&(e=i)}if(!e){for(;t&&!t[kd]&&t!==n;)So(t)&&N3(t[wn],t),t=t[ua];null===t&&(t=n),So(t)&&N3(t[wn],t),e=t&&t[kd]}t=e}}(t)}}function N3(n,t){if(256&t[hi])return;const e=It(null);try{t[hi]&=-129,t[hi]|=256,t[Zm]&&cs(t[Zm]),function jbe(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Lf)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];zd(4,a,l);try{l.call(a)}finally{zd(5,a,l)}}else{zd(4,r,s);try{s.call(r)}finally{zd(5,r,s)}}}}}(n,t),function Gbe(n,t){const e=n.cleanup,i=t[zg];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else e[s].call(i[e[s+1]]);null!==i&&(t[zg]=null);const r=t[Wp];if(null!==r){t[Wp]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,t),1===t[wn].type&&t[ki].destroy();const i=t[e0];if(null!==i&&Zl(t[ua])){i!==t[ua]&&Eq(i,t);const r=t[kf];null!==r&&r.detachView(n)}!function tt(n){ne.delete(n[t0])}(t)}finally{It(e)}}function I3(n,t,e){return Dq(n,t.parent,e)}function Dq(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[ko];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Uc.None||s===Uc.Emulated)return null}return yc(i,e)}}function _0(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Mq(n,t,e){n.appendChild(t,e)}function Tq(n,t,e,i,r){null!==i?_0(n,t,e,i,r):Mq(n,t,e)}function jN(n,t){return n.parentNode(t)}function Nq(n,t,e){return Bq(n,t,e)}function Iq(n,t,e){return 40&n.type?yc(n,e):null}let B3,Bq=Iq;function Fq(n,t){Bq=n,B3=t}function qN(n,t,e,i){const r=I3(n,i,t),s=t[ki],a=Nq(i.parent||t[Tl],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)Tq(s,r,e[l],a,!1);else Tq(s,r,e,a,!1);void 0!==B3&&B3(s,i,t,e,r)}function uE(n,t){if(null!==t){const e=t.type;if(3&e)return yc(t,n);if(4&e)return F3(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return uE(n,i);{const r=n[t.index];return Zl(r)?F3(-1,r):Bs(r)}}if(32&e)return D3(t,n)()||Bs(n[t.index]);{const i=Pq(n,t);return null!==i?Array.isArray(i)?i[0]:uE(nA(n[Ko]),i):uE(n,t.next)}}return null}function Pq(n,t){return null!==t?n[Ko][Tl].projection[t.projection]:null}function F3(n,t){const e=da+n+1;if(e<t.length){const i=t[e],r=i[wn].firstChild;if(null!==r)return uE(i,r)}return t[Ud]}function P3(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&bi(Bs(a),i),e.flags|=2),32&~e.flags)if(8&l)P3(n,t,e.child,i,r,s,!1),w1(t,n,r,a,s);else if(32&l){const c=D3(e,i);let u;for(;u=c();)w1(t,n,r,u,s);w1(t,n,r,a,s)}else 16&l?Rq(n,t,i,e,r,s):w1(t,n,r,a,s);e=o?e.projectionNext:e.next}}function WN(n,t,e,i,r,s){P3(e,i,n.firstChild,t,r,s,!1)}function Rq(n,t,e,i,r,s){const o=e[Ko],l=o[Tl].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)w1(t,n,r,l[c],s);else{let c=l;const u=o[ua];I(i)&&(c.flags|=128),P3(n,t,c,u,r,s,!0)}}function kq(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Lq(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&fS(n,t,i),null!==r&&kq(n,t,r),null!==s&&function Ybe(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}const ur={};function te(n=1){Uq(Hr(),Lt(),Nl()+n,!1)}function Uq(n,t,e,i){if(!i)if(3&~t[hi]){const s=n.preOrderHooks;null!==s&&Xp(t,s,0,e)}else{const s=n.preOrderCheckHooks;null!==s&&qd(t,s,e)}$p(e)}function oe(n,t=Ur.Default){const e=Lt();return null===e?dt(n,t):h1(As(),e,Ii(n),t)}function O3(){throw new Error("invalid")}function Hq(n,t,e,i,r,s){const o=It(null);try{let a=null;r&kt.SignalBased&&(a=t[i][Gn]),null!==a&&void 0!==a.transformFn&&(s=a.transformFn(s)),r&kt.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(t,s)),null!==n.setInput?n.setInput(t,a,s,e,i):jy(t,a,i,s)}finally{It(o)}}function $N(n,t,e,i,r,s,o,a,l,c,u){const d=t.blueprint.slice();return d[ko]=r,d[hi]=204|i,(null!==c||n&&2048&n[hi])&&(d[hi]|=2048),Xy(d),d[ua]=d[Lo]=n,d[po]=e,d[Ld]=o||n&&n[Ld],d[ki]=a||n&&n[ki],d[Ea]=l||n&&n[Ea]||null,d[Tl]=s,d[t0]=function Be(){return me++}(),d[mu]=u,d[xS]=c,d[Ko]=2==t.type?n[Ko]:d,d}function x1(n,t,e,i,r){let s=n.data[t];if(null===s)s=R3(n,t,e,i,r),function Wg(){return Li.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=qg();s.injectorIndex=null===o?-1:o.injectorIndex}return Ku(s,!0),s}function R3(n,t,e,i,r){const s=pN(),o=Yy(),l=n.data[t]=function sye(n,t,e,i,r,s){let o=t?t.injectorIndex:-1,a=0;return iA()&&(a|=128),{type:e,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}function hE(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Vq(n,t,e,i,r){const s=Nl(),o=2&i;try{$p(-1),o&&t.length>Yi&&Uq(n,t,Yi,!1),zd(o?2:0,r),e(i,r)}finally{$p(s),zd(o?3:1,r)}}function k3(n,t,e){if(zy(t)){const i=It(null);try{const s=t.directiveEnd;for(let o=t.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{It(i)}}}function L3(n,t,e){uN()&&(function hye(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;Hd(e)&&function _ye(n,t,e){const i=yc(t,n),r=zq(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=KN(n,$N(n,r,null,o,i,t,null,n[Ld].rendererFactory.createRenderer(i,e),null,null,null));n[t.index]=a}(t,e,n.data[r+e.componentOffset]),n.firstCreatePass||p0(e,t),bi(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Hh(t,n,a,e);bi(c,t),null!==o&&bye(0,a-r,c,l,0,o),Vd(l)&&(Au(e.index,t)[po]=Hh(t,n,a,e))}}(n,t,e,yc(e,t)),!(64&~e.flags)&&Wq(n,t,e))}function U3(n,t,e=yc){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function zq(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=H3(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):t}function H3(n,t,e,i,r,s,o,a,l,c,u){const d=Yi+i,f=d+r,h=function Jbe(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ur);return e}(d,f),p="function"==typeof c?c():c;return h[wn]={type:n,blueprint:h,template:e,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let Qq=()=>null;function Gq(n,t,e,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;const o=t[s];if(void 0===o)continue;i??={};let a,l=kt.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(null!==r){if(!r.hasOwnProperty(s))continue;c=r[s]}0===n?jq(i,e,c,a,l):jq(i,e,c,a)}return i}function jq(n,t,e,i,r){let s;n.hasOwnProperty(e)?(s=n[e]).push(t,i):s=n[e]=[t,i],void 0!==r&&s.push(r)}function Zu(n,t,e,i,r,s,o,a){const l=yc(t,e);let u,c=t.inputs;!a&&null!=c&&(u=c[i])?(j3(n,e,u,i,r),Hd(t)&&function lye(n,t){const e=Au(t,n);16&e[hi]||(e[hi]|=64)}(e,t.index)):3&t.type&&(i=function aye(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(l,i,r))}function V3(n,t,e,i){if(uN()){const r=null===i?null:{"":-1},s=function pye(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(mS(t,o.selectors,!1))if(i||(i=[]),Vd(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),z3(n,t,a.length)}else i.unshift(o),z3(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&qq(n,t,e,o,r,a),r&&function mye(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new xt(-301,!1);i.push(t[r],s)}}}(e,i,r)}e.mergedAttrs=K_(e.mergedAttrs,e.attrs)}function qq(n,t,e,i,r,s){for(let c=0;c<i.length;c++)WS(p0(e,t),n,i[c].type);!function gye(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=hE(n,t,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];e.mergedAttrs=K_(e.mergedAttrs,u.hostAttrs),vye(n,e,t,l,u),Aye(l,u,r),null!==u.contentQueries&&(e.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(e.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(e.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function oye(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let l=null,c=null;for(let u=t.directiveStart;u<r;u++){const d=s[u],f=e?e.get(d):null,p=f?f.outputs:null;l=Gq(0,d.inputs,u,l,f?f.inputs:null),c=Gq(1,d.outputs,u,c,p);const m=null===l||null===o||By(t)?null:yye(l,u,o);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(n,e,s)}function Wq(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function H5(){return Li.lFrame.currentDirectiveIndex}();try{$p(s);for(let a=i;a<r;a++){const l=n.data[a],c=t[a];FS(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&fye(l,c)}}finally{$p(-1),FS(o)}}function fye(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function z3(n,t,e){t.componentOffset=e,(n.components??=[]).push(t.index)}function Aye(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Vd(t)&&(e[""]=n)}}function vye(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Od(r.type)),o=new Lf(s,Vd(r),oe);n.blueprint[i]=o,e[i]=o,function uye(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function dye(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,hE(n,e,r.hostVars,ur),r)}function em(n,t,e,i,r,s){const o=yc(n,t);!function Q3(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Qi(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[ki],o,s,n.value,e,i,r)}function bye(n,t,e,i,r,s){const o=s[t];if(null!==o)for(let a=0;a<o.length;)Hq(i,e,o[a++],o[a++],o[a++],o[a++])}function yye(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function $q(n,t,e,i){return[n,!0,0,t,null,i,null,e,null,null]}function Kq(n,t){const e=n.contentQueries;if(null!==e){const i=It(null);try{for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const a=n.data[o];h0(e[r]),a.contentQueries(2,t[o],o)}}}finally{It(i)}}}function KN(n,t){return n[J_]?n[ZT][kd]=t:n[J_]=t,n[ZT]=t,t}function G3(n,t,e){h0(0);const i=It(null);try{t(n,e)}finally{It(i)}}function Xq(n){return n[zg]||(n[zg]=[])}function Yq(n){return n.cleanup||(n.cleanup=[])}function XN(n,t){const e=n[Ea],i=e?e.get(Xd,null):null;i&&i.handleError(t)}function j3(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],l=e[s++];Hq(n.data[o],t[o],i,a,l,r)}}function dA(n,t,e){const i=o0(t,n);!function Cq(n,t,e){n.setValue(t,e)}(n[ki],i,e)}function wye(n,t){const e=Au(t,n),i=e[wn];!function xye(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])}(i,e);const r=e[ko];null!==r&&null===e[mu]&&(e[mu]=f3(r,e[Ea])),q3(i,e,e[po])}function q3(n,t,e){t1(t);try{const i=n.viewQuery;null!==i&&G3(1,i,e);const r=n.template;null!==r&&Vq(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),t[kf]?.finishViewCreation(n),n.staticContentQueries&&Kq(n,t),n.staticViewQueries&&G3(2,n.viewQuery,e);const s=n.components;null!==s&&function Cye(n,t){for(let e=0;e<t.length;e++)wye(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[hi]&=-5,$g()}}function fE(n,t,e,i){const r=It(null);try{const s=t.tView,l=$N(n,s,e,4096&n[hi]?4096:16,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null);l[e0]=n[t.index];const u=n[kf];return null!==u&&(l[kf]=u.createEmbeddedView(s)),q3(s,l,e),l}finally{It(r)}}function Jq(n,t){const e=da+t;if(e<n.length)return n[e]}function C1(n,t){return!t||null===t.firstChild||I(n)}function pE(n,t,e,i=!0){const r=t[wn];if(function zbe(n,t,e,i){const r=da+i,s=e.length;i>0&&(e[r-1][kd]=t),i<s-da?(t[kd]=e[r],dS(e,da+i,t)):(e.push(t),t[kd]=null),t[ua]=e;const o=t[e0];null!==o&&e!==o&&function Qbe(n,t){const e=n[Gg];t[Ko]!==t[ua][ua][Ko]&&(n[hi]|=r0.HasTransplantedViews),null===e?n[Gg]=[t]:e.push(t)}(o,t);const a=t[kf];null!==a&&a.insertView(n),IS(t),t[hi]|=128}(r,t,n,e),i){const o=F3(e,n),a=t[ki],l=jN(a,n[Ud]);null!==l&&function Hbe(n,t,e,i,r,s){i[ko]=r,i[Tl]=t,WN(n,i,e,1,r,s)}(r,n[Tl],a,t,l,o)}const s=t[mu];null!==s&&null!==s.firstChild&&(s.firstChild=null)}function W3(n,t){const e=cE(n,t);return void 0!==e&&GN(e[wn],e),e}function mE(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];null!==s&&i.push(Bs(s)),Zl(s)&&eW(s,i);const o=e.type;if(8&o)mE(n,t,e.child,i);else if(32&o){const a=D3(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Pq(t,e);if(Array.isArray(a))i.push(...a);else{const l=nA(t[Ko]);mE(l[wn],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}function eW(n,t){for(let e=da;e<n.length;e++){const i=n[e],r=i[wn].firstChild;null!==r&&mE(i[wn],i,r,t)}n[Ud]!==n[ko]&&t.push(n[Ud])}let tW=[];const Mye={...Ct,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{l0(n.lView)},consumerOnSignalRead(){this.lView[Zm]=this}},nW=100;function YN(n,t=!0,e=0){const i=n[Ld],r=i.rendererFactory;r.begin?.();try{!function Tye(n,t){$3(n,t);let e=0;for(;tA(n);){if(e===nW)throw new xt(103,!1);e++,$3(n,1)}}(n,e)}catch(o){throw t&&XN(n,o),o}finally{r.end?.(),i.inlineEffectRunner?.flush()}}function Nye(n,t,e,i){const r=t[hi];if(!(256&~r))return;t[Ld].inlineEffectRunner?.flush(),t1(t);let o=null,a=null;(function Iye(n){return 2!==n.type})(n)&&(a=function Sye(n){return n[Zm]??function Eye(n){const t=tW.pop()??Object.create(Mye);return t.lView=n,t}(n)}(t),o=Ys(a));try{Xy(t),function AN(n){return Li.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Vq(n,t,e,2,i);const l=!(3&~r);if(l){const d=n.preOrderCheckHooks;null!==d&&qd(t,d,null)}else{const d=n.preOrderHooks;null!==d&&Xp(t,d,0,null),Wd(t,0)}if(function Bye(n){for(let t=fl(n);null!==t;t=Vf(t)){if(!(t[hi]&r0.HasTransplantedViews))continue;const e=t[Gg];for(let i=0;i<e.length;i++){lN(e[i])}}}(t),iW(t,0),null!==n.contentQueries&&Kq(n,t),l){const d=n.contentCheckHooks;null!==d&&qd(t,d)}else{const d=n.contentHooks;null!==d&&Xp(t,d,1),Wd(t,1)}!function Zbe(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)$p(~r);else{const s=r,o=e[++i],a=e[++i];e1(o,s),a(2,t[s])}}}finally{$p(-1)}}(n,t);const c=n.components;null!==c&&sW(t,c,0);const u=n.viewQuery;if(null!==u&&G3(2,u,i),l){const d=n.viewCheckHooks;null!==d&&qd(t,d)}else{const d=n.viewHooks;null!==d&&Xp(t,d,2),Wd(t,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[Vy]){for(const d of t[Vy])d();t[Vy]=null}t[hi]&=-73}catch(l){throw l0(t),l}finally{null!==a&&(sl(a,o),function Dye(n){n.lView[Zm]!==n&&(n.lView=null,tW.push(n))}(a)),$g()}}function iW(n,t){for(let e=fl(n);null!==e;e=Vf(e))for(let i=da;i<e.length;i++)rW(e[i],t)}function Fye(n,t,e){rW(Au(t,n),e)}function rW(n,t){NS(n)&&$3(n,t)}function $3(n,t){const i=n[wn],r=n[hi],s=n[Zm];let o=!!(0===t&&16&r);if(o||=!!(64&r&&0===t),o||=!!(1024&r),o||=!(!s?.dirty||!Ri(s)),s&&(s.dirty=!1),n[hi]&=-9217,o)Nye(i,n,i.template,n[po]);else if(8192&r){iW(n,1);const a=i.components;null!==a&&sW(n,a,1)}}function sW(n,t,e){for(let i=0;i<t.length;i++)Fye(n,t[i],e)}function AE(n){for(n[Ld].changeDetectionScheduler?.notify();n;){n[hi]|=64;const t=nA(n);if(SS(n)&&!t)return n;n=t}return null}class gE{get rootNodes(){const t=this._lView,e=t[wn];return mE(e,t,e.firstChild,[])}constructor(t,e,i=!0){this._lView=t,this._cdRefInjectingView=e,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[po]}set context(t){this._lView[po]=t}get destroyed(){return!(256&~this._lView[hi])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ua];if(Zl(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(cE(t,i),$_(e,i))}this._attachedToViewContainer=!1}GN(this._lView[wn],this._lView)}onDestroy(t){c0(this._lView,t)}markForCheck(){AE(this._cdRefInjectingView||this._lView)}detach(){this._lView[hi]&=-129}reattach(){IS(this._lView),this._lView[hi]|=128}detectChanges(){this._lView[hi]|=1024,YN(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Sq(this._lView[wn],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new xt(902,!1);this._appRef=t,IS(this._lView)}}let gs=(()=>{class n{static{this.__NG_ELEMENT_ID__=Rye}}return n})();const Pye=gs,Oye=class extends Pye{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,e){return this.createEmbeddedViewImpl(t,e)}createEmbeddedViewImpl(t,e,i){const r=fE(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:e,dehydratedView:i});return new gE(r)}};function Rye(){return ZN(As(),Lt())}function ZN(n,t){return 4&n.type?new Oye(t,n,Zg(n,t)):null}let dW=()=>null;function S1(n,t){return dW(n,t)}class iI{}class o1e{}class hW{}class l1e{resolveComponentFactory(t){throw function a1e(n){const t=Error(`No component factory found for ${Co(n)}.`);return t.ngComponent=n,t}(t)}}let b0=(()=>{class n{static{this.NULL=new l1e}}return n})();class e4{}let tm=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function c1e(){const n=Lt(),e=Au(As().index,n);return(So(e)?e:n)[ki]}()}}return n})(),u1e=(()=>{class n{static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>null})}}return n})();const t4={},pW=new Set;function nm(n){pW.has(n)||(pW.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function mW(...n){}class qn{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cn(!1),this.onMicrotaskEmpty=new Cn(!1),this.onStable=new Cn(!1),this.onError=new Cn(!1),typeof Zone>"u")throw new xt(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function d1e(){const n="function"==typeof Gr.requestAnimationFrame;let t=Gr[n?"requestAnimationFrame":"setTimeout"],e=Gr[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&e){const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function p1e(n){const t=()=>{!function f1e(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Gr,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,r4(n),n.isCheckStableRunning=!0,n4(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),r4(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{if(function m1e(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return AW(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),gW(n)}},onInvoke:(e,i,r,s,o,a,l)=>{try{return AW(n),e.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),gW(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,r4(n),n4(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qn.isInAngularZone())throw new xt(909,!1)}static assertNotInAngularZone(){if(qn.isInAngularZone())throw new xt(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,h1e,mW,mW);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const h1e={};function n4(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function r4(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function AW(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function gW(n){n._nesting--,n4(n)}class vW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cn,this.onMicrotaskEmpty=new Cn,this.onStable=new Cn,this.onError=new Cn}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}var y0=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(y0||{});const _W={destroy(){}};function o4(n,t){!t&&Y_();const e=t?.injector??ze(ta);if(!function qf(n){return"browser"===(n??ze(ta)).get(jf)}(e))return _W;nm("NgAfterNextRender");const i=e.get(wE),r=i.handler??=new yW,s=t?.phase??y0.MixedReadWrite,o=()=>{r.unregister(l),a()},a=e.get(Vh).onDestroy(o),l=Oh(e,()=>new bW(s,()=>{o(),n()}));return r.register(l),{destroy:o}}class bW{constructor(t,e){this.phase=t,this.callbackFn=e,this.zone=ze(qn),this.errorHandler=ze(Xd,{optional:!0}),ze(iI,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(t){this.errorHandler?.handleError(t)}}}class yW{constructor(){this.executingCallbacks=!1,this.buckets={[y0.EarlyRead]:new Set,[y0.Write]:new Set,[y0.MixedReadWrite]:new Set,[y0.Read]:new Set},this.deferredCallbacks=new Set}register(t){(this.executingCallbacks?this.deferredCallbacks:this.buckets[t.phase]).add(t)}unregister(t){this.buckets[t.phase].delete(t),this.deferredCallbacks.delete(t)}execute(){this.executingCallbacks=!0;for(const t of Object.values(this.buckets))for(const e of t)e.invoke();this.executingCallbacks=!1;for(const t of this.deferredCallbacks)this.buckets[t.phase].add(t);this.deferredCallbacks.clear()}destroy(){for(const t of Object.values(this.buckets))t.clear();this.deferredCallbacks.clear()}}let wE=(()=>{class n{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const e=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const i of e)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>new n})}}return n})();function sI(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=H_(r,a):2==s&&(i=H_(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}class CW extends b0{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Nr(t);return new SE(e,this.ngModule)}}function SW(n){const t=[];for(const e in n){if(!n.hasOwnProperty(e))continue;const i=n[e];void 0!==i&&t.push({propName:Array.isArray(i)?i[0]:i,templateName:e})}return t}class oI{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Rg(i);const r=this.injector.get(t,t4,i);return r!==t4||e===t4?r:this.parentInjector.get(t,e,i)}}class SE extends hW{get inputs(){const t=this.componentDef,e=t.inputTransforms,i=SW(t.inputs);if(null!==e)for(const r of i)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return i}get outputs(){return SW(this.componentDef.outputs)}constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function AS(n){return n.map(a5).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}create(t,e,i,r){const s=It(null);try{let o=(r=r||this.ngModule)instanceof Ua?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new oI(t,o):t,l=a.get(e4,null);if(null===l)throw new xt(407,!1);const c=a.get(u1e,null),f={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:a.get(wE,null),changeDetectionScheduler:a.get(iI,null)},h=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",m=i?function eye(n,t,e,i){const s=i.get(eq,!1)||e===Uc.ShadowDom,o=n.selectRootElement(t,s);return function tye(n){Qq(n)}(o),o}(h,i,this.componentDef.encapsulation,a):QN(h,p,function b1e(n){const t=n.toLowerCase();return"svg"===t?Ky:"math"===t?"math":null}(p));let g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let A=null;null!==m&&(A=f3(m,a,!0));const _=H3(0,null,null,1,0,null,null,null,null,null,null),v=$N(null,_,null,g,null,null,f,h,a,null,A);let b,w;t1(v);try{const y=this.componentDef;let C,D=null;y.findHostDirectiveDefs?(C=[],D=new Map,y.findHostDirectiveDefs(y,C,D),C.push(y)):C=[y];const S=function w1e(n,t){const e=n[wn],i=Yi;return n[i]=t,x1(e,i,2,"#host",null)}(v,m),T=function x1e(n,t,e,i,r,s,o){const a=r[wn];!function C1e(n,t,e,i){for(const r of n)t.mergedAttrs=K_(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(sI(t,t.mergedAttrs,!0),null!==e&&Lq(i,e,t))}(i,n,t,o);let l=null;null!==t&&(l=f3(t,r[Ea]));const c=s.rendererFactory.createRenderer(t,e);let u=16;e.signals?u=4096:e.onPush&&(u=64);const d=$N(r,zq(e),null,u,r[n.index],n,s,c,null,null,l);return a.firstCreatePass&&z3(a,n,i.length-1),KN(r,d),r[n.index]=d}(S,m,y,C,v,f,h);w=a0(_,Yi),m&&function E1e(n,t,e,i){if(i)fS(n,e,["ng-version","17.3.12"]);else{const{attrs:r,classes:s}=function l5(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!$u(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&fS(n,e,r),s&&s.length>0&&kq(n,e,s.join(" "))}}(h,y,m,i),void 0!==e&&function D1e(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(w,this.ngContentSelectors,e),b=function S1e(n,t,e,i,r,s){const o=As(),a=r[wn],l=yc(o,r);qq(a,r,o,e,null,i);for(let u=0;u<e.length;u++)bi(Hh(r,a,o.directiveStart+u,o),r);Wq(a,r,o),l&&bi(l,r);const c=Hh(r,a,o.directiveStart+o.componentOffset,o);if(n[po]=r[po]=c,null!==s)for(const u of s)u(c,t);return k3(a,o,r),c}(T,y,C,D,v,[M1e]),q3(_,v,null)}finally{$g()}return new y1e(this.componentType,b,Zg(w,v),v,w)}finally{It(s)}}}class y1e extends o1e{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new gE(r,void 0,!1),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),e))return;const s=this._rootLView;j3(s[wn],s,r,t,e),this.previousInputValues.set(t,e),AE(Au(this._tNode.index,s))}}get injector(){return new Va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function M1e(){const n=As();jd(Lt()[wn],n)}let Uo=(()=>{class n{static{this.__NG_ELEMENT_ID__=T1e}}return n})();function T1e(){return MW(As(),Lt())}const N1e=Uo,EW=class extends N1e{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Zg(this._hostTNode,this._hostLView)}get injector(){return new Va(this._hostTNode,this._hostLView)}get parentInjector(){const t=u1(this._hostTNode,this._hostLView);if(GS(t)){const e=f0(t,this._hostLView),i=sA(t);return new Va(e[wn].data[i+8],e)}return new Va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=DW(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-da}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=S1(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(e||{},s,o);return this.insertImpl(a,r,C1(this._hostTNode,o)),a}createComponent(t,e,i,r,s){const o=t&&!function Z_(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const p=e||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const l=o?t:new SE(Nr(t)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const m=(o?c:this.parentInjector).get(Ua,null);m&&(s=m)}const u=Nr(l.componentType??{}),d=S1(this._lContainer,u?.id??null),h=l.create(c,r,d?.firstChild??null,s);return this.insertImpl(h.hostView,a,C1(this._hostTNode,d)),h}insert(t,e){return this.insertImpl(t,e,!0)}insertImpl(t,e,i){const r=t._lView;if(function aN(n){return Zl(n[ua])}(r)){const a=this.indexOf(t);if(-1!==a)this.detach(a);else{const l=r[ua],c=new EW(l,l[Tl],l[ua]);c.detach(c.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;return pE(o,r,s,i),t.attachToViewContainerRef(),dS(c4(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=DW(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=cE(this._lContainer,e);i&&($_(c4(this._lContainer),e),GN(i[wn],i))}detach(t){const e=this._adjustIndex(t,-1),i=cE(this._lContainer,e);return i&&null!=$_(c4(this._lContainer),e)?new gE(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function DW(n){return n[8]}function c4(n){return n[8]||(n[8]=[])}function MW(n,t){let e;const i=t[n.index];return Zl(i)?e=i:(e=$q(i,t,null,n),t[n.index]=e,KN(t,e)),TW(e,t,n,i),new EW(e,n,t)}let TW=function IW(n,t,e,i){if(n[Ud])return;let r;r=8&e.type?Bs(i):function I1e(n,t){const e=n[ki],i=e.createComment(""),r=yc(t,n);return _0(e,jN(e,r),i,function Wbe(n,t){return n.nextSibling(t)}(e,r),!1),i}(t,e),n[Ud]=r},u4=()=>!1;class d4{constructor(t){this.queryList=t,this.matches=null}clone(){return new d4(this.queryList)}setDirty(){this.queryList.setDirty()}}class h4{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new h4(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==g4(t,e).matches&&this.queries[e].setDirty()}}class BW{constructor(t,e,i=null){this.flags=e,this.read=i,this.predicate="string"==typeof t?function U1e(n){return n.split(",").map(t=>t.trim())}(t):t}}class f4{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new f4(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class p4{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new p4(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,O1e(e,s)),this.matchTNodeWithReadOption(t,e,Uf(e,t,s,!1,!1))}else i===gs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Uf(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$n||r===Uo||r===gs&&4&e.type)this.addMatch(e.index,-2);else{const s=Uf(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function O1e(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function k1e(n,t,e,i){return-1===e?function R1e(n,t){return 11&n.type?Zg(n,t):4&n.type?ZN(n,t):null}(t,n):-2===e?function L1e(n,t,e){return e===$n?Zg(t,n):e===gs?ZN(t,n):e===Uo?MW(t,n):void 0}(n,t,i):Hh(n,n[wn],e,t)}function FW(n,t,e,i){const r=t[kf].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let l=0;null!==o&&l<o.length;l+=2){const c=o[l];a.push(c<0?null:k1e(t,s[c],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function m4(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=FW(n,t,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=t[-l];for(let d=da;d<u.length;d++){const f=u[d];f[e0]===f[ua]&&m4(f[wn],f,c,i)}if(null!==u[Gg]){const d=u[Gg];for(let f=0;f<d.length;f++){const h=d[f];m4(h[wn],h,c,i)}}}}}return i}function PW(n,t,e){const i=new Jg(!(4&~e));return function rye(n,t,e,i){const r=Xq(t);r.push(e),n.firstCreatePass&&Yq(n).push(i,r.length-1)}(n,t,i,i.destroy),(t[kf]??=new h4).queries.push(new d4(i))-1}function kW(n,t,e){null===n.queries&&(n.queries=new f4),n.queries.track(new p4(t,e))}function g4(n,t){return n.queries.getByIndex(t)}function LW(n,t){const e=n[wn],i=g4(e,t);return i.crossesNgTemplate?m4(e,n,t,[]):FW(e,n,i,t)}function aI(n){return"function"==typeof n&&void 0!==n[Gn]}function hA(n,t){nm("NgSignals");const e=function R_(n){const t=Object.create(Mg);t.value=n;const e=()=>(en(t),t.value);return e[Gn]=t,e}(n),i=e[Gn];return t?.equal&&(i.equal=t.equal),e.set=r=>Pp(i,r),e.update=r=>function Dg(n,t){Rs()||Sg(),Pp(n,t(n.value))}(i,r),e.asReadonly=UW.bind(e),e}function UW(){const n=this[Gn];if(void 0===n.readonlyFn){const t=()=>this();t[Gn]=n,n.readonlyFn=t}return n.readonlyFn}function HW(n){return aI(n)&&"function"==typeof n.set}function mn(n){let t=function YW(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Vd(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new xt(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=cI(n.inputs),o.inputTransforms=cI(n.inputTransforms),o.declaredInputs=cI(n.declaredInputs),o.outputs=cI(n.outputs);const a=r.hostBindings;a&&ewe(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&Z1e(n,l),c&&J1e(n,c),X1e(n,r),Bg(n.outputs,r.outputs),Vd(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===mn&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Y1e(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=K_(r.hostAttrs,e=K_(e,r.hostAttrs))}}(i)}function X1e(n,t){for(const e in t.inputs){if(!t.inputs.hasOwnProperty(e)||n.inputs.hasOwnProperty(e))continue;const i=t.inputs[e];if(void 0!==i&&(n.inputs[e]=i,n.declaredInputs[e]=t.declaredInputs[e],null!==t.inputTransforms)){const r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=t.inputTransforms[r]}}}function cI(n){return n===qu?{}:n===ns?[]:n}function Z1e(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function J1e(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function ewe(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}function pl(n){const t=n.inputConfig,e={};for(const i in t)if(t.hasOwnProperty(i)){const r=t[i];Array.isArray(r)&&r[3]&&(e[i]=r[3])}n.inputTransforms=e}class w0{}class t${}class b4 extends w0{constructor(t,e,i){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new CW(this);const r=Yl(t);this._bootstrapComponents=Zd(r.bootstrap),this._r3Injector=A0(t,e,[{provide:w0,useValue:this},{provide:b0,useValue:this.componentFactoryResolver},...i],Co(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class y4 extends t${constructor(t){super(),this.moduleType=t}create(t){return new b4(this.moduleType,t,[])}}class n$ extends w0{constructor(t){super(),this.componentFactoryResolver=new CW(this),this.instance=null;const e=new Vg([...t.providers,{provide:w0,useValue:this},{provide:b0,useValue:this.componentFactoryResolver}],t.parent||ky(),t.debugName,new Set(["environment"]));this.injector=e,t.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uI(n,t,e=null){return new n$({providers:n,parent:t,debugName:e,runEnvironmentInitializers:!0}).injector}let sv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qr(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hI(n){return!!w4(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function w4(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function im(n,t,e){return n[t]=e}function za(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function x0(n,t,e,i){const r=za(n,t,e);return za(n,t+1,i)||r}function fI(n,t,e,i,r){const s=x0(n,t,e,i);return za(n,t+2,r)||s}function ht(n,t,e,i,r,s,o,a){const l=Lt(),c=Hr(),u=n+Yi,d=c.firstCreatePass?function hwe(n,t,e,i,r,s,o,a,l){const c=t.consts,u=x1(t,n,4,o||null,Rh(c,a));V3(t,e,u,Rh(c,l)),jd(t,u);const d=u.tView=H3(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,c,l,t,e,i,r,s,o):c.data[u];Ku(d,!1);const f=i$(c,l,d,n);Eo()&&qN(c,l,f,d),bi(f,l);const h=$q(f,l,f,d);return l[u]=h,KN(l,h),function NW(n,t,e){return u4(n,t,e)}(h,d,l),Jm(d)&&L3(c,l,d),null!=o&&U3(l,d,a),ht}let i$=function r$(n,t,e,i){return ec(!0),t[ki].createComment("")};function $i(n,t,e,i){const r=Lt();return za(r,Gd(),t)&&(Hr(),em(mo(),r,n,t,e,i)),$i}function P1(n,t,e,i){return za(n,Gd(),e)?t+Qi(e)+i:ur}function _I(n,t){return n<<17|t<<2}function av(n){return n>>17&32767}function B4(n){return 2|n}function S0(n){return(131068&n)>>2}function F4(n,t){return-131069&n|t<<2}function P4(n){return 1|n}function O$(n,t,e,i){const r=n[e+1],s=null===t;let o=i?av(r):S0(r),a=!1;for(;0!==o&&(!1===a||s);){const c=n[o+1];Zwe(n[o],t)&&(a=!0,n[o+1]=i?P4(c):B4(c)),o=i?av(c):S0(c)}a&&(n[e+1]=i?B4(r):P4(r))}function Zwe(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&pu(n,t)>=0}const Bl={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R$(n){return n.substring(Bl.key,Bl.keyEnd)}function Jwe(n){return n.substring(Bl.value,Bl.valueEnd)}function k$(n,t){const e=Bl.textEnd;return e===t?-1:(t=Bl.keyEnd=function nxe(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Bl.key=t,e),z1(n,t,e))}function L$(n,t){const e=Bl.textEnd;let i=Bl.key=z1(n,t,e);return e===i?-1:(i=Bl.keyEnd=function ixe(n,t,e){let i;for(;t<e&&(45===(i=n.charCodeAt(t))||95===i||(-33&i)>=65&&(-33&i)<=90||i>=48&&i<=57);)t++;return t}(n,i,e),i=H$(n,i,e),i=Bl.value=z1(n,i,e),i=Bl.valueEnd=function rxe(n,t,e){let i=-1,r=-1,s=-1,o=t,a=o;for(;o<e;){const l=n.charCodeAt(o++);if(59===l)return a;34===l||39===l?a=o=V$(n,l,o,e):t===o-4&&85===s&&82===r&&76===i&&40===l?a=o=V$(n,41,o,e):l>32&&(a=o),s=r,r=i,i=-33&l}return a}(n,i,e),H$(n,i,e))}function U$(n){Bl.key=0,Bl.keyEnd=0,Bl.value=0,Bl.valueEnd=0,Bl.textEnd=n.length}function z1(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function H$(n,t,e,i){return(t=z1(n,t,e))<e&&t++,t}function V$(n,t,e,i){let r=-1,s=e;for(;s<i;){const o=n.charCodeAt(s++);if(o==t&&92!==r)return s;r=92==o&&92===r?0:o}throw new Error}function Se(n,t,e){const i=Lt();return za(i,Gd(),t)&&Zu(Hr(),mo(),i,n,t,i[ki],e,!1),Se}function O4(n,t,e,i,r){const o=r?"class":"style";j3(n,e,t.inputs[o],o,i)}function rm(n,t,e){return $f(n,t,e,!1),rm}function oi(n,t){return $f(n,t,null,!0),oi}function Qh(n){Kf(G$,sxe,n,!1)}function sxe(n,t){for(let e=function txe(n){return U$(n),L$(n,z1(n,0,Bl.textEnd))}(t);e>=0;e=L$(t,e))G$(n,R$(t),Jwe(t))}function Wf(n){Kf(dxe,sm,n,!0)}function sm(n,t){for(let e=function exe(n){return U$(n),k$(n,z1(n,0,Bl.textEnd))}(t);e>=0;e=k$(t,e))xa(n,R$(t),!0)}function $f(n,t,e,i){const r=Lt(),s=Hr(),o=Lh(2);s.firstUpdatePass&&Q$(s,n,o,i),t!==ur&&za(r,o,t)&&j$(s,s.data[Nl()],r,r[ki],n,r[o+1]=function fxe(n,t){return null==n||""===n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Co(tv(n)))),n}(t,e),i,o)}function Kf(n,t,e,i){const r=Hr(),s=Lh(2);r.firstUpdatePass&&Q$(r,null,s,i);const o=Lt();if(e!==ur&&za(o,s,e)){const a=r.data[Nl()];if(W$(a,i)&&!z$(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=H_(l,e||"")),O4(r,a,o,e,i)}else!function hxe(n,t,e,i,r,s,o,a){r===ur&&(r=ns);let l=0,c=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;null!==u||null!==d;){const f=l<r.length?r[l+1]:void 0,h=c<s.length?s[c+1]:void 0;let m,p=null;u===d?(l+=2,c+=2,f!==h&&(p=d,m=h)):null===d||null!==u&&u<d?(l+=2,p=u):(c+=2,p=d,m=h),null!==p&&j$(n,t,e,i,p,m,o,a),u=l<r.length?r[l]:null,d=c<s.length?s[c]:null}}(r,a,o,o[ki],o[s+1],o[s+1]=function uxe(n,t,e){if(null==e||""===e)return ns;const i=[],r=tv(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,s)}}function z$(n,t){return t>=n.expandoStartIndex}function Q$(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[Nl()],o=z$(n,e);W$(s,i)&&null===t&&!o&&(t=!1),t=function oxe(n,t,e,i){const r=function PS(n){const t=Li.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=BE(e=R4(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=R4(r,n,t,e,i),null===s){let l=function axe(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==S0(i))return n[av(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=R4(null,n,t,l[1],i),l=BE(l,t.attrs,i),function lxe(n,t,e,i){n[av(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else s=function cxe(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=BE(i,n[s].hostAttrs,e);return BE(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function Xwe(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=av(o),l=S0(o);n[i]=e;let u,c=!1;if(Array.isArray(e)?(u=e[1],(null===u||pu(e,u)>0)&&(c=!0)):u=e,r)if(0!==l){const f=av(n[a+1]);n[i+1]=_I(f,a),0!==f&&(n[f+1]=F4(n[f+1],i)),n[a+1]=function $we(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=_I(a,0),0!==a&&(n[a+1]=F4(n[a+1],i)),a=i;else n[i+1]=_I(l,0),0===a?a=i:n[l+1]=F4(n[l+1],i),l=i;c&&(n[i+1]=B4(n[i+1])),O$(n,u,i,!0),O$(n,u,i,!1),function Ywe(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&pu(s,t)>=0&&(e[i+1]=P4(e[i+1]))}(t,u,n,i,s),o=_I(a,l),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}function R4(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=BE(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function BE(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xa(n,o,!!e||t[++s]))}return void 0===n?null:n}function G$(n,t,e){xa(n,t,tv(e))}function dxe(n,t,e){const i=String(t);""!==i&&!i.includes(" ")&&xa(n,i,e)}function j$(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1],u=function Kwe(n){return!(1&~n)}(c)?q$(l,t,e,r,S0(c),o):void 0;bI(u)||(bI(s)||function Wwe(n){return!(2&~n)}(c)&&(s=q$(l,null,e,r,a,o)),function Xbe(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:nv.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=nv.Important),n.setStyle(e,i,r,s))}}(i,o,o0(Nl(),e),r,s))}function q$(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let f=e[r+1];f===ur&&(f=d?ns:void 0);let h=d?Ca(f,i):u===i?f:void 0;if(c&&!bI(h)&&(h=Ca(l,i)),bI(h)&&(a=h,o))return a;const p=n[r+1];r=o?av(p):S0(p)}if(null!==t){let l=s?t.residualClasses:t.residualStyles;null!=l&&(a=Ca(l,i))}return a}function bI(n){return void 0!==n}function W$(n,t){return!!(n.flags&(t?8:16))}class xxe{destroy(t){}updateValue(t,e){}swap(t,e){const i=Math.min(t,e),r=Math.max(t,e),s=this.detach(r);if(r-i>1){const o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(t,e){this.attach(e,this.detach(t))}}function k4(n,t,e,i,r){return n===e&&Object.is(t,i)?1:Object.is(r(n,t),r(e,i))?-1:0}function L4(n,t,e,i){return!(void 0===t||!t.has(i)||(n.attach(e,t.get(i)),t.delete(i),0))}function K$(n,t,e,i,r){if(L4(n,t,i,e(i,r)))n.updateValue(i,r);else{const s=n.create(i,r);n.attach(i,s)}}function X$(n,t,e,i){const r=new Set;for(let s=t;s<=e;s++)r.add(i(s,n.at(s)));return r}class Y${constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const e=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(e)?(this.kvMap.set(t,this._vMap.get(e)),this._vMap.delete(e)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,e){if(this.kvMap.has(t)){let i=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,e)}else this.kvMap.set(t,e)}forEach(t){for(let[e,i]of this.kvMap)if(t(i,e),void 0!==this._vMap){const r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,e)}}}function fi(n,t,e){nm("NgControlFlow");const i=Lt(),r=Gd(),s=U4(i,Yi+n);if(za(i,r,t)){const a=It(null);try{if(W3(s,0),-1!==t){const l=H4(i[wn],Yi+t),c=S1(s,l.tView.ssrId);pE(s,fE(i,l,e,{dehydratedView:c}),0,C1(l,c))}}finally{It(a)}}else{const a=Jq(s,0);void 0!==a&&(a[po]=e)}}class Sxe{constructor(t,e,i){this.lContainer=t,this.$implicit=e,this.$index=i}get $count(){return this.lContainer.length-da}}function Ju(n,t){return t}class Dxe{constructor(t,e,i){this.hasEmptyBlock=t,this.trackByFn=e,this.liveCollection=i}}function tc(n,t,e,i,r,s,o,a,l,c,u,d,f){nm("NgControlFlow");const h=void 0!==l,p=Lt(),m=a?o.bind(p[Ko][po]):o,g=new Dxe(h,m);p[Yi+n]=g,ht(n+1,t,e,i,r,s),h&&ht(n+2,l,c,u,d,f)}class Mxe extends xxe{constructor(t,e,i){super(),this.lContainer=t,this.hostLView=e,this.templateTNode=i,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-da}at(t){return this.getLView(t)[po].$implicit}attach(t,e){const i=e[mu];this.needsIndexUpdate||=t!==this.length,pE(this.lContainer,e,t,C1(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function Txe(n,t){return cE(n,t)}(this.lContainer,t)}create(t,e){const i=S1(this.lContainer,this.templateTNode.tView.ssrId);return fE(this.hostLView,this.templateTNode,new Sxe(this.lContainer,e,t),{dehydratedView:i})}destroy(t){GN(t[wn],t)}updateValue(t,e){this.getLView(t)[po].$implicit=e}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[po].$index=t}getLView(t){return function Nxe(n,t){return Jq(n,t)}(this.lContainer,t)}}function nc(n){const t=It(null),e=Nl();try{const i=Lt(),r=i[wn],s=i[e];if(void 0===s.liveCollection){const a=e+1,l=U4(i,a),c=H4(r,a);s.liveCollection=new Mxe(l,i,c)}else s.liveCollection.reset();const o=s.liveCollection;if(function Cxe(n,t,e){let i,r,s=0,o=n.length-1;if(Array.isArray(t)){let a=t.length-1;for(;s<=o&&s<=a;){const l=n.at(s),c=t[s],u=k4(s,l,s,c,e);if(0!==u){u<0&&n.updateValue(s,c),s++;continue}const d=n.at(o),f=t[a],h=k4(o,d,a,f,e);if(0!==h){h<0&&n.updateValue(o,f),o--,a--;continue}const p=e(s,l),m=e(o,d),g=e(s,c);if(Object.is(g,m)){const A=e(a,f);Object.is(A,p)?(n.swap(s,o),n.updateValue(o,f),a--,o--):n.move(o,s),n.updateValue(s,c),s++}else if(i??=new Y$,r??=X$(n,s,o,e),L4(n,i,s,g))n.updateValue(s,c),s++,o++;else if(r.has(g))i.set(p,n.detach(s)),o--;else{const A=n.create(s,t[s]);n.attach(s,A),s++,o++}}for(;s<=a;)K$(n,i,e,s,t[s]),s++}else if(null!=t){const a=t[Symbol.iterator]();let l=a.next();for(;!l.done&&s<=o;){const c=n.at(s),u=l.value,d=k4(s,c,s,u,e);if(0!==d)d<0&&n.updateValue(s,u),s++,l=a.next();else{i??=new Y$,r??=X$(n,s,o,e);const f=e(s,u);if(L4(n,i,s,f))n.updateValue(s,u),s++,o++,l=a.next();else if(r.has(f)){const h=e(s,c);i.set(h,n.detach(s)),o--}else n.attach(s,n.create(s,u)),s++,o++,l=a.next()}}for(;!l.done;)K$(n,i,e,n.length,l.value),l=a.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(a=>{n.destroy(a)})}(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){const a=Gd(),l=0===o.length;if(za(i,a,l)){const c=e+2,u=U4(i,c);if(l){const d=H4(r,c),f=S1(u,d.tView.ssrId);pE(u,fE(i,d,void 0,{dehydratedView:f}),0,C1(d,f))}else W3(u,0)}}}finally{It(t)}}function U4(n,t){return n[t]}function H4(n,t){return a0(n,t)}function q(n,t,e,i){const r=Lt(),s=Hr(),o=Yi+n,a=r[ki],l=s.firstCreatePass?function Ixe(n,t,e,i,r,s){const o=t.consts,l=x1(t,n,2,i,Rh(o,r));return V3(t,e,l,Rh(o,s)),null!==l.attrs&&sI(l,l.attrs,!1),null!==l.mergedAttrs&&sI(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(o,s,r,t,e,i):s.data[o],c=Z$(s,r,l,a,t,n);r[o]=c;const u=Jm(l);return Ku(l,!0),Lq(a,c,l),!function ME(n){return!(32&~n.flags)}(l)&&Eo()&&qN(s,r,c,l),0===function R5(){return Li.lFrame.elementDepthCount}()&&bi(c,r),function k5(){Li.lFrame.elementDepthCount++}(),u&&(L3(s,r,l),k3(s,l,r)),null!==i&&U3(r,l),q}function $(){let n=As();Yy()?Zy():(n=n.parent,Ku(n,!1));const t=n;(function dN(n){return Li.skipHydrationRootTNode===n})(t)&&function U5(){Li.skipHydrationRootTNode=null}(),function L5(){Li.lFrame.elementDepthCount--}();const e=Hr();return e.firstCreatePass&&(jd(e,n),zy(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function z5(n){return!!(8&n.flags)}(t)&&O4(e,t,Lt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Q5(n){return!!(16&n.flags)}(t)&&O4(e,t,Lt(),t.stylesWithoutHost,!1),$}function Ye(n,t,e,i){return q(n,t,e,i),$(),Ye}let Z$=(n,t,e,i,r,s)=>(ec(!0),QN(i,r,function rA(){return Li.lFrame.currentNamespace}()));function eh(n,t,e){const i=Lt(),r=Hr(),s=n+Yi,o=r.firstCreatePass?function Pxe(n,t,e,i,r){const s=t.consts,o=Rh(s,i),a=x1(t,n,8,"ng-container",o);return null!==o&&sI(a,o,!0),V3(t,e,a,Rh(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];Ku(o,!0);const a=J$(r,i,o,n);return i[s]=a,Eo()&&qN(r,i,a,o),bi(a,i),Jm(o)&&(L3(r,i,o),k3(r,o,i)),null!=e&&U3(i,o),eh}function th(){let n=As();const t=Hr();return Yy()?Zy():(n=n.parent,Ku(n,!1)),t.firstCreatePass&&(jd(t,n),zy(n)&&t.queries.elementEnd(n)),th}function Vc(n,t,e){return eh(n,t,e),th(),Vc}let J$=(n,t,e,i)=>(ec(!0),T3(t[ki],""));function Bi(){return Lt()}function ed(n,t,e){const i=Lt();return za(i,Gd(),t)&&Zu(Hr(),mo(),i,n,t,i[ki],e,!0),ed}const E0=void 0;var Lxe=["en",[["a","p"],["AM","PM"],E0],[["AM","PM"],E0,E0],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],E0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],E0,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",E0,"{1} 'at' {0}",E0],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kxe(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Q1={};function vu(n){const t=function Uxe(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=nK(t);if(e)return e;const i=t.split("-")[0];if(e=nK(i),e)return e;if("en"===i)return Lxe;throw new xt(701,!1)}function nK(n){return n in Q1||(Q1[n]=Gr.ng&&Gr.ng.common&&Gr.ng.common.locales&&Gr.ng.common.locales[n]),Q1[n]}var Ho=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Ho||{});const G1="en-US",yI={marker:"element"},wI={marker:"ICU"};var td=function(n){return n[n.SHIFT=2]="SHIFT",n[n.APPEND_EAGERLY=1]="APPEND_EAGERLY",n[n.COMMENT=2]="COMMENT",n}(td||{});let iK=G1;function sK(n,t,e){const i=t.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?Iq(n,0,e):Bs(e[r])}function oK(n,t,e,i,r){const s=t.insertBeforeIndex;if(Array.isArray(s)){let o=i,a=null;if(3&t.type||(a=o,o=r),null!==o&&-1===t.componentOffset)for(let l=1;l<s.length;l++)_0(n,o,e[s[l]],a,!1)}}function aK(n,t){if(n.push(t),n.length>1)for(let e=n.length-2;e>=0;e--){const i=n[e];lK(i)||Gxe(i,t)&&null===jxe(i)&&qxe(i,t.index)}}function lK(n){return!(64&n.type)}function Gxe(n,t){return lK(t)||n.index>t.index}function jxe(n){const t=n.insertBeforeIndex;return Array.isArray(t)?t[0]:t}function qxe(n,t){const e=n.insertBeforeIndex;Array.isArray(e)?e[0]=t:(Fq(sK,oK),n.insertBeforeIndex=t)}function Kxe(n,t,e){const i=R3(n,e,64,null,null);return aK(t,i),i}let RE=(n,t,e,i)=>(ec(!0),function hK(n,t,e){const i=n[ki];switch(e){case Node.COMMENT_NODE:return T3(i,t);case Node.TEXT_NODE:return M3(i,t);case Node.ELEMENT_NODE:return QN(i,t,null)}}(n,e,i));function rCe(){const n=[];let e,i,t=-1;function s(a,l){t=0;const c=function xI(n,t){const e=t[n.currentCaseLViewIndex];return null===e?e:e<0?~e:e}(a,l);i=null!==c?a.remove[c]:ns}function o(){if(t<i.length){const a=i[t++];return a>0?e[a]:(n.push(t,i),s(e[wn].data[~a],e),o())}return 0===n.length?null:(i=n.pop(),t=n.pop(),o())}return function r(a,l){for(e=l;n.length;)n.pop();return s(a.value,l),o}}const CI=/\ufffd(\d+):?\d*\ufffd/gi,oCe=/\ufffd(\d+)\ufffd/,vK=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,kE="\ufffd",aCe=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,lCe=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,cCe=/\uE500/g;function _K(n,t,e,i,r,s,o){const a=hE(n,i,1,null);let l=a<<td.SHIFT,c=qg();t===c&&(c=null),null===c&&(l|=td.APPEND_EAGERLY),o&&(l|=td.COMMENT,function Lbe(n){void 0===E3&&(E3=n())}(rCe)),r.push(l,null===s?"":s);const u=R3(n,a,o?32:1,null===s?"":s,null);aK(e,u);const d=u.index;return Ku(u,!1),null!==c&&t!==c&&function $xe(n,t){let e=n.insertBeforeIndex;null===e?(Fq(sK,oK),e=n.insertBeforeIndex=[null,t]):(Vp(Array.isArray(e),!0,"Expecting array here"),e.push(t))}(c,d),u}function hCe(n,t,e,i,r,s,o,a){const l=a.match(CI),u=_K(t,e,i,o,r,l?null:a,!1).index;l&&LE(s,a,u,null,0,null),n.push({kind:0,index:u})}function LE(n,t,e,i,r,s){const o=n.length,a=o+1;n.push(null,null);const l=o+2,c=t.split(CI);let u=0;for(let d=0;d<c.length;d++){const f=c[d];if(1&d){const h=r+parseInt(f,10);n.push(-1-h),u|=bK(h)}else""!==f&&n.push(f)}return n.push(e<<2|(i?1:0)),i&&n.push(i,s),n[o]=u,n[a]=n.length-l,u}function bK(n){return 1<<Math.min(n,31)}function yK(n){let t,s,e="",i=0,r=!1;for(;null!==(t=aCe.exec(n));)r?t[0]===`${kE}/*${s}${kE}`&&(i=t.index,r=!1):(e+=n.substring(i,t.index+t[0].length),s=t[1],r=!0);return e+=n.slice(i),e}function wK(n,t,e,i,r,s,o){let a=0;const l={type:s.type,currentCaseLViewIndex:hE(t,e,1,null),anchorIdx:o,cases:[],create:[],remove:[],update:[]};(function bCe(n,t,e){n.push(bK(t.mainBinding),2,-1-t.mainBinding,e<<2|2)})(i,s,o),function Wxe(n,t,e){const i=n.data[t];null===i?n.data[t]=e:i.value=e}(t,o,l);const c=s.values,u=[];for(let d=0;d<c.length;d++){const f=c[d],h=[];for(let m=0;m<f.length;m++){const g=f[m];if("string"!=typeof g){const A=h.push(g)-1;f[m]=`\x3c!--\ufffd${A}\ufffd--\x3e`}}const p=[];u.push(p),a=vCe(p,t,l,e,i,r,s.cases[d],f.join(""),h)|a}a&&function yCe(n,t,e){n.push(t,1,e<<2|3)}(i,a,o),n.push({kind:3,index:o,cases:u,currentCaseLViewIndex:l.currentCaseLViewIndex})}function gCe(n){const t=[],e=[];let i=1,r=0;const s=V4(n=n.replace(vK,function(o,a,l){return i="select"===l?0:1,r=parseInt(a.slice(1),10),""}));for(let o=0;o<s.length;){let a=s[o++].trim();1===i&&(a=a.replace(/\s*(?:=)?(\w+)\s*/,"$1")),a.length&&t.push(a);const l=V4(s[o++]);t.length>e.length&&e.push(l)}return{type:i,mainBinding:r,cases:t,values:e}}function V4(n){if(!n)return[];let t=0;const e=[],i=[],r=/[{}]/g;let s;for(r.lastIndex=0;s=r.exec(n);){const a=s.index;if("}"==s[0]){if(e.pop(),0==e.length){const l=n.substring(t,a);vK.test(l)?i.push(gCe(l)):i.push(l),t=a+1}}else{if(0==e.length){const l=n.substring(t,a);i.push(l),t=a+1}e.push("{")}}const o=n.substring(t);return i.push(o),i}function vCe(n,t,e,i,r,s,o,a,l){const c=[],u=[],d=[];e.cases.push(o),e.create.push(c),e.remove.push(u),e.update.push(d);const h=function oq(n){const t=new lbe(n);return function cbe(){try{return!!(new window.DOMParser).parseFromString(_1(""),"text/html")}catch{return!1}}()?new abe(t):t}(ev()).getInertBodyElement(a),p=function w3(n){return"content"in n&&function _be(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}(h)||h;return p?xK(n,t,e,i,r,c,u,d,p,s,l,0):0}function xK(n,t,e,i,r,s,o,a,l,c,u,d){let f=0,h=l.firstChild;for(;h;){const p=hE(t,i,1,null);switch(h.nodeType){case Node.ELEMENT_NODE:const m=h,g=m.tagName.toLowerCase();if(b3.hasOwnProperty(g)){z4(s,yI,g,c,p),t.data[p]=g;const b=m.attributes;for(let y=0;y<b.length;y++){const C=b.item(y),D=C.name.toLowerCase();C.value.match(CI)?uq.hasOwnProperty(D)&&LE(a,C.value,p,C.name,0,y3[D]?_3:null):wCe(s,p,C)}const w={kind:1,index:p,children:[]};n.push(w),f=xK(w.children,t,e,i,r,s,o,a,h,p,u,d+1)|f,CK(o,p,d)}break;case Node.TEXT_NODE:const A=h.textContent||"",_=A.match(CI);z4(s,null,_?"":A,c,p),CK(o,p,d),_&&(f=LE(a,A,p,null,0,null)|f),n.push({kind:0,index:p});break;case Node.COMMENT_NODE:const v=oCe.exec(h.textContent||"");if(v){const w=u[parseInt(v[1],10)];z4(s,wI,"",c,p),wK(n,t,i,r,c,w,p),_Ce(o,p,d)}}h=h.nextSibling}return f}function CK(n,t,e){0===e&&n.push(t)}function _Ce(n,t,e){0===e&&(n.push(~t),n.push(t))}function z4(n,t,e,i,r){null!==t&&n.push(t),n.push(e,r,function Xxe(n,t,e){return n|t<<17|e<<1}(0,i,r))}function wCe(n,t,e){n.push(t<<1|1,e.name,e.value)}function EK(n,t,e=-1){const i=Hr(),r=Lt(),s=Yi+n,o=Rh(i.consts,t),a=qg();i.firstCreatePass&&function dCe(n,t,e,i,r,s){const o=qg(),a=[],l=[],c=[[]],u=[[]];r=function ACe(n,t){if(function mCe(n){return-1===n}(t))return yK(n);{const e=n.indexOf(`:${t}${kE}`)+2+t.toString().length,i=n.search(new RegExp(`${kE}\\/\\*\\d+:${t}${kE}`));return yK(n.substring(e,i))}}(r,s);const d=function uCe(n){return n.replace(cCe," ")}(r).split(lCe);for(let f=0;f<d.length;f++){let h=d[f];if(1&f){const p=47===h.charCodeAt(0),m=h.charCodeAt(p?1:0),g=Yi+Number.parseInt(h.substring(p?2:1));if(p)c.shift(),u.shift(),Ku(qg(),!1);else{const A=Kxe(n,c[0],g);c.unshift([]),Ku(A,!0);const _={kind:2,index:g,children:[],type:35===m?0:1};u[0].push(_),u.unshift(_.children)}}else{const p=V4(h);for(let m=0;m<p.length;m++){let g=p[m];if(1&m){const A=g;if("object"!=typeof A)throw new Error(`Unable to parse ICU expression in "${r}" message.`);const v=_K(n,o,c[0],e,a,"",!0).index;wK(u[0],n,e,l,t,A,v)}else""!==g&&hCe(u[0],n,o,c[0],a,l,e,g)}}}n.data[i]={create:a,update:l,ast:u[0]}}(i,null===a?0:a.index,r,s,o,e),2===i.type?r[Ko][hi]|=32:r[hi]|=32;const l=i.data[s],u=Dq(i,a===r[Tl]?null:a,r);(function tCe(n,t,e,i){const r=n[ki];for(let s=0;s<t.length;s++){const o=t[s++],c=(o&td.APPEND_EAGERLY)===td.APPEND_EAGERLY,u=o>>>td.SHIFT;let d=n[u],f=!1;null===d&&(d=n[u]=RE(n,u,t[s],(o&td.COMMENT)===td.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),f=Eo()),c&&null!==e&&f&&_0(r,e,d,i,!1)}})(r,l.create,u,a&&8&a.type?r[a.index]:null),Jy(!0)}function UE(n,t,e){EK(n,t,e),function DK(){Jy(!1)}()}function ct(n,t,e,i){const r=Lt(),s=Hr(),o=As();return Q4(s,r,r[ki],o,n,t,i),ct}function Q4(n,t,e,i,r,s,o){const a=Jm(i),c=n.firstCreatePass&&Yq(n),u=t[po],d=Xq(t);let f=!0;if(3&i.type||o){const m=yc(i,t),g=o?o(m):m,A=d.length,_=o?b=>o(Bs(b[i.index])):i.index;let v=null;if(!o&&a&&(v=function PCe(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[zg],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==v)(v.__ngLastListenerFn__||v).__ngNextListenerFn__=s,v.__ngLastListenerFn__=s,f=!1;else{s=IK(i,t,u,s,!1);const b=e.listen(g,r,s);d.push(s,b),c&&c.push(r,_,A,A+1)}}else s=IK(i,t,u,s,!1);const h=i.outputs;let p;if(f&&null!==h&&(p=h[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const w=t[p[g]][p[g+1]].subscribe(s),y=d.length;d.push(s,w),c&&c.push(r,i.index,y,-(y+1))}}}function NK(n,t,e,i){const r=It(null);try{return zd(6,t,e),!1!==e(i)}catch(s){return XN(n,s),!1}finally{zd(7,t,e),It(r)}}function IK(n,t,e,i,r){return function s(o){if(o===Function)return i;AE(n.componentOffset>-1?Au(n.index,t):t);let l=NK(t,e,i,o),c=s.__ngNextListenerFn__;for(;c;)l=NK(t,e,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function lt(n=1){return function r1(n){return(Li.lFrame.contextLView=function hl(n,t){for(;n>0;)t=t[Lo],n--;return t}(n,Li.lFrame.contextLView))[po]}(n)}function OCe(n,t){let e=null;const i=function UT(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(!(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const s=t[r];if("*"!==s){if(null===i?mS(n,s,!0):Fy(i,s))return r}else e=r}return e}function _u(n){const t=Lt()[Ko][Tl];if(!t.projection){const i=t.projection=function Wm(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(n?n.length:1,null),r=i.slice();let s=t.child;for(;null!==s;){const o=n?OCe(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}function Cs(n,t=0,e){const i=Lt(),r=Hr(),s=x1(r,Yi+n,16,null,e||null);null===s.projection&&(s.projection=t),Zy(),(!i[mu]||iA())&&32&~s.flags&&function $be(n,t,e){Rq(t[ki],0,t,e,I3(n,e,t),Nq(e.parent||t[Tl],e,t))}(r,i,s)}function j1(n,t,e){return G4(n,"",t,"",e),j1}function G4(n,t,e,i,r){const s=Lt(),o=P1(s,t,e,i);return o!==ur&&Zu(Hr(),mo(),s,n,o,s[ki],r,!1),G4}function nr(n,t,e,i){!function RW(n,t,e,i){const r=Hr();if(r.firstCreatePass){const s=As();kW(r,new BW(t,e,i),s.index),function H1e(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),!(2&~e)&&(r.staticContentQueries=!0)}return PW(r,Lt(),e)}(n,t,e,i)}function Tn(n,t,e){!function OW(n,t,e){const i=Hr();return i.firstCreatePass&&(kW(i,new BW(n,t,e),-1),!(2&~t)&&(i.staticViewQueries=!0)),PW(i,Lt(),t)}(n,t,e)}function Ut(n){const t=Lt(),e=Hr(),i=OS();h0(i+1);const r=g4(e,i);if(n.dirty&&function O5(n){return!(4&~n[hi])}(t)===!(2&~r.metadata.flags)){if(null===r.matches)n.reset([]);else{const s=LW(t,i);n.reset(s,IN),n.notifyOnChanges()}return!0}return!1}function Ht(){return function A4(n,t){return n[kf].queries[t].queryList}(Lt(),OS())}function ha(n){return jg(function mN(){return Li.lFrame.contextLView}(),Yi+n)}function pe(n,t=""){const e=Lt(),i=Hr(),r=n+Yi,s=i.firstCreatePass?x1(i,r,1,t,null):i.data[r],o=KK(i,e,s,t,n);e[r]=o,Eo()&&qN(i,e,o,s),Ku(s,!1)}let KK=(n,t,e,i,r)=>(ec(!0),M3(t[ki],i));function An(n){return di("",n,""),An}function di(n,t,e){const i=Lt(),r=P1(i,n,t,e);return r!==ur&&dA(i,Nl(),r),di}function SI(n,t,e,i,r){const s=Lt(),o=function O1(n,t,e,i,r,s){const a=x0(n,kh(),e,r);return Lh(2),a?t+Qi(e)+i+Qi(r)+s:ur}(s,n,t,e,i,r);return o!==ur&&dA(s,Nl(),o),SI}function HE(n,t,e,i,r,s,o){const a=Lt(),l=function R1(n,t,e,i,r,s,o,a){const c=fI(n,kh(),e,r,o);return Lh(3),c?t+Qi(e)+i+Qi(r)+s+Qi(o)+a:ur}(a,n,t,e,i,r,s,o);return l!==ur&&dA(a,Nl(),l),HE}function Do(n,t,e){HW(t)&&(t=t());const i=Lt();return za(i,Gd(),t)&&Zu(Hr(),mo(),i,n,t,i[ki],e,!1),Do}function Vo(n,t){const e=HW(n);return e&&n.set(t),e}function Mo(n,t){const e=Lt(),i=Hr(),r=As();return Q4(i,e,e[ki],r,n,t),Mo}function j4(n,t,e,i,r){if(n=Ii(n),Array.isArray(n))for(let s=0;s<n.length;s++)j4(n[s],t,e,i,r);else{const s=Hr(),o=Lt(),a=As();let l=Ym(n)?n:Ii(n.provide);const c=KT(n),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Ym(n)||!n.multi){const h=new Lf(c,r,oe),p=W4(l,t,r?u:u+f,d);-1===p?(WS(p0(a,o),s,l),q4(s,n,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(h),o.push(h)):(e[p]=h,o[p]=h)}else{const h=W4(l,t,u+f,d),p=W4(l,t,u,u+f),g=p>=0&&e[p];if(r&&!g||!r&&!(h>=0&&e[h])){WS(p0(a,o),s,l);const A=function eSe(n,t,e,i,r){const s=new Lf(n,e,oe);return s.multi=[],s.index=t,s.componentProviders=0,nX(s,r,i&&!e),s}(r?JCe:ZCe,e.length,r,i,c);!r&&g&&(e[p].providerFactory=A),q4(s,n,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(A),o.push(A)}else q4(s,n,h>-1?h:p,nX(e[r?p:h],c,!r&&i));!r&&i&&g&&e[p].componentProviders++}}}function q4(n,t,e,i){const r=Ym(t),s=function p5(n){return!!n.useClass}(t);if(r||s){const l=(s?Ii(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const u=c.indexOf(e);-1===u?c.push(e,[i,l]):c[u+1].push(i,l)}else c.push(e,l)}}}function nX(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function W4(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function ZCe(n,t,e,i){return $4(this.multi,[])}function JCe(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Hh(e,e[wn],this.providerFactory.index,i);s=a.slice(0,o),$4(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],$4(r,s);return s}function $4(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Ln(n,t=[]){return e=>{e.providersResolver=(i,r)=>function YCe(n,t,e){const i=Hr();if(i.firstCreatePass){const r=Vd(n);j4(e,i.data,i.blueprint,r,!0),j4(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}let tSe=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const i=Hg(0,e.type),r=i.length>0?uI([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Nt({token:n,providedIn:"environment",factory:()=>new n(dt(Ua))})}}return n})();function qr(n){nm("NgStandalone"),n.getStandaloneInjector=t=>t.get(tSe).getOrCreateStandaloneInjector(n)}function Us(n,t,e){const i=Jl()+n,r=Lt();return r[i]===ur?im(r,i,e?t.call(e):t()):function DE(n,t){return n[t]}(r,i)}function Fl(n,t,e,i){return sX(Lt(),Jl(),n,t,e,i)}function q1(n,t,e,i,r){return oX(Lt(),Jl(),n,t,e,i,r)}function K4(n,t,e,i,r,s){return function aX(n,t,e,i,r,s,o,a){const l=t+e;return fI(n,l,r,s,o)?im(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):VE(n,l+3)}(Lt(),Jl(),n,t,e,i,r,s)}function VE(n,t){const e=n[t];return e===ur?void 0:e}function sX(n,t,e,i,r,s){const o=t+e;return za(n,o,r)?im(n,o+1,s?i.call(s,r):i(r)):VE(n,o+1)}function oX(n,t,e,i,r,s,o){const a=t+e;return x0(n,a,r,s)?im(n,a+2,o?i.call(o,r,s):i(r,s)):VE(n,a+2)}function ml(n,t){const e=Hr();let i;const r=n+Yi;e.firstCreatePass?(i=function cSe(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks??=[]).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Od(i.type)),a=Lc(oe);try{const l=a1(!1),c=s();return a1(l),function UCe(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,Lt(),r,c),c}finally{Lc(a)}}function xc(n,t,e){const i=n+Yi,r=Lt(),s=jg(r,i);return zE(r,i)?sX(r,Jl(),t,s.transform,e,s):s.transform(e)}function DI(n,t,e,i){const r=n+Yi,s=Lt(),o=jg(s,r);return zE(s,r)?oX(s,Jl(),t,o.transform,e,i,o):o.transform(e,i)}function zE(n,t){return n[wn].data[t].pure}function zc(n,t){return ZN(n,t)}class D0{constructor(t){this.full=t;const e=t.split(".");this.major=e[0],this.minor=e[1],this.patch=e.slice(2).join(".")}}const PSe=new D0("17.3.12");let SX=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const NX=new Rt(""),NI=new Rt("");let iU,tU=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,iU||(function oEe(n){iU=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb()}});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e()},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}static{this.\u0275fac=function(i){return new(i||n)(dt(qn),dt(nU),dt(NI))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})(),nU=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return iU?.findTestabilityInTree(this,e,i)??null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function jE(n){return!!n&&"function"==typeof n.then}function IX(n){return!!n&&"function"==typeof n.subscribe}const qE=new Rt("");let rU=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,i)=>{this.resolve=e,this.reject=i}),this.appInits=ze(qE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(jE(s))e.push(s);else if(IX(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const sU=new Rt("");function PX(n,t){return Array.isArray(t)?t.reduce(PX,n):{...n,...t}}let Xf=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ze(oA),this.afterRenderEffectManager=ze(wE),this.externalTestViews=new Set,this.beforeRender=new Rn,this.afterTick=new Rn,this.componentTypes=[],this.components=[],this.isStable=ze(sv).hasPendingTasks.pipe(_i(e=>!e)),this._injector=ze(Ua)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof hW;if(!this._injector.get(rU).done)throw!r&&function jp(n){const t=Nr(n)||La(n)||Sa(n);return null!==t&&t.standalone}(e),new xt(405,!1);let o;o=r?e:this._injector.get(b0).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function aEe(n){return n.isBoundToModule}(o)?void 0:this._injector.get(w0),c=o.create(ta.NULL,[],i||o.selector,a),u=c.location.nativeElement,d=c.injector.get(NX,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),II(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this._tick(!0)}_tick(e){if(this._runningTick)throw new xt(101,!1);const i=It(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(e)}catch(r){this.internalErrorHandler(r)}finally{this.afterTick.next(),this._runningTick=!1,It(i)}}detectChangesInAttachedViews(e){let i=0;const r=this.afterRenderEffectManager;for(;;){if(i===nW)throw new xt(103,!1);if(e){const s=0===i;this.beforeRender.next(s);for(let{_lView:o,notifyErrorHandler:a}of this._views)cEe(o,s,a)}if(i++,r.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>oU(s))&&(r.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>oU(s))))break}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;II(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const i=this._injector.get(sU,[]);[...this._bootstrapListeners,...i].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>II(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new xt(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function II(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function cEe(n,t,e){!t&&!oU(n)||function uEe(n,t,e){let i;e?(i=0,n[hi]|=1024):i=64&n[hi]?0:1,YN(n,t,i)}(n,e,t)}function oU(n){return tA(n)}class dEe{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let OX=(()=>{class n{compileModuleSync(e){return new y4(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Zd(Yl(e).declarations).reduce((o,a)=>{const l=Nr(a);return l&&o.push(new SE(l)),o},[]);return new dEe(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pEe=(()=>{class n{constructor(){this.zone=ze(qn),this.applicationRef=ze(Xf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function mEe(){const n=ze(qn),t=ze(Xd);return e=>n.runOutsideAngular(()=>t.handleError(e))}let gEe=(()=>{class n{constructor(){this.subscription=new Ni,this.initialized=!1,this.zone=ze(qn),this.pendingTasks=ze(sv)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qn.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qn.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Yf=new Rt("",{providedIn:"root",factory:()=>ze(Yf,Ur.Optional|Ur.SkipSelf)||function vEe(){return typeof $localize<"u"&&$localize.locale||G1}()}),aU=new Rt("");let UX=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function A1e(n="zone.js",t){return"noop"===n?new vW:"zone.js"===n?new qn(t):n}(i?.ngZone,function LX(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function owe(n,t,e){return new b4(n,t,e)}(e.moduleType,this.injector,function kX(n){return[{provide:qn,useFactory:n},{provide:Km,multi:!0,useFactory:()=>{const t=ze(pEe,{optional:!0});return()=>t.initialize()}},{provide:Km,multi:!0,useFactory:()=>{const t=ze(gEe);return()=>{t.initialize()}}},{provide:oA,useFactory:mEe}]}(()=>r)),o=s.injector.get(Xd,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{II(this._modules,s),a.unsubscribe()})}),function FX(n,t,e){try{const i=e();return jE(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(rU);return a.runInitializers(),a.donePromise.then(()=>(function rK(n){"string"==typeof n&&(iK=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Yf,G1)||G1),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,i=[]){const r=PX({},i);return function fEe(n,t,e){const i=new y4(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Xf);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new xt(-403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xt(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(aU,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||n)(dt(ta))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),lv=null;const HX=new Rt("");function VX(n,t,e=[]){const i=`Platform: ${t}`,r=new Rt(i);return(s=[])=>{let o=lU();if(!o||o.injector.get(HX,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function yEe(n){if(lv&&!lv.get(HX,!1))throw new xt(400,!1);(function BX(){!function Eg(n){Bp=n}(()=>{throw new xt(600,!1)})})(),lv=n;const t=n.get(UX);(function QX(n){n.get($j,null)?.forEach(e=>e())})(n)}(function zX(n=[],t){return ta.create({name:t,providers:[{provide:_S,useValue:"platform"},{provide:aU,useValue:new Set([()=>lv=null])},...n]})}(a,i))}return function wEe(n){const t=lU();if(!t)throw new xt(401,!1);return t}()}}function lU(){return lv?.get(UX)??null}let fa=(()=>{class n{static{this.__NG_ELEMENT_ID__=SEe}}return n})();function SEe(n){return function EEe(n,t,e){if(Hd(n)&&!e){const i=Au(n.index,t);return new gE(i,i)}return 47&n.type?new gE(t[Ko],t):null}(As(),Lt(),!(16&~n))}class $X{constructor(){}supports(t){return hI(t)}create(t){return new IEe(t)}}const NEe=(n,t)=>t;class IEe{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||NEe}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<XX(i,r,s)?e:i,a=XX(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let f=0;f<c;f++){const h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<c&&(s[f]=h+1)}s[o.previousIndex]=u-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!hI(t))throw new xt(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function uwe(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Symbol.iterator]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new BEe(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new KX),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KX),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class BEe{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FEe{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class KX{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new FEe,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function XX(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class YX{constructor(){}supports(t){return t instanceof Map||w4(t)}create(){return new PEe}}class PEe{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||w4(t)))throw new xt(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new OEe(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class OEe{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ZX(){return new uv([new $X])}let uv=(()=>{class n{static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:ZX})}constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ZX()),deps:[[n,new jm,new kg]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new xt(901,!1)}}return n})();function JX(){return new OI([new YX])}let OI=(()=>{class n{static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:JX})}constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||JX()),deps:[[n,new jm,new kg]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new xt(901,!1)}}return n})();const LEe=VX(null,"core",[]);let UEe=(()=>{class n{constructor(e){}static{this.\u0275fac=function(i){return new(i||n)(dt(Xf))}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();function ir(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function fA(n,t=NaN){return isNaN(parseFloat(n))||isNaN(Number(n))?t:Number(n)}function yY(n){const t=It(null);try{return n()}finally{It(t)}}const m2e=new Rt("",{providedIn:"root",factory:()=>ze(A2e)});let A2e=(()=>{class n{static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>new g2e})}}return n})();class g2e{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=ze(sv),this.taskId=null}scheduleEffect(t){if(this.enqueue(t),null===this.taskId){const e=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(e),this.taskId=null})}}enqueue(t){const e=t.creationZone;this.queues.has(e)||this.queues.set(e,new Set);const i=this.queues.get(e);i.has(t)||(this.queuedEffectCount++,i.add(t))}flush(){for(;this.queuedEffectCount>0;)for(const[t,e]of this.queues)null===t?this.flushQueue(e):t.run(()=>this.flushQueue(e))}flushQueue(t){for(const e of t)t.delete(e),this.queuedEffectCount--,e.run()}}class v2e{constructor(t,e,i,r,s,o){this.scheduler=t,this.effectFn=e,this.creationZone=i,this.injector=s,this.watcher=function St(n,t,e){const i=Object.create(_n);e&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=t;const r=l=>{i.cleanupFn=l};return i.ref={notify:()=>uo(i),run:()=>{if(null===i.fn)return;if(function qt(){return vn}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Ri(i))return;i.hasRun=!0;const l=Ys(i);try{i.cleanupFn(),i.cleanupFn=ln,i.fn(r)}finally{sl(i,l)}},cleanup:()=>i.cleanupFn(),destroy:()=>function o(l){(function s(l){return null===l.fn&&null===l.schedule})(l)||(cs(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=ln)}(i),[Gn]:i},i.ref}(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(t){try{this.effectFn(t)}catch(e){this.injector.get(Xd,null,{optional:!0})?.handleError(e)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function dv(n,t){nm("NgSignals"),!t?.injector&&Y_();const e=t?.injector??ze(ta),i=!0!==t?.manualCleanup?e.get(Vh):null,r=new v2e(e.get(m2e),n,typeof Zone>"u"?null:Zone.current,i,e,t?.allowSignalWrites??!1),s=e.get(fa,null,{optional:!0});return s&&8&s._lView[hi]?(s._lView[Vy]??=[]).push(r.watcher.notify):r.watcher.notify(),r}function mU(n,t){const e=Nr(n),i=t.elementInjector||ky();return new SE(e).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}let wY=null;function hv(){return wY}class y2e{}const mr=new Rt("");let AU=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(x2e),providedIn:"platform"})}}return n})();const w2e=new Rt("");let x2e=(()=>{class n extends AU{constructor(){super(),this._doc=ze(mr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hv().getBaseHref(this._doc)}onPopState(e){const i=hv().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=hv().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function gU(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function xY(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function pA(n){return n&&"?"!==n[0]?"?"+n:n}let fv=(()=>{class n{historyGo(e){throw new Error("")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(SY),providedIn:"root"})}}return n})();const CY=new Rt("");let SY=(()=>{class n extends fv{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ze(mr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return gU(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+pA(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+pA(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+pA(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(dt(AU),dt(CY,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),EY=(()=>{class n extends fv{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=gU(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+pA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+pA(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(dt(AU),dt(CY,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})(),X1=(()=>{class n{constructor(e){this._subject=new Cn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function E2e(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(xY(DY(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+pA(i))}normalize(e){return n.stripTrailingSlash(function S2e(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,DY(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pA(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pA(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static{this.normalizeQueryParams=pA}static{this.joinWithSlash=gU}static{this.stripTrailingSlash=xY}static{this.\u0275fac=function(i){return new(i||n)(dt(fv))}}static{this.\u0275prov=Nt({token:n,factory:()=>function C2e(){return new X1(dt(fv))}(),providedIn:"root"})}}return n})();function DY(n){return n.replace(/\/index.html$/,"")}var VI=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(VI||{}),ic=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(ic||{}),Ss=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ss||{}),nh=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(nh||{});const Al={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function zI(n,t){return jh(vu(n)[Ho.DateFormat],t)}function QI(n,t){return jh(vu(n)[Ho.TimeFormat],t)}function GI(n,t){return jh(vu(n)[Ho.DateTimeFormat],t)}function Gh(n,t){const e=vu(n),i=e[Ho.NumberSymbols][t];if(typeof i>"u"){if(t===Al.CurrencyDecimal)return e[Ho.NumberSymbols][Al.Decimal];if(t===Al.CurrencyGroup)return e[Ho.NumberSymbols][Al.Group]}return i}function NY(n){if(!n[Ho.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Ho.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jh(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function bU(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const L2e=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,jI={},U2e=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var mA=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(mA||{}),Hs=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Hs||{}),Vs=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Vs||{});function IY(n,t,e,i){let r=function $2e(n){if(PY(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return qI(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(L2e))return function K2e(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!PY(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=AA(e,t)||t;let a,o=[];for(;t;){if(a=U2e.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;t=u}}let l=r.getTimezoneOffset();i&&(l=FY(i,l),r=function W2e(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function q2e(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(FY(t,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function j2e(n){if(wU[n])return wU[n];let t;switch(n){case"G":case"GG":case"GGG":t=zo(Vs.Eras,Ss.Abbreviated);break;case"GGGG":t=zo(Vs.Eras,Ss.Wide);break;case"GGGGG":t=zo(Vs.Eras,Ss.Narrow);break;case"y":t=gl(Hs.FullYear,1,0,!1,!0);break;case"yy":t=gl(Hs.FullYear,2,0,!0,!0);break;case"yyy":t=gl(Hs.FullYear,3,0,!1,!0);break;case"yyyy":t=gl(Hs.FullYear,4,0,!1,!0);break;case"Y":t=XI(1);break;case"YY":t=XI(2,!0);break;case"YYY":t=XI(3);break;case"YYYY":t=XI(4);break;case"M":case"L":t=gl(Hs.Month,1,1);break;case"MM":case"LL":t=gl(Hs.Month,2,1);break;case"MMM":t=zo(Vs.Months,Ss.Abbreviated);break;case"MMMM":t=zo(Vs.Months,Ss.Wide);break;case"MMMMM":t=zo(Vs.Months,Ss.Narrow);break;case"LLL":t=zo(Vs.Months,Ss.Abbreviated,ic.Standalone);break;case"LLLL":t=zo(Vs.Months,Ss.Wide,ic.Standalone);break;case"LLLLL":t=zo(Vs.Months,Ss.Narrow,ic.Standalone);break;case"w":t=yU(1);break;case"ww":t=yU(2);break;case"W":t=yU(1,!0);break;case"d":t=gl(Hs.Date,1);break;case"dd":t=gl(Hs.Date,2);break;case"c":case"cc":t=gl(Hs.Day,1);break;case"ccc":t=zo(Vs.Days,Ss.Abbreviated,ic.Standalone);break;case"cccc":t=zo(Vs.Days,Ss.Wide,ic.Standalone);break;case"ccccc":t=zo(Vs.Days,Ss.Narrow,ic.Standalone);break;case"cccccc":t=zo(Vs.Days,Ss.Short,ic.Standalone);break;case"E":case"EE":case"EEE":t=zo(Vs.Days,Ss.Abbreviated);break;case"EEEE":t=zo(Vs.Days,Ss.Wide);break;case"EEEEE":t=zo(Vs.Days,Ss.Narrow);break;case"EEEEEE":t=zo(Vs.Days,Ss.Short);break;case"a":case"aa":case"aaa":t=zo(Vs.DayPeriods,Ss.Abbreviated);break;case"aaaa":t=zo(Vs.DayPeriods,Ss.Wide);break;case"aaaaa":t=zo(Vs.DayPeriods,Ss.Narrow);break;case"b":case"bb":case"bbb":t=zo(Vs.DayPeriods,Ss.Abbreviated,ic.Standalone,!0);break;case"bbbb":t=zo(Vs.DayPeriods,Ss.Wide,ic.Standalone,!0);break;case"bbbbb":t=zo(Vs.DayPeriods,Ss.Narrow,ic.Standalone,!0);break;case"B":case"BB":case"BBB":t=zo(Vs.DayPeriods,Ss.Abbreviated,ic.Format,!0);break;case"BBBB":t=zo(Vs.DayPeriods,Ss.Wide,ic.Format,!0);break;case"BBBBB":t=zo(Vs.DayPeriods,Ss.Narrow,ic.Format,!0);break;case"h":t=gl(Hs.Hours,1,-12);break;case"hh":t=gl(Hs.Hours,2,-12);break;case"H":t=gl(Hs.Hours,1);break;case"HH":t=gl(Hs.Hours,2);break;case"m":t=gl(Hs.Minutes,1);break;case"mm":t=gl(Hs.Minutes,2);break;case"s":t=gl(Hs.Seconds,1);break;case"ss":t=gl(Hs.Seconds,2);break;case"S":t=gl(Hs.FractionalSeconds,1);break;case"SS":t=gl(Hs.FractionalSeconds,2);break;case"SSS":t=gl(Hs.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$I(mA.Short);break;case"ZZZZZ":t=$I(mA.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$I(mA.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$I(mA.Long);break;default:return null}return wU[n]=t,t}(u);c+=d?d(r,e,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function qI(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function AA(n,t){const e=function M2e(n){return vu(n)[Ho.LocaleId]}(n);if(jI[e]??={},jI[e][t])return jI[e][t];let i="";switch(t){case"shortDate":i=zI(n,nh.Short);break;case"mediumDate":i=zI(n,nh.Medium);break;case"longDate":i=zI(n,nh.Long);break;case"fullDate":i=zI(n,nh.Full);break;case"shortTime":i=QI(n,nh.Short);break;case"mediumTime":i=QI(n,nh.Medium);break;case"longTime":i=QI(n,nh.Long);break;case"fullTime":i=QI(n,nh.Full);break;case"short":const r=AA(n,"shortTime"),s=AA(n,"shortDate");i=WI(GI(n,nh.Short),[r,s]);break;case"medium":const o=AA(n,"mediumTime"),a=AA(n,"mediumDate");i=WI(GI(n,nh.Medium),[o,a]);break;case"long":const l=AA(n,"longTime"),c=AA(n,"longDate");i=WI(GI(n,nh.Long),[l,c]);break;case"full":const u=AA(n,"fullTime"),d=AA(n,"fullDate");i=WI(GI(n,nh.Full),[u,d])}return i&&(jI[e][t]=i),i}function WI(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Zf(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function gl(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function V2e(n,t){switch(n){case Hs.FullYear:return t.getFullYear();case Hs.Month:return t.getMonth();case Hs.Date:return t.getDate();case Hs.Hours:return t.getHours();case Hs.Minutes:return t.getMinutes();case Hs.Seconds:return t.getSeconds();case Hs.FractionalSeconds:return t.getMilliseconds();case Hs.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===Hs.Hours)0===a&&-12===e&&(a=12);else if(n===Hs.FractionalSeconds)return function H2e(n,t){return Zf(n,3).substring(0,t)}(a,t);const l=Gh(o,Al.MinusSign);return Zf(a,t,l,i,r)}}function zo(n,t,e=ic.Format,i=!1){return function(r,s){return function z2e(n,t,e,i,r,s){switch(e){case Vs.Months:return function vU(n,t,e){const i=vu(n),s=jh([i[Ho.MonthsFormat],i[Ho.MonthsStandalone]],t);return jh(s,e)}(t,r,i)[n.getMonth()];case Vs.Days:return function TY(n,t,e){const i=vu(n),s=jh([i[Ho.DaysFormat],i[Ho.DaysStandalone]],t);return jh(s,e)}(t,r,i)[n.getDay()];case Vs.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function F2e(n){const t=vu(n);return NY(t),(t[Ho.ExtraData][2]||[]).map(i=>"string"==typeof i?bU(i):[bU(i[0]),bU(i[1])])}(t),u=function P2e(n,t,e){const i=vu(n);NY(i);const s=jh([i[Ho.ExtraData][0],i[Ho.ExtraData][1]],t)||[];return jh(s,e)||[]}(t,r,i),d=c.findIndex(f=>{if(Array.isArray(f)){const[h,p]=f,m=o>=h.hours&&a>=h.minutes,g=o<p.hours||o===p.hours&&a<p.minutes;if(h.hours<p.hours){if(m&&g)return!0}else if(m||g)return!0}else if(f.hours===o&&f.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function T2e(n,t,e){const i=vu(n),s=jh([i[Ho.DayPeriodsFormat],i[Ho.DayPeriodsStandalone]],t);return jh(s,e)}(t,r,i)[o<12?0:1];case Vs.Eras:return function N2e(n,t){return jh(vu(n)[Ho.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function $I(n){return function(t,e,i){const r=-1*i,s=Gh(e,Al.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case mA.Short:return(r>=0?"+":"")+Zf(o,2,s)+Zf(Math.abs(r%60),2,s);case mA.ShortGMT:return"GMT"+(r>=0?"+":"")+Zf(o,1,s);case mA.Long:return"GMT"+(r>=0?"+":"")+Zf(o,2,s)+":"+Zf(Math.abs(r%60),2,s);case mA.Extended:return 0===i?"Z":(r>=0?"+":"")+Zf(o,2,s)+":"+Zf(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}const Q2e=0,KI=4;function BY(n){const t=n.getDay(),e=0===t?-3:KI-t;return qI(n.getFullYear(),n.getMonth(),n.getDate()+e)}function yU(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=BY(e),o=function G2e(n){const t=qI(n,Q2e,1).getDay();return qI(n,0,1+(t<=KI?KI:KI+7)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Zf(r,n,Gh(i,Al.MinusSign))}}function XI(n,t=!1){return function(e,i){return Zf(BY(e).getFullYear(),n,Gh(i,Al.MinusSign),t)}}const wU={};function FY(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function PY(n){return n instanceof Date&&!isNaN(n.valueOf())}const X2e=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function EU(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function LY(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}const MU=/\s+/,UY=[];let ZI=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=UY,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(MU):UY}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(MU):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(MU).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(tm))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:[kt.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class lDe{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ma=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new lDe(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),VY(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{VY(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe(gs),oe(uv))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function VY(n,t){n.context.$implicit=t.item}let pa=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new cDe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){zY("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){zY("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class cDe{constructor(){this.$implicit=null,this.ngIf=null}}function zY(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Co(t)}'.`)}let JI=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:nv.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(OI),oe(tm))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),T0=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[js]})}}return n})();function Jf(n,t){return new xt(2100,!1)}class pDe{createSubscription(t,e){return yY(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){yY(()=>t.unsubscribe())}}class mDe{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ADe=new mDe,gDe=new pDe;let pv=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(jE(e))return ADe;if(IX(e))return gDe;throw Jf()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||n)(oe(fa,16))}}static{this.\u0275pipe=dl({name:"async",type:n,pure:!1,standalone:!0})}}return n})();const xDe=new Rt(""),CDe=new Rt("");let eB=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return IY(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw Jf()}}static{this.\u0275fac=function(i){return new(i||n)(oe(Yf,16),oe(xDe,24),oe(CDe,24))}}static{this.\u0275pipe=dl({name:"date",type:n,pure:!0,standalone:!0})}}return n})(),N0=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function IU(n){return!(null==n||""===n||n!=n)}(e))return null;r||=this._locale;try{return function nDe(n,t,e){return function CU(n,t,e,i,r,s,o=!1){let a="",l=!1;if(isFinite(n)){let c=function rDe(n){let i,r,s,o,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;"0"===t.charAt(s);s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);o&&(c=function iDe(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(c));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(s){const _=s.match(X2e);if(null===_)throw new Error(`${s} is not a valid digit info`);const v=_[1],b=_[3],w=_[5];null!=v&&(u=EU(v)),null!=b&&(d=EU(b)),null!=w?f=EU(w):null!=b&&d>f&&(f=d)}!function sDe(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const s=Math.min(Math.max(t,r),e);let o=s+n.integerLen,a=i[o];if(o>0){i.splice(Math.max(n.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let l=0!==s;const c=t+n.integerLen,u=i.reduceRight(function(d,f,h,p){return p[h]=(f+=d)<10?f:f-10,l&&(0===p[h]&&h>=c?p.pop():l=!1),f>=10?1:0},0);u&&(i.unshift(u),n.integerLen++)}(c,d,f);let h=c.digits,p=c.integerLen;const m=c.exponent;let g=[];for(l=h.every(_=>!_);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?g=h.splice(p,h.length):(g=h,h=[0]);const A=[];for(h.length>=t.lgSize&&A.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)A.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&A.unshift(h.join("")),a=A.join(Gh(e,i)),g.length&&(a+=Gh(e,r)+g.join("")),m&&(a+=Gh(e,Al.Exponential)+"+"+m)}else a=Gh(e,Al.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function SU(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],s=i[1],o=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=o[0],l=o[1]||"";e.posPre=a.substring(0,a.indexOf("#"));for(let u=0;u<l.length;u++){const d=l.charAt(u);"0"===d?e.minFrac=e.maxFrac=u+1:"#"===d?e.maxFrac=u+1:e.posSuf+=d}const c=a.split(",");if(e.gSize=c[1]?c[1].length:0,e.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const u=r.length-e.posPre.length-e.posSuf.length,d=s.indexOf("#");e.negPre=s.substring(0,d).replace(/'/g,""),e.negSuf=s.slice(d+u).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function _U(n,t){return vu(n)[Ho.NumberFormats][t]}(t,VI.Decimal),Gh(t,Al.MinusSign)),t,Al.Group,Al.Decimal,e)}(function BU(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(s){throw Jf()}}static{this.\u0275fac=function(i){return new(i||n)(oe(Yf,16))}}static{this.\u0275pipe=dl({name:"number",type:n,pure:!0,standalone:!0})}}return n})();let gA=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();const jY="browser";function tB(n){return n===jY}function qY(n){return"server"===n}let RDe=(()=>{class n{static{this.\u0275prov=Nt({token:n,providedIn:"root",factory:()=>tB(ze(jf))?new kDe(ze(mr),window):new UDe})}}return n})();class kDe{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function LDe(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}}class UDe{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}class WY{}class fMe extends y2e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class PU extends fMe{static makeCurrent(){!function b2e(n){wY??=n}(new PU)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function pMe(){return ZE=ZE||document.querySelector("base"),ZE?ZE.getAttribute("href"):null}();return null==e?null:function mMe(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){ZE=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return LY(document.cookie,t)}}let ZE=null,gMe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const OU=new Rt("");let nZ=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(s=>s.supports(e)),!i)throw new xt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(dt(OU),dt(qn))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();class iZ{constructor(t){this._doc=t}}const RU="ng-app-id";let rZ=(()=>{class n{constructor(e,i,r,s={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=qY(s),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${RU}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=i,s.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===e)return r.delete(i),s.removeAttribute(RU),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(RU,this.appId),e.appendChild(o),o}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(tE),dt(s3,8),dt(jf))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const kU={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},LU=/%COMP%/g,yMe=new Rt("",{providedIn:"root",factory:()=>!0});function oZ(n,t){return t.map(e=>e.replace(LU,n))}let UU=(()=>{class n{constructor(e,i,r,s,o,a,l,c=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=qY(a),this.defaultRenderer=new HU(e,o,l,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Uc.ShadowDom&&(i={...i,encapsulation:Uc.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof lZ?r.applyToHost(e):r instanceof VU&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Uc.Emulated:s=new lZ(l,c,i,this.appId,u,o,a,d);break;case Uc.ShadowDom:return new SMe(l,c,e,i,o,a,this.nonce,d);default:s=new VU(l,c,i,u,o,a,d)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(dt(nZ),dt(rZ),dt(tE),dt(yMe),dt(mr),dt(jf),dt(qn),dt(s3))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();class HU{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(kU[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(aZ(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(aZ(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new xt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=kU[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=kU[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(nv.DashCase|nv.Important)?t.style.setProperty(e,i,r&nv.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&nv.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=hv().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function aZ(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class SMe extends HU{constructor(t,e,i,r,s,o,a,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=oZ(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class VU extends HU{constructor(t,e,i,r,s,o,a,l){super(t,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?oZ(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lZ extends VU{constructor(t,e,i,r,s,o,a,l){const c=r+"-"+i.id;super(t,e,i,s,o,a,l,c),this.contentAttr=function wMe(n){return"_ngcontent-%COMP%".replace(LU,n)}(c),this.hostAttr=function xMe(n){return"_nghost-%COMP%".replace(LU,n)}(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let EMe=(()=>{class n extends iZ{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||n)(dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const cZ=["alt","control","meta","shift"],DMe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MMe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let TMe=(()=>{class n extends iZ{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hv().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),cZ.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,i){let r=DMe[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),cZ.forEach(o=>{o!==r&&(0,MMe[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const dZ=[{provide:jf,useValue:jY},{provide:$j,useValue:function NMe(){PU.makeCurrent()},multi:!0},{provide:mr,useFactory:function BMe(){return function H0e(n){r3=n}(document),document},deps:[]}],FMe=VX(LEe,"browser",dZ),PMe=new Rt(""),hZ=[{provide:NI,useClass:class AMe{addToWindow(t){Gr.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new xt(5103,!1);return s},Gr.getAllAngularTestabilities=()=>t.getAllTestabilities(),Gr.getAllAngularRootElements=()=>t.getAllRootElements(),Gr.frameworkStabilizers||(Gr.frameworkStabilizers=[]),Gr.frameworkStabilizers.push(i=>{const r=Gr.getAllAngularTestabilities();let s=r.length;const o=function(){s--,0==s&&i()};r.forEach(a=>{a.whenStable(o)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?hv().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:NX,useClass:tU,deps:[qn,nU,NI]},{provide:tU,useClass:tU,deps:[qn,nU,NI]}],fZ=[{provide:_S,useValue:"root"},{provide:Xd,useFactory:function IMe(){return new Xd},deps:[]},{provide:OU,useClass:EMe,multi:!0,deps:[mr,qn,jf]},{provide:OU,useClass:TMe,multi:!0,deps:[mr]},UU,rZ,nZ,{provide:e4,useExisting:UU},{provide:WY,useClass:gMe,deps:[]},[]];let pZ=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:tE,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(dt(PMe,12))}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[...fZ,...hZ],imports:[gA,UEe]})}}return n})(),zU=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const LMe=new Rt("cdk-dir-doc",{providedIn:"root",factory:function UMe(){return ze(mr)}}),HMe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let om=(()=>{class n{constructor(e){this.value="ltr",this.change=new Cn,e&&(this.value=function VMe(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?HMe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||n)(dt(LMe,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e2=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();function QU(){return Xr((n,t)=>{let e=null;n._refCount++;const i=ds(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sB extends Xi{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,Ng(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ni;const e=this.getSubject();t.add(this.source.subscribe(ds(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ni.EMPTY)}return t}refCount(){return QU()(this)}}function GU(n){return!!n&&(n instanceof Xi||bn(n.lift)&&bn(n.subscribe))}function vZ(n){return n&&bn(n.schedule)}function jU(n){return n[n.length-1]}function oB(n){return bn(jU(n))?n.pop():void 0}function t2(n){return vZ(jU(n))?n.pop():void 0}function mv(n){return this instanceof mv?(this.v=n,this):new mv(n)}function wZ(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function KU(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(s){e[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const YU=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function xZ(n){return bn(n?.then)}function CZ(n){return bn(n[ya])}function SZ(n){return Symbol.asyncIterator&&bn(n?.[Symbol.asyncIterator])}function EZ(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const DZ=function mTe(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function MZ(n){return bn(n?.[DZ])}function TZ(n){return function yZ(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),s=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(h){return function(p){return Promise.resolve(p).then(h,d)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(h,p){i[h]&&(r[h]=function(m){return new Promise(function(g,A){s.push([h,m,g,A])>1||l(h,m)})},p&&(r[h]=p(r[h])))}function l(h,p){try{!function c(h){h.value instanceof mv?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}(i[h](p))}catch(m){f(s[0][3],m)}}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,p){h(p),s.shift(),s.length&&l(s[0][0],s[0][1])}}(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield mv(e.read());if(r)return yield mv(void 0);yield yield mv(i)}}finally{e.releaseLock()}})}function NZ(n){return bn(n?.getReader)}function ja(n){if(n instanceof Xi)return n;if(null!=n){if(CZ(n))return function ATe(n){return new Xi(t=>{const e=n[ya]();if(bn(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(YU(n))return function gTe(n){return new Xi(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(xZ(n))return function vTe(n){return new Xi(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Rc)})}(n);if(SZ(n))return IZ(n);if(MZ(n))return function _Te(n){return new Xi(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(NZ(n))return function bTe(n){return IZ(TZ(n))}(n)}throw EZ(n)}function IZ(n){return new Xi(t=>{(function yTe(n,t){var e,i,r,s;return function _Z(n,t,e,i){return new(e||(e=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=wZ(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function vA(n,t,e,i=0,r=!1){const s=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function BZ(n,t=0){return Xr((e,i)=>{e.subscribe(ds(i,r=>vA(i,n,()=>i.next(r),t),()=>vA(i,n,()=>i.complete(),t),r=>vA(i,n,()=>i.error(r),t)))})}function FZ(n,t=0){return Xr((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function PZ(n,t){if(!n)throw new Error("Iterable cannot be null");return new Xi(e=>{vA(e,t,()=>{const i=n[Symbol.asyncIterator]();vA(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function qa(n,t){return t?function DTe(n,t){if(null!=n){if(CZ(n))return function wTe(n,t){return ja(n).pipe(FZ(t),BZ(t))}(n,t);if(YU(n))return function CTe(n,t){return new Xi(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(xZ(n))return function xTe(n,t){return ja(n).pipe(FZ(t),BZ(t))}(n,t);if(SZ(n))return PZ(n,t);if(MZ(n))return function STe(n,t){return new Xi(e=>{let i;return vA(e,t,()=>{i=n[DZ](),vA(e,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>bn(i?.return)&&i.return()})}(n,t);if(NZ(n))return function ETe(n,t){return PZ(TZ(n),t)}(n,t)}throw EZ(n)}(n,t):ja(n)}function Yn(...n){return qa(n,t2(n))}class OZ{}function ZU(n){return n&&"function"==typeof n.connect&&!(n instanceof sB)}var _A=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(_A||{});const n2=new Rt("_ViewRepeater");class RZ{applyChanges(t,e,i,r,s){t.forEachOperation((o,a,l)=>{let c,u;if(null==o.previousIndex){const d=i(o,a,l);c=e.createEmbeddedView(d.templateRef,d.context,d.index),u=_A.INSERTED}else null==l?(e.remove(a),u=_A.REMOVED):(c=e.get(a),e.move(c,l),u=_A.MOVED);s&&s({context:c?.context,operation:u,record:o})})}detach(){}}class JU{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Rn,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(this._getConcreteValue(s,i))).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}return t}}let e8;try{e8=typeof Intl<"u"&&Intl.v8BreakIterator}catch{e8=!1}let r2,Wa=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?tB(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!e8)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||n)(dt(jf))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function I0(n){return function MTe(){if(null==r2&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>r2=!0}))}finally{r2=r2||!1}return r2}()?n:!!n.capture}var am=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(am||{});let aB,B0,t8;function UZ(){if(null==B0){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return B0=!1,B0;if("scrollBehavior"in document.documentElement.style)B0=!0;else{const n=Element.prototype.scrollTo;B0=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return B0}function s2(){if("object"!=typeof document||!document)return am.NORMAL;if(null==aB){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),aB=am.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,aB=0===n.scrollLeft?am.NEGATED:am.INVERTED),n.remove()}return aB}function bA(n){return n.composedPath?n.composedPath()[0]:n.target}function n8(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ep(n){return null!=n&&"false"!=`${n}`}function lB(n,t=0){return HZ(n)?Number(n):t}function HZ(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function cB(n){return Array.isArray(n)?n:[n]}function vl(n){return null==n?"":"string"==typeof n?n:`${n}px`}function F0(n){return n instanceof $n?n.nativeElement:n}function rc(n,t,e=1/0){return bn(t)?rc((i,r)=>_i((s,o)=>t(i,s,r,o))(ja(n(i,r))),e):("number"==typeof t&&(e=t),Xr((i,r)=>function BTe(n,t,e,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const f=()=>{d&&!l.length&&!c&&t.complete()},h=m=>c<i?p(m):l.push(m),p=m=>{s&&t.next(m),c++;let g=!1;ja(e(m,u++)).subscribe(ds(t,A=>{r?.(A),s?h(A):t.next(A)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const A=l.shift();o?vA(t,o,()=>p(A)):p(A)}f()}catch(A){t.error(A)}}))};return n.subscribe(ds(t,h,()=>{d=!0,f()})),()=>{a?.()}}(i,r,n,e)))}const{isArray:FTe}=Array;function i8(n){return _i(t=>function PTe(n,t){return FTe(t)?n(...t):n(t)}(n,t))}const OTe=["addListener","removeListener"],RTe=["addEventListener","removeEventListener"],kTe=["on","off"];function na(n,t,e,i){if(bn(e)&&(i=e,e=void 0),i)return na(n,t,e).pipe(i8(i));const[r,s]=function HTe(n){return bn(n.addEventListener)&&bn(n.removeEventListener)}(n)?RTe.map(o=>a=>n[o](t,a,e)):function LTe(n){return bn(n.addListener)&&bn(n.removeListener)}(n)?OTe.map(VZ(n,t)):function UTe(n){return bn(n.on)&&bn(n.off)}(n)?kTe.map(VZ(n,t)):[];if(!r&&YU(n))return rc(o=>na(o,t,e))(ja(n));if(!r)throw new TypeError("Invalid event target");return new Xi(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function VZ(n,t){return e=>i=>n[e](t,i)}class VTe extends Ni{constructor(t,e){super()}schedule(t,e=0){return this}}const uB={setInterval(n,t,...e){const{delegate:i}=uB;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=uB;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};class r8 extends VTe{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return uB.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&uB.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,ts(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const o2={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=o2;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Ni(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=o2;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=o2;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},s8={now:()=>(s8.delegate||Date).now(),delegate:void 0};class a2{constructor(t,e=a2.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}a2.now=s8.now;class o8 extends a2{constructor(t,e=a2.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}new class QTe extends o8{flush(t){let e;this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class zTe extends r8{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=o2.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&e===t._scheduled&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(o2.cancelAnimationFrame(e),t._scheduled=void 0)}});let a8,jTe=1;const dB={};function zZ(n){return n in dB&&(delete dB[n],!0)}const qTe={setImmediate(n){const t=jTe++;return dB[t]=!0,a8||(a8=Promise.resolve()),a8.then(()=>zZ(t)&&n()),t},clearImmediate(n){zZ(n)}},{setImmediate:WTe,clearImmediate:$Te}=qTe,hB={setImmediate(...n){const{delegate:t}=hB;return(t?.setImmediate||WTe)(...n)},clearImmediate(n){const{delegate:t}=hB;return(t?.clearImmediate||$Te)(n)},delegate:void 0},l2=(new class XTe extends o8{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class KTe extends r8{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hB.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:s}=t;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(hB.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}}),new o8(r8)),ZTe=l2;function c2(n=0,t,e=ZTe){let i=-1;return null!=t&&(vZ(t)?e=t:i=t),new Xi(r=>{let s=function eNe(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function QZ(n,t=l2){return function JTe(n){return Xr((t,e)=>{let i=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const c=r;r=null,e.next(c)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};t.subscribe(ds(e,c=>{i=!0,r=c,s||ja(n(c)).subscribe(s=ds(e,a,l))},()=>{o=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>c2(n,t))}function Ps(n,t){return Xr((e,i)=>{let r=0;e.subscribe(ds(i,s=>n.call(t,s,r++)&&i.next(s)))})}function Fi(n){return Xr((t,e)=>{ja(n).subscribe(ds(e,()=>e.complete(),Zs)),!e.closed&&t.subscribe(e)})}let l8=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Rn,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Xi(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(QZ(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Yn()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ps(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=F0(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>na(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(i){return new(i||n)(dt(qn),dt(Wa),dt(mr,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nNe=(()=>{class n{constructor(e,i,r,s){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=s,this._destroyed=new Rn,this._elementScrolled=new Xi(o=>this.ngZone.runOutsideAngular(()=>na(this.elementRef.nativeElement,"scroll").pipe(Fi(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&s2()!=am.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),s2()==am.INVERTED?e.left=e.right:s2()==am.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;UZ()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",s=this.elementRef.nativeElement;if("top"==e)return s.scrollTop;if("bottom"==e)return s.scrollHeight-s.clientHeight-s.scrollTop;const o=this.dir&&"rtl"==this.dir.value;return"start"==e?e=o?r:i:"end"==e&&(e=o?i:r),o&&s2()==am.INVERTED?e==i?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&s2()==am.NEGATED?e==i?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==i?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(l8),oe(qn),oe(om,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return n})(),J1=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Rn,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(QZ(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(i){return new(i||n)(dt(Wa),dt(qn),dt(mr,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),c8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[e2,fB,e2,fB]})}}return n})();const nd=new Xi(n=>n.complete());function Ws(n){return n<=0?()=>nd:Xr((t,e)=>{let i=0;t.subscribe(ds(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}const sNe=[[["caption"]],[["colgroup"],["col"]],"*"],oNe=["caption","colgroup, col","*"];function aNe(n,t){1&n&&Cs(0,2)}function lNe(n,t){1&n&&(q(0,"thead",0),Vc(1,1),$(),q(2,"tbody",0),Vc(3,2)(4,3),$(),q(5,"tfoot",0),Vc(6,4),$())}function cNe(n,t){1&n&&Vc(0,1)(1,2)(2,3)(3,4)}const lm=new Rt("CDK_TABLE");let ew=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkCellDef",""]],standalone:!0})}}return n})(),tw=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkHeaderCellDef",""]],standalone:!0})}}return n})(),pB=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkFooterCellDef",""]],standalone:!0})}}return n})(),yA=(()=>{class n{get name(){return this._name}set name(e){this._setNameInput(e)}get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}constructor(e){this._table=e,this._hasStickyChanged=!1,this._sticky=!1,this._stickyEnd=!1}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static{this.\u0275fac=function(i){return new(i||n)(oe(lm,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,r,s){if(1&i&&(nr(s,ew,5),nr(s,tw,5),nr(s,pB,5)),2&i){let o;Ut(o=Ht())&&(r.cell=o.first),Ut(o=Ht())&&(r.headerCell=o.first),Ut(o=Ht())&&(r.footerCell=o.first)}},inputs:{name:[kt.None,"cdkColumnDef","name"],sticky:[kt.HasDecoratorInputTransform,"sticky","sticky",ir],stickyEnd:[kt.HasDecoratorInputTransform,"stickyEnd","stickyEnd",ir]},standalone:!0,features:[Ln([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),pl]})}}return n})();class u8{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let d8=(()=>{class n extends u8{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(oe(yA),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],standalone:!0,features:[mn]})}}return n})(),h8=(()=>{class n extends u8{constructor(e,i){super(e,i);const r=e._table?._getCellRole();r&&i.nativeElement.setAttribute("role",r)}static{this.\u0275fac=function(i){return new(i||n)(oe(yA),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],standalone:!0,features:[mn]})}}return n})();class jZ{constructor(){this.tasks=[],this.endTasks=[]}}const f8=new Rt("_COALESCED_STYLE_SCHEDULER");let qZ=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Rn}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new jZ,this._getScheduleObservable().pipe(Fi(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new jZ;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?qa(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ws(1))}static{this.\u0275fac=function(i){return new(i||n)(dt(qn))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})(),p8=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof u2?e.headerCell.template:this instanceof d2?e.footerCell.template:e.cell.template}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(uv))}}static{this.\u0275dir=Mt({type:n,features:[js]})}}return n})(),u2=(()=>{class n extends p8{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,r){super(e,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(uv),oe(lm,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[kt.None,"cdkHeaderRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"cdkHeaderRowDefSticky","sticky",ir]},standalone:!0,features:[pl,mn,js]})}}return n})(),d2=(()=>{class n extends p8{get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}constructor(e,i,r){super(e,i),this._table=r,this._hasStickyChanged=!1,this._sticky=!1}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){const e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(uv),oe(lm,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[kt.None,"cdkFooterRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"cdkFooterRowDefSticky","sticky",ir]},standalone:!0,features:[pl,mn,js]})}}return n})(),mB=(()=>{class n extends p8{constructor(e,i,r){super(e,i),this._table=r}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(uv),oe(lm,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[kt.None,"cdkRowDefColumns","columns"],when:[kt.None,"cdkRowDefWhen","when"]},standalone:!0,features:[mn]})}}return n})(),wA=(()=>{class n{static{this.mostRecentCellOutlet=null}constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkCellOutlet",""]],standalone:!0})}}return n})(),m8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],standalone:!0,features:[qr],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Vc(0,0)},dependencies:[wA],encapsulation:2})}}return n})(),g8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],standalone:!0,features:[qr],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Vc(0,0)},dependencies:[wA],encapsulation:2})}}return n})(),AB=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}static{this.\u0275fac=function(i){return new(i||n)(oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","cdkNoDataRow",""]],standalone:!0})}}return n})();const WZ=["top","bottom","left","right"];class fNe{constructor(t,e,i,r,s=!0,o=!0,a){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=s,this._needsPositionStickyOnElement=o,this._positionListener=a,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let s=0;s<r.children.length;s++)i.push(r.children[s])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){t.length&&this._isBrowser&&(e.some(s=>s)||i.some(s=>s))?this._coalescedStyleScheduler.schedule(()=>{const s=t[0],o=s.children.length,a=this._getCellWidths(s,r),l=this._getStickyStartColumnPositions(a,e),c=this._getStickyEndColumnPositions(a,i),u=e.lastIndexOf(!0),d=i.indexOf(!0),f="rtl"===this.direction,h=f?"right":"left",p=f?"left":"right";for(const m of t)for(let g=0;g<o;g++){const A=m.children[g];e[g]&&this._addStickyStyle(A,h,l[g],g===u),i[g]&&this._addStickyStyle(A,p,c[g],g===d)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===u?[]:a.slice(0,u+1).map((m,g)=>e[g]?m:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===d?[]:a.slice(d).map((m,g)=>i[g+d]?m:null).reverse()}))}):this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]}))}stickRows(t,e,i){this._isBrowser&&this._coalescedStyleScheduler.schedule(()=>{const r="bottom"===i?t.slice().reverse():t,s="bottom"===i?e.slice().reverse():e,o=[],a=[],l=[];for(let u=0,d=0;u<r.length;u++){if(!s[u])continue;o[u]=d;const f=r[u];l[u]=this._isNativeHtmlTable?Array.from(f.children):[f];const h=f.getBoundingClientRect().height;d+=h,a[u]=h}const c=s.lastIndexOf(!0);for(let u=0;u<r.length;u++){if(!s[u])continue;const d=o[u],f=u===c;for(const h of l[u])this._addStickyStyle(h,i,d,f)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:a,offsets:o,elements:l}):this._positionListener?.stickyFooterRowsUpdated({sizes:a,offsets:o,elements:l})})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&this._coalescedStyleScheduler.schedule(()=>{const i=t.querySelector("tfoot");i&&(e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);WZ.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of WZ)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let s=0;s<r.length;s++)i.push(r[s].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let s=0;s<t.length;s++)e[s]&&(i[s]=r,r+=t[s]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let s=t.length;s>0;s--)e[s]&&(i[s]=r,r+=t[s]);return i}}const v8=new Rt("CDK_SPL");let _8=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const r=ze(lm);r._rowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","rowOutlet",""]],standalone:!0})}}return n})(),b8=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const r=ze(lm);r._headerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","headerRowOutlet",""]],standalone:!0})}}return n})(),y8=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const r=ze(lm);r._footerRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","footerRowOutlet",""]],standalone:!0})}}return n})(),w8=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i;const r=ze(lm);r._noDataRowOutlet=this,r._outletAssigned()}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","noDataRowOutlet",""]],standalone:!0})}}return n})(),gB=(()=>{class n{_getCellRole(){if(void 0===this._cellRoleInternal){const e=this._elementRef.nativeElement.getAttribute("role"),i="grid"===e||"treegrid"===e?"gridcell":"cell";this._cellRoleInternal=this._isNativeHtmlTable&&"cell"===i?null:i}return this._cellRoleInternal}get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,s,o,a,l,c,u,d,f,h){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=o,this._platform=l,this._viewRepeater=c,this._coalescedStyleScheduler=u,this._viewportRuler=d,this._stickyPositioningListener=f,this._ngZone=h,this._onDestroy=new Rn,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._hasAllOutlets=!1,this._hasInitialized=!1,this._cellRoleInternal=void 0,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new Cn,this.viewChange=new Qr({start:0,end:Number.MAX_VALUE}),s||r.nativeElement.setAttribute("role","table"),this._document=a,this._isServer=!l.isBrowser,this._isNativeHtmlTable="TABLE"===r.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Fi(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ZU(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,s,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===_A.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&qn.isInAngularZone()?this._ngZone.onStable.pipe(Ws(1),Fi(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const r=$Z(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}const i=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,i,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const r=$Z(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}const i=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((s,o)=>{this._addStickyColumnStyles([s],this._headerRowDefs[o])}),this._rowDefs.forEach(s=>{const o=[];for(let a=0;a<i.length;a++)this._renderRows[a].rowDef===s&&o.push(i[a]);this._addStickyColumnStyles(o,s)}),r.forEach((s,o)=>{this._addStickyColumnStyles([s],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let s=this._data[r];const o=this._getRenderRowsForData(s,r,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let a=0;a<o.length;a++){let l=o[a];const c=this._cachedRenderRowsMap.get(l.data);c.has(l.rowDef)?c.get(l.rowDef).push(l):c.set(l.rowDef,[l]),e.push(l)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(o=>{const a=r&&r.has(o)?r.get(o):[];if(a.length){const l=a.shift();return l.dataIndex=i,l}return{data:e,rowDef:o,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),vB(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=vB(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=vB(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=vB(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(o,a)=>o||!!a.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(e,!1);return s&&this._forceRenderFooterRows(),i||r||s}_switchDataSource(e){this._data=[],ZU(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ZU(this.dataSource)?e=this.dataSource.connect(this):GU(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Yn(this.dataSource)),this._renderChangeSubscription=e.pipe(Fi(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(a=>this._columnDefsByName.get(a)),s=r.map(a=>a.sticky),o=r.map(a=>a.stickyEnd);this._stickyStyler.updateStickyColumns(e,s,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const s=e.viewContainer.get(r);i.push(s.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(s=>!s.when||s.when(i,e));else{let s=this._rowDefs.find(o=>o.when&&o.when(i,e))||this._defaultRowDef;s&&r.push(s)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,s={}){const o=e.viewContainer.createEmbeddedView(i.template,s,r);return this._renderCellTemplateForItem(i,s),o}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))wA.mostRecentCellOutlet&&wA.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const o=e.get(i).context;o.count=r,o.first=0===i,o.last=i===r-1,o.even=i%2==0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[i].dataIndex,o.renderIndex=i):o.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new fNe(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Yn()).pipe(Fi(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const s=r.createEmbeddedView(e.templateRef),o=s.rootNodes[0];1===s.rootNodes.length&&o?.nodeType===this._document.ELEMENT_NODE&&(o.setAttribute("role","row"),o.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(i){return new(i||n)(oe(uv),oe(fa),oe($n),$d("role"),oe(om,8),oe(mr),oe(Wa),oe(n2),oe(f8),oe(J1),oe(v8,12),oe(qn,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,r,s){if(1&i&&(nr(s,AB,5),nr(s,yA,5),nr(s,mB,5),nr(s,u2,5),nr(s,d2,5)),2&i){let o;Ut(o=Ht())&&(r._noDataRow=o.first),Ut(o=Ht())&&(r._contentColumnDefs=o),Ut(o=Ht())&&(r._contentRowDefs=o),Ut(o=Ht())&&(r._contentHeaderRowDefs=o),Ut(o=Ht())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,r){2&i&&oi("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[kt.HasDecoratorInputTransform,"multiTemplateDataRows","multiTemplateDataRows",ir],fixedLayout:[kt.HasDecoratorInputTransform,"fixedLayout","fixedLayout",ir]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],standalone:!0,features:[Ln([{provide:lm,useExisting:n},{provide:n2,useClass:RZ},{provide:f8,useClass:qZ},{provide:v8,useValue:null}]),pl,qr],ngContentSelectors:oNe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(_u(sNe),Cs(0),Cs(1,1),ht(2,aNe,1,0)(3,lNe,7,0)(4,cNe,4,0)),2&i&&(te(2),fi(2,r._isServer?2:-1),te(),fi(3,r._isNativeHtmlTable?3:4))},dependencies:[b8,_8,w8,y8],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2})}}return n})();function vB(n,t){return n.concat(Array.from(t))}function $Z(n,t){const e=t.toUpperCase();let i=n.viewContainer.element.nativeElement;for(;i;){const r=1===i.nodeType?i.nodeName:null;if(r===e)return i;if("TABLE"===r)break;i=i.parentNode}return null}let mNe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[c8]})}}return n})();function Av(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $s(n,t,e){const i=bn(n)||t||e?{next:n,error:t,complete:e}:n;return i?Xr((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(ds(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Ns}function nw(n,t=l2){return Xr((e,i)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=s;s=null,i.next(c)}};function l(){const c=o+n,u=t.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}e.subscribe(ds(i,c=>{s=c,o=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function _B(n){return Ps((t,e)=>n<=e)}function p2(n,t=Ns){return n=n??TNe,Xr((e,i)=>{let r,s=!0;e.subscribe(ds(i,o=>{const a=t(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}function TNe(n,t){return n===t}let JZ=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),INe=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=F0(e);return new Xi(r=>{const o=this._observeElement(i).pipe(_i(a=>a.filter(l=>!function NNe(n){if("characterData"===n.type&&n.target instanceof Comment)return!0;if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}(l))),Ps(a=>!!a.length)).subscribe(r);return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Rn,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(i){return new(i||n)(dt(JZ))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eJ=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=lB(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new Cn,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(nw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe(INe),oe($n),oe(qn))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[kt.HasDecoratorInputTransform,"cdkObserveContentDisabled","disabled",ir],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[pl]})}}return n})(),E8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[JZ]})}}return n})();const{isArray:BNe}=Array,{getPrototypeOf:FNe,prototype:PNe,keys:ONe}=Object;function tJ(n){if(1===n.length){const t=n[0];if(BNe(t))return{args:t,keys:null};if(function RNe(n){return n&&"object"==typeof n&&FNe(n)===PNe}(t)){const e=ONe(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function nJ(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function P0(...n){const t=t2(n),e=oB(n),{args:i,keys:r}=tJ(n);if(0===i.length)return qa([],t);const s=new Xi(function kNe(n,t,e=Ns){return i=>{iJ(t,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)iJ(t,()=>{const c=qa(n[l],t);let u=!1;c.subscribe(ds(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(e(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,t,r?o=>nJ(r,o):Ns));return e?s.pipe(i8(e)):s}function iJ(n,t,e){n?vA(e,n,t):t()}function iw(n=1/0){return rc(Ns,n)}function O0(...n){return function LNe(){return iw(1)}()(qa(n,t2(n)))}function gv(...n){const t=t2(n);return Xr((e,i)=>{(t?O0(n,e,t):O0(n,e)).subscribe(i)})}const rJ=new Set;let R0,UNe=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):VNe}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function HNe(n,t){if(!rJ.has(n))try{R0||(R0=document.createElement("style"),t&&R0.setAttribute("nonce",t),R0.setAttribute("type","text/css"),document.head.appendChild(R0)),R0.sheet&&(R0.sheet.insertRule(`@media ${n} {body{ }}`,0),rJ.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(i){return new(i||n)(dt(Wa),dt(s3,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VNe(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let zNe=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Rn}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return sJ(cB(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=P0(sJ(cB(e)).map(o=>this._registerQuery(o).observable));return s=O0(s.pipe(Ws(1)),s.pipe(_B(1),nw(0))),s.pipe(_i(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Xi(o=>{const a=l=>this._zone.run(()=>o.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(gv(i),_i(({matches:o})=>({query:e,matches:o})),Fi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}static{this.\u0275fac=function(i){return new(i||n)(dt(UNe),dt(qn))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function sJ(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function aJ(n,t,e){const i=bB(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(" ")))}function D8(n,t,e){const i=bB(n,t);e=e.trim();const r=i.filter(s=>s!==e);r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function bB(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}const lJ="cdk-describedby-message",yB="cdk-describedby-host";let M8=0,QNe=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+M8++,this._document=e,this._id=ze(tE)+"-"+M8++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const s=T8(i,r);"string"!=typeof i?(cJ(i,this._id),this._messageRegistry.set(s,{messageElement:i,referenceCount:0})):this._messageRegistry.has(s)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,s)||this._addMessageReference(e,s)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const s=T8(i,r);if(this._isElementDescribedByMessage(e,s)&&this._removeMessageReference(e,s),"string"==typeof i){const o=this._messageRegistry.get(s);o&&0===o.referenceCount&&this._deleteMessageElement(s)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${yB}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(yB);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");cJ(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(T8(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let s=0;s<i.length;s++)i[s].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=bB(e,"aria-describedby").filter(r=>0!=r.indexOf(lJ));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);aJ(e,"aria-describedby",r.messageElement.id),e.setAttribute(yB,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,D8(e,"aria-describedby",r.messageElement.id),e.removeAttribute(yB)}_isElementDescribedByMessage(e,i){const r=bB(e,"aria-describedby"),s=this._messageRegistry.get(i),o=s&&s.messageElement.id;return!!o&&-1!=r.indexOf(o)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),s=e.getAttribute("aria-label");return!(!r||s&&s.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(Wa))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function T8(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function cJ(n,t){n.id||(n.id=`${lJ}-${t}-${M8++}`)}class uJ{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Rn,this._typeaheadSubscription=Ni.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new Rn,this.change=new Rn,t instanceof Jg?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):aI(t)&&(this._effectRef=dv(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe($s(e=>this._pressedLetters.push(e)),nw(t),Ps(()=>this._pressedLetters.length>0),_i(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,o=i[s];if(!this._skipPredicateFn(o)&&0===o.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(s>0?s:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const s=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(s<o?s:o-1,-1);break}return;default:return void((r||Av(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return aI(this._items)?this._items():this._items instanceof Jg?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class GNe extends uJ{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class dJ extends uJ{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}function fJ(n){return 0===n.buttons||0===n.detail}function pJ(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const YNe=new Rt("cdk-input-modality-detector-options"),ZNe={ignoreKeys:[18,17,224,91,16]},rw=I0({passive:!0,capture:!0});let JNe=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Qr(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bA(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(fJ(o)?"keyboard":"mouse"),this._mostRecentTarget=bA(o))},this._onTouchstart=o=>{pJ(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bA(o))},this._options={...ZNe,...s},this.modalityDetected=this._modality.pipe(_B(1)),this.modalityChanged=this.modalityDetected.pipe(p2()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,rw),r.addEventListener("mousedown",this._onMousedown,rw),r.addEventListener("touchstart",this._onTouchstart,rw)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rw),document.removeEventListener("mousedown",this._onMousedown,rw),document.removeEventListener("touchstart",this._onTouchstart,rw))}static{this.\u0275fac=function(i){return new(i||n)(dt(Wa),dt(qn),dt(mr),dt(YNe,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eIe=new Rt("liveAnnouncerElement",{providedIn:"root",factory:function tIe(){return null}}),nIe=new Rt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let iIe=0,rIe=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,o;return 1===i.length&&"number"==typeof i[0]?o=i[0]:[s,o]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==o&&r&&(o=r.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof o&&(this._previousTimeout=setTimeout(()=>this.clear(),o)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+iIe++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const s=i[r],o=s.getAttribute("aria-owns");o?-1===o.indexOf(e)&&s.setAttribute("aria-owns",o+" "+e):s.setAttribute("aria-owns",e)}}static{this.\u0275fac=function(i){return new(i||n)(dt(eIe,8),dt(qn),dt(mr),dt(nIe,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wB=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(wB||{});const sIe=new Rt("cdk-focus-monitor-default-options"),xB=I0({passive:!0,capture:!0});let N8=(()=>{class n{constructor(e,i,r,s,o){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Rn,this._rootNodeFocusAndBlurListener=a=>{for(let c=bA(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=s,this._detectionMode=o?.detectionMode||wB.IMMEDIATE}monitor(e,i=!1){const r=F0(e);if(!this._platform.isBrowser||1!==r.nodeType)return Yn();const s=function NTe(n){if(function TTe(){if(null==t8){const n=typeof document<"u"?document.head:null;t8=!(!n||!n.createShadowRoot&&!n.attachShadow)}return t8}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;const a={checkChildren:i,subject:new Rn,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(e){const i=F0(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=F0(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===wB.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===wB.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=bA(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,xB),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,xB)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Fi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xB),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xB),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0;return!1}static{this.\u0275fac=function(i){return new(i||n)(dt(qn),dt(Wa),dt(JNe),dt(mr,8),dt(sIe,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),oIe=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new Cn}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(N8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0})}}return n})();var k0=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(k0||{});const AJ="cdk-high-contrast-black-on-white",gJ="cdk-high-contrast-white-on-black",I8="cdk-high-contrast-active";let vJ=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=ze(zNe).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return k0.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return k0.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return k0.BLACK_ON_WHITE}return k0.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(I8,AJ,gJ),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===k0.BLACK_ON_WHITE?e.add(I8,AJ):i===k0.WHITE_ON_BLACK&&e.add(I8,gJ)}}static{this.\u0275fac=function(i){return new(i||n)(dt(Wa),dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aIe=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static{this.\u0275fac=function(i){return new(i||n)(dt(vJ))}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[E8]})}}return n})();const lIe=["text"],cIe=[[["mat-icon"]],"*"],uIe=["mat-icon","*"];function dIe(n,t){if(1&n&&Ye(0,"mat-pseudo-checkbox",1),2&n){const e=lt();Se("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function hIe(n,t){1&n&&Ye(0,"mat-pseudo-checkbox",3),2&n&&Se("disabled",lt().disabled)}function fIe(n,t){if(1&n&&(q(0,"span",4),pe(1),$()),2&n){const e=lt();te(),di("(",e.group.label,")")}}const mIe=new Rt("mat-sanity-checks",{providedIn:"root",factory:function pIe(){return!0}});let $a=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!n8()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static{this.\u0275fac=function(i){return new(i||n)(dt(vJ),dt(mIe,8),dt(mr))}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[e2,e2]})}}return n})();class yJ{constructor(t,e,i,r,s){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,e)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}}let yIe=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qh=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(qh||{});class wIe{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=qh.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const wJ=I0({passive:!0,capture:!0});class xIe{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=bA(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,i,r){const s=this._events.get(e);if(s){const o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,wJ)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const s=r.get(e);s&&(s.delete(i),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,wJ)))}}const xJ={enterDuration:225,exitDuration:150},CJ=I0({passive:!0,capture:!0}),SJ=["mousedown","touchstart"],EJ=["mouseup","mouseleave","touchend","touchcancel"];class A2{static{this._eventManager=new xIe}constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=F0(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...xJ,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=i.radius||function SIe(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,l=e-r.top,c=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=l-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),h=d.transitionDuration,p="none"===d.transitionProperty||"0s"===h||"0s, 0s"===h||0===r.width&&0===r.height,m=new wIe(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=qh.FADING_IN,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const A=()=>this._finishRippleTransition(m),_=()=>this._destroyRipple(m);u.addEventListener("transitionend",A),u.addEventListener("transitioncancel",_),g={onTransitionEnd:A,onTransitionCancel:_}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(t.state===qh.FADING_OUT||t.state===qh.HIDDEN)return;const e=t.element,i={...xJ,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=qh.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=F0(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,SJ.forEach(i=>{A2._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{EJ.forEach(e=>{this._triggerElement.addEventListener(e,this,CJ)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===qh.FADING_IN?this._startFadeOutTransition(t):t.state===qh.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=qh.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=qh.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=fJ(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!pJ(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===qh.VISIBLE||t.config.terminateOnPointerUp&&t.state===qh.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(SJ.forEach(e=>A2._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(EJ.forEach(e=>t.removeEventListener(e,this,CJ)),this._pointerUpEventsRegistered=!1))}}const CB=new Rt("mat-ripple-global-options");let SB=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new A2(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(qn),oe(Wa),oe(CB,8),oe(Yu,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&oi("mat-ripple-unbounded",r.unbounded)},inputs:{color:[kt.None,"matRippleColor","color"],unbounded:[kt.None,"matRippleUnbounded","unbounded"],centered:[kt.None,"matRippleCentered","centered"],radius:[kt.None,"matRippleRadius","radius"],animation:[kt.None,"matRippleAnimation","animation"],disabled:[kt.None,"matRippleDisabled","disabled"],trigger:[kt.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})(),B8=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,$a]})}}return n})(),EIe=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static{this.\u0275fac=function(i){return new(i||n)(oe(Yu,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&oi("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[qr],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}}return n})(),DJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a]})}}return n})();const MJ=new Rt("MAT_OPTION_PARENT_COMPONENT"),TJ=new Rt("MatOptgroup");let DIe=0;class MIe{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let NJ=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+DIe++,this.onSelectionChange=new Cn,this._stateChanges=new Rn}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Av(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new MIe(this,e))}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(fa),oe(MJ,8),oe(TJ,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&Tn(lIe,7),2&i){let s;Ut(s=Ht())&&(r._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&ct("click",function(){return r._selectViaInteraction()})("keydown",function(o){return r._handleKeydown(o)}),2&i&&(ed("id",r.id),$i("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),oi("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[pl,qr],ngContentSelectors:uIe,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(_u(cIe),ht(0,dIe,1,2,"mat-pseudo-checkbox",1),Cs(1),q(2,"span",2,0),Cs(4,1),$(),ht(5,hIe,1,1,"mat-pseudo-checkbox",3)(6,fIe,2,1,"span",4),Ye(7,"div",5)),2&i&&(fi(0,r.multiple?0:-1),te(5),fi(5,r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),te(),fi(6,r.group&&r.group._inert?6:-1),te(),Se("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[EIe,SB],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})(),IJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[B8,$a,DJ]})}}return n})();const BJ={capture:!0},FJ=["focus","click","mouseenter","touchstart"],F8="mat-ripple-loader-uninitialized",P8="mat-ripple-loader-class-name",PJ="mat-ripple-loader-centered",EB="mat-ripple-loader-disabled";let IIe=(()=>{class n{constructor(){this._document=ze(mr,{optional:!0}),this._animationMode=ze(Yu,{optional:!0}),this._globalRippleOptions=ze(CB,{optional:!0}),this._platform=ze(Wa),this._ngZone=ze(qn),this._hosts=new Map,this._onInteraction=e=>{if(!(e.target instanceof HTMLElement))return;const r=e.target.closest(`[${F8}]`);r&&this._createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const e of FJ)this._document?.addEventListener(e,this._onInteraction,BJ)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of FJ)this._document?.removeEventListener(i,this._onInteraction,BJ)}configureRipple(e,i){e.setAttribute(F8,""),(i.className||!e.hasAttribute(P8))&&e.setAttribute(P8,i.className||""),i.centered&&e.setAttribute(PJ,""),i.disabled&&e.setAttribute(EB,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(EB,""):e.removeAttribute(EB)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(P8)),e.append(r);const s=new SB(new $n(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=e,s.centered=e.hasAttribute(PJ),s.disabled=e.hasAttribute(EB),this.attachRipple(e,s),s}attachRipple(e,i){e.removeAttribute(F8),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function id(...n){const t=t2(n),e=function zMe(n,t){return"number"==typeof jU(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?ja(i[0]):iw(e)(qa(i,t)):nd}const BIe=[[["caption"]],[["colgroup"],["col"]],"*"],FIe=["caption","colgroup, col","*"];function PIe(n,t){1&n&&Cs(0,2)}function OIe(n,t){1&n&&(q(0,"thead",0),Vc(1,1),$(),q(2,"tbody",2),Vc(3,3)(4,4),$(),q(5,"tfoot",0),Vc(6,5),$())}function RIe(n,t){1&n&&Vc(0,1)(1,3)(2,4)(3,5)}let O8=(()=>{class n extends gB{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,r){2&i&&oi("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],standalone:!0,features:[Ln([{provide:gB,useExisting:n},{provide:lm,useExisting:n},{provide:f8,useClass:qZ},{provide:n2,useClass:RZ},{provide:v8,useValue:null}]),mn,qr],ngContentSelectors:FIe,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,r){1&i&&(_u(BIe),Cs(0),Cs(1,1),ht(2,PIe,1,0)(3,OIe,7,0)(4,RIe,4,0)),2&i&&(te(2),fi(2,r._isServer?2:-1),te(),fi(3,r._isNativeHtmlTable?3:4))},dependencies:[b8,_8,w8,y8],styles:[".mat-mdc-table-sticky{position:sticky !important}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color)}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-header-headline-font, Roboto, sans-serif);line-height:var(--mat-table-header-headline-line-height);font-size:var(--mat-table-header-headline-size, 14px);font-weight:var(--mat-table-header-headline-weight, 500)}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, Roboto, sans-serif);line-height:var(--mat-table-row-item-label-text-line-height);font-size:var(--mat-table-row-item-label-text-size, 14px);font-weight:var(--mat-table-row-item-label-text-weight)}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, rgba(0, 0, 0, 0.87));font-family:var(--mat-table-footer-supporting-text-font, Roboto, sans-serif);line-height:var(--mat-table-footer-supporting-text-line-height);font-size:var(--mat-table-footer-supporting-text-size, 14px);font-weight:var(--mat-table-footer-supporting-text-weight);letter-spacing:var(--mat-table-footer-supporting-text-tracking)}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking);font-weight:inherit;line-height:inherit}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, rgba(0, 0, 0, 0.12));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking);line-height:inherit}.mdc-data-table__row:last-child .mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking)}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2})}}return n})(),DB=(()=>{class n extends ew{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","matCellDef",""]],standalone:!0,features:[Ln([{provide:ew,useExisting:n}]),mn]})}}return n})(),MB=(()=>{class n extends tw{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","matHeaderCellDef",""]],standalone:!0,features:[Ln([{provide:tw,useExisting:n}]),mn]})}}return n})(),TB=(()=>{class n extends yA{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[kt.None,"matColumnDef","name"]},standalone:!0,features:[Ln([{provide:yA,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),mn]})}}return n})(),NB=(()=>{class n extends d8{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],standalone:!0,features:[mn]})}}return n})(),IB=(()=>{class n extends h8{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],standalone:!0,features:[mn]})}}return n})(),R8=(()=>{class n extends u2{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[kt.None,"matHeaderRowDef","columns"],sticky:[kt.HasDecoratorInputTransform,"matHeaderRowDefSticky","sticky",ir]},standalone:!0,features:[Ln([{provide:u2,useExisting:n}]),pl,mn]})}}return n})(),k8=(()=>{class n extends mB{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[kt.None,"matRowDefColumns","columns"],when:[kt.None,"matRowDefWhen","when"]},standalone:!0,features:[Ln([{provide:mB,useExisting:n}]),mn]})}}return n})(),L8=(()=>{class n extends m8{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],standalone:!0,features:[Ln([{provide:m8,useExisting:n}]),mn,qr],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Vc(0,0)},dependencies:[wA],encapsulation:2})}}return n})(),U8=(()=>{class n extends g8{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],standalone:!0,features:[Ln([{provide:g8,useExisting:n}]),mn,qr],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,r){1&i&&Vc(0,0)},dependencies:[wA],encapsulation:2})}}return n})(),GIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,mNe,$a]})}}return n})();class Wh extends OZ{get data(){return this._data.value}set data(t){t=Array.isArray(t)?t:[],this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}constructor(t=[]){super(),this._renderData=new Qr([]),this._filter=new Qr(""),this._internalPageChanges=new Rn,this._renderChangesSubscription=null,this.sortingDataAccessor=(e,i)=>{const r=e[i];if(HZ(r)){const s=Number(r);return s<9007199254740991?s:r}return r},this.sortData=(e,i)=>{const r=i.active,s=i.direction;return r&&""!=s?e.sort((o,a)=>{let l=this.sortingDataAccessor(o,r),c=this.sortingDataAccessor(a,r);const u=typeof l,d=typeof c;u!==d&&("number"===u&&(l+=""),"number"===d&&(c+=""));let f=0;return null!=l&&null!=c?l>c?f=1:l<c&&(f=-1):null!=l?f=1:null!=c&&(f=-1),f*("asc"==s?1:-1)}):e},this.filterPredicate=(e,i)=>{const r=Object.keys(e).reduce((o,a)=>o+e[a]+"\u25ec","").toLowerCase(),s=i.trim().toLowerCase();return-1!=r.indexOf(s)},this._data=new Qr(t),this._updateChangeSubscription()}_updateChangeSubscription(){const t=this._sort?id(this._sort.sortChange,this._sort.initialized):Yn(null),e=this._paginator?id(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Yn(null),r=P0([this._data,this._filter]).pipe(_i(([a])=>this._filterData(a))),s=P0([r,t]).pipe(_i(([a])=>this._orderData(a))),o=P0([s,e]).pipe(_i(([a])=>this._pageData(a)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=o.subscribe(a=>this._renderData.next(a))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(e=>this.filterPredicate(e,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const i=Math.ceil(e.length/e.pageSize)-1||0,r=Math.min(e.pageIndex,i);r!==e.pageIndex&&(e.pageIndex=r,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}let qIe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();class OJ extends Rn{constructor(t=1/0,e=1/0,i=s8){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;e||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const o=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}}function H8(n,t,...e){if(!0===t)return void n();if(!1===t)return;const i=new Hn({next:()=>{i.unsubscribe(),n()}});return ja(t(...e)).subscribe(i)}class KIe{constructor(t){this._box=t,this._destroyed=new Rn,this._resizeSubject=new Rn,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new Xi(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe(Ps(e=>e.some(i=>i.target===t)),function $Ie(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,function WIe(n={}){const{connector:t=(()=>new Rn),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=l=void 0,u=d=!1},p=()=>{const m=o;h(),m?.unsubscribe()};return Xr((m,g)=>{c++,!d&&!u&&f();const A=l=l??t();g.add(()=>{c--,0===c&&!d&&!u&&(a=H8(p,r))}),A.subscribe(g),!o&&c>0&&(o=new Hn({next:_=>A.next(_),error:_=>{d=!0,f(),a=H8(h,e,_),A.error(_)},complete:()=>{u=!0,f(),a=H8(h,i),A.complete()}}),ja(m).subscribe(o))})(s)}}({connector:()=>new OJ(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),Fi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let XIe=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=ze(qn)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new KIe(r)),this._observers.get(r).observe(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ki=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(Ki||{});const xA="*";function g2(n,t){return{type:Ki.Trigger,name:n,definitions:t,options:{}}}function vv(n,t=null){return{type:Ki.Animate,styles:t,timings:n}}function rd(n){return{type:Ki.Style,styles:n,offset:null}}function L0(n,t,e){return{type:Ki.State,name:n,styles:t,options:e}}function CA(n,t,e=null){return{type:Ki.Transition,expr:n,animation:t,options:e}}function ZIe(n=null){return{type:Ki.AnimateChild,options:n}}function JIe(n,t,e=null){return{type:Ki.Query,selector:n,animation:t,options:e}}class v2{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class RJ{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const rBe=["notch"],sBe=["matFormFieldNotchedOutline",""],oBe=["*"],aBe=["textField"],lBe=["iconPrefixContainer"],cBe=["textPrefixContainer"],uBe=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],dBe=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function hBe(n,t){1&n&&Ye(0,"span",17)}function fBe(n,t){if(1&n&&(q(0,"label",16),Cs(1,1),ht(2,hBe,1,0,"span",17),$()),2&n){const e=lt(2);Se("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),$i("for",e._control.disableAutomaticLabeling?null:e._control.id),te(2),fi(2,!e.hideRequiredMarker&&e._control.required?2:-1)}}function pBe(n,t){1&n&&ht(0,fBe,3,5,"label",16),2&n&&fi(0,lt()._hasFloatingLabel()?0:-1)}function mBe(n,t){1&n&&Ye(0,"div",5)}function ABe(n,t){}function gBe(n,t){1&n&&ht(0,ABe,0,0,"ng-template",11),2&n&&(lt(2),Se("ngTemplateOutlet",ha(1)))}function vBe(n,t){if(1&n&&(q(0,"div",7),ht(1,gBe,1,1,null,11),$()),2&n){const e=lt();Se("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),te(),fi(1,e._forceDisplayInfixLabel()?-1:1)}}function _Be(n,t){1&n&&(q(0,"div",8,2),Cs(2,2),$())}function bBe(n,t){1&n&&(q(0,"div",9,3),Cs(2,3),$())}function yBe(n,t){}function wBe(n,t){1&n&&ht(0,yBe,0,0,"ng-template",11),2&n&&(lt(),Se("ngTemplateOutlet",ha(1)))}function xBe(n,t){1&n&&(q(0,"div",12),Cs(1,4),$())}function CBe(n,t){1&n&&(q(0,"div",13),Cs(1,5),$())}function SBe(n,t){1&n&&Ye(0,"div",14)}function EBe(n,t){1&n&&(q(0,"div",18),Cs(1,6),$()),2&n&&Se("@transitionMessages",lt()._subscriptAnimationState)}function DBe(n,t){if(1&n&&(q(0,"mat-hint",20),pe(1),$()),2&n){const e=lt(2);Se("id",e._hintLabelId),te(),An(e.hintLabel)}}function MBe(n,t){if(1&n&&(q(0,"div",19),ht(1,DBe,2,2,"mat-hint",20),Cs(2,7),Ye(3,"div",21),Cs(4,8),$()),2&n){const e=lt();Se("@transitionMessages",e._subscriptAnimationState),te(),fi(1,e.hintLabel?1:-1)}}let kJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["mat-label"]],standalone:!0})}}return n})();const TBe=new Rt("MatError");let NBe=0,LJ=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+NBe++}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ed("id",r.id),$i("align",null),oi("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}}return n})();const IBe=new Rt("MatPrefix"),BBe=new Rt("MatSuffix"),UJ=new Rt("FloatingLabelParent");let HJ=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=ze(XIe),this._ngZone=ze(qn),this._parent=ze(UJ),this._resizeSubscription=new Ni}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function FBe(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static{this.\u0275fac=function(i){return new(i||n)(oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&oi("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}}return n})();const VJ="mdc-line-ripple--active",BB="mdc-line-ripple--deactivating";let zJ=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const s=this._elementRef.nativeElement.classList,o=s.contains(BB);"opacity"===r.propertyName&&o&&s.remove(VJ,BB)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(BB),e.add(VJ)}deactivate(){this._elementRef.nativeElement.classList.add(BB)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(qn))}}static{this.\u0275dir=Mt({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}}return n})(),QJ=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(qn))}}static{this.\u0275cmp=Nn({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Tn(rBe,5),2&i){let s;Ut(s=Ht())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&oi("mdc-notched-outline--notched",r.open)},inputs:{open:[kt.None,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[qr],attrs:sBe,ngContentSelectors:oBe,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(_u(),Ye(0,"div",1),q(1,"div",2,0),Cs(3),$(),Ye(4,"div",3))},encapsulation:2,changeDetection:0})}}return n})();const PBe={transitionMessages:g2("transitionMessages",[L0("enter",rd({opacity:1,transform:"translateY(0%)"})),CA("void => enter",[rd({opacity:0,transform:"translateY(-5px)"}),vv("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let GJ=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n})}}return n})();const jJ=new Rt("MatFormField"),OBe=new Rt("MAT_FORM_FIELD_DEFAULT_OPTIONS");let qJ=0,LBe=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ep(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,s,o,a,l,c){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=s,this._platform=o,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+qJ++,this._hintLabelId="mat-mdc-hint-"+qJ++,this._subscriptAnimationState="",this._destroyed=new Rn,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Fi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),id(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Fi(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Fi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,s=i?.getBoundingClientRect().width??0,o=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${s+o}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(fa),oe(qn),oe(om),oe(Wa),oe(OBe,8),oe(Yu,8),oe(mr))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(nr(s,kJ,5),nr(s,kJ,7),nr(s,GJ,5),nr(s,IBe,5),nr(s,BBe,5),nr(s,TBe,5),nr(s,LJ,5)),2&i){let o;Ut(o=Ht())&&(r._labelChildNonStatic=o.first),Ut(o=Ht())&&(r._labelChildStatic=o.first),Ut(o=Ht())&&(r._formFieldControl=o.first),Ut(o=Ht())&&(r._prefixChildren=o),Ut(o=Ht())&&(r._suffixChildren=o),Ut(o=Ht())&&(r._errorChildren=o),Ut(o=Ht())&&(r._hintChildren=o)}},viewQuery:function(i,r){if(1&i&&(Tn(aBe,5),Tn(lBe,5),Tn(cBe,5),Tn(HJ,5),Tn(QJ,5),Tn(zJ,5)),2&i){let s;Ut(s=Ht())&&(r._textField=s.first),Ut(s=Ht())&&(r._iconPrefixContainer=s.first),Ut(s=Ht())&&(r._textPrefixContainer=s.first),Ut(s=Ht())&&(r._floatingLabel=s.first),Ut(s=Ht())&&(r._notchedOutline=s.first),Ut(s=Ht())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&oi("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[Ln([{provide:jJ,useExisting:n},{provide:UJ,useExisting:n}]),qr],ngContentSelectors:dBe,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const s=Bi();_u(uBe),ht(0,pBe,1,1,"ng-template",null,0,zc),q(2,"div",4,1),ct("click",function(a){return $t(s),Gt(r._control.onContainerClick(a))}),ht(4,mBe,1,0,"div",5),q(5,"div",6),ht(6,vBe,2,2,"div",7)(7,_Be,3,0,"div",8)(8,bBe,3,0,"div",9),q(9,"div",10),ht(10,wBe,1,1,null,11),Cs(11),$(),ht(12,xBe,2,0,"div",12)(13,CBe,2,0,"div",13),$(),ht(14,SBe,1,0,"div",14),$(),q(15,"div",15),ht(16,EBe,2,1)(17,MBe,5,2),$()}if(2&i){let s;te(2),oi("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),te(2),fi(4,r._hasOutline()||r._control.disabled?-1:4),te(2),fi(6,r._hasOutline()?6:-1),te(),fi(7,r._hasIconPrefix?7:-1),te(),fi(8,r._hasTextPrefix?8:-1),te(2),fi(10,!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),te(2),fi(12,r._hasTextSuffix?12:-1),te(),fi(13,r._hasIconSuffix?13:-1),te(),fi(14,r._hasOutline()?-1:14),te(),oi("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),te(),fi(16,"error"===(s=r._getDisplayedMessages())?16:"hint"===s?17:-1)}},dependencies:[HJ,QJ,T0,zJ,LJ],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[PBe.transitionMessages]},changeDetection:0})}}return n})(),FB=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,gA,E8,$a]})}}return n})(),UBe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,FB,FB,qIe,$a]})}}return n})();function _2(n){return new Xi(t=>{ja(n()).subscribe(t)})}function cm(n,t){const e=bn(n)?n:()=>n,i=r=>r.error(e());return new Xi(t?r=>t.schedule(i,0,r):i)}const sw=new Xi(Zs);function Ta(n,t){return Xr((e,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();e.subscribe(ds(i,l=>{r?.unsubscribe();let c=0;const u=s++;ja(n(l,u)).subscribe(r=ds(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}const VBe={connector:()=>new Rn};function KJ(n,t=VBe){const{connector:e}=t;return Xr((i,r)=>{const s=e();ja(n(function HBe(n){return new Xi(t=>n.subscribe(t))}(s))).subscribe(r),r.add(i.subscribe(s))})}function XJ(n){return _i(()=>n)}function YJ(n,t){return t?e=>O0(t.pipe(Ws(1),function GBe(){return Xr((n,t)=>{n.subscribe(ds(t,Zs))})}()),e.pipe(YJ(n))):rc((e,i)=>ja(n(e,i)).pipe(Ws(1),XJ(e)))}function b2(n,t=l2){const e=c2(n,t);return YJ(()=>e)}const y2="Service workers are disabled or not supported by this browser";class PB{constructor(t){if(this.serviceWorker=t,t){const i=na(t,"controllerchange").pipe(_i(()=>t.controller)),s=O0(_2(()=>Yn(t.controller)),i);this.worker=s.pipe(Ps(u=>!!u)),this.registration=this.worker.pipe(Ta(()=>t.getRegistration()));const c=na(t,"message").pipe(_i(u=>u.data)).pipe(Ps(u=>u&&u.type)).pipe(function QBe(n){return n?t=>KJ(n)(t):t=>function zBe(n,t){const e=bn(n)?n:()=>n;return bn(t)?KJ(t,{connector:e}):i=>new sB(i,e)}(new Rn)(t)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function jBe(n){return _2(()=>cm(new Error(n)))}(y2)}postMessage(t,e){return this.worker.pipe(Ws(1),$s(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(t,e);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe(Ps(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Ws(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Ps(e=>e.nonce===t),Ws(1),_i(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ZJ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new Rn,!e.isEnabled)return this.messages=sw,this.notificationClicks=sw,void(this.subscription=sw);this.messages=this.sw.eventsOfType("PUSH").pipe(_i(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(_i(r=>r.data)),this.pushManager=this.sw.registration.pipe(_i(r=>r.pushManager));const i=this.pushManager.pipe(Ta(r=>r.getSubscription()));this.subscription=id(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(y2));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(Ta(o=>o.subscribe(i)),Ws(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Ws(1),Ta(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(y2))}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(i){return new(i||n)(dt(PB))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})(),JJ=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=sw,void(this.unrecoverable=sw);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y2));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(y2));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(i){return new(i||n)(dt(PB))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const eee=new Rt("");function qBe(n,t,e,i){return()=>{if(!tB(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;let r;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)r=e.registrationStrategy();else{const[o,...a]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":r=Yn(null);break;case"registerWithDelay":r=tee(+a[0]||0);break;case"registerWhenStable":r=a[0]?id(nee(n),tee(+a[0])):nee(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(qn).runOutsideAngular(()=>r.pipe(Ws(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function tee(n){return Yn(null).pipe(b2(n))}function nee(n){return n.get(Xf).isStable.pipe(Ps(e=>e))}function WBe(n,t){return new PB(tB(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class z8{}function $Be(n,t={}){return Ug([ZJ,JJ,{provide:eee,useValue:n},{provide:z8,useValue:t},{provide:PB,useFactory:WBe,deps:[z8,jf]},{provide:qE,useFactory:qBe,deps:[ta,eee,z8,jf],multi:!0}])}let KBe=(()=>{class n{static register(e,i={}){return{ngModule:n,providers:[$Be(e,i)]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[ZJ,JJ]})}}return n})(),iee=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(oe(tm),oe($n))}}static{this.\u0275dir=Mt({type:n})}}return n})(),U0=(()=>{class n extends iee{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,features:[mn]})}}return n})();const ih=new Rt(""),ZBe={provide:ih,useExisting:jr(()=>sd),multi:!0},eFe=new Rt("");let sd=(()=>{class n extends iee{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JBe(){const n=hv()?hv().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(tm),oe($n),oe(eFe,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ct("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ln([ZBe]),mn]})}}return n})();function _v(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function see(n){return null!=n&&"number"==typeof n.length}const Cc=new Rt(""),bv=new Rt(""),tFe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class um{static min(t){return function oee(n){return t=>{if(_v(t.value)||_v(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function aee(n){return t=>{if(_v(t.value)||_v(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return lee(t)}static requiredTrue(t){return function cee(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function uee(n){return _v(n.value)||tFe.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function dee(n){return t=>_v(t.value)||!see(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return hee(t)}static pattern(t){return function fee(n){if(!n)return OB;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(_v(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return _ee(t)}static composeAsync(t){return bee(t)}}function lee(n){return _v(n.value)?{required:!0}:null}function hee(n){return t=>see(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function OB(n){return null}function pee(n){return null!=n}function mee(n){return jE(n)?qa(n):n}function Aee(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function gee(n,t){return t.map(e=>e(n))}function vee(n){return n.map(t=>function nFe(n){return!n.validate}(t)?t:e=>t.validate(e))}function _ee(n){if(!n)return null;const t=n.filter(pee);return 0==t.length?null:function(e){return Aee(gee(e,t))}}function Q8(n){return null!=n?_ee(vee(n)):null}function bee(n){if(!n)return null;const t=n.filter(pee);return 0==t.length?null:function(e){return function XBe(...n){const t=oB(n),{args:e,keys:i}=tJ(n),r=new Xi(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;ja(e[u]).subscribe(ds(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?nJ(i,a):a),s.complete())}))}});return t?r.pipe(i8(t)):r}(gee(e,t).map(mee)).pipe(_i(Aee))}}function G8(n){return null!=n?bee(vee(n)):null}function yee(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function wee(n){return n._rawValidators}function xee(n){return n._rawAsyncValidators}function j8(n){return n?Array.isArray(n)?n:[n]:[]}function RB(n,t){return Array.isArray(n)?n.includes(t):n===t}function Cee(n,t){const e=j8(t);return j8(n).forEach(r=>{RB(e,r)||e.push(r)}),e}function See(n,t){return j8(t).filter(e=>!RB(n,e))}class Eee{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Q8(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=G8(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yu extends Eee{get formDirective(){return null}get path(){return null}}class SA extends Eee{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Dee{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $h=(()=>{class n extends Dee{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(SA,2))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&oi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[mn]})}}return n})(),Kh=(()=>{class n extends Dee{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(yu,10))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&oi("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[mn]})}}return n})();const w2="VALID",LB="INVALID",ow="PENDING",x2="DISABLED";function $8(n){return(UB(n)?n.validators:n)||null}function K8(n,t){return(UB(t)?t.asyncValidators:n)||null}function UB(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Tee(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new xt(1e3,"");if(!i[e])throw new xt(1001,"")}function Nee(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new xt(1002,"")})}class HB{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===w2}get invalid(){return this.status===LB}get pending(){return this.status==ow}get disabled(){return this.status===x2}get enabled(){return this.status!==x2}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Cee(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Cee(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(See(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(See(t,this._rawAsyncValidators))}hasValidator(t){return RB(this._rawValidators,t)}hasAsyncValidator(t){return RB(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ow,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=x2,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=w2,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===w2||this.status===ow)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x2:w2}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ow,this._hasOwnPendingAsyncValidator=!0;const e=mee(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Cn,this.statusChanges=new Cn}_calculateStatus(){return this._allControlsDisabled()?x2:this.errors?LB:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ow)?ow:this._anyControlsHaveStatus(LB)?LB:w2}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){UB(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function oFe(n){return Array.isArray(n)?Q8(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function aFe(n){return Array.isArray(n)?G8(n):n||null}(this._rawAsyncValidators)}}class C2 extends HB{constructor(t,e,i){super($8(e),K8(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Nee(this,0,t),Object.keys(t).forEach(i=>{Tee(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class Iee extends C2{}const H0=new Rt("CallSetDisabledState",{providedIn:"root",factory:()=>S2}),S2="always";function VB(n,t){return[...t.path,n]}function E2(n,t,e=S2){X8(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function cFe(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Bee(n,t)})}(n,t),function dFe(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function uFe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Bee(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function lFe(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function zB(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),GB(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function QB(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function X8(n,t){const e=wee(n);null!==t.validator?n.setValidators(yee(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xee(n);null!==t.asyncValidator?n.setAsyncValidators(yee(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();QB(t._rawValidators,r),QB(t._rawAsyncValidators,r)}function GB(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=wee(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=xee(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return QB(t._rawValidators,i),QB(t._rawAsyncValidators,i),e}function Bee(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Fee(n,t){X8(n,t)}function Z8(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Pee(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function J8(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===sd?e=s:function pFe(n){return Object.getPrototypeOf(n.constructor)===U0}(s)?i=s:r=s}),r||i||e||null}const AFe={provide:yu,useExisting:jr(()=>od)},D2=Promise.resolve();let od=(()=>{class n extends yu{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Cn,this.form=new C2({},Q8(e),G8(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){D2.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),E2(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){D2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){D2.then(()=>{const i=this._findContainer(e.path),r=new C2({});Fee(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){D2.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){D2.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Pee(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(oe(Cc,10),oe(bv,10),oe(H0,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ct("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[kt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([AFe]),mn]})}}return n})();function Oee(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ree(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const M2=class extends HB{constructor(t=null,e,i){super($8(e),K8(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),UB(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Ree(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Oee(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Oee(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Ree(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},_Fe={provide:SA,useExisting:jr(()=>Xh)},Uee=Promise.resolve();let Xh=(()=>{class n extends SA{constructor(e,i,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new M2,this._registered=!1,this.name="",this.update=new Cn,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=J8(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Z8(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){E2(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Uee.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&ir(i);Uee.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?VB(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(oe(yu,9),oe(Cc,10),oe(bv,10),oe(ih,10),oe(fa,8),oe(H0,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[kt.None,"disabled","isDisabled"],model:[kt.None,"ngModel","model"],options:[kt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ln([_Fe]),mn,js]})}}return n})(),Yh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();const bFe={provide:ih,useExisting:jr(()=>aw),multi:!0};let aw=(()=>{class n extends U0{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&ct("input",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},features:[Ln([bFe]),mn]})}}return n})();const eH=new Rt(""),SFe={provide:yu,useExisting:jr(()=>lw)};let lw=(()=>{class n extends yu{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Cn,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(GB(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return E2(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){zB(e.control||null,e,!1),function mFe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Pee(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(zB(i||null,e),(n=>n instanceof M2)(r)&&(E2(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Fee(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function hFe(n,t){return GB(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){X8(this.form,this),this._oldForm&&GB(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(i){return new(i||n)(oe(Cc,10),oe(bv,10),oe(H0,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ct("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[kt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([SFe]),mn,js]})}}return n})();const MFe={provide:SA,useExisting:jr(()=>iH)};let iH=(()=>{class n extends SA{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Cn,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=J8(0,s)}ngOnChanges(e){this._added||this._setUpControl(),Z8(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return VB(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(oe(yu,13),oe(Cc,10),oe(bv,10),oe(ih,10),oe(eH,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","formControlName",""]],inputs:{name:[kt.None,"formControlName","name"],isDisabled:[kt.None,"disabled","isDisabled"],model:[kt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ln([MFe]),mn,js]})}}return n})();const TFe={provide:ih,useExisting:jr(()=>V0),multi:!0};function Gee(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let V0=(()=>{class n extends U0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const r=Gee(this._getOptionId(e),e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){const i=function NFe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){1&i&&ct("change",function(o){return r.onChange(o.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ln([TFe]),mn]})}}return n})(),wu=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Gee(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(tm),oe(V0,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();const IFe={provide:ih,useExisting:jr(()=>rH),multi:!0};function jee(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let rH=(()=>{class n extends U0{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let i;if(this.value=e,Array.isArray(e)){const r=e.map(s=>this._getOptionId(s));i=(s,o)=>{s._setSelected(r.indexOf(o.toString())>-1)}}else i=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{const r=[],s=i.selectedOptions;if(void 0!==s){const o=s;for(let a=0;a<o.length;a++){const c=this._getOptionValue(o[a].value);r.push(c)}}else{const o=i.options;for(let a=0;a<o.length;a++){const l=o[a];if(l.selected){const c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,e(r)}}_registerOption(e){const i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){const i=function BFe(n){return n.split(":")[0]}(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){1&i&&ct("change",function(o){return r.onChange(o.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ln([IFe]),mn]})}}return n})(),xu=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(jee(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(jee(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(tm),oe(rH,9))}}static{this.\u0275dir=Mt({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();let z0=(()=>{class n{constructor(){this._validator=OB}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):OB,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,features:[js]})}}return n})();const OFe={provide:Cc,useExisting:jr(()=>cw),multi:!0};let cw=(()=>{class n extends z0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=ir,this.createValidator=e=>lee}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){2&i&&$i("required",r._enabled?"":null)},inputs:{required:"required"},features:[Ln([OFe]),mn]})}}return n})();const UFe={provide:Cc,useExisting:jr(()=>sH),multi:!0};let sH=(()=>{class n extends z0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function qee(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>hee(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275dir=Mt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){2&i&&$i("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Ln([UFe]),mn]})}}return n})(),ete=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();class tte extends HB{constructor(t,e,i){super($8(e),K8(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Nee(this,0,t),t.forEach((i,r)=>{Tee(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function nte(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let jB=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return nte(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new C2(r,s)}record(e,i=null){const r=this._reduceControls(e);return new Iee(r,i)}control(e,i,r){let s={};return this.useNonNullable?(nte(i)?s=i:(s.validators=i,s.asyncValidators=r),new M2(e,{...s,nonNullable:!0})):new M2(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new tte(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof M2||e instanceof HB?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),VFe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:H0,useValue:e.callSetDisabledState??S2}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[ete]})}}return n})(),zFe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:eH,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:H0,useValue:e.callSetDisabledState??S2}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[ete]})}}return n})(),QFe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,$a]})}}return n})(),_Pe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[E8,gA,$a,B8,DJ,QFe]})}}return n})();const yPe=["mat-icon-button",""],wPe=["*"],xPe=new Rt("MAT_BUTTON_CONFIG"),CPe=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let SPe=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,s){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=s,this._focusMonitor=ze(N8),this._rippleLoader=ze(IIe),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const o=ze(xPe,{optional:!0}),a=e.nativeElement,l=a.classList;this.disabledInteractive=o?.disabledInteractive??!1,this._rippleLoader?.configureRipple(a,{className:"mat-mdc-button-ripple"});for(const{attribute:c,mdcClasses:u}of CPe)a.hasAttribute(c)&&l.add(...u)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static{this.\u0275fac=function(i){O3()}}static{this.\u0275dir=Mt({type:n,inputs:{color:"color",disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",ir],disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir],ariaDisabled:[kt.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",ir],disabledInteractive:[kt.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",ir]},features:[pl]})}}return n})(),DPe=(()=>{class n extends SPe{constructor(e,i,r,s){super(e,i,r,s),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(Wa),oe(qn),oe(Yu,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&($i("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),Wf(r.color?"mat-"+r.color:""),oi("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[mn,qr],attrs:yPe,ngContentSelectors:wPe,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(_u(),Ye(0,"span",0),Cs(1),Ye(2,"span",1)(3,"span",2))},styles:['.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{color:var(--mdc-icon-button-icon-color)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button{border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),MPe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,B8,$a]})}}return n})();class aH{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ate extends aH{constructor(t,e,i,r,s){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class T2 extends aH{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class NPe extends aH{constructor(t){super(),this.element=t instanceof $n?t.nativeElement:t}}class lte{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ate?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof T2?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof NPe?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IPe extends lte{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||ta.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let BPe=(()=>{class n extends T2{constructor(e,i){super(e,i)}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(Uo))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],standalone:!0,features:[mn]})}}return n})(),lH=(()=>{class n extends lte{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new Cn,this.attachDomPortal=s=>{const o=s.element,a=this._document.createComment("dom-portal");s.setAttachedHost(this),o.parentNode.insertBefore(a,o),this._getRootNode().appendChild(o),this._attachedPortal=s,super.setDisposeFn(()=>{a.parentNode&&a.parentNode.replaceChild(o,a)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),o=i.createComponent(s,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(o.hostView.rootNodes[0]),super.setDisposeFn(()=>o.destroy()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static{this.\u0275fac=function(i){return new(i||n)(oe(b0),oe(Uo),oe(mr))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[kt.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[mn]})}}return n})(),FPe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();const cte=UZ();class PPe{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=vl(-this._previousScrollPosition.left),t.style.top=vl(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),cte&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),cte&&(i.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class OPe{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Ps(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class ute{enable(){}disable(){}attach(){}}function cH(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function dte(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class RPe{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();cH(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let kPe=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new ute,this.close=o=>new OPe(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new PPe(this._viewportRuler,this._document),this.reposition=o=>new RPe(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static{this.\u0275fac=function(i){return new(i||n)(dt(l8),dt(J1),dt(qn),dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class hte{constructor(t){if(this.scrollStrategy=new ute,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class LPe{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fte=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static{this.\u0275fac=function(i){return new(i||n)(dt(mr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),UPe=(()=>{class n extends fte{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(qn,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HPe=(()=>{class n extends fte{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=bA(s)},this._clickListener=s=>{const o=bA(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(o)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(s)):d.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(Wa),dt(qn,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pte=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||n8()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),n8()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(Wa))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class VPe{constructor(t,e,i,r,s,o,a,l,c,u=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new Rn,this._attachments=new Rn,this._detachments=new Rn,this._locationChanges=Ni.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new Rn,this._outsidePointerEvents=new Rn,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ws(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=vl(this._config.width),t.height=vl(this._config.height),t.minWidth=vl(this._config.minWidth),t.minHeight=vl(this._config.minHeight),t.maxWidth=vl(this._config.maxWidth),t.maxHeight=vl(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=cB(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Fi(id(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const mte="cdk-overlay-connected-position-bounding-box",zPe=/([A-Za-z%]+)$/;class QPe{get positions(){return this._preferredPositions}constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Rn,this._resizeSubscription=Ni.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(mte),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(t,r,a),c=this._getOverlayPoint(l,e,a),u=this._getOverlayFit(c,e,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<u.visibleArea)&&(o={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const c of s){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Q0(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(mte),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const o=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;r="start"==i.originX?o:a}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=gte(e);let{x:o,y:a}=t,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(o+=l),c&&(a+=c);let f=0-a,h=a+s.height-i.height,p=this._subtractOverflows(s.width,0-o,o+s.width-i.width),m=this._subtractOverflows(s.height,f,h),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:s.width*s.height===g,fitsInViewportVertically:m===s.height,fitsInViewportHorizontally:p==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,o=Ate(this._overlayRef.getConfig().minHeight),a=Ate(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=o&&o<=r)&&(t.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=gte(e),s=this._viewportRect,o=Math.max(t.x+r.width-s.width,0),a=Math.max(t.y+r.height-s.height,0),l=Math.max(s.top-i.top-t.y,0),c=Math.max(s.left-i.left-t.x,0);let u=0,d=0;return u=r.width<=s.width?c||-o:t.x<this._viewportMargin?s.left-i.left-t.x:0,d=r.height<=s.height?l||-a:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:u,y:d},{x:t.x+u,y:t.y+d}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function GPe(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new LPe(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,o,a,u,d,f;if("top"===e.overlayY)o=t.y,s=i.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=i.height-t.y+2*this._viewportMargin,s=i.height-a+this._viewportMargin;else{const h=Math.min(i.bottom-t.y+i.top,t.y),p=this._lastBoundingBoxSize.height;s=2*h,o=t.y-h,s>p&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-p/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)f=i.width-t.x+2*this._viewportMargin,u=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)d=t.x,u=i.right-t.x;else{const h=Math.min(i.right-t.x+i.left,t.x),p=this._lastBoundingBoxSize.width;u=2*h,d=t.x-h,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.x-p/2)}return{top:o,left:d,bottom:a,right:f,width:u,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=vl(i.height),r.top=vl(i.top),r.bottom=vl(i.bottom),r.width=vl(i.width),r.left=vl(i.left),r.right=vl(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=vl(s)),o&&(r.maxWidth=vl(o))}this._lastBoundingBoxSize=i,Q0(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Q0(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Q0(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();Q0(i,this._getExactOverlayY(e,t,u)),Q0(i,this._getExactOverlayX(e,t,u))}else i.position="static";let a="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),o.maxHeight&&(r?i.maxHeight=vl(o.maxHeight):s&&(i.maxHeight="")),o.maxWidth&&(r?i.maxWidth=vl(o.maxWidth):s&&(i.maxWidth="")),Q0(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=vl(s.y),r}_getExactOverlayX(t,e,i){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),o=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=vl(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:dte(t,i),isOriginOutsideView:cH(t,i),isOverlayClipped:dte(e,i),isOverlayOutsideView:cH(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&cB(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof $n)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Q0(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ate(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(zPe);return e&&"px"!==e?null:parseFloat(t)}return n||null}function gte(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const vte="cdk-global-overlay-wrapper";class jPe{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vte),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),c=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,f="rtl"===this._overlayRef.getConfig().direction;let h="",p="",m="";l?m="flex-start":"center"===u?(m="center",f?p=d:h=d):f?"left"===u||"end"===u?(m="flex-end",h=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",h=d):("right"===u||"end"===u)&&(m="flex-end",p=d),t.position=this._cssPosition,t.marginLeft=l?"0":h,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":p,e.justifyContent=m,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vte),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let qPe=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new jPe}flexibleConnectedTo(e){return new QPe(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static{this.\u0275fac=function(i){return new(i||n)(dt(J1),dt(mr),dt(Wa),dt(pte))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),WPe=0,dm=(()=>{class n{constructor(e,i,r,s,o,a,l,c,u,d,f,h){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=f,this._animationsModuleType=h}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),o=new hte(e);return o.direction=o.direction||this._directionality.value,new VPe(s,i,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+WPe++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Xf)),new IPe(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static{this.\u0275fac=function(i){return new(i||n)(dt(kPe),dt(pte),dt(b0),dt(qPe),dt(UPe),dt(ta),dt(qn),dt(mr),dt(om),dt(X1),dt(HPe),dt(Yu,8))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const $Pe=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],_te=new Rt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=ze(dm);return()=>n.scrollStrategies.reposition()}});let qB=(()=>{class n{constructor(e){this.elementRef=e}static{this.\u0275fac=function(i){return new(i||n)(oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}}return n})(),bte=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,s,o){this._overlay=e,this._dir=o,this._backdropSubscription=Ni.EMPTY,this._attachSubscription=Ni.EMPTY,this._detachSubscription=Ni.EMPTY,this._positionSubscription=Ni.EMPTY,this._disposeOnNavigation=!1,this._ngZone=ze(qn),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Cn,this.positionChange=new Cn,this.attach=new Cn,this.detach=new Cn,this.overlayKeydown=new Cn,this.overlayOutsideClick=new Cn,this._templatePortal=new T2(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=$Pe);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Av(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),s=bA(i);(!r||r!==s&&!r.contains(s))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new hte({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof qB?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof qB?this.origin.elementRef.nativeElement:this.origin instanceof $n?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function TPe(n,t=!1){return Xr((e,i)=>{let r=0;e.subscribe(ds(i,s=>{const o=n(s,r++);(o||t)&&i.next(s),!o&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe(dm),oe(gs),oe(Uo),oe(_te),oe(om,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[kt.None,"cdkConnectedOverlayOrigin","origin"],positions:[kt.None,"cdkConnectedOverlayPositions","positions"],positionStrategy:[kt.None,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[kt.None,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[kt.None,"cdkConnectedOverlayOffsetY","offsetY"],width:[kt.None,"cdkConnectedOverlayWidth","width"],height:[kt.None,"cdkConnectedOverlayHeight","height"],minWidth:[kt.None,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[kt.None,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[kt.None,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[kt.None,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[kt.None,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[kt.None,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[kt.None,"cdkConnectedOverlayOpen","open"],disableClose:[kt.None,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[kt.None,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ir],lockPosition:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayLockPosition","lockPosition",ir],flexibleDimensions:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ir],growAfterOpen:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ir],push:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayPush","push",ir],disposeOnNavigation:[kt.HasDecoratorInputTransform,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ir]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[pl,js]})}}return n})();const XPe={provide:_te,deps:[dm],useFactory:function KPe(n){return()=>n.scrollStrategies.reposition()}};let uH=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[dm,XPe],imports:[e2,FPe,c8,c8]})}}return n})();const YPe=["trigger"],ZPe=["panel"],JPe=[[["mat-select-trigger"]],"*"],eOe=["mat-select-trigger","*"];function tOe(n,t){if(1&n&&(q(0,"span",4),pe(1),$()),2&n){const e=lt();te(),An(e.placeholder)}}function nOe(n,t){1&n&&Cs(0)}function iOe(n,t){if(1&n&&(q(0,"span",11),pe(1),$()),2&n){const e=lt(2);te(),An(e.triggerValue)}}function rOe(n,t){if(1&n&&(q(0,"span",10),ht(1,nOe,1,0)(2,iOe,2,1),$()),2&n){const e=lt();te(),fi(1,e.customTrigger?1:2)}}function sOe(n,t){if(1&n){const e=Bi();q(0,"div",12,1),ct("@transformPanel.done",function(r){return $t(e),Gt(lt()._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){return $t(e),Gt(lt()._handleKeydown(r))}),Cs(2,1),$()}if(2&n){const e=lt();(function $$(n,t,e){Kf(xa,sm,P1(Lt(),n,t,e),!0)})("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),Se("ngClass",e.panelClass)("@transformPanel","showing"),$i("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const oOe={transformPanelWrap:g2("transformPanelWrap",[CA("* => void",JIe("@transformPanel",[ZIe()],{optional:!0}))]),transformPanel:g2("transformPanel",[L0("void",rd({opacity:0,transform:"scale(1, 0.8)"})),CA("void => showing",vv("120ms cubic-bezier(0, 0, 0.2, 1)",rd({opacity:1,transform:"scale(1, 1)"}))),CA("* => void",vv("100ms linear",rd({opacity:0})))])};let yte=0;const wte=new Rt("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=ze(dm);return()=>n.scrollStrategies.reposition()}}),lOe=new Rt("MAT_SELECT_CONFIG"),cOe={provide:wte,deps:[dm],useFactory:function aOe(n){return()=>n.scrollStrategies.reposition()}},uOe=new Rt("MatSelectTrigger");class dOe{constructor(t,e){this.source=t,this.value=e}}let hOe=(()=>{class n{_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,s=function TIe(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let o=0;o<n+1;o++)i[o].group&&i[o].group===r[s]&&s++;return s}return 0}(e,this.options,this.optionGroups),o=i._getHostElement();r.scrollTop=0===e&&1===s?0:function NIe(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(o.offsetTop,o.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new dOe(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(um.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,s,o,a,l,c,u,d,f,h,p,m){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=o,this._dir=a,this._parentFormField=u,this.ngControl=d,this._liveAnnouncer=p,this._defaultOptions=m,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(g,A)=>g===A,this._uid="mat-select-"+yte++,this._triggerAriaLabelledBy=null,this._destroy=new Rn,this.stateChanges=new Rn,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+yte++,this._panelDoneAnimatingStream=new Rn,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new Rn,this.optionSelectionChanges=_2(()=>{const g=this.options;return g?g.changes.pipe(gv(g),Ta(()=>id(...g.map(A=>A.onSelectionChange)))):this._initialized.pipe(Ta(()=>this.optionSelectionChanges))}),this.openedChange=new Cn,this._openedStream=this.openedChange.pipe(Ps(g=>g),_i(()=>{})),this._closedStream=this.openedChange.pipe(Ps(g=>!g),_i(()=>{})),this.selectionChange=new Cn,this.valueChange=new Cn,this._trackedModal=null,this._skipPredicate=g=>!this.panelOpen&&g.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=m?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=m.typeaheadDebounceInterval),this._errorStateTracker=new yJ(s,d,c,l,this.stateChanges),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(f)||0,this.id=this.id}ngOnInit(){this._selectionModel=new JU(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(p2(),Fi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Fi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Fi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(gv(null),Fi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&D8(this._trackedModal,"aria-owns",i),aJ(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(D8(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,o=this._keyManager;if(!o.isTyping()&&s&&!Av(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const a=this.selected;o.onKeydown(e);const l=this.selected;l&&a!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,o=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(o||13!==r&&32!==r||!i.activeItem||Av(e))if(!o&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const a=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(a?l.select():l.deselect())})}else{const a=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==a&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Ws(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof qB?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new GNe(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=id(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Fi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),id(...this.options.map(i=>i._stateChanges)).pipe(Fi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static{this.\u0275fac=function(i){return new(i||n)(oe(J1),oe(fa),oe(qn),oe(yIe),oe($n),oe(om,8),oe(od,8),oe(lw,8),oe(jJ,8),oe(SA,10),$d("tabindex"),oe(wte),oe(rIe),oe(lOe,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,s){if(1&i&&(nr(s,uOe,5),nr(s,NJ,5),nr(s,TJ,5)),2&i){let o;Ut(o=Ht())&&(r.customTrigger=o.first),Ut(o=Ht())&&(r.options=o),Ut(o=Ht())&&(r.optionGroups=o)}},viewQuery:function(i,r){if(1&i&&(Tn(YPe,5),Tn(ZPe,5),Tn(bte,5)),2&i){let s;Ut(s=Ht())&&(r.trigger=s.first),Ut(s=Ht())&&(r.panel=s.first),Ut(s=Ht())&&(r._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&ct("keydown",function(o){return r._handleKeydown(o)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&($i("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),oi("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[kt.None,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir],disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",ir],tabIndex:[kt.HasDecoratorInputTransform,"tabIndex","tabIndex",e=>null==e?0:fA(e)],hideSingleSelectionIndicator:[kt.HasDecoratorInputTransform,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",ir],placeholder:"placeholder",required:[kt.HasDecoratorInputTransform,"required","required",ir],multiple:[kt.HasDecoratorInputTransform,"multiple","multiple",ir],disableOptionCentering:[kt.HasDecoratorInputTransform,"disableOptionCentering","disableOptionCentering",ir],compareWith:"compareWith",value:"value",ariaLabel:[kt.None,"aria-label","ariaLabel"],ariaLabelledby:[kt.None,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[kt.HasDecoratorInputTransform,"typeaheadDebounceInterval","typeaheadDebounceInterval",fA],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[Ln([{provide:GJ,useExisting:n},{provide:MJ,useExisting:n}]),pl,js,qr],ngContentSelectors:eOe,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const s=Bi();_u(JPe),q(0,"div",2,0),ct("click",function(){return $t(s),Gt(r.open())}),q(3,"div",3),ht(4,tOe,2,1,"span",4)(5,rOe,3,1),$(),q(6,"div",5)(7,"div",6),Kp(),q(8,"svg",7),Ye(9,"path",8),$()()()(),ht(10,sOe,3,9,"ng-template",9),ct("backdropClick",function(){return $t(s),Gt(r.close())})("attach",function(){return $t(s),Gt(r._onAttached())})("detach",function(){return $t(s),Gt(r.close())})}if(2&i){const s=ha(1);te(3),$i("id",r._valueId),te(),fi(4,r.empty?4:5),te(6),Se("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[qB,bte,ZI],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[oOe.transformPanel]},changeDetection:0})}}return n})(),fOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[cOe],imports:[gA,uH,IJ,$a,fB,FB,IJ,$a]})}}return n})();const pOe=["tooltip"],Cte=new Rt("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{const n=ze(dm);return()=>n.scrollStrategies.reposition({scrollThrottle:20})}}),AOe={provide:Cte,deps:[dm],useFactory:function mOe(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},vOe=new Rt("mat-tooltip-default-options",{providedIn:"root",factory:function gOe(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),Ste="tooltip-panel",Ete=I0({passive:!0});let xOe=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=ep(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ep(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=lB(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=lB(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,s,o,a,l,c,u,d,f,h){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=s,this._ngZone=o,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=f,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._tooltipComponent=COe,this._viewportMargin=8,this._cssClassPrefix="mat-mdc",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Rn,this._scrollStrategy=u,this._document=h,f&&(this._showDelay=f.showDelay,this._hideDelay=f.hideDelay,f.position&&(this.position=f.position),f.positionAtOrigin&&(this.positionAtOrigin=f.positionAtOrigin),f.touchGestures&&(this.touchGestures=f.touchGestures)),d.change.pipe(Fi(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)}),this._viewportMargin=8}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Fi(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,Ete)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new ate(this._tooltipComponent,this._viewContainerRef);const s=this._tooltipInstance=r.attach(this._portal).instance;s._triggerElement=this._elementRef.nativeElement,s._mouseLeaveHideDelay=this._hideDelay,s.afterHidden().pipe(Fi(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),s.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&s._origin instanceof $n)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Fi(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${Ste}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Fi(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Fi(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Fi(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&27===s.keyCode&&!Av(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),s=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...s.main}),this._addOffset({...r.fallback,...s.fallback})])}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:s,y:o}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:s,originY:o}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:s,y:o}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:s,overlayY:o}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ws(1),Fi(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:s}=e;let o;if(o="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===s?"above":"below",o!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${Ste}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+o)}this._currentPosition=o}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),this._defaultOptions.touchLongPressShowDelay??500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,Ete)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static{this.\u0275fac=function(i){return new(i||n)(oe(dm),oe($n),oe(l8),oe(Uo),oe(qn),oe(Wa),oe(QNe),oe(N8),oe(Cte),oe(om),oe(vOe,8),oe(mr))}}static{this.\u0275dir=Mt({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&oi("mat-mdc-tooltip-disabled",r.disabled)},inputs:{position:[kt.None,"matTooltipPosition","position"],positionAtOrigin:[kt.None,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[kt.None,"matTooltipDisabled","disabled"],showDelay:[kt.None,"matTooltipShowDelay","showDelay"],hideDelay:[kt.None,"matTooltipHideDelay","hideDelay"],touchGestures:[kt.None,"matTooltipTouchGestures","touchGestures"],message:[kt.None,"matTooltip","message"],tooltipClass:[kt.None,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"],standalone:!0})}}return n})(),COe=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._elementRef=i,this._isMultiline=!1,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Rn,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide",this._animationsDisabled="NoopAnimations"===r}show(e){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,s=this._hideAnimation;if(i.classList.remove(e?s:r),i.classList.add(e?r:s),this._isVisible!==e&&(this._isVisible=e,this._changeDetectorRef.markForCheck()),e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const o=getComputedStyle(i);("0s"===o.getPropertyValue("animation-duration")||"none"===o.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}static{this.\u0275fac=function(i){return new(i||n)(oe(fa),oe($n),oe(Yu,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Tn(pOe,7),2&i){let s;Ut(s=Ht())&&(r._tooltip=s.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&ct("mouseleave",function(o){return r._handleMouseLeave(o)}),2&i&&rm("zoom",r.isVisible()?1:null)},standalone:!0,features:[qr],decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1,0),ct("animationend",function(a){return $t(s),Gt(r._handleAnimationEnd(a))}),q(2,"div",2),pe(3),$()()}2&i&&(oi("mdc-tooltip--multiline",r._isMultiline),Se("ngClass",r.tooltipClass),te(3),An(r.message))},dependencies:[ZI],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - 2*8px);margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - 2*8px);align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}}return n})(),SOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[AOe],imports:[aIe,gA,uH,$a,$a,fB]})}}return n})();function EOe(n,t){if(1&n&&(q(0,"mat-option",16),pe(1),$()),2&n){const e=t.$implicit;Se("value",e),te(),di(" ",e," ")}}function DOe(n,t){if(1&n){const e=Bi();q(0,"mat-form-field",13)(1,"mat-select",15),ct("selectionChange",function(r){return $t(e),Gt(lt(2)._changePageSize(r.value))}),tc(2,EOe,2,2,"mat-option",16,Ju),$()()}if(2&n){const e=lt(2);Se("appearance",e._formFieldAppearance)("color",e.color),te(),Se("value",e.pageSize)("disabled",e.disabled)("aria-labelledby",e._pageSizeLabelId)("panelClass",e.selectConfig.panelClass||"")("disableOptionCentering",e.selectConfig.disableOptionCentering),te(),nc(e._displayedPageSizeOptions)}}function MOe(n,t){if(1&n&&(q(0,"div",14),pe(1),$()),2&n){const e=lt(2);te(),An(e.pageSize)}}function TOe(n,t){if(1&n&&(q(0,"div",2)(1,"div",12),pe(2),$(),ht(3,DOe,4,7,"mat-form-field",13)(4,MOe,2,1,"div",14),$()),2&n){const e=lt();te(),$i("id",e._pageSizeLabelId),te(),di(" ",e._intl.itemsPerPageLabel," "),te(),fi(3,e._displayedPageSizeOptions.length>1?3:-1),te(),fi(4,e._displayedPageSizeOptions.length<=1?4:-1)}}function NOe(n,t){if(1&n){const e=Bi();q(0,"button",17),ct("click",function(){return $t(e),Gt(lt().firstPage())}),Kp(),q(1,"svg",7),Ye(2,"path",18),$()()}if(2&n){const e=lt();Se("matTooltip",e._intl.firstPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),$i("aria-label",e._intl.firstPageLabel)}}function IOe(n,t){if(1&n){const e=Bi();q(0,"button",19),ct("click",function(){return $t(e),Gt(lt().lastPage())}),Kp(),q(1,"svg",7),Ye(2,"path",20),$()()}if(2&n){const e=lt();Se("matTooltip",e._intl.lastPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),$i("aria-label",e._intl.lastPageLabel)}}let WB=(()=>{class n{constructor(){this.changes=new Rn,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const s=e*i;return`${s+1} \u2013 ${s<(r=Math.max(r,0))?Math.min(s+i,r):s+i} of ${r}`}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const FOe={provide:WB,deps:[[new kg,new jm,WB]],useFactory:function BOe(n){return n||new WB}},OOe=new Rt("MAT_PAGINATOR_DEFAULT_OPTIONS");let ROe=0,N2=(()=>{class n{get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=Math.max(e||0,0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(e){this._length=e||0,this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=Math.max(e||0,0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(e){this._pageSizeOptions=(e||[]).map(i=>fA(i,0)),this._updateDisplayedPageSizeOptions()}constructor(e,i,r){if(this._intl=e,this._changeDetectorRef=i,this._pageSizeLabelId="mat-paginator-page-size-label-"+ROe++,this._isInitialized=!1,this._initializedStream=new OJ(1),this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.hidePageSize=!1,this.showFirstLastButtons=!1,this.selectConfig={},this.disabled=!1,this.page=new Cn,this.initialized=this._initializedStream,this._intlChanges=e.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){const{pageSize:s,pageSizeOptions:o,hidePageSize:a,showFirstLastButtons:l}=r;null!=s&&(this._pageSize=s),null!=o&&(this._pageSizeOptions=o),null!=a&&(this.hidePageSize=a),null!=l&&(this.showFirstLastButtons=l)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex+1,this._emitPageEvent(e)}previousPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=this.pageIndex-1,this._emitPageEvent(e)}firstPage(){if(!this.hasPreviousPage())return;const e=this.pageIndex;this.pageIndex=0,this._emitPageEvent(e)}lastPage(){if(!this.hasNextPage())return;const e=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(e)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const e=this.getNumberOfPages()-1;return this.pageIndex<e&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(e){const r=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/e)||0,this.pageSize=e,this._emitPageEvent(r)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((e,i)=>e-i),this._changeDetectorRef.markForCheck())}_emitPageEvent(e){this.page.emit({previousPageIndex:e,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}static{this.\u0275fac=function(i){return new(i||n)(oe(WB),oe(fa),oe(OOe,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[kt.HasDecoratorInputTransform,"pageIndex","pageIndex",fA],length:[kt.HasDecoratorInputTransform,"length","length",fA],pageSize:[kt.HasDecoratorInputTransform,"pageSize","pageSize",fA],pageSizeOptions:"pageSizeOptions",hidePageSize:[kt.HasDecoratorInputTransform,"hidePageSize","hidePageSize",ir],showFirstLastButtons:[kt.HasDecoratorInputTransform,"showFirstLastButtons","showFirstLastButtons",ir],selectConfig:"selectConfig",disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir]},outputs:{page:"page"},exportAs:["matPaginator"],standalone:!0,features:[pl,qr],decls:14,vars:14,consts:[[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","matTooltipPosition","disabled"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1),ht(2,TOe,5,4,"div",2),q(3,"div",3)(4,"div",4),pe(5),$(),ht(6,NOe,3,5,"button",5),q(7,"button",6),ct("click",function(){return r.previousPage()}),Kp(),q(8,"svg",7),Ye(9,"path",8),$()(),function HS(){!function V5(){Li.lFrame.currentNamespace=null}()}(),q(10,"button",9),ct("click",function(){return r.nextPage()}),Kp(),q(11,"svg",7),Ye(12,"path",10),$()(),ht(13,IOe,3,5,"button",11),$()()()),2&i&&(te(2),fi(2,r.hidePageSize?-1:2),te(3),di(" ",r._intl.getRangeLabel(r.pageIndex,r.pageSize,r.length)," "),te(),fi(6,r.showFirstLastButtons?6:-1),te(),Se("matTooltip",r._intl.previousPageLabel)("matTooltipDisabled",r._previousButtonsDisabled())("matTooltipPosition","above")("disabled",r._previousButtonsDisabled()),$i("aria-label",r._intl.previousPageLabel),te(3),Se("matTooltip",r._intl.nextPageLabel)("matTooltipDisabled",r._nextButtonsDisabled())("matTooltipPosition","above")("disabled",r._nextButtonsDisabled()),$i("aria-label",r._intl.nextPageLabel),te(3),fi(13,r.showFirstLastButtons?13:-1))},dependencies:[LBe,hOe,NJ,DPe,xOe],styles:[".mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color);background-color:var(--mat-paginator-container-background-color);font-family:var(--mat-paginator-container-text-font);line-height:var(--mat-paginator-container-text-line-height);font-size:var(--mat-paginator-container-text-size);font-weight:var(--mat-paginator-container-text-weight);letter-spacing:var(--mat-paginator-container-text-tracking);--mat-form-field-container-height:var(--mat-paginator-form-field-container-height);--mat-form-field-container-vertical-padding:var(--mat-paginator-form-field-container-vertical-padding)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size)}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:84px}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color)}.mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color)}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}.cdk-high-contrast-active .mat-mdc-icon-button[disabled] .mat-mdc-paginator-icon,.cdk-high-contrast-active .mat-mdc-paginator-icon{fill:currentColor;fill:CanvasText}.cdk-high-contrast-active .mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}}return n})(),kOe=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[FOe],imports:[MPe,fOe,SOe,N2]})}}return n})();const dH=["*"];function LOe(n,t){1&n&&Cs(0)}const UOe=["tabListContainer"],HOe=["tabList"],VOe=["tabListInner"],zOe=["nextPaginator"],QOe=["previousPaginator"],GOe=n=>({animationDuration:n}),jOe=(n,t)=>({value:n,params:t});function qOe(n,t){}const WOe=["tabBodyWrapper"],$Oe=["tabHeader"];function KOe(n,t){}function XOe(n,t){1&n&&ht(0,KOe,0,0,"ng-template",12),2&n&&Se("cdkPortalOutlet",lt().$implicit.templateLabel)}function YOe(n,t){1&n&&pe(0),2&n&&An(lt().$implicit.textLabel)}function ZOe(n,t){if(1&n){const e=Bi();q(0,"div",7,2),ct("click",function(){const r=$t(e),s=r.$implicit,o=r.$index,a=lt(),l=ha(1);return Gt(a._handleClick(s,l,o))})("cdkFocusChange",function(r){const s=$t(e).$index;return Gt(lt()._tabFocusChanged(r,s))}),Ye(2,"span",8)(3,"div",9),q(4,"span",10)(5,"span",11),ht(6,XOe,1,1,null,12)(7,YOe,1,1),$()()()}if(2&n){const e=t.$implicit,i=t.$index,r=ha(1),s=lt();Wf(e.labelClass),oi("mdc-tab--active",s.selectedIndex===i),Se("id",s._getTabLabelId(i))("disabled",e.disabled)("fitInkBarToContent",s.fitInkBarToContent),$i("tabIndex",s._getTabIndex(i))("aria-posinset",i+1)("aria-setsize",s._tabs.length)("aria-controls",s._getTabContentId(i))("aria-selected",s.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),te(3),Se("matRippleTrigger",r)("matRippleDisabled",e.disabled||s.disableRipple),te(3),fi(6,e.templateLabel?6:7)}}function JOe(n,t){1&n&&Cs(0)}function eRe(n,t){if(1&n){const e=Bi();q(0,"mat-tab-body",13),ct("_onCentered",function(){return $t(e),Gt(lt()._removeTabBodyWrapperHeight())})("_onCentering",function(r){return $t(e),Gt(lt()._setTabBodyWrapperHeight(r))}),$()}if(2&n){const e=t.$implicit,i=t.$index,r=lt();Wf(e.bodyClass),oi("mat-mdc-tab-body-active",r.selectedIndex===i),Se("id",r._getTabContentId(i))("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),$i("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))("aria-hidden",r.selectedIndex!==i)}}const tRe=new Rt("MatTabContent");let nRe=(()=>{class n{constructor(e){this.template=e}static{this.\u0275fac=function(i){return new(i||n)(oe(gs))}}static{this.\u0275dir=Mt({type:n,selectors:[["","matTabContent",""]],standalone:!0,features:[Ln([{provide:tRe,useExisting:n}])]})}}return n})();const iRe=new Rt("MatTabLabel"),Dte=new Rt("MAT_TAB");let rRe=(()=>{class n extends BPe{constructor(e,i,r){super(e,i),this._closestTab=r}static{this.\u0275fac=function(i){return new(i||n)(oe(gs),oe(Uo),oe(Dte,8))}}static{this.\u0275dir=Mt({type:n,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],standalone:!0,features:[Ln([{provide:iRe,useExisting:n}]),mn]})}}return n})();const Mte=new Rt("MAT_TAB_GROUP");let Tte=(()=>{class n{get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}constructor(e,i){this._viewContainerRef=e,this._closestTabGroup=i,this.disabled=!1,this._explicitContent=void 0,this.textLabel="",this._contentPortal=null,this._stateChanges=new Rn,this.position=null,this.origin=null,this.isActive=!1}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new T2(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}static{this.\u0275fac=function(i){return new(i||n)(oe(Uo),oe(Mte,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-tab"]],contentQueries:function(i,r,s){if(1&i&&(nr(s,rRe,5),nr(s,nRe,7,gs)),2&i){let o;Ut(o=Ht())&&(r.templateLabel=o.first),Ut(o=Ht())&&(r._explicitContent=o.first)}},viewQuery:function(i,r){if(1&i&&Tn(gs,7),2&i){let s;Ut(s=Ht())&&(r._implicitContent=s.first)}},hostAttrs:["hidden",""],inputs:{disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir],textLabel:[kt.None,"label","textLabel"],ariaLabel:[kt.None,"aria-label","ariaLabel"],ariaLabelledby:[kt.None,"aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],standalone:!0,features:[Ln([{provide:Dte,useExisting:n}]),pl,js,qr],ngContentSelectors:dH,decls:1,vars:0,template:function(i,r){1&i&&(_u(),ht(0,LOe,1,0,"ng-template"))},encapsulation:2})}}return n})();const hH="mdc-tab-indicator--active",Nte="mdc-tab-indicator--no-transition";class sRe{constructor(t){this._items=t}hide(){this._items.forEach(t=>t.deactivateInkBar())}alignToElement(t){const e=this._items.find(r=>r.elementRef.nativeElement===t),i=this._currentItem;if(e!==i&&(i?.deactivateInkBar(),e)){const r=i?.elementRef.nativeElement.getBoundingClientRect?.();e.activateInkBar(r),this._currentItem=e}}}let oRe=(()=>{class n{constructor(){this._elementRef=ze($n),this._fitToContent=!1}get fitInkBarToContent(){return this._fitToContent}set fitInkBarToContent(e){this._fitToContent!==e&&(this._fitToContent=e,this._inkBarElement&&this._appendInkBarElement())}activateInkBar(e){const i=this._elementRef.nativeElement;if(!e||!i.getBoundingClientRect||!this._inkBarContentElement)return void i.classList.add(hH);const r=i.getBoundingClientRect(),s=e.width/r.width,o=e.left-r.left;i.classList.add(Nte),this._inkBarContentElement.style.setProperty("transform",`translateX(${o}px) scaleX(${s})`),i.getBoundingClientRect(),i.classList.remove(Nte),i.classList.add(hH),this._inkBarContentElement.style.setProperty("transform","")}deactivateInkBar(){this._elementRef.nativeElement.classList.remove(hH)}ngOnInit(){this._createInkBarElement()}ngOnDestroy(){this._inkBarElement?.remove(),this._inkBarElement=this._inkBarContentElement=null}_createInkBarElement(){const e=this._elementRef.nativeElement.ownerDocument||document,i=this._inkBarElement=e.createElement("span"),r=this._inkBarContentElement=e.createElement("span");i.className="mdc-tab-indicator",r.className="mdc-tab-indicator__content mdc-tab-indicator__content--underline",i.appendChild(this._inkBarContentElement),this._appendInkBarElement()}_appendInkBarElement(){(this._fitToContent?this._elementRef.nativeElement.querySelector(".mdc-tab__content"):this._elementRef.nativeElement).appendChild(this._inkBarElement)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,inputs:{fitInkBarToContent:[kt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",ir]},features:[pl]})}}return n})(),Ite=(()=>{class n extends oRe{constructor(e){super(),this.elementRef=e,this.disabled=!1}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}static{this.\u0275fac=function(i){return new(i||n)(oe($n))}}static{this.\u0275dir=Mt({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(i,r){2&i&&($i("aria-disabled",!!r.disabled),oi("mat-mdc-tab-disabled",r.disabled))},inputs:{disabled:[kt.HasDecoratorInputTransform,"disabled","disabled",ir]},standalone:!0,features:[pl,mn]})}}return n})();const Bte=I0({passive:!0});let uRe=(()=>{class n{get selectedIndex(){return this._selectedIndex}set selectedIndex(e){const i=isNaN(e)?0:e;this._selectedIndex!=i&&(this._selectedIndexChanged=!0,this._selectedIndex=i,this._keyManager&&this._keyManager.updateActiveItem(i))}constructor(e,i,r,s,o,a,l){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=s,this._ngZone=o,this._platform=a,this._animationMode=l,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Rn,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Rn,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new Cn,this.indexFocused=new Cn,o.runOutsideAngular(()=>{na(e.nativeElement,"mouseleave").pipe(Fi(this._destroyed)).subscribe(()=>{this._stopInterval()})})}ngAfterViewInit(){na(this._previousPaginator.nativeElement,"touchstart",Bte).pipe(Fi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),na(this._nextPaginator.nativeElement,"touchstart",Bte).pipe(Fi(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Yn("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new dJ(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap().skipPredicate(()=>!1),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Ws(1)).subscribe(r),id(e,i,this._items.changes,this._itemsResized()).pipe(Fi(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.subscribe(s=>{this.indexFocused.emit(s),this._setTabFocus(s)})}_itemsResized(){return"function"!=typeof ResizeObserver?nd:this._items.changes.pipe(gv(this._items),Ta(e=>new Xi(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(s=>i.next(s));return e.forEach(s=>r.observe(s.elementRef.nativeElement)),()=>{r.disconnect()}}))),_B(1),Ps(e=>e.some(i=>i.contentRect.width>0&&i.contentRect.height>0)))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._keyManager?.destroy(),this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Av(e))switch(e.keyCode){case 13:case 32:if(this.focusIndex!==this.selectedIndex){const i=this._items.get(this.focusIndex);i&&!i.disabled&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e))}break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){return!this._items||!!this._items.toArray()[e]}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:s,offsetWidth:o}=i.elementRef.nativeElement;let a,l;"ltr"==this._getLayoutDirection()?(a=s,l=a+o):(l=this._tabListInner.nativeElement.offsetWidth-s,a=l-o);const c=this.scrollDistance,u=this.scrollDistance+r;a<c?this.scrollDistance-=c-a:l>u&&(this.scrollDistance+=Math.min(l-u,a-c))}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),c2(650,100).pipe(Fi(id(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:s}=this._scrollHeader(e);(0===s||s>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(fa),oe(J1),oe(om,8),oe(qn),oe(Wa),oe(Yu,8))}}static{this.\u0275dir=Mt({type:n,inputs:{disablePagination:[kt.HasDecoratorInputTransform,"disablePagination","disablePagination",ir],selectedIndex:[kt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",fA]},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[pl]})}}return n})(),dRe=(()=>{class n extends uRe{constructor(e,i,r,s,o,a,l){super(e,i,r,s,o,a,l),this.disableRipple=!1}ngAfterContentInit(){this._inkBar=new sRe(this._items),super.ngAfterContentInit()}_itemSelected(e){e.preventDefault()}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(fa),oe(J1),oe(om,8),oe(qn),oe(Wa),oe(Yu,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-tab-header"]],contentQueries:function(i,r,s){if(1&i&&nr(s,Ite,4),2&i){let o;Ut(o=Ht())&&(r._items=o)}},viewQuery:function(i,r){if(1&i&&(Tn(UOe,7),Tn(HOe,7),Tn(VOe,7),Tn(zOe,5),Tn(QOe,5)),2&i){let s;Ut(s=Ht())&&(r._tabListContainer=s.first),Ut(s=Ht())&&(r._tabList=s.first),Ut(s=Ht())&&(r._tabListInner=s.first),Ut(s=Ht())&&(r._nextPaginator=s.first),Ut(s=Ht())&&(r._previousPaginator=s.first)}},hostAttrs:[1,"mat-mdc-tab-header"],hostVars:4,hostBindings:function(i,r){2&i&&oi("mat-mdc-tab-header-pagination-controls-enabled",r._showPaginationControls)("mat-mdc-tab-header-rtl","rtl"==r._getLayoutDirection())},inputs:{disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",ir]},standalone:!0,features:[pl,mn,qr],ngContentSelectors:dH,decls:13,vars:10,consts:[["previousPaginator",""],["tabListContainer",""],["tabList",""],["tabListInner",""],["nextPaginator",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-before",3,"click","mousedown","touchend","matRippleDisabled","disabled"],[1,"mat-mdc-tab-header-pagination-chevron"],[1,"mat-mdc-tab-label-container",3,"keydown"],["role","tablist",1,"mat-mdc-tab-list",3,"cdkObserveContent"],[1,"mat-mdc-tab-labels"],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-mdc-tab-header-pagination","mat-mdc-tab-header-pagination-after",3,"mousedown","click","touchend","matRippleDisabled","disabled"]],template:function(i,r){if(1&i){const s=Bi();_u(),q(0,"button",5,0),ct("click",function(){return $t(s),Gt(r._handlePaginatorClick("before"))})("mousedown",function(a){return $t(s),Gt(r._handlePaginatorPress("before",a))})("touchend",function(){return $t(s),Gt(r._stopInterval())}),Ye(2,"div",6),$(),q(3,"div",7,1),ct("keydown",function(a){return $t(s),Gt(r._handleKeydown(a))}),q(5,"div",8,2),ct("cdkObserveContent",function(){return $t(s),Gt(r._onContentChanges())}),q(7,"div",9,3),Cs(9),$()()(),q(10,"button",10,4),ct("mousedown",function(a){return $t(s),Gt(r._handlePaginatorPress("after",a))})("click",function(){return $t(s),Gt(r._handlePaginatorClick("after"))})("touchend",function(){return $t(s),Gt(r._stopInterval())}),Ye(12,"div",6),$()}2&i&&(oi("mat-mdc-tab-header-pagination-disabled",r._disableScrollBefore),Se("matRippleDisabled",r._disableScrollBefore||r.disableRipple)("disabled",r._disableScrollBefore||null),te(3),oi("_mat-animation-noopable","NoopAnimations"===r._animationMode),te(7),oi("mat-mdc-tab-header-pagination-disabled",r._disableScrollAfter),Se("matRippleDisabled",r._disableScrollAfter||r.disableRipple)("disabled",r._disableScrollAfter||null))},dependencies:[SB,eJ],styles:[".mat-mdc-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mdc-tab-indicator .mdc-tab-indicator__content{transition-duration:var(--mat-tab-animation-duration, 250ms)}.mat-mdc-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-mdc-tab-header-pagination::-moz-focus-inner{border:0}.mat-mdc-tab-header-pagination .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-header-pagination-controls-enabled .mat-mdc-tab-header-pagination{display:flex}.mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after{padding-left:4px}.mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before,.mat-mdc-tab-header-pagination-after{padding-right:4px}.mat-mdc-tab-header-rtl .mat-mdc-tab-header-pagination-before .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-header-pagination-after .mat-mdc-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-mdc-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px;border-color:var(--mat-tab-header-pagination-icon-color)}.mat-mdc-tab-header-pagination-disabled{box-shadow:none;cursor:default;pointer-events:none}.mat-mdc-tab-header-pagination-disabled .mat-mdc-tab-header-pagination-chevron{opacity:.4}.mat-mdc-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-mdc-tab-list{transition:none}._mat-animation-noopable span.mdc-tab-indicator__content,._mat-animation-noopable span.mdc-tab__text-label{transition:none}.mat-mdc-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1;border-bottom-style:solid;border-bottom-width:var(--mat-tab-header-divider-height);border-bottom-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-group-inverted-header .mat-mdc-tab-label-container{border-bottom:none;border-top-style:solid;border-top-width:var(--mat-tab-header-divider-height);border-top-color:var(--mat-tab-header-divider-color)}.mat-mdc-tab-labels{display:flex;flex:1 0 auto}[mat-align-tabs=center]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-mdc-tab-header .mat-mdc-tab-labels{justify-content:flex-end}.mat-mdc-tab::before{margin:5px}.cdk-high-contrast-active .mat-mdc-tab[aria-disabled=true]{color:GrayText}"],encapsulation:2})}}return n})();const hRe=new Rt("MAT_TABS_CONFIG"),fRe={translateTab:g2("translateTab",[L0("center, void, left-origin-center, right-origin-center",rd({transform:"none"})),L0("left",rd({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),L0("right",rd({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),CA("* => left, * => right, left => center, right => center",vv("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),CA("void => left-origin-center",[rd({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),vv("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),CA("void => right-origin-center",[rd({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),vv("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let pRe=(()=>{class n extends lH{constructor(e,i,r,s){super(e,i,s),this._host=r,this._centeringSub=Ni.EMPTY,this._leavingSub=Ni.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(gv(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe(b0),oe(Uo),oe(jr(()=>Fte)),oe(mr))}}static{this.\u0275dir=Mt({type:n,selectors:[["","matTabBodyHost",""]],standalone:!0,features:[mn]})}}return n})(),Fte=(()=>{class n{set position(e){this._positionIndex=e,this._computePositionAnimationState()}constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Ni.EMPTY,this._translateTabComplete=new Rn,this._onCentering=new Cn,this._beforeCentering=new Cn,this._afterLeavingCenter=new Cn,this._onCentered=new Cn(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(s=>{this._computePositionAnimationState(s),r.markForCheck()})),this._translateTabComplete.pipe(p2((s,o)=>s.fromState===o.fromState&&s.toState===o.toState)).subscribe(s=>{this._isCenterPosition(s.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(s.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(om,8),oe(fa))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-tab-body"]],viewQuery:function(i,r){if(1&i&&Tn(lH,5),2&i){let s;Ut(s=Ht())&&(r._portalHost=s.first)}},hostAttrs:[1,"mat-mdc-tab-body"],inputs:{_content:[kt.None,"content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"},standalone:!0,features:[qr],decls:3,vars:6,consts:[["content",""],["cdkScrollable","",1,"mat-mdc-tab-body-content"],["matTabBodyHost",""]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1,0),ct("@translateTab.start",function(a){return $t(s),Gt(r._onTranslateTabStarted(a))})("@translateTab.done",function(a){return $t(s),Gt(r._translateTabComplete.next(a))}),ht(2,qOe,0,0,"ng-template",2),$()}2&i&&Se("@translateTab",q1(3,jOe,r._position,Fl(1,GOe,r.animationDuration)))},dependencies:[pRe,nNe],styles:['.mat-mdc-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-mdc-tab-body.mat-mdc-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-mdc-tab-group.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body.mat-mdc-tab-body-active{overflow-y:hidden}.mat-mdc-tab-body-content{height:100%;overflow:auto}.mat-mdc-tab-group-dynamic-height .mat-mdc-tab-body-content{overflow:hidden}.mat-mdc-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[fRe.translateTab]}})}}return n})(),mRe=0,gRe=(()=>{class n{get fitInkBarToContent(){return this._fitInkBarToContent}set fitInkBarToContent(e){this._fitInkBarToContent=e,this._changeDetectorRef.markForCheck()}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=isNaN(e)?null:e}get animationDuration(){return this._animationDuration}set animationDuration(e){const i=e+"";this._animationDuration=/^\d+$/.test(i)?e+"ms":i}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=isNaN(e)?null:e}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement.classList;i.remove("mat-tabs-with-background",`mat-background-${this.backgroundColor}`),e&&i.add("mat-tabs-with-background",`mat-background-${e}`),this._backgroundColor=e}constructor(e,i,r,s){this._elementRef=e,this._changeDetectorRef=i,this._animationMode=s,this._tabs=new Jg,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Ni.EMPTY,this._tabLabelSubscription=Ni.EMPTY,this._fitInkBarToContent=!1,this.stretchTabs=!0,this.dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this.disablePagination=!1,this.disableRipple=!1,this.preserveContent=!1,this.selectedIndexChange=new Cn,this.focusChange=new Cn,this.animationDone=new Cn,this.selectedTabChange=new Cn(!0),this._isServer=!ze(Wa).isBrowser,this._groupId=mRe++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,null!=r?.contentTabIndex&&(this.contentTabIndex=r.contentTabIndex),this.preserveContent=!!r?.preserveContent,this.fitInkBarToContent=!(!r||null==r.fitInkBarToContent)&&r.fitInkBarToContent,this.stretchTabs=!r||null==r.stretchTabs||r.stretchTabs}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,s)=>r.isActive=s===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let s=0;s<i.length;s++)if(i[s].isActive){this._indexToSelect=this._selectedIndex=s,this._lastFocusedTabIndex=null,r=i[s];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(gv(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new vRe;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=id(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this.dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){i.focusIndex=r,e.disabled||(this.selectedIndex=r)}_getTabIndex(e){return e===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}static{this.\u0275fac=function(i){return new(i||n)(oe($n),oe(fa),oe(hRe,8),oe(Yu,8))}}static{this.\u0275cmp=Nn({type:n,selectors:[["mat-tab-group"]],contentQueries:function(i,r,s){if(1&i&&nr(s,Tte,5),2&i){let o;Ut(o=Ht())&&(r._allTabs=o)}},viewQuery:function(i,r){if(1&i&&(Tn(WOe,5),Tn($Oe,5)),2&i){let s;Ut(s=Ht())&&(r._tabBodyWrapper=s.first),Ut(s=Ht())&&(r._tabHeader=s.first)}},hostAttrs:[1,"mat-mdc-tab-group"],hostVars:10,hostBindings:function(i,r){2&i&&(Wf("mat-"+(r.color||"primary")),rm("--mat-tab-animation-duration",r.animationDuration),oi("mat-mdc-tab-group-dynamic-height",r.dynamicHeight)("mat-mdc-tab-group-inverted-header","below"===r.headerPosition)("mat-mdc-tab-group-stretch-tabs",r.stretchTabs))},inputs:{color:"color",fitInkBarToContent:[kt.HasDecoratorInputTransform,"fitInkBarToContent","fitInkBarToContent",ir],stretchTabs:[kt.HasDecoratorInputTransform,"mat-stretch-tabs","stretchTabs",ir],dynamicHeight:[kt.HasDecoratorInputTransform,"dynamicHeight","dynamicHeight",ir],selectedIndex:[kt.HasDecoratorInputTransform,"selectedIndex","selectedIndex",fA],headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:[kt.HasDecoratorInputTransform,"contentTabIndex","contentTabIndex",fA],disablePagination:[kt.HasDecoratorInputTransform,"disablePagination","disablePagination",ir],disableRipple:[kt.HasDecoratorInputTransform,"disableRipple","disableRipple",ir],preserveContent:[kt.HasDecoratorInputTransform,"preserveContent","preserveContent",ir],backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},exportAs:["matTabGroup"],standalone:!0,features:[Ln([{provide:Mte,useExisting:n}]),pl,qr],ngContentSelectors:dH,decls:9,vars:6,consts:[["tabHeader",""],["tabBodyWrapper",""],["tabNode",""],[3,"indexFocused","selectFocusedIndex","selectedIndex","disableRipple","disablePagination"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"id","mdc-tab--active","class","disabled","fitInkBarToContent"],[1,"mat-mdc-tab-body-wrapper"],["role","tabpanel",3,"id","mat-mdc-tab-body-active","class","content","position","origin","animationDuration","preserveContent"],["role","tab","matTabLabelWrapper","","cdkMonitorElementFocus","",1,"mdc-tab","mat-mdc-tab","mat-mdc-focus-indicator",3,"click","cdkFocusChange","id","disabled","fitInkBarToContent"],[1,"mdc-tab__ripple"],["mat-ripple","",1,"mat-mdc-tab-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mdc-tab__content"],[1,"mdc-tab__text-label"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"_onCentered","_onCentering","id","content","position","origin","animationDuration","preserveContent"]],template:function(i,r){if(1&i){const s=Bi();_u(),q(0,"mat-tab-header",3,0),ct("indexFocused",function(a){return $t(s),Gt(r._focusChanged(a))})("selectFocusedIndex",function(a){return $t(s),Gt(r.selectedIndex=a)}),tc(2,ZOe,8,17,"div",4,Ju),$(),ht(4,JOe,1,0),q(5,"div",5,1),tc(7,eRe,1,13,"mat-tab-body",6,Ju),$()}2&i&&(Se("selectedIndex",r.selectedIndex||0)("disableRipple",r.disableRipple)("disablePagination",r.disablePagination),te(2),nc(r._tabs),te(2),fi(4,r._isServer?4:-1),te(),oi("_mat-animation-noopable","NoopAnimations"===r._animationMode),te(2),nc(r._tabs))},dependencies:[dRe,Ite,oIe,SB,lH,Fte],styles:['.mdc-tab{min-width:90px;padding-right:24px;padding-left:24px;display:flex;flex:1 0 auto;justify-content:center;box-sizing:border-box;margin:0;padding-top:0;padding-bottom:0;border:none;outline:none;text-align:center;white-space:nowrap;cursor:pointer;-webkit-appearance:none;z-index:1}.mdc-tab::-moz-focus-inner{padding:0;border:0}.mdc-tab[hidden]{display:none}.mdc-tab--min-width{flex:0 1 auto}.mdc-tab__content{display:flex;align-items:center;justify-content:center;height:inherit;pointer-events:none}.mdc-tab__text-label{transition:150ms color linear;display:inline-block;line-height:1;z-index:2}.mdc-tab__icon{transition:150ms color linear;z-index:2}.mdc-tab--stacked .mdc-tab__content{flex-direction:column;align-items:center;justify-content:center}.mdc-tab--stacked .mdc-tab__text-label{padding-top:6px;padding-bottom:4px}.mdc-tab--active .mdc-tab__text-label,.mdc-tab--active .mdc-tab__icon{transition-delay:100ms}.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label{padding-left:8px;padding-right:0}[dir=rtl] .mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label,.mdc-tab:not(.mdc-tab--stacked) .mdc-tab__icon+.mdc-tab__text-label[dir=rtl]{padding-left:0;padding-right:8px}.mdc-tab-indicator{display:flex;position:absolute;top:0;left:0;justify-content:center;width:100%;height:100%;pointer-events:none;z-index:1}.mdc-tab-indicator__content{transform-origin:left;opacity:0}.mdc-tab-indicator__content--underline{align-self:flex-end;box-sizing:border-box;width:100%;border-top-style:solid}.mdc-tab-indicator__content--icon{align-self:center;margin:0 auto}.mdc-tab-indicator--active .mdc-tab-indicator__content{opacity:1}.mdc-tab-indicator .mdc-tab-indicator__content{transition:250ms transform cubic-bezier(0.4, 0, 0.2, 1)}.mdc-tab-indicator--no-transition .mdc-tab-indicator__content{transition:none}.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition:150ms opacity linear}.mdc-tab-indicator--active.mdc-tab-indicator--fade .mdc-tab-indicator__content{transition-delay:100ms}.mat-mdc-tab-ripple{position:absolute;top:0;left:0;bottom:0;right:0;pointer-events:none}.mat-mdc-tab{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-decoration:none;background:none;font-family:var(--mat-tab-header-label-text-font);font-size:var(--mat-tab-header-label-text-size);letter-spacing:var(--mat-tab-header-label-text-tracking);line-height:var(--mat-tab-header-label-text-line-height);font-weight:var(--mat-tab-header-label-text-weight)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-color:var(--mdc-tab-indicator-active-indicator-color)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-top-width:var(--mdc-tab-indicator-active-indicator-height)}.mat-mdc-tab .mdc-tab-indicator__content--underline{border-radius:var(--mdc-tab-indicator-active-indicator-shape)}.mat-mdc-tab:not(.mdc-tab--stacked){height:var(--mdc-secondary-navigation-tab-container-height)}.mat-mdc-tab:not(:disabled).mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled.mdc-tab--active .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):hover:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):focus:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:not(:disabled):active:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab:disabled:not(.mdc-tab--active) .mdc-tab__icon{fill:currentColor}.mat-mdc-tab.mdc-tab{flex-grow:0}.mat-mdc-tab:hover .mdc-tab__text-label{color:var(--mat-tab-header-inactive-hover-label-text-color)}.mat-mdc-tab:focus .mdc-tab__text-label{color:var(--mat-tab-header-inactive-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__text-label{color:var(--mat-tab-header-active-label-text-color)}.mat-mdc-tab.mdc-tab--active .mdc-tab__ripple::before,.mat-mdc-tab.mdc-tab--active .mat-ripple-element{background-color:var(--mat-tab-header-active-ripple-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab__text-label{color:var(--mat-tab-header-active-hover-label-text-color)}.mat-mdc-tab.mdc-tab--active:hover .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-hover-indicator-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab__text-label{color:var(--mat-tab-header-active-focus-label-text-color)}.mat-mdc-tab.mdc-tab--active:focus .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-active-focus-indicator-color)}.mat-mdc-tab.mat-mdc-tab-disabled{opacity:.4;pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__content{pointer-events:none}.mat-mdc-tab.mat-mdc-tab-disabled .mdc-tab__ripple::before,.mat-mdc-tab.mat-mdc-tab-disabled .mat-ripple-element{background-color:var(--mat-tab-header-disabled-ripple-color)}.mat-mdc-tab .mdc-tab__ripple::before{content:"";display:block;position:absolute;top:0;left:0;right:0;bottom:0;opacity:0;pointer-events:none;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-inactive-label-text-color);display:inline-flex;align-items:center}.mat-mdc-tab .mdc-tab__content{position:relative;pointer-events:auto}.mat-mdc-tab:hover .mdc-tab__ripple::before{opacity:.04}.mat-mdc-tab.cdk-program-focused .mdc-tab__ripple::before,.mat-mdc-tab.cdk-keyboard-focused .mdc-tab__ripple::before{opacity:.12}.mat-mdc-tab .mat-ripple-element{opacity:.12;background-color:var(--mat-tab-header-inactive-ripple-color)}.mat-mdc-tab-group.mat-mdc-tab-group-stretch-tabs>.mat-mdc-tab-header .mat-mdc-tab{flex-grow:1}.mat-mdc-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination{background-color:var(--mat-tab-header-with-background-background-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mat-mdc-tab .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background.mat-primary>.mat-mdc-tab-header .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab__text-label{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background:not(.mat-primary)>.mat-mdc-tab-header .mat-mdc-tab:not(.mdc-tab--active) .mdc-tab-indicator__content--underline{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-focus-indicator::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-focus-indicator::before{border-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mdc-tab__ripple::before,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-ripple-element,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mdc-tab__ripple::before{background-color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header .mat-mdc-tab-header-pagination-chevron,.mat-mdc-tab-group.mat-tabs-with-background>.mat-mdc-tab-header-pagination .mat-mdc-tab-header-pagination-chevron{color:var(--mat-tab-header-with-background-foreground-color)}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header{flex-direction:column-reverse}.mat-mdc-tab-group.mat-mdc-tab-group-inverted-header .mdc-tab-indicator__content--underline{align-self:flex-start}.mat-mdc-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-mdc-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}'],encapsulation:2})}}return n})();class vRe{}let _Re=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[$a,$a]})}}return n})();function Pte(n){return new xt(3e3,!1)}function yv(n){switch(n.length){case 0:return new v2;case 1:return n[0];default:return new RJ(n)}}function Ote(n,t,e=new Map,i=new Map){const r=[],s=[];let o=-1,a=null;if(t.forEach(l=>{const c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,m=f;if("offset"!==h)switch(p=n.normalizePropertyName(p,r),m){case"!":m=e.get(h);break;case xA:m=i.get(h);break;default:m=n.normalizeStyleValue(h,p,m,r)}d.set(p,m)}),u||s.push(d),a=d,o=c}),r.length)throw function zRe(n){return new xt(3502,!1)}();return s}function fH(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&pH(e,"start",n)));break;case"done":n.onDone(()=>i(e&&pH(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&pH(e,"destroy",n)))}}function pH(n,t,e){const s=mH(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),o=n._data;return null!=o&&(s._data=o),s}function mH(n,t,e,i,r="",s=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function rh(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Rte(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const eke=typeof document>"u"?null:document.documentElement;function AH(n){const t=n.parentNode||n.host||null;return t===eke?null:t}let G0=null,kte=!1;function Lte(n,t){for(;t;){if(t===n)return!0;t=AH(t)}return!1}function Ute(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let gH=(()=>{class n{validateStyleProperty(e){return function nke(n){G0||(G0=function ike(){return typeof document<"u"?document.body:null}()||{},kte=!!G0.style&&"WebkitAppearance"in G0.style);let t=!0;return G0.style&&!function tke(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in G0.style,!t&&kte&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in G0.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Lte(e,i)}getParentElement(e){return AH(e)}query(e,i,r){return Ute(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,o,a=[],l){return new v2(r,s)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();class vH{static{this.NOOP=new gH}}class _H{}const ske=1e3,bH="ng-enter",$B="ng-leave",KB="ng-trigger",XB=".ng-trigger",Vte="ng-animating",yH=".ng-animating";function EA(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:wH(parseFloat(t[1]),t[2])}function wH(n,t){return"s"===t?n*ske:n}function YB(n,t,e){return n.hasOwnProperty("duration")?n:function ake(n,t,e){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(Pte()),{duration:0,delay:0,easing:""};r=wH(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=wH(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function bRe(){return new xt(3100,!1)}()),a=!0),s<0&&(t.push(function yRe(){return new xt(3101,!1)}()),a=!0),a&&t.splice(l,0,Pte())}return{duration:r,delay:s,easing:o}}(n,t,e)}function hm(n,t,e){t.forEach((i,r)=>{const s=CH(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i})}function j0(n,t){t.forEach((e,i)=>{const r=CH(i);n.style[r]=""})}function I2(n){return Array.isArray(n)?1==n.length?n[0]:function YIe(n,t=null){return{type:Ki.Sequence,steps:n,options:t}}(n):n}const xH=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qte(n){let t=[];if("string"==typeof n){let e;for(;e=xH.exec(n);)t.push(e[1]);xH.lastIndex=0}return t}function B2(n,t,e){const i=`${n}`,r=i.replace(xH,(s,o)=>{let a=t[o];return null==a&&(e.push(function xRe(n){return new xt(3003,!1)}()),a=""),a.toString()});return r==i?n:r}const uke=/-+([a-z0-9])/g;function CH(n){return n.replace(uke,(...t)=>t[1].toUpperCase())}function sh(n,t,e){switch(t.type){case Ki.Trigger:return n.visitTrigger(t,e);case Ki.State:return n.visitState(t,e);case Ki.Transition:return n.visitTransition(t,e);case Ki.Sequence:return n.visitSequence(t,e);case Ki.Group:return n.visitGroup(t,e);case Ki.Animate:return n.visitAnimate(t,e);case Ki.Keyframes:return n.visitKeyframes(t,e);case Ki.Style:return n.visitStyle(t,e);case Ki.Reference:return n.visitReference(t,e);case Ki.AnimateChild:return n.visitAnimateChild(t,e);case Ki.AnimateRef:return n.visitAnimateRef(t,e);case Ki.Query:return n.visitQuery(t,e);case Ki.Stagger:return n.visitStagger(t,e);default:throw function CRe(n){return new xt(3004,!1)}()}}function SH(n,t){return window.getComputedStyle(n)[t]}const fke=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Gte extends _H{normalizePropertyName(t,e){return CH(t)}normalizeStyleValue(t,e,i,r){let s="";const o=i.toString().trim();if(fke.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function SRe(n,t){return new xt(3005,!1)}())}return o+s}}const ZB="*";const JB=new Set(["true","1"]),eF=new Set(["false","0"]);function jte(n,t){const e=JB.has(n)||eF.has(n),i=JB.has(t)||eF.has(t);return(r,s)=>{let o=n==ZB||n==r,a=t==ZB||t==s;return!o&&e&&"boolean"==typeof r&&(o=r?JB.has(n):eF.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?JB.has(t):eF.has(t)),o&&a}}const gke=new RegExp("s*:selfs*,?","g");function EH(n,t,e,i){return new vke(n).build(t,e,i)}class vke{constructor(t){this._driver=t}build(t,e,i){const r=new yke(e);return this._resetContextStyleTimingState(r),sh(this,I2(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push(function ERe(){return new xt(3006,!1)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==Ki.State){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==Ki.Transition){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(function DRe(){return new xt(3007,!1)}())}),{type:Ki.Trigger,name:t.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Qte(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(function MRe(n,t){return new xt(3008,!1)}(0,s.values()))}return{type:Ki.State,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=sh(this,I2(t.animation),e),r=function pke(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function mke(n,t,e){if(":"==n[0]){const l=function Ake(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function LRe(n){return new xt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function kRe(n){return new xt(3015,!1)}()),t;const r=i[1],s=i[2],o=i[3];t.push(jte(r,o)),"<"==s[0]&&(r!=ZB||o!=ZB)&&t.push(jte(o,r))}(i,e,t)):e.push(n),e}(t.expr,e.errors);return{type:Ki.Transition,matchers:r,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:q0(t.options)}}visitSequence(t,e){return{type:Ki.Sequence,steps:t.steps.map(i=>sh(this,i,e)),options:q0(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(o=>{e.currentTime=i;const a=sh(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:Ki.Group,steps:s,options:q0(t.options)}}visitAnimate(t,e){const i=function xke(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return DH(YB(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=DH(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=YB(e,t);return DH(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:rd({});if(s.type==Ki.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=rd(c)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:Ki.Animate,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)"string"==typeof a?a===xA?i.push(a):e.errors.push(new xt(3002,!1)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let l of a.values())if(l.toString().indexOf("{{")>=0){s=!0;break}}),{type:Ki.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,l)=>{const c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l);let d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(function NRe(n,t,e,i,r){return new xt(3010,!1)}()),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&function cke(n,t,e){const i=t.params||{},r=Qte(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function wRe(n){return new xt(3001,!1)}())})}(a,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:Ki.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function IRe(){return new xt(3011,!1)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=t.steps.map(A=>{const _=this._makeStyleAst(A,e);let v=null!=_.offset?_.offset:function wke(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(_.styles),b=0;return null!=v&&(s++,b=_.offset=v),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),_});l&&e.errors.push(function BRe(){return new xt(3012,!1)}()),a&&e.errors.push(function FRe(){return new xt(3200,!1)}());const d=t.steps.length;let f=0;s>0&&s<d?e.errors.push(function PRe(){return new xt(3202,!1)}()):0==s&&(f=1/(d-1));const h=d-1,p=e.currentTime,m=e.currentAnimateTimings,g=m.duration;return u.forEach((A,_)=>{const v=f>0?_==h?1:f*_:o[_],b=v*g;e.currentTime=p+m.delay+b,m.duration=b,this._validateStyleAst(A,e),A.offset=v,i.styles.push(A)}),i}visitReference(t,e){return{type:Ki.Reference,animation:sh(this,I2(t.animation),e),options:q0(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:Ki.AnimateChild,options:q0(t.options)}}visitAnimateRef(t,e){return{type:Ki.AnimateRef,animation:this.visitReference(t.animation,e),options:q0(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,o]=function _ke(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(gke,"")),n=n.replace(/@\*/g,XB).replace(/@\w+/g,e=>XB+"-"+e.slice(1)).replace(/:animating/g,yH),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,rh(e.collectedStyles,e.currentQuerySelector,new Map);const a=sh(this,I2(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:Ki.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:q0(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function ORe(){return new xt(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:YB(t.timings,e.errors,!0);return{type:Ki.Stagger,animation:sh(this,I2(t.animation),e),timings:i,options:null}}}class yke{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function q0(n){return n?(n={...n}).params&&(n.params=function bke(n){return n?{...n}:null}(n.params)):n={},n}function DH(n,t,e){return{duration:n,delay:t,easing:e}}function MH(n,t,e,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class tF{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Eke=new RegExp(":enter","g"),Mke=new RegExp(":leave","g");function TH(n,t,e,i,r,s=new Map,o=new Map,a,l,c=[]){return(new Tke).buildKeyframes(n,t,e,i,r,s,o,a,l,c)}class Tke{buildKeyframes(t,e,i,r,s,o,a,l,c,u=[]){c=c||new tF;const d=new NH(t,e,c,r,s,u,[]);d.options=l;const f=l.delay?EA(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),sh(this,i,d);const h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){const g=h[m];if(g.element===e){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[MH(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const s=r?.delay;if(s){const o="number"==typeof s?s:EA(B2(s,r?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const o=null!=i.duration?EA(i.duration):null,a=null!=i.delay?EA(i.delay):null;return 0!==o&&t.forEach(l=>{const c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),sh(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){r.previousNode.type==Ki.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nF);const o=EA(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>sh(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?EA(t.options.delay):0;t.steps.forEach(o=>{const a=e.createSubContext(t.options);s&&a.delayNextStep(s),sh(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return YB(e.params?B2(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;s.type==Ki.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?EA(r.delay):0;s&&(e.previousNode.type===Ki.Style||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nF);let o=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;const d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),sh(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1);let l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=e.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;sh(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const nF={};class NH{constructor(t,e,i,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nF,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new iF(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=EA(i.duration)),null!=i.delay&&(r.delay=EA(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=B2(s[a],o,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new NH(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=nF,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Nke(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Eke,"."+this._enterClassName)).replace(Mke,"."+this._leaveClassName);let c=this._driver.query(this.element,t,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function RRe(n){return new xt(3014,!1)}()),a}}class iF{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new iF(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||xA),this._currentKeyframe.set(e,xA);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},o=function Ike(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i??=t.keys();for(let s of i)e.set(s,xA)}else for(let[s,o]of r)e.set(s,o)}),e}(t,this._globalTimelineStyles);for(let[a,l]of o){const c=B2(l,s,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??xA),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{"!"===u?t.add(d):u===xA&&e.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const s=[...t.values()],o=[...e.values()];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return MH(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class Nke extends iF{constructor(t,e,i,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);const c=new Map(t[0]);c.set("offset",$te(a)),s.push(c);const u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]);const h=f.get("offset");f.set("offset",$te((e+h*i)/o)),s.push(f)}i=o,e=0,r="",t=s}return MH(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function $te(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}function Kte(n,t,e,i,r,s,o,a,l,c,u,d,f){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}const IH={};class Xte{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Bke(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,o,a,l,c,u){const d=[],f=this.ast.options&&this.ast.options.params||IH,p=this.buildStyles(i,a&&a.params||IH,d),m=l&&l.params||IH,g=this.buildStyles(r,m,d),A=new Set,_=new Map,v=new Map,b="void"===r,w={params:Yte(m,f),delay:this.ast.options?.delay},y=u?[]:TH(t,e,this.ast.animation,s,o,p,g,w,c,d);let C=0;return y.forEach(D=>{C=Math.max(D.duration+D.delay,C)}),d.length?Kte(e,this._triggerName,i,r,b,p,g,[],[],_,v,C,d):(y.forEach(D=>{const S=D.element,T=rh(_,S,new Set);D.preStyleProps.forEach(F=>T.add(F));const M=rh(v,S,new Set);D.postStyleProps.forEach(F=>M.add(F)),S!==e&&A.add(S)}),Kte(e,this._triggerName,i,r,b,p,g,y,[...A.values()],_,v,C))}}function Yte(n,t){const e={...t};return Object.entries(n).forEach(([i,r])=>{null!=r&&(e[i]=r)}),e}class Fke{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Yte(t,this.defaultParams);return this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=B2(o,r,e));const l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}}class Oke{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Fke(r.style,r.options&&r.options.params||{},i))}),Zte(this.states,"true","1"),Zte(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Xte(t,r,this.states))}),this.fallbackTransition=function Rke(n,t,e){return new Xte(n,{type:Ki.Transition,animation:{type:Ki.Sequence,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(o=>o.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Zte(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const kke=new tF;class Lke{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=EH(this._driver,e,i,[]);if(i.length)throw function QRe(n){return new xt(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=Ote(this._normalizer,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let o;const a=new Map;if(s?(o=TH(this._driver,e,s,bH,$B,new Map,new Map,i,kke,r),o.forEach(u=>{const d=rh(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(function GRe(){return new xt(3300,!1)}()),o=[]),r.length)throw function jRe(n){return new xt(3504,!1)}();a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,xA))})});const c=yv(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function qRe(n){return new xt(3301,!1)}();return e}listen(t,e,i,r){const s=mH(e,"","","");return fH(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Jte="ng-animate-queued",BH="ng-animate-disabled",Qke=[],ene={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gke={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},tp="__ng_removed";class FH{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function $ke(n){return n??null}(i?t.value:t),i){const{value:s,...o}=t;this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const F2="void",PH=new FH(F2);class jke{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Zh(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function WRe(n,t){return new xt(3302,!1)}();if(null==i||0==i.length)throw function $Re(n){return new xt(3303,!1)}();if(!function Kke(n){return"start"==n||"done"==n}(i))throw function KRe(n,t){return new xt(3400,!1)}();const s=rh(this._elementListeners,t,[]),o={name:e,phase:i,callback:r};s.push(o);const a=rh(this._engine.statesByElement,t,new Map);return a.has(e)||(Zh(t,KB),Zh(t,KB+"-"+e),a.set(e,PH)),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function XRe(n){return new xt(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),o=new OH(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(Zh(t,KB),Zh(t,KB+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e);const c=new FH(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=PH),c.value!==F2&&l.value===c.value){if(!function Zke(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(l.params,c.params)){const m=[],g=s.matchStyles(l.value,l.params,m),A=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{j0(t,g),hm(t,A)})}return}const f=rh(this._engine.playersByElement,t,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==e&&m.queued&&m.destroy()});let h=s.matchTransition(l.value,c.value,t,c.params),p=!1;if(!h){if(!r)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Zh(t,Jte),o.onStart(()=>{uw(t,Jte)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(t);if(g){let A=g.indexOf(o);A>=0&&g.splice(A,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,XB,!0);i.forEach(r=>{if(r[tp])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),o=new Map;if(s){const a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){const u=this.trigger(t,c,F2,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&yv(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers.get(o).fallbackTransition,c=i.get(o)||PH,u=new FH(F2),d=new OH(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[tp];(!s||s===ene)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Zh(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=mH(s,i.triggerName,i.fromState.value,i.toState.value);l._data=t,fH(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class qke{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i,r){this.bodyNode=t,this.driver=e,this._normalizer=i,this.scheduler=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new jke(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(rF(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!rF(e))return;const s=e[tp];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){const o=this._fetchNamespace(t);o&&o.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Zh(t,BH)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),uw(t,BH))}removeNode(t,e,i){if(rF(e)){this.scheduler?.notify();const r=t?this._fetchNamespace(t):null;r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[tp]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return rF(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,XB,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yH,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return yv(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[tp];if(e&&e.setForRemoval){if(t[tp]=ene,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(BH)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Zh(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?yv(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function YRe(n){return new xt(3402,!1)}()}_flushAnimations(t,e){const i=new tF,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(O=>{u.add(O);const G=this.driver.query(O,".ng-animate-queued",!0);for(let j=0;j<G.length;j++)u.add(G[j])});const d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=ine(f,this.collectedEnterElements),p=new Map;let m=0;h.forEach((O,G)=>{const j=bH+m++;p.set(G,j),O.forEach(J=>Zh(J,j))});const g=[],A=new Set,_=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const G=this.collectedLeaveElements[O],j=G[tp];j&&j.setForRemoval&&(g.push(G),A.add(G),j.hasAnimation?this.driver.query(G,".ng-star-inserted",!0).forEach(J=>A.add(J)):_.add(G))}const v=new Map,b=ine(f,Array.from(A));b.forEach((O,G)=>{const j=$B+m++;v.set(G,j),O.forEach(J=>Zh(J,j))}),t.push(()=>{h.forEach((O,G)=>{const j=p.get(G);O.forEach(J=>uw(J,j))}),b.forEach((O,G)=>{const j=v.get(G);O.forEach(J=>uw(J,j))}),g.forEach(O=>{this.processLeaveNode(O)})});const w=[],y=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(j=>{const J=j.player,le=j.element;if(w.push(J),this.collectedEnterElements.length){const he=le[tp];if(he&&he.setForMove){if(he.previousTriggersValues&&he.previousTriggersValues.has(j.triggerName)){const ee=he.previousTriggersValues.get(j.triggerName),ie=this.statesByElement.get(j.element);if(ie&&ie.has(j.triggerName)){const ge=ie.get(j.triggerName);ge.value=ee,ie.set(j.triggerName,ge)}}return void J.destroy()}}const ye=!d||!this.driver.containsElement(d,le),R=v.get(le),X=p.get(le),H=this._buildInstruction(j,i,X,R,ye);if(H.errors&&H.errors.length)return void y.push(H);if(ye)return J.onStart(()=>j0(le,H.fromStyles)),J.onDestroy(()=>hm(le,H.toStyles)),void r.push(J);if(j.isFallbackTransition)return J.onStart(()=>j0(le,H.fromStyles)),J.onDestroy(()=>hm(le,H.toStyles)),void r.push(J);const ae=[];H.timelines.forEach(he=>{he.stretchStartingKeyframe=!0,this.disabledNodes.has(he.element)||ae.push(he)}),H.timelines=ae,i.append(le,H.timelines),o.push({instruction:H,player:J,element:le}),H.queriedElements.forEach(he=>rh(a,he,[]).push(J)),H.preStyleProps.forEach((he,ee)=>{if(he.size){let ie=l.get(ee);ie||l.set(ee,ie=new Set),he.forEach((ge,Ce)=>ie.add(Ce))}}),H.postStyleProps.forEach((he,ee)=>{let ie=c.get(ee);ie||c.set(ee,ie=new Set),he.forEach((ge,Ce)=>ie.add(Ce))})});if(y.length){const O=[];y.forEach(G=>{O.push(function ZRe(n,t){return new xt(3505,!1)}())}),w.forEach(G=>G.destroy()),this.reportError(O)}const C=new Map,D=new Map;o.forEach(O=>{const G=O.element;i.has(G)&&(D.set(G,G),this._beforeAnimationBuild(O.player.namespaceId,O.instruction,C))}),r.forEach(O=>{const G=O.element;this._getPreviousPlayers(G,!1,O.namespaceId,O.triggerName,null).forEach(J=>{rh(C,G,[]).push(J),J.destroy()})});const S=g.filter(O=>sne(O,l,c)),T=new Map;nne(T,this.driver,_,c,xA).forEach(O=>{sne(O,l,c)&&S.push(O)});const F=new Map;h.forEach((O,G)=>{nne(F,this.driver,new Set(O),l,"!")}),S.forEach(O=>{const G=T.get(O),j=F.get(O);T.set(O,new Map([...G?.entries()??[],...j?.entries()??[]]))});const L=[],U=[],z={};o.forEach(O=>{const{element:G,player:j,instruction:J}=O;if(i.has(G)){if(u.has(G))return j.onDestroy(()=>hm(G,J.toStyles)),j.disabled=!0,j.overrideTotalTime(J.totalTime),void r.push(j);let le=z;if(D.size>1){let R=G;const X=[];for(;R=R.parentNode;){const H=D.get(R);if(H){le=H;break}X.push(R)}X.forEach(H=>D.set(H,le))}const ye=this._buildAnimation(j.namespaceId,J,C,s,F,T);if(j.setRealPlayer(ye),le===z)L.push(j);else{const R=this.playersByElement.get(le);R&&R.length&&(j.parentPlayer=yv(R)),r.push(j)}}else j0(G,J.fromStyles),j.onDestroy(()=>hm(G,J.toStyles)),U.push(j),u.has(G)&&r.push(j)}),U.forEach(O=>{const G=s.get(O.element);if(G&&G.length){const j=yv(G);O.setRealPlayer(j)}}),r.forEach(O=>{O.parentPlayer?O.syncPlayerEvents(O.parentPlayer):O.destroy()});for(let O=0;O<g.length;O++){const G=g[O],j=G[tp];if(uw(G,$B),j&&j.hasAnimation)continue;let J=[];if(a.size){let ye=a.get(G);ye&&ye.length&&J.push(...ye);let R=this.driver.query(G,yH,!0);for(let X=0;X<R.length;X++){let H=a.get(R[X]);H&&H.length&&J.push(...H)}}const le=J.filter(ye=>!ye.destroyed);le.length?Xke(this,G,le):this.processLeaveNode(G)}return g.length=0,L.forEach(O=>{this.players.push(O),O.onDone(()=>{O.destroy();const G=this.players.indexOf(O);this.players.splice(G,1)}),O.play()}),L}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let o=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(o=a)}else{const a=this.playersByElement.get(t);if(a){const l=!s||s==F2;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){const s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const c=l.element,u=c!==s,d=rh(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(h=>{const p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}j0(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,o){const a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(p=>{const m=p.element;u.add(m);const g=m[tp];if(g&&g.removedBeforeQueried)return new v2(p.duration,p.delay);const A=m!==l,_=function Yke(n){const t=[];return rne(n,t),t}((i.get(m)||Qke).map(C=>C.getRealPlayer())).filter(C=>!!C.element&&C.element===m),v=s.get(m),b=o.get(m),w=Ote(this._normalizer,p.keyframes,v,b),y=this._buildPlayer(p,w,_);if(p.subTimeline&&r&&d.add(m),A){const C=new OH(t,a,m);C.setRealPlayer(y),c.push(C)}return y});c.forEach(p=>{rh(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function Wke(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Zh(p,Vte));const h=yv(f);return h.onDestroy(()=>{u.forEach(p=>uw(p,Vte)),hm(l,e.toStyles)}),d.forEach(p=>{rh(r,p,[]).push(h)}),h}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new v2(t.duration,t.delay)}}class OH{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new v2,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>fH(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){rh(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function rF(n){return n&&1===n.nodeType}function tne(n,t){const e=n.style.display;return n.style.display=t??"none",e}function nne(n,t,e,i,r){const s=[];e.forEach(l=>s.push(tne(l)));const o=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const f=t.computeStyle(c,d,r);u.set(d,f),(!f||0==f.length)&&(c[tp]=Gke,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>tne(l,s[a++])),o}function ine(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=e.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return t.forEach(a=>{const l=o(a);1!==l&&e.get(l).push(a)}),e}function Zh(n,t){n.classList?.add(t)}function uw(n,t){n.classList?.remove(t)}function Xke(n,t,e){yv(e).onDone(()=>n.processLeaveNode(t))}function rne(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof RJ?rne(i.players,t):t.push(i)}}function sne(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class P2{constructor(t,e,i,r){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new qke(t.body,e,i,r),this._timelineEngine=new Lke(t.body,e,i),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(t,e,i,r,s){const o=t+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=EH(this._driver,s,l,[]);if(l.length)throw function VRe(n,t){return new xt(3404,!1)}();a=function Pke(n,t,e){return new Oke(n,t,e)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,o]=Rte(i);this._timelineEngine.command(s,e,o,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[o,a]=Rte(i);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}class O2{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let r=O2.initialStylesByElement.get(t);r||O2.initialStylesByElement.set(t,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&hm(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hm(this._element,this._initialStyles),this._endStyles&&(hm(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(O2.initialStylesByElement.delete(this._element),this._startStyles&&(j0(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(j0(this._element,this._endStyles),this._endStyles=null),hm(this._element,this._initialStyles),this._state=3)}}function RH(n){let t=null;return n.forEach((e,i)=>{(function eLe(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class one{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:SH(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ane{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Lte(t,e)}getParentElement(t){return AH(t)}query(t,e,i){return Ute(t,e,i)}computeStyle(t,e,i){return SH(t,e)}animate(t,e,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c=new Map,u=o.filter(h=>h instanceof one);(function dke(n,t){return 0===n||0===t})(i,r)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function lke(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}(e).map(h=>new Map(h));d=function hke(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,SH(n,a)))}}return t}(t,d,c);const f=function Jke(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=RH(t[0]),t.length>1&&(i=RH(t[t.length-1]))):t instanceof Map&&(e=RH(t)),e||i?new O2(n,e,i):null}(t,d);return new one(t,d,l,f)}}const lne="@.disabled";class cne{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==lne?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class tLe extends cne{constructor(t,e,i,r,s){super(e,i,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==lne?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function nLe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function iLe(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}class rLe{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(r,s)=>{const o=s?.parentNode(r);o&&s.removeChild(o,r)}}createRenderer(t,e){const r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){const c=this._rendererCache;let u=c.get(r);return u||(u=new cne("",r,this.engine,()=>c.delete(r)),c.set(r,u)),u}const s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);const a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new tLe(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId)return void this._zone.run(()=>e(i));const r=this._animationCallbacksBuffer;0==r.length&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,i])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}let sLe=(()=>{class n extends P2{constructor(e,i,r){super(e,i,r,ze(iI,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(vH),dt(_H))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const une=[{provide:_H,useFactory:function oLe(){return new Gte}},{provide:P2,useClass:sLe},{provide:e4,useFactory:function aLe(n,t,e){return new rLe(n,t,e)},deps:[UU,P2,qn]}],kH=[{provide:vH,useFactory:()=>new ane},{provide:Yu,useValue:"BrowserAnimations"},...une],dne=[{provide:vH,useClass:gH},{provide:Yu,useValue:"NoopAnimations"},...une];let lLe=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?dne:kH}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:kH,imports:[pZ]})}}return n})();function dw(n,t){return bn(t)?rc(n,t,1):rc(n,1)}function hw(n){return Xr((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}class oF{}class aF{}class sc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof sc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new sc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof sc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class cLe{encodeKey(t){return hne(t)}encodeValue(t){return hne(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const dLe=/%(\d[a-f0-9])/gi,hLe={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hne(n){return encodeURIComponent(n).replace(dLe,(t,e)=>hLe[e]??t)}function lF(n){return`${n}`}class wv{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new cLe,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uLe(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(lF):[lF(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new wv({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(lF(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(lF(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class fLe{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function fne(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pne(n){return typeof Blob<"u"&&n instanceof Blob}function mne(n){return typeof FormData<"u"&&n instanceof FormData}class W0{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pLe(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new sc,this.context??=new fLe,this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new wv,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||fne(this.body)||pne(this.body)||mne(this.body)||function mLe(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof wv?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mne(this.body)?null:pne(this.body)?this.body.type||null:fne(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof wv?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=void 0!==t.body?t.body:this.body,a=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress;let c=t.headers||this.headers,u=t.params||this.params;const d=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),c)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new W0(e,i,o,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:s})}}var np=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(np||{});class LH{constructor(t,e=R2.Ok,i="OK"){this.headers=t.headers||new sc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class cF extends LH{constructor(t={}){super(t),this.type=np.ResponseHeader}clone(t={}){return new cF({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fm extends LH{constructor(t={}){super(t),this.type=np.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new fm({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class fw extends LH{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var R2=function(n){return n[n.Continue=100]="Continue",n[n.SwitchingProtocols=101]="SwitchingProtocols",n[n.Processing=102]="Processing",n[n.EarlyHints=103]="EarlyHints",n[n.Ok=200]="Ok",n[n.Created=201]="Created",n[n.Accepted=202]="Accepted",n[n.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",n[n.NoContent=204]="NoContent",n[n.ResetContent=205]="ResetContent",n[n.PartialContent=206]="PartialContent",n[n.MultiStatus=207]="MultiStatus",n[n.AlreadyReported=208]="AlreadyReported",n[n.ImUsed=226]="ImUsed",n[n.MultipleChoices=300]="MultipleChoices",n[n.MovedPermanently=301]="MovedPermanently",n[n.Found=302]="Found",n[n.SeeOther=303]="SeeOther",n[n.NotModified=304]="NotModified",n[n.UseProxy=305]="UseProxy",n[n.Unused=306]="Unused",n[n.TemporaryRedirect=307]="TemporaryRedirect",n[n.PermanentRedirect=308]="PermanentRedirect",n[n.BadRequest=400]="BadRequest",n[n.Unauthorized=401]="Unauthorized",n[n.PaymentRequired=402]="PaymentRequired",n[n.Forbidden=403]="Forbidden",n[n.NotFound=404]="NotFound",n[n.MethodNotAllowed=405]="MethodNotAllowed",n[n.NotAcceptable=406]="NotAcceptable",n[n.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",n[n.RequestTimeout=408]="RequestTimeout",n[n.Conflict=409]="Conflict",n[n.Gone=410]="Gone",n[n.LengthRequired=411]="LengthRequired",n[n.PreconditionFailed=412]="PreconditionFailed",n[n.PayloadTooLarge=413]="PayloadTooLarge",n[n.UriTooLong=414]="UriTooLong",n[n.UnsupportedMediaType=415]="UnsupportedMediaType",n[n.RangeNotSatisfiable=416]="RangeNotSatisfiable",n[n.ExpectationFailed=417]="ExpectationFailed",n[n.ImATeapot=418]="ImATeapot",n[n.MisdirectedRequest=421]="MisdirectedRequest",n[n.UnprocessableEntity=422]="UnprocessableEntity",n[n.Locked=423]="Locked",n[n.FailedDependency=424]="FailedDependency",n[n.TooEarly=425]="TooEarly",n[n.UpgradeRequired=426]="UpgradeRequired",n[n.PreconditionRequired=428]="PreconditionRequired",n[n.TooManyRequests=429]="TooManyRequests",n[n.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",n[n.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",n[n.InternalServerError=500]="InternalServerError",n[n.NotImplemented=501]="NotImplemented",n[n.BadGateway=502]="BadGateway",n[n.ServiceUnavailable=503]="ServiceUnavailable",n[n.GatewayTimeout=504]="GatewayTimeout",n[n.HttpVersionNotSupported=505]="HttpVersionNotSupported",n[n.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",n[n.InsufficientStorage=507]="InsufficientStorage",n[n.LoopDetected=508]="LoopDetected",n[n.NotExtended=510]="NotExtended",n[n.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",n}(R2||{});function UH(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let oh=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof W0)s=e;else{let l,c;l=r.headers instanceof sc?r.headers:new sc(r.headers),r.params&&(c=r.params instanceof wv?r.params:new wv({fromObject:r.params})),s=new W0(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=Yn(s).pipe(dw(l=>this.handler.handle(l)));if(e instanceof W0||"events"===r.observe)return o;const a=o.pipe(Ps(l=>l instanceof fm));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(_i(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(_i(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(_i(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(_i(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new wv).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,UH(r,i))}post(e,i,r={}){return this.request("POST",e,UH(r,i))}put(e,i,r={}){return this.request("PUT",e,UH(r,i))}static{this.\u0275fac=function(i){return new(i||n)(dt(oF))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();function gne(n,t){return t(n)}function bLe(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const vne=new Rt(""),k2=new Rt(""),_ne=new Rt(""),bne=new Rt("");function wLe(){let n=null;return(t,e)=>{null===n&&(n=(ze(vne,{optional:!0})??[]).reduceRight(bLe,gne));const i=ze(sv),r=i.add();return n(t,e).pipe(hw(()=>i.remove(r)))}}let yne=(()=>{class n extends oF{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null,this.pendingTasks=ze(sv);const r=ze(bne,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(k2),...this.injector.get(_ne,[])]));this.chain=r.reduceRight((s,o)=>function yLe(n,t,e){return(i,r)=>Oh(e,()=>t(i,s=>n(s,r)))}(s,o,this.injector),gne)}const i=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(hw(()=>this.pendingTasks.remove(i)))}static{this.\u0275fac=function(i){return new(i||n)(dt(aF),dt(Ua))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const DLe=/^\)\]\}',?\n/;let xne=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new xt(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?qa(i.\u0275loadImpl()):Yn(null)).pipe(Ta(()=>new Xi(s=>{const o=i.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((m,g)=>o.setRequestHeader(m,g.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const m=e.detectContentTypeHeader();null!==m&&o.setRequestHeader("Content-Type",m)}if(e.responseType){const m=e.responseType.toLowerCase();o.responseType="json"!==m?m:"text"}const a=e.serializeBody();let l=null;const c=()=>{if(null!==l)return l;const m=o.statusText||"OK",g=new sc(o.getAllResponseHeaders()),A=function MLe(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new cF({headers:g,status:o.status,statusText:m,url:A}),l},u=()=>{let{headers:m,status:g,statusText:A,url:_}=c(),v=null;g!==R2.NoContent&&(v=typeof o.response>"u"?o.responseText:o.response),0===g&&(g=v?R2.Ok:0);let b=g>=200&&g<300;if("json"===e.responseType&&"string"==typeof v){const w=v;v=v.replace(DLe,"");try{v=""!==v?JSON.parse(v):null}catch(y){v=w,b&&(b=!1,v={error:y,text:v})}}b?(s.next(new fm({body:v,headers:m,status:g,statusText:A,url:_||void 0})),s.complete()):s.error(new fw({error:v,headers:m,status:g,statusText:A,url:_||void 0}))},d=m=>{const{url:g}=c(),A=new fw({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:g||void 0});s.error(A)};let f=!1;const h=m=>{f||(s.next(c()),f=!0);let g={type:np.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),"text"===e.responseType&&o.responseText&&(g.partialText=o.responseText),s.next(g)},p=m=>{let g={type:np.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),e.reportProgress&&(o.addEventListener("progress",h),null!==a&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:np.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),e.reportProgress&&(o.removeEventListener("progress",h),null!==a&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||n)(dt(WY))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();const zH=new Rt(""),Cne=new Rt("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Sne=new Rt("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ene{}let ILe=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=LY(e,this.cookieName),this.lastCookieString=e),this.lastToken}static{this.\u0275fac=function(i){return new(i||n)(dt(mr),dt(jf),dt(Cne))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();function BLe(n,t){const e=n.url.toLowerCase();if(!ze(zH)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=ze(Ene).getToken(),r=ze(Sne);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var xv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(xv||{});function $0(n,t){return{\u0275kind:n,\u0275providers:t}}function FLe(...n){const t=[oh,xne,yne,{provide:oF,useExisting:yne},{provide:aF,useExisting:xne},{provide:k2,useValue:BLe,multi:!0},{provide:zH,useValue:!0},{provide:Ene,useClass:ILe}];for(const e of n)t.push(...e.\u0275providers);return Ug(t)}const Dne=new Rt("");let Mne=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[FLe($0(xv.LegacyInterceptors,[{provide:Dne,useFactory:wLe},{provide:k2,useExisting:Dne,multi:!0}]))]})}}return n})();const dF=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function hF(n){return Xr((t,e)=>{let i=!1;t.subscribe(ds(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function Rne(n=HLe){return Xr((t,e)=>{let i=!1;t.subscribe(ds(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function HLe(){return new dF}function K0(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ps((r,s)=>n(r,s,i)):Ns,Ws(1),e?hF(t):Rne(()=>new dF))}function oc(n){return Xr((t,e)=>{let s,i=null,r=!1;i=t.subscribe(ds(e,void 0,void 0,o=>{s=ja(n(o,oc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function QH(n){return n<=0?()=>nd:Xr((t,e)=>{let i=[];t.subscribe(ds(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}const Ir="primary",L2=Symbol("RouteTitle");class GLe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function pw(n){return new GLe(n)}function jLe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function pm(n,t){const e=n?GH(n):void 0,i=t?GH(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!kne(n[r],t[r]))return!1;return!0}function GH(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kne(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Lne(n){return n.length>0?n[n.length-1]:null}function Cv(n){return GU(n)?n:jE(n)?qa(Promise.resolve(n)):Yn(n)}const WLe={exact:function Vne(n,t,e){if(!X0(n.segments,t.segments)||!fF(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Vne(n.children[i],t.children[i],e))return!1;return!0},subset:zne},Une={exact:function $Le(n,t){return pm(n,t)},subset:function KLe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>kne(n[e],t[e]))},ignored:()=>!0};function Hne(n,t,e){return WLe[e.paths](n.root,t.root,e.matrixParams)&&Une[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function zne(n,t,e){return Qne(n,t,t.segments,e)}function Qne(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!X0(r,e)||t.hasChildren()||!fF(r,e,i))}if(n.segments.length===e.length){if(!X0(n.segments,e)||!fF(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!zne(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(X0(n.segments,r)&&fF(n.segments,r,i)&&n.children[Ir])&&Qne(n.children[Ir],t,s,i)}}function fF(n,t,e){return t.every((i,r)=>Une[e](n[r].parameters,i.parameters))}class mw{constructor(t=new Ao([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=pw(this.queryParams),this._queryParamMap}toString(){return ZLe.serialize(this)}}class Ao{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pF(this)}}class U2{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=pw(this.parameters),this._parameterMap}toString(){return qne(this)}}function X0(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Aw=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>new jH,providedIn:"root"})}}return n})();class jH{parse(t){const e=new c5e(t);return new mw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${H2(t.root,!0)}`,i=function t5e(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${mF(e)}=${mF(r)}`).join("&"):`${mF(e)}=${mF(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function JLe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const ZLe=new jH;function pF(n){return n.segments.map(t=>qne(t)).join("/")}function H2(n,t){if(!n.hasChildren())return pF(n);if(t){const e=n.children[Ir]?H2(n.children[Ir],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Ir&&i.push(`${r}:${H2(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function YLe(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Ir&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Ir&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Ir?[H2(n.children[Ir],!1)]:[`${r}:${H2(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ir]?`${pF(n)}/${e[0]}`:`${pF(n)}/(${e.join("//")})`}}function Gne(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mF(n){return Gne(n).replace(/%3B/gi,";")}function qH(n){return Gne(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function AF(n){return decodeURIComponent(n)}function jne(n){return AF(n.replace(/\+/g,"%20"))}function qne(n){return`${qH(n.path)}${function e5e(n){return Object.entries(n).map(([t,e])=>`;${qH(t)}=${qH(e)}`).join("")}(n.parameters)}`}const n5e=/^[^\/()?;#]+/;function WH(n){const t=n.match(n5e);return t?t[0]:""}const i5e=/^[^\/()?;=#]+/,s5e=/^[^=?&#]+/,a5e=/^[^&#]+/;class c5e{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ao([],{}):new Ao([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ir]=new Ao(t,e)),i}parseSegment(){const t=WH(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new xt(4009,!1);return this.capture(t),new U2(AF(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function r5e(n){const t=n.match(i5e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=WH(this.remaining);r&&(i=r,this.capture(i))}t[AF(e)]=AF(i)}parseQueryParam(t){const e=function o5e(n){const t=n.match(s5e);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function l5e(n){const t=n.match(a5e);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=jne(e),s=jne(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=WH(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new xt(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ir);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ir]:new Ao([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new xt(4011,!1)}}function Wne(n){return n.segments.length>0?new Ao([],{[Ir]:n}):n}function $ne(n){const t={};for(const[i,r]of Object.entries(n.children)){const s=$ne(r);if(i===Ir&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function u5e(n){if(1===n.numberOfChildren&&n.children[Ir]){const t=n.children[Ir];return new Ao(n.segments.concat(t.segments),t.children)}return n}(new Ao(n.segments,t))}function gw(n){return n instanceof mw}function Kne(n){let t;const r=Wne(function e(s){const o={};for(const l of s.children){const c=e(l);o[l.outlet]=c}const a=new Ao(s.url,o);return s===n&&(t=a),a}(n.root));return t??r}function Xne(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return $H(r,r,r,e,i);const s=function h5e(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zne(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new Zne(e,t,i)}(t);if(s.toRoot())return $H(r,r,new Ao([],{}),e,i);const o=function f5e(n,t,e){if(n.isAbsolute)return new vF(t,!0,0);if(!e)return new vF(t,!1,NaN);if(null===e.parent)return new vF(e,!0,0);const i=gF(n.commands[0])?0:1;return function p5e(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new xt(4005,!1);r=i.segments.length}return new vF(i,!1,r-s)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?z2(o.segmentGroup,o.index,s.commands):Jne(o.segmentGroup,o.index,s.commands);return $H(r,o.segmentGroup,a,e,i)}function gF(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function V2(n){return"object"==typeof n&&null!=n&&n.outlets}function $H(n,t,e,i,r){let o,s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),o=n===t?e:Yne(n,t,e);const a=Wne($ne(o));return new mw(a,s,r)}function Yne(n,t,e){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===t?e:Yne(s,t,e)}),new Ao(n.segments,i)}class Zne{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&gF(i[0]))throw new xt(4003,!1);const r=i.find(V2);if(r&&r!==Lne(i))throw new xt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vF{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Jne(n,t,e){if(n??=new Ao([],{}),0===n.segments.length&&n.hasChildren())return z2(n,t,e);const i=function A5e(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(V2(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!tie(l,c,o))return s;i+=2}else{if(!tie(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ao(n.segments.slice(0,i.pathIndex),{});return s.children[Ir]=new Ao(n.segments.slice(i.pathIndex),n.children),z2(s,0,r)}return i.match&&0===r.length?new Ao(n.segments,{}):i.match&&!n.hasChildren()?KH(n,t,e):i.match?z2(n,0,r):KH(n,t,e)}function z2(n,t,e){if(0===e.length)return new Ao(n.segments,{});{const i=function m5e(n){return V2(n[0])?n[0].outlets:{[Ir]:n}}(e),r={};if(Object.keys(i).some(s=>s!==Ir)&&n.children[Ir]&&1===n.numberOfChildren&&0===n.children[Ir].segments.length){const s=z2(n.children[Ir],t,e);return new Ao(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=Jne(n.children[s],t,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Ao(n.segments,r)}}function KH(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(V2(s)){const l=g5e(s.outlets);return new Ao(i,l)}if(0===r&&gF(e[0])){i.push(new U2(n.segments[t].path,eie(e[0]))),r++;continue}const o=V2(s)?s.outlets[Ir]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&gF(a)?(i.push(new U2(o,eie(a))),r+=2):(i.push(new U2(o,{})),r++)}return new Ao(i,{})}function g5e(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=KH(new Ao([],{}),0,i))}),t}function eie(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function tie(n,t,e){return n==e.path&&pm(t,e.parameters)}const Q2="imperative";var fs=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(fs||{});class mm{constructor(t,e){this.id=t,this.url=e}}class _F extends mm{constructor(t,e,i="imperative",r=null){super(t,e),this.type=fs.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class DA extends mm{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=fs.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ah=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ah||{}),bF=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(bF||{});class vw extends mm{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=fs.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _w extends mm{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=fs.NavigationSkipped}}class yF extends mm{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=fs.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nie extends mm{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=fs.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class v5e extends mm{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=fs.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _5e extends mm{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=fs.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b5e extends mm{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=fs.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y5e extends mm{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=fs.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w5e{constructor(t){this.route=t,this.type=fs.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x5e{constructor(t){this.route=t,this.type=fs.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C5e{constructor(t){this.snapshot=t,this.type=fs.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S5e{constructor(t){this.snapshot=t,this.type=fs.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E5e{constructor(t){this.snapshot=t,this.type=fs.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D5e{constructor(t){this.snapshot=t,this.type=fs.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iie{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=fs.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class XH{}class YH{constructor(t){this.url=t}}class M5e{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new G2,this.attachRef=null}}let G2=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new M5e,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class rie{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ZH(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ZH(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=JH(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return JH(t,this._root).map(e=>e.value)}}function ZH(n,t){if(n===t.value)return t;for(const e of t.children){const i=ZH(n,e);if(i)return i}return null}function JH(n,t){if(n===t.value)return[t];for(const e of t.children){const i=JH(n,e);if(i.length)return i.unshift(t),i}return[]}class ip{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bw(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class sie extends rie{constructor(t,e){super(t),this.snapshot=e,n6(this,t)}toString(){return this.snapshot.toString()}}function oie(n){const t=function T5e(n){const s=new t6([],{},{},"",{},Ir,n,null,{});return new aie("",new ip(s,[]))}(n),e=new Qr([new U2("",{})]),i=new Qr({}),r=new Qr({}),s=new Qr({}),o=new Qr(""),a=new Wr(e,i,s,o,r,Ir,n,t.root);return a.snapshot=t.root,new sie(new ip(a,[]),t)}class Wr{constructor(t,e,i,r,s,o,a,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(_i(c=>c[L2]))??Yn(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_i(t=>pw(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_i(t=>pw(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e6(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&cie(r)&&(i.resolve[L2]=r.title),i}class t6{get title(){return this.data?.[L2]}constructor(t,e,i,r,s,o,a,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pw(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pw(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aie extends rie{constructor(t,e){super(e),this.url=t,n6(this,e)}toString(){return lie(this._root)}}function n6(n,t){t.value._routerState=n,t.children.forEach(e=>n6(n,e))}function lie(n){const t=n.children.length>0?` { ${n.children.map(lie).join(", ")} } `:"";return`${n.value}${t}`}function i6(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,pm(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),pm(t.params,e.params)||n.paramsSubject.next(e.params),function qLe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!pm(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),pm(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function r6(n,t){const e=pm(n.params,t.params)&&function XLe(n,t){return X0(n,t)&&n.every((e,i)=>pm(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||r6(n.parent,t.parent))}function cie(n){return"string"==typeof n.title||null===n.title}let s6=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ir,this.activateEvents=new Cn,this.deactivateEvents=new Cn,this.attachEvents=new Cn,this.detachEvents=new Cn,this.parentContexts=ze(G2),this.location=ze(Uo),this.changeDetector=ze(fa),this.environmentInjector=ze(Ua),this.inputBinder=ze(wF,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new xt(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new o6(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[js]})}}return n})();class o6{__ngOutletInjector(t){return new o6(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Wr?this.route:t===G2?this.childContexts:this.parent.get(t,e)}}const wF=new Rt("");let uie=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=P0([i.queryParams,i.params,i.data]).pipe(Ta(([s,o,a],l)=>(a={...s,...o,...a},0===l?Yn(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const o=function _2e(n){const t=Nr(n);if(!t)return null;const e=new SE(t);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();function j2(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function I5e(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return j2(n,i,r);return j2(n,i)})}(n,t,e);return new ip(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>j2(n,a)),o}}const i=function B5e(n){return new Wr(new Qr(n.url),new Qr(n.params),new Qr(n.queryParams),new Qr(n.fragment),new Qr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>j2(n,s));return new ip(i,r)}}const die="ngNavigationCancelingError";function hie(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=gw(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=fie(!1,ah.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function fie(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[die]=!0,e.cancellationCode=t,e}function pie(n){return!!n&&n[die]}let mie=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["ng-component"]],standalone:!0,features:[qr],decls:1,vars:0,template:function(i,r){1&i&&Ye(0,"router-outlet")},dependencies:[s6],encapsulation:2})}}return n})();function a6(n){const t=n.children&&n.children.map(a6),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ir&&(e.component=mie),e}function Am(n){return n.outlet||Ir}function q2(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class H5e{constructor(t,e,i,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),i6(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=bw(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=bw(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=bw(t);for(const o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=bw(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new D5e(s.value.snapshot))}),t.children.length&&this.forwardEvent(new S5e(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(i6(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),i6(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=q2(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class Aie{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class xF{constructor(t,e){this.component=t,this.route=e}}function V5e(n,t,e){const i=n._root;return W2(i,t?t._root:null,e,[i.value])}function yw(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function qL(n){return null!==xy(n)}(n)?t.get(n):n:i}function W2(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=bw(t);return n.children.forEach(o=>{(function Q5e(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function G5e(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!X0(n.url,t.url);case"pathParamsOrQueryParamsChange":return!X0(n.url,t.url)||!pm(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!r6(n,t)||!pm(n.queryParams,t.queryParams);default:return!r6(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Aie(i)):(s.data=o.data,s._resolvedData=o._resolvedData),W2(n,t,s.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new xF(a.outlet.component,o))}else o&&$2(t,a,r),r.canActivateChecks.push(new Aie(i)),W2(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>$2(a,e.getContext(o),r)),r}function $2(n,t,e){const i=bw(n),r=n.value;Object.entries(i).forEach(([s,o])=>{$2(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new xF(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function K2(n){return"function"==typeof n}function gie(n){return n instanceof dF||"EmptyError"===n?.name}const CF=Symbol("INITIAL_VALUE");function ww(){return Ta(n=>P0(n.map(t=>t.pipe(Ws(1),gv(CF)))).pipe(_i(t=>{for(const e of t)if(!0!==e){if(e===CF)return CF;if(!1===e||e instanceof mw)return e}return!0}),Ps(t=>t!==CF),Ws(1)))}function vie(n){return function Xl(...n){return ll(n)}($s(t=>{if(gw(t))throw hie(0,t)}),_i(t=>!0===t))}class l6{constructor(t){this.segmentGroup=t||null}}class c6 extends Error{constructor(t){super(),this.urlTree=t}}function xw(n){return cm(new l6(n))}class c3e{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Yn(i);if(r.numberOfChildren>1||!r.children[Ir])return cm(new xt(4e3,!1));r=r.children[Ir]}}applyRedirectCommands(t,e,i){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if(e.startsWith("/"))throw new c6(r);return r}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new mw(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(t,l,i,r)}),new Ao(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new xt(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const u6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function u3e(n,t,e,i,r){const s=d6(n,t,e);return s.matched?(i=function P5e(n,t){return n.providers&&!n._injector&&(n._injector=uI(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function o3e(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Yn(r.map(o=>{const a=yw(o,n);return Cv(function X5e(n){return n&&K2(n.canMatch)}(a)?a.canMatch(t,e):Oh(n,()=>a(t,e)))})).pipe(ww(),vie()):Yn(!0)}(i,t,e).pipe(_i(o=>!0===o?s:{...u6}))):Yn(s)}function d6(n,t,e){if("**"===t.path)return function d3e(n){return{matched:!0,parameters:n.length>0?Lne(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...u6}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||jLe)(e,n,t);if(!r)return{...u6};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function _ie(n,t,e,i){return e.length>0&&function p3e(n,t,e){return e.some(i=>SF(n,t,i)&&Am(i)!==Ir)}(n,e,i)?{segmentGroup:new Ao(t,f3e(i,new Ao(e,n.children))),slicedSegments:[]}:0===e.length&&function m3e(n,t,e){return e.some(i=>SF(n,t,i))}(n,e,i)?{segmentGroup:new Ao(n.segments,h3e(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ao(n.segments,n.children),slicedSegments:e}}function h3e(n,t,e,i){const r={};for(const s of e)if(SF(n,t,s)&&!i[Am(s)]){const o=new Ao([],{});r[Am(s)]=o}return{...i,...r}}function f3e(n,t){const e={};e[Ir]=t;for(const i of n)if(""===i.path&&Am(i)!==Ir){const r=new Ao([],{});e[Am(i)]=r}return e}function SF(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class v3e{}class y3e{constructor(t,e,i,r,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new c3e(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new xt(4002,`'${t.segmentGroup}'`)}recognize(){const t=_ie(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(_i(e=>{const i=new t6([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ir,this.rootComponentType,null,{}),r=new ip(i,e),s=new aie("",r),o=function d5e(n,t,e=null,i=null){return Xne(Kne(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,Ir).pipe(oc(i=>{if(i instanceof c6)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof l6?this.noMatchError(i):i}))}inheritParamsAndData(t,e){const i=t.value,r=e6(i,e,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),t.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r,!0).pipe(_i(s=>s instanceof ip?[s]:[]))}processChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return qa(r).pipe(dw(s=>{const o=i.children[s],a=function L5e(n,t){const e=n.filter(i=>Am(i)===t);return e.push(...n.filter(i=>Am(i)!==t)),e}(e,s);return this.processSegmentGroup(t,a,o,s)}),function zLe(n,t){return Xr(function VLe(n,t,e,i,r){return(s,o)=>{let a=e,l=t,c=0;s.subscribe(ds(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(n,t,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),hF(null),function QLe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ps((r,s)=>n(r,s,i)):Ns,QH(1),e?hF(t):Rne(()=>new dF))}(),rc(s=>{if(null===s)return xw(i);const o=bie(s);return function w3e(n){n.sort((t,e)=>t.value.outlet===Ir?-1:e.value.outlet===Ir?1:t.value.outlet.localeCompare(e.value.outlet))}(o),Yn(o)}))}processSegment(t,e,i,r,s,o){return qa(e).pipe(dw(a=>this.processSegmentAgainstRoute(a._injector??t,e,a,i,r,s,o).pipe(oc(l=>{if(l instanceof l6)return Yn(null);throw l}))),K0(a=>!!a),oc(a=>{if(gie(a))return function g3e(n,t,e){return 0===t.length&&!n.children[e]}(i,r,s)?Yn(new v3e):xw(i);throw a}))}processSegmentAgainstRoute(t,e,i,r,s,o,a){return function A3e(n,t,e,i){return!!(Am(n)===i||i!==Ir&&SF(t,e,n))&&d6(t,n,e).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,s,o):xw(r):xw(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=d6(e,r,s);if(!a)return xw(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(rc(f=>this.processSegment(t,i,e,f.concat(u),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){const o=u3e(e,i,r,t);return"**"===i.path&&(e.children={}),o.pipe(Ta(a=>a.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(Ta(({routes:l})=>{const c=i._loadedInjector??t,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new t6(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function C3e(n){return n.data||{}}(i),Am(i),i.component??i._loadedComponent??null,i,function S3e(n){return n.resolve||{}}(i)),{segmentGroup:p,slicedSegments:m}=_ie(e,u,d,l);if(0===m.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(_i(A=>null===A?null:new ip(h,A)));if(0===l.length&&0===m.length)return Yn(new ip(h,[]));const g=Am(i)===s;return this.processSegment(c,l,p,m,g?Ir:s,!0).pipe(_i(A=>new ip(h,A instanceof ip?[A]:[])))})):xw(e)))}getChildConfig(t,e,i){return e.children?Yn({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Yn({routes:e._loadedRoutes,injector:e._loadedInjector}):function s3e(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Yn(!0):Yn(r.map(o=>{const a=yw(o,n);return Cv(function q5e(n){return n&&K2(n.canLoad)}(a)?a.canLoad(t,e):Oh(n,()=>a(t,e)))})).pipe(ww(),vie())}(t,e,i).pipe(rc(r=>r?this.configLoader.loadChildren(t,e).pipe($s(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function l3e(n){return cm(fie(!1,ah.GuardRejected))}())):Yn({routes:[],injector:t})}}function x3e(n){const t=n.value.routeConfig;return t&&""===t.path}function bie(n){const t=[],e=new Set;for(const i of n){if(!x3e(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=bie(i.children);t.push(new ip(i.value,r))}return t.filter(i=>!e.has(i))}function yie(n){const t=n.children.map(e=>yie(e)).flat();return[n,...t]}function h6(n){return Ta(t=>{const e=n(t);return e?qa(e).pipe(_i(()=>t)):Yn(t)})}let wie=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ir);return i}getResolvedTitleForRoute(e){return e.data[L2]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(I3e),providedIn:"root"})}}return n})(),I3e=(()=>{class n extends wie{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(dt(zU))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Cw=new Rt("",{providedIn:"root",factory:()=>({})}),Sw=new Rt("");let f6=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(OX)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Yn(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Cv(e.loadComponent()).pipe(_i(xie),$s(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),hw(()=>{this.componentLoaders.delete(e)})),r=new sB(i,()=>new Rn).pipe(QU());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Yn({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function B3e(n,t,e,i){return Cv(n.loadChildren()).pipe(_i(xie),rc(r=>r instanceof t$||Array.isArray(r)?Yn(r):qa(t.compileModuleAsync(r))),_i(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(Sw,[],{optional:!0,self:!0}).flat()),{routes:o.map(a6),injector:s}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(hw(()=>{this.childrenLoaders.delete(i)})),o=new sB(s,()=>new Rn).pipe(QU());return this.childrenLoaders.set(i,o),o}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function xie(n){return function F3e(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let p6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(P3e),providedIn:"root"})}}return n})(),P3e=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Cie=new Rt(""),Sie=new Rt("");function O3e(n,t,e){const i=n.get(Sie),r=n.get(mr);return n.get(qn).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s;const o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),function R3e(n){return new Promise(t=>{o4(t,{injector:n})})}(n))),{onViewTransitionCreated:l}=i;return l&&Oh(n,()=>l({transition:a,from:t,to:e})),o})}let EF=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Rn,this.transitionAbortSubject=new Rn,this.configLoader=ze(f6),this.environmentInjector=ze(Ua),this.urlSerializer=ze(Aw),this.rootContexts=ze(G2),this.location=ze(X1),this.inputBindingEnabled=null!==ze(wF,{optional:!0}),this.titleStrategy=ze(wie),this.options=ze(Cw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ze(p6),this.createViewTransition=ze(Cie,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Yn(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new x5e(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new w5e(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Qr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Q2,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ps(s=>0!==s.id),_i(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ta(s=>{let o=!1,a=!1;return Yn(s).pipe(Ta(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ah.SupersededByNewNavigation),nd;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!c&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const d="";return this.events.next(new _w(l.id,this.urlSerializer.serialize(l.rawUrl),d,bF.IgnoredSameUrlNavigation)),l.resolve(null),nd}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Yn(l).pipe(Ta(d=>{const f=this.transitions?.getValue();return this.events.next(new _F(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?nd:Promise.resolve(d)}),function E3e(n,t,e,i,r,s){return rc(o=>function _3e(n,t,e,i,r,s,o="emptyOnly"){return new y3e(n,t,e,i,r,o,s).recognize()}(n,t,e,i,o.extractedUrl,r,s).pipe(_i(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),$s(d=>{s.targetSnapshot=d.targetSnapshot,s.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new nie(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:d,extractedUrl:f,source:h,restoredState:p,extras:m}=l,g=new _F(d,this.urlSerializer.serialize(f),h,p);this.events.next(g);const A=oie(this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:A,urlAfterRedirects:f,extras:{...m,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,Yn(s)}{const d="";return this.events.next(new _w(l.id,this.urlSerializer.serialize(l.extractedUrl),d,bF.IgnoredByUrlHandlingStrategy)),l.resolve(null),nd}}),$s(l=>{const c=new v5e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),_i(l=>(this.currentTransition=s={...l,guards:V5e(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function Y5e(n,t){return rc(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?Yn({...e,guardsResult:!0}):function Z5e(n,t,e,i){return qa(n).pipe(rc(r=>function r3e(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?Yn(s.map(a=>{const l=q2(t)??r,c=yw(a,l);return Cv(function K5e(n){return n&&K2(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):Oh(l,()=>c(n,t,e,i))).pipe(K0())})).pipe(ww()):Yn(!0)}(r.component,r.route,e,t,i)),K0(r=>!0!==r,!0))}(o,i,r,n).pipe(rc(a=>a&&function j5e(n){return"boolean"==typeof n}(a)?function J5e(n,t,e,i){return qa(t).pipe(dw(r=>O0(function t3e(n,t){return null!==n&&t&&t(new C5e(n)),Yn(!0)}(r.route.parent,i),function e3e(n,t){return null!==n&&t&&t(new E5e(n)),Yn(!0)}(r.route,i),function i3e(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function z5e(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>_2(()=>Yn(o.guards.map(l=>{const c=q2(o.node)??e,u=yw(l,c);return Cv(function $5e(n){return n&&K2(n.canActivateChild)}(u)?u.canActivateChild(i,n):Oh(c,()=>u(i,n))).pipe(K0())})).pipe(ww())));return Yn(s).pipe(ww())}(n,r.path,e),function n3e(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Yn(!0);const r=i.map(s=>_2(()=>{const o=q2(t)??e,a=yw(s,o);return Cv(function W5e(n){return n&&K2(n.canActivate)}(a)?a.canActivate(t,n):Oh(o,()=>a(t,n))).pipe(K0())}));return Yn(r).pipe(ww())}(n,r.route,e))),K0(r=>!0!==r,!0))}(i,s,n,t):Yn(a)),_i(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),$s(l=>{if(s.guardsResult=l.guardsResult,gw(l.guardsResult))throw hie(0,l.guardsResult);const c=new _5e(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Ps(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",ah.GuardRejected),!1)),h6(l=>{if(l.guards.canActivateChecks.length)return Yn(l).pipe($s(c=>{const u=new b5e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ta(c=>{let u=!1;return Yn(c).pipe(function D3e(n,t){return rc(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Yn(e);const s=new Set(r.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const c of yie(l))o.add(c);let a=0;return qa(o).pipe(dw(l=>s.has(l)?function M3e(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!cie(r)&&(s[L2]=r.title),function T3e(n,t,e,i){const r=GH(n);if(0===r.length)return Yn({});const s={};return qa(r).pipe(rc(o=>function N3e(n,t,e,i){const r=q2(t)??i,s=yw(n,r);return Cv(s.resolve?s.resolve(t,e):Oh(r,()=>s(t,e)))}(n[o],t,e,i).pipe(K0(),$s(a=>{s[o]=a}))),QH(1),XJ(s),oc(o=>gie(o)?nd:cm(o)))}(s,n,t,i).pipe(_i(o=>(n._resolvedData=o,n.data=e6(n,n.parent,e).resolve,null)))}(l,i,n,t):(l.data=e6(l,l.parent,n).resolve,Yn(void 0))),$s(()=>a++),QH(1),rc(l=>a===o.size?Yn(e):nd))})}(this.paramsInheritanceStrategy,this.environmentInjector),$s({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ah.NoDataFromResolver)}}))}),$s(c=>{const u=new y5e(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),h6(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe($s(f=>{u.component=f}),_i(()=>{})));for(const f of u.children)d.push(...c(f));return d};return P0(c(l.targetSnapshot.root)).pipe(hF(null),Ws(1))}),h6(()=>this.afterPreactivation()),Ta(()=>{const{currentSnapshot:l,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?qa(u).pipe(_i(()=>s)):Yn(s)}),_i(l=>{const c=function N5e(n,t,e){const i=j2(n,t._root,e?e._root:void 0);return new sie(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:c},this.currentNavigation.targetRouterState=c,s}),$s(()=>{this.events.next(new XH)}),((n,t,e,i)=>_i(r=>(new H5e(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ws(1),$s({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new DA(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Fi(this.transitionAbortSubject.pipe($s(l=>{throw l}))),hw(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",ah.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),oc(l=>{if(a=!0,pie(l))this.events.next(new vw(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function F5e(n){return pie(n)&&gw(n.url)}(l)?this.events.next(new YH(l.url)):s.resolve(!1);else{this.events.next(new yF(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(c){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(c)}}return nd}))}))}cancelNavigationTransition(e,i,r){const s=new vw(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function k3e(n){return n!==Q2}let L3e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(H3e),providedIn:"root"})}}return n})();class U3e{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let H3e=(()=>{class n extends U3e{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Eie=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:()=>ze(V3e),providedIn:"root"})}}return n})(),V3e=(()=>{class n extends Eie{constructor(){super(...arguments),this.location=ze(X1),this.urlSerializer=ze(Aw),this.options=ze(Cw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ze(p6),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mw,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oie(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof _F)this.stateMemento=this.createStateMemento();else if(e instanceof _w)this.rawUrlTree=i.initialUrl;else if(e instanceof nie){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else e instanceof XH?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):e instanceof vw&&(e.code===ah.GuardRejected||e.code===ah.NoDataFromResolver)?this.restoreHistory(i):e instanceof yF?this.restoreHistory(i,!0):e instanceof DA&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&0===s&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=tr(n)))(r||n)}})()}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var X2=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(X2||{});function Die(n,t){n.events.pipe(Ps(e=>e instanceof DA||e instanceof vw||e instanceof yF||e instanceof _w),_i(e=>e instanceof DA||e instanceof _w?X2.COMPLETE:e instanceof vw&&(e.code===ah.Redirect||e.code===ah.SupersededByNewNavigation)?X2.REDIRECTING:X2.FAILED),Ps(e=>e!==X2.REDIRECTING),Ws(1)).subscribe(()=>{t()})}function z3e(n){throw n}const Q3e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},G3e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cu=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=ze(SX),this.stateManager=ze(Eie),this.options=ze(Cw,{optional:!0})||{},this.pendingTasks=ze(sv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ze(EF),this.urlSerializer=ze(Aw),this.location=ze(X1),this.urlHandlingStrategy=ze(p6),this._events=new Rn,this.errorHandler=this.options.errorHandler||z3e,this.navigated=!1,this.routeReuseStrategy=ze(L3e),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ze(Sw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ze(wF,{optional:!0}),this.eventsSubscription=new Ni,this.isNgZoneEnabled=ze(qn)instanceof qn&&qn.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof vw&&i.code!==ah.Redirect&&i.code!==ah.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof DA)this.navigated=!0;else if(i instanceof YH){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||k3e(r.source)};this.scheduleNavigation(o,Q2,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function q3e(n){return!(n instanceof XH||n instanceof YH)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Q2,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(a6),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:o;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}null!==u&&(u=this.removeEmptyProps(u));try{d=Kne(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),d=this.currentUrlTree.root}return Xne(d,e,u,c??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=gw(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Q2,null,i)}navigate(e,i={skipLocationChange:!1}){return function j3e(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new xt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...Q3e}:!1===i?{...G3e}:i,gw(e))return Hne(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Hne(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,s])=>(null!=s&&(i[r]=s),i),{})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c;o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((d,f)=>{a=d,l=f});const u=this.pendingTasks.add();return Die(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rs=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Rn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof DA&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){const a=this.urlTree;return!!(null===a||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(a,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:function mq(n,t,e){return function Sbe(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?pq:Js}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||n)(oe(Cu),oe(Wr),$d("tabindex"),oe(tm),oe($n),oe(fv))}}static{this.\u0275dir=Mt({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ct("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&i&&$i("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[kt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ir],skipLocationChange:[kt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ir],replaceUrl:[kt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ir],routerLink:"routerLink"},standalone:!0,features:[pl,js]})}}return n})();class Mie{}let K3e=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Ps(e=>e instanceof DA),dw(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=uI(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return qa(r).pipe(iw())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Yn(null);const s=r.pipe(rc(o=>null===o?Yn(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?qa([s,this.loader.loadComponent(i)]).pipe(iw()):s})}static{this.\u0275fac=function(i){return new(i||n)(dt(Cu),dt(OX),dt(Ua),dt(Mie),dt(f6))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const m6=new Rt("");let Tie=(()=>{class n{constructor(e,i,r,s,o={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=ze(Ua),o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof _F?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof DA?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof _w&&e.code===bF.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof iie&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var r=this;this.zone.runOutsideAngular((0,Tt.A)(function*(){yield new Promise(s=>{setTimeout(()=>{s()}),o4(()=>{s()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new iie(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){O3()}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac})}}return n})();function gm(n,t){return{\u0275kind:n,\u0275providers:t}}function Iie(){const n=ze(ta);return t=>{const e=n.get(Xf);if(t!==e.components[0])return;const i=n.get(Cu),r=n.get(Bie);1===n.get(A6)&&i.initialNavigation(),n.get(Fie,null,Ur.Optional)?.setUpPreloading(),n.get(m6,null,Ur.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Bie=new Rt("",{factory:()=>new Rn}),A6=new Rt("",{providedIn:"root",factory:()=>1}),Fie=new Rt("");function J3e(n){return gm(0,[{provide:Fie,useExisting:K3e},{provide:Mie,useExisting:n}])}function t4e(n){return gm(9,[{provide:Cie,useValue:O3e},{provide:Sie,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const Pie=new Rt("ROUTER_FORROOT_GUARD"),n4e=[X1,{provide:Aw,useClass:jH},Cu,G2,{provide:Wr,useFactory:function Nie(n){return n.routerState.root},deps:[Cu]},f6,[]];let g6=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[n4e,[],{provide:Sw,multi:!0,useValue:e},{provide:Pie,useFactory:o4e,deps:[[Cu,new kg,new jm]]},{provide:Cw,useValue:i||{}},i?.useHash?{provide:fv,useClass:EY}:{provide:fv,useClass:SY},{provide:m6,useFactory:()=>{const n=ze(RDe),t=ze(qn),e=ze(Cw),i=ze(EF),r=ze(Aw);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Tie(r,i,n,t,e)}},i?.preloadingStrategy?J3e(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?a4e(i):[],i?.bindToComponentInputs?gm(8,[uie,{provide:wF,useExisting:uie}]).\u0275providers:[],i?.enableViewTransitions?t4e().\u0275providers:[],[{provide:Oie,useFactory:Iie},{provide:sU,multi:!0,useExisting:Oie}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Sw,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(dt(Pie,8))}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();function o4e(n){return"guarded"}function a4e(n){return["disabled"===n.initialNavigation?gm(3,[{provide:qE,multi:!0,useFactory:()=>{const t=ze(Cu);return()=>{t.setUpLocationChangeListener()}}},{provide:A6,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?gm(2,[{provide:A6,useValue:0},{provide:qE,multi:!0,deps:[ta],useFactory:t=>{const e=t.get(w2e,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Cu),s=t.get(Bie);Die(r,()=>{i(!0)}),t.get(EF).afterPreactivation=()=>(i(!0),s.closed?Yn(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Oie=new Rt("");var v6=function(n){return n[n.Info=1]="Info",n[n.Debug=2]="Debug",n[n.Error=3]="Error",n}(v6||{});class DF{constructor(t,e){this._index=t,this._value=e}}class MF{constructor(t,e,i,r,s,o,a){this.P_DATA_SOURCE_ID=t,this.P_ID_TIPO_LOG=e,this.P_ROW_NUM=i,this.P_FECHA_INICIO=r,this.P_FECHA_FIN=s,this.P_FECHA_INICIO_STR=o,this.P_FECHA_FIN_STR=a}}class Rie{constructor(t,e){this.value=t,this.swap=e}}class br{constructor(t,e,i,r){this._index=t,this._value=e,this._selected=i,this._shortName=r}}class MA{constructor(t,e,i){this._index=t,this._value=e,this._selected=i}}var _6=function(n){return n[n.RoleAnonyumous=0]="RoleAnonyumous",n[n.RoleAdmin=1]="RoleAdmin",n[n.RoleMarketing=2]="RoleMarketing",n[n.RoleConfig=3]="RoleConfig",n[n.RoleEducation=4]="RoleEducation",n}(_6||{});let Y0=(()=>{class n{constructor(){this.HTTPOptions_Text_Plain={headers:new sc,responseType:"text"},this.HTTPOptions_Text={headers:new sc({Accept:"application/text"}),responseType:"text"},this.HTTPOptions_JSON={headers:new sc({"Content-Type":"application/json"}),responseType:"text"}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const eo={production:!0,externalConfig:{},pageSettingDictionary:{},mainPageListDictionary:{},jsonList:[],mainPageList:[],scmList:[]};let Hi=(()=>{class n{constructor(e,i){this.http=e,this.route=i}loadJsonData(e,i){return this.http.get(e).toPromise().then(r=>{r.forEach(s=>{i.push(s)})}).catch(r=>{console.error("Error loading configuration:",r)})}loadConfig(){return this.http.get("./assets/config/config.json").toPromise().then(e=>{eo.externalConfig=e}).catch(e=>{console.error("Error loading configuration:",e)})}_loadMainPages(){return new Promise(e=>{this.http.get("./assets/config/mainPages.json").toPromise().then(i=>{eo.mainPageList=i,eo.mainPageList.forEach(r=>{eo.mainPageListDictionary[r.log_name]=r}),e()}).catch(i=>{console.error("Error loading configuration:",i)})})}getConfigValue(e){return JSON.parse(JSON.stringify(eo.externalConfig))[e]}generateGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=16*Math.random()|0;return("x"===e?i:3&i|8).toString(16)})}queryUrlParams(e){let i="";return this.route.queryParams.subscribe(r=>{i=r[e]?r[e]:""}),i}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Wr))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),$r=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i}ngOnInit(){}_GetWebApiAppVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/Demos/_GetAppVersion`;return this.http.get(e,this.HTTPOptions_Text)}_GetASPNETCoreCppVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/EntryPoint/_GetAppVersion`;return this.http.get(e,this.HTTPOptions_Text)}SetLog(e,i,r=v6.Info){if(""==e||""==i)return;let s,o=`${this._configService.getConfigValue("baseUrlNetCore")}api/Demos/_SetLog?p_logMsg=${i}&logType=${r.toString()}`;s=this.http.get(o,this.HTTPOptions_Text),s.subscribe({next:l=>{},error:l=>{},complete:()=>{}})}getCSVLinkGET(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/_GetCSVLinkJsonGET`;return this.http.get(e)}getCSVLink(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/_GetCSVLinkJson`;return this.http.post(e,this.HTTPOptions_Text)}getInformeRemotoCSV(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/GenerarInformeCSVJson`;return this.http.get(e,this.HTTPOptions_Text)}getInformeRemotoCSV_STAT(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/GenerarInformeCSVJsonSTAT`;return this.http.get(e,this.HTTPOptions_Text)}_SetSTATPieCache(e){this.http.get(`${e}api/FileManager/_SetSTATPieCache`,this.HTTPOptions_Text).subscribe({next:o=>{},error:o=>{},complete:()=>{}})}getInformeRemotoCSV_NodeJS(){let e=`${this._configService.getConfigValue("baseUrlNodeJs")}GenerarInformeCSVJson`;console.warn(" REQUESTING URL : "+e);var i={headers:new sc({Accept:"application/text"}),responseType:"text"};return this.http.get(e,i)}getLogRemoto(e){let i=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/generarinformejson`;return this.http.get(i)}getLogRemotoNodeJS(e){let i=`${this._configService.getConfigValue("baseUrlNodeJs")}generarinformejson`;return this.http.get(i,this.HTTPOptions_JSON)}getLogRemotoSprinbBootJava(e){let i=`${this._configService.getConfigValue("baseUrlSpringBootJava")}getAllLogs`;return this.http.get(i,this.HTTPOptions_JSON)}getPersonsSprinbBootJava(){let e=`${this._configService.getConfigValue("baseUrlSpringBootJava")}getAllPersons`;return this.http.get(e,this.HTTPOptions_JSON)}getLogRemotoDjangoPython(e){let i=`${this._configService.getConfigValue("baseUrlDjangoPython")}getAllLogs?format=json`;return this.http.get(i,this.HTTPOptions_JSON)}getInformeExcel(e){let i=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/generarinformexls`;return this.http.get(i,this.HTTPOptions_Text)}getPersonsDjangoPython(){let e=`${this._configService.getConfigValue("baseUrlDjangoPython")}getAllPersons?format=json`;return this.http.get(e,this.HTTPOptions_JSON)}getLogStatPOST(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/GetConsultaLogStatPost`;return this.http.post(e,this.HTTPOptions_JSON)}getLogStatGET(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/GetConsultaLogStatGet`;return this.http.get(e)}_SetSTATBarCache(e){this.http.get(`${e}api/FileManager/_SetSTATBarCache`,this.HTTPOptions_Text).subscribe({next:o=>{},error:o=>{console.error("_SetSTATBarCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{}})}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y2=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i}_Algorithm_GetAppVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/GetDLLVersion`;return this.http.get(e,this.HTTPOptions_Text)}_Algorithm_GetCPPSTDVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/Algorithm_GetCPPSTDVersion`;return this.http.get(e,this.HTTPOptions_Text)}getRandomVertex(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCore")}api/Algorithm/GenerateRandomVertex?p_vertexSize=${e}&p_sourcePoint=${i}`;return this.http.get(r,this.HTTPOptions_Text)}getRandomVertexCpp(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/GenerateRandomVertex_CPP?p_vertexSize=${e}&p_sourcePoint=${i}`;return this.http.get(r,this.HTTPOptions_Text)}getRandomVertexSpringBoot(e,i){let r=`${this._configService.getConfigValue("baseUrlSpringBootJava")}GenerateRandomVertex_SpringBoot`;return this.http.get(r,this.HTTPOptions_Text_Plain)}getNewSort(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/Algorithm/_NewSort`;return this.http.get(e,this.HTTPOptions_Text)}getSort(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCore")}api/Algorithm/_GetSort?p_sortAlgoritm=${e}&p_unsortedList=${i}`;return this.http.get(r,this.HTTPOptions_Text)}getSort_CPP(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/_GetSort_CPP?p_sortAlgoritm=${e}&p_unsortedList=${i}`;return this.http.get(r,this.HTTPOptions_Text)}_GetXmlData(){let e=`${this._configService.getConfigValue("baseUrlNetCore")}api/Algorithm/_GetXmlData`;return this.http.get(e,this.HTTPOptions_Text)}_SetXmlDataToCache(e){this.http.get(`${e}api/Algorithm/_SetXmlDataToCache`,this.HTTPOptions_Text).subscribe({next:o=>{},error:o=>{console.error("_SetXmlDataToCache- (ERROR) : "+JSON.stringify(o.message))},complete:()=>{}})}_RegExEval(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCore")}api/Algorithm/_RegExEval?p_tagSearch=${e}&p_textSearch=${i}`;return this.http.get(r,this.HTTPOptions_Text)}_RegExEval_CPP(e,i){let r=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/_RegExEval_CPP?p_tagSearch=${e}&p_textSearch=${i}`;return this.http.get(r,this.HTTPOptions_Text)}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),kie=(()=>{class n{constructor(e,i,r,s,o){this.route=e,this.backendService=i,this._configService=r,this.titleService=s,this.algorithmService=o,this._title="",this._appBrand="",this._appVersion="",this.redirectPage=null,this._appBrand=this._configService.getConfigValue("appBrand"),this._appVersion=this._configService.getConfigValue("appVersion");let a=this._configService.getConfigValue("baseUrlNetCore");this.algorithmService._SetXmlDataToCache(a),this.backendService._SetSTATPieCache(a),this.backendService._SetSTATBarCache(a);let l=`${this._appBrand} - ${this._appVersion}`;this._title=`${this._appBrand}`,this.titleService.setTitle(l)}static{this.\u0275fac=function(i){return new(i||n)(oe(Wr),oe($r),oe(Hi),oe(zU),oe(Y2))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&Ye(0,"app-nav")}})}}return n})();const{isArray:h4e}=Array;function Lie(n){return 1===n.length&&h4e(n[0])?n[0]:n}function b6(...n){const t=oB(n),e=Lie(n);return e.length?new Xi(i=>{let r=e.map(()=>[]),s=e.map(()=>!1);i.add(()=>{r=s=null});for(let o=0;!i.closed&&o<e.length;o++)ja(e[o]).subscribe(ds(i,a=>{if(r[o].push(a),r.every(l=>l.length)){const l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&s[u])&&i.complete()}},()=>{s[o]=!0,!r[o].length&&i.complete()}));return()=>{r=s=null}}):nd}function y6(...n){const t=oB(n);return Xr((e,i)=>{const r=n.length,s=new Array(r);let o=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)ja(n[l]).subscribe(ds(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(Ns))&&(o=null))},Zs));e.subscribe(ds(i,l=>{if(a){const c=[l,...s];i.next(t?t(...c):c)}}))})}Math,Math,Math;const vUe=["*"],$Ue=["dialog"],JUe=(n,t,e)=>({$implicit:n,pages:t,disabled:e}),e8e=n=>({disabled:!0,currentPage:n}),t8e=(n,t,e)=>({disabled:n,$implicit:t,currentPage:e}),B6=(n,t)=>({disabled:n,currentPage:t}),n8e=n=>({disabled:n});function i8e(n,t){1&n&&(q(0,"span",13),UE(1,7),$())}function r8e(n,t){1&n&&(q(0,"span",13),UE(1,8),$())}function s8e(n,t){1&n&&(q(0,"span",13),UE(1,9),$())}function o8e(n,t){1&n&&(q(0,"span",13),UE(1,10),$())}function a8e(n,t){1&n&&pe(0,"...")}function l8e(n,t){1&n&&pe(0),2&n&&An(t.$implicit)}function c8e(n,t){}function u8e(n,t){if(1&n&&(q(0,"a",16),ht(1,c8e,0,0,"ng-template",12),$()),2&n){const e=lt(2).$implicit,i=lt(),r=ha(9);te(),Se("ngTemplateOutlet",(null==i.tplEllipsis?null:i.tplEllipsis.templateRef)||r)("ngTemplateOutletContext",Fl(2,e8e,e))}}function d8e(n,t){}function h8e(n,t){if(1&n){const e=Bi();q(0,"a",17),ct("click",function(r){$t(e);const s=lt().$implicit;return lt(2).selectPage(s),Gt(r.preventDefault())}),ht(1,d8e,0,0,"ng-template",12),$()}if(2&n){const e=lt().$implicit,i=lt(),r=i.$implicit,s=i.disabled,o=lt(),a=ha(11);$i("tabindex",s?"-1":null)("aria-disabled",s?"true":null),te(),Se("ngTemplateOutlet",(null==o.tplNumber?null:o.tplNumber.templateRef)||a)("ngTemplateOutletContext",K4(4,t8e,s,e,r))}}function f8e(n,t){if(1&n&&(q(0,"li",15),ht(1,u8e,2,4,"a",16)(2,h8e,2,8),$()),2&n){const e=t.$implicit,i=lt(),r=i.$implicit,s=i.disabled,o=lt();oi("active",e===r)("disabled",o.isEllipsis(e)||s),$i("aria-current",e===r?"page":null),te(),fi(1,o.isEllipsis(e)?1:2)}}function p8e(n,t){1&n&&tc(0,f8e,3,6,"li",14,Ju),2&n&&nc(t.pages)}function m8e(n,t){}function A8e(n,t){if(1&n){const e=Bi();q(0,"li",15)(1,"a",18),ct("click",function(r){return $t(e),lt().selectPage(1),Gt(r.preventDefault())}),ht(2,m8e,0,0,"ng-template",12),$()()}if(2&n){const e=lt(),i=ha(1);oi("disabled",e.previousDisabled()),te(),$i("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),te(),Se("ngTemplateOutlet",(null==e.tplFirst?null:e.tplFirst.templateRef)||i)("ngTemplateOutletContext",q1(6,B6,e.previousDisabled(),e.page))}}function g8e(n,t){}function v8e(n,t){if(1&n){const e=Bi();q(0,"li",15)(1,"a",19),ct("click",function(r){$t(e);const s=lt();return s.selectPage(s.page-1),Gt(r.preventDefault())}),ht(2,g8e,0,0,"ng-template",12),$()()}if(2&n){const e=lt(),i=ha(3);oi("disabled",e.previousDisabled()),te(),$i("tabindex",e.previousDisabled()?"-1":null)("aria-disabled",e.previousDisabled()?"true":null),te(),Se("ngTemplateOutlet",(null==e.tplPrevious?null:e.tplPrevious.templateRef)||i)("ngTemplateOutletContext",Fl(6,n8e,e.previousDisabled()))}}function _8e(n,t){}function b8e(n,t){}function y8e(n,t){if(1&n){const e=Bi();q(0,"li",15)(1,"a",20),ct("click",function(r){$t(e);const s=lt();return s.selectPage(s.page+1),Gt(r.preventDefault())}),ht(2,b8e,0,0,"ng-template",12),$()()}if(2&n){const e=lt(),i=ha(5);oi("disabled",e.nextDisabled()),te(),$i("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),te(),Se("ngTemplateOutlet",(null==e.tplNext?null:e.tplNext.templateRef)||i)("ngTemplateOutletContext",q1(6,B6,e.nextDisabled(),e.page))}}function w8e(n,t){}function x8e(n,t){if(1&n){const e=Bi();q(0,"li",15)(1,"a",21),ct("click",function(r){$t(e);const s=lt();return s.selectPage(s.pageCount),Gt(r.preventDefault())}),ht(2,w8e,0,0,"ng-template",12),$()()}if(2&n){const e=lt(),i=ha(7);oi("disabled",e.nextDisabled()),te(),$i("tabindex",e.nextDisabled()?"-1":null)("aria-disabled",e.nextDisabled()?"true":null),te(),Se("ngTemplateOutlet",(null==e.tplLast?null:e.tplLast.templateRef)||i)("ngTemplateOutletContext",q1(6,B6,e.nextDisabled(),e.page))}}function B8e(n,t){if(1&n&&(q(0,"span"),pe(1),$()),2&n){const e=lt().$implicit;Wf(lt().highlightClass),te(),An(e)}}function F8e(n,t){if(1&n&&(eh(0),pe(1),th()),2&n){const e=lt().$implicit;te(),An(e)}}function P8e(n,t){1&n&&ht(0,B8e,2,4,"span",0)(1,F8e,2,1),2&n&&fi(0,t.$index%2!=0?0:1)}const ire={animation:!0,transitionTimerDelayMs:5};let FF=(()=>{class n{constructor(){this.animation=ire.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function rre(n){return null!=n?`${n}`:""}function Nw(n){return"string"==typeof n}function Sc(n){return!isNaN(function ad(n){return parseInt(`${n}`,10)}(n))}function eb(n){return null!=n}function Iw(n){return(n||document.body).getBoundingClientRect()}function are(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const Q8e=()=>{},{transitionTimerDelayMs:G8e}=ire,rD=new Map,ef=(n,t,e,i)=>{let r=i.context||{};const s=rD.get(t);if(s)switch(i.runningTransition){case"continue":return nd;case"stop":n.run(()=>s.transition$.complete()),r=Object.assign(s.context,r),rD.delete(t)}const o=e(t,i.animation,r)||Q8e;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>o()),Yn(void 0).pipe(function z8e(n){return t=>new Xi(e=>t.subscribe({next:o=>n.run(()=>e.next(o)),error:o=>n.run(()=>e.error(o)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Rn,l=new Rn,c=a.pipe(function p4e(...n){return t=>O0(t,Yn(...n))}(!0));rD.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const u=function L8e(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const d=na(t,"transitionend").pipe(Fi(c),Ps(({target:h})=>h===t));(function Uie(...n){return 1===(n=Lie(n)).length?ja(n[0]):new Xi(function f4e(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(ja(n[i]).subscribe(ds(t,r=>{if(e){for(let s=0;s<e.length;s++)s!==i&&e[s].unsubscribe();e=null}t.next(r)})))}}(n))})(c2(u+G8e).pipe(Fi(c)),d,l).pipe(Fi(c)).subscribe(()=>{rD.delete(t),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()},q8e=(n,t,e)=>{let{direction:i,maxSize:r,dimension:s}=e;const{classList:o}=n;function a(){o.add("collapse"),"show"===i?o.add("show"):o.remove("show")}if(t)return r||(r=function j8e(n,t){if(typeof navigator>"u")return"0px";const{classList:e}=n,i=e.contains("show");i||e.add("show"),n.style[t]="";const r=n.getBoundingClientRect()[t]+"px";return i||e.remove("show"),r}(n,s),e.maxSize=r,n.style[s]="show"!==i?r:"0px",o.remove("collapse"),o.remove("collapsing"),o.remove("show"),Iw(n),o.add("collapsing")),n.style[s]="show"===i?r:"0px",()=>{a(),o.remove("collapsing"),n.style[s]=""};a()};let W8e=(()=>{class n{constructor(){this._ngbConfig=ze(FF),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),F6=(()=>{class n{constructor(){this._config=ze(W8e),this._element=ze($n),this._zone=ze(qn),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new Cn,this.horizontal=this._config.horizontal,this.shown=new Cn,this.hidden=new Cn}set collapsed(e){this._isCollapsed!==e&&(this._isCollapsed=e,this._afterInit&&this._runTransitionWithEvents(e,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(e=this._isCollapsed){this.collapsed=!e,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(e,i){return ef(this._zone,this._element.nativeElement,q8e,{animation:i,runningTransition:"stop",context:{direction:e?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(e,i){this._runTransition(e,i).subscribe(()=>{e?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){2&i&&oi("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[kt.None,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return n})(),dre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),O6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),pre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),mre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();var To=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(To||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wre=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xre(n){const t=Array.from(n.querySelectorAll(wre)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Ure=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),Vre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),WHe=(()=>{class n{constructor(){this._ngbConfig=ze(FF),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(e){this._animation=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class sb{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}let $He=(()=>{class n{constructor(){this._document=ze(mr)}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:s,paddingRight:o}=r;if(e>0){const a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+e}px`}return r.overflow="hidden",()=>{e>0&&(r.paddingRight=o),r.overflow=s}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),KHe=(()=>{class n{constructor(){this._nativeElement=ze($n).nativeElement,this._zone=ze(qn)}ngOnInit(){this._zone.onStable.asObservable().pipe(Ws(1)).subscribe(()=>{ef(this._zone,this._nativeElement,(e,i)=>{i&&Iw(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return ef(this._zone,this._nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){2&i&&(Wf("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),oi("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[qr],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return n})();class zre{update(t){}close(t){}dismiss(t){}}const XHe=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],YHe=["animation","backdropClass"];class ZHe{_applyWindowOptions(t,e){XHe.forEach(i=>{eb(e[i])&&(t[i]=e[i])})}_applyBackdropOptions(t,e){YHe.forEach(i=>{eb(e[i])&&(t[i]=e[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Fi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Fi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Rn,this._dismissed=new Rn,this._hidden=new Rn,t.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function sre(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Yn(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),b6(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var W6=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(W6||{});let JHe=(()=>{class n{constructor(){this._document=ze(mr),this._elRef=ze($n),this._zone=ze(qn),this._closed$=new Rn,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new Cn,this.shown=new Rn,this.hidden=new Rn}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Nw(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Ws(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},o=b6(ef(this._zone,e,()=>e.classList.remove("show"),i),ef(this._zone,this._dialogEl.nativeElement,()=>{},i));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const e={animation:this.animation,runningTransition:"continue"};b6(ef(this._zone,this._elRef.nativeElement,(s,o)=>{o&&Iw(s),s.classList.add("show")},e),ef(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{na(e,"keydown").pipe(Fi(this._closed$),Ps(r=>r.which===To.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(W6.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;na(this._dialogEl.nativeElement,"mousedown").pipe(Fi(this._closed$),$s(()=>i=!1),Ta(()=>na(e,"mouseup").pipe(Fi(this._closed$),Ws(1))),Ps(({target:r})=>e===r)).subscribe(()=>{i=!0}),na(e,"click").pipe(Fi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(W6.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=xre(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&ef(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(1&i&&Tn($Ue,7),2&i){let s;Ut(s=Ht())&&(r._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){2&i&&($i("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),Wf("modal d-block"+(r.windowClass?" "+r.windowClass:"")),oi("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[qr],ngContentSelectors:vUe,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){1&i&&(_u(),q(0,"div",1,0)(2,"div",2),Cs(3),$()()),2&i&&Wf("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),e6e=(()=>{class n{constructor(){this._applicationRef=ze(Xf),this._injector=ze(ta),this._environmentInjector=ze(Ua),this._document=ze(mr),this._scrollBar=ze($He),this._activeWindowCmptHasChanged=new Rn,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new Cn;const e=ze(qn);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const i=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{n.runOutsideAngular(()=>{const r=na(t,"focusin").pipe(Fi(e),_i(s=>s.target));na(t,"keydown").pipe(Fi(e),Ps(s=>s.which===To.Tab),y6(r)).subscribe(([s,o])=>{const[a,l]=xre(t);(o===a||o===t)&&s.shiftKey&&(l.focus(),s.preventDefault()),o===l&&!s.shiftKey&&(a.focus(),s.preventDefault())}),i&&na(t,"click").pipe(Fi(e),y6(r),_i(s=>s[1])).subscribe(s=>s.focus())})})(e,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){const e=this._scrollBarRestoreFn;e&&(this._scrollBarRestoreFn=null,e())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(e,i,r){const s=r.container instanceof HTMLElement?r.container:eb(r.container)?this._document.querySelector(r.container):this._document.body;if(!s)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const o=new zre,a=(e=r.injector||e).get(Ua,null)||this._environmentInjector,l=this._getContentRef(e,a,i,o,r);let c=!1!==r.backdrop?this._attachBackdrop(s):void 0,u=this._attachWindowComponent(s,l.nodes),d=new ZHe(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Ws(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),o.close=f=>{d.close(f)},o.dismiss=f=>{d.dismiss(f)},o.update=f=>{d.update(f)},d.update(r),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e){let i=mU(KHe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}_attachWindowComponent(e,i){let r=mU(JHe,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_getContentRef(e,i,r,s,o){return r?r instanceof gs?this._createFromTemplateRef(r,s):Nw(r)?this._createFromString(r):this._createFromComponent(e,i,r,s,o):new sb([])}_createFromTemplateRef(e,i){const s=e.createEmbeddedView({$implicit:i,close(o){i.close(o)},dismiss(o){i.dismiss(o)}});return this._applicationRef.attachView(s),new sb([s.rootNodes],s)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new sb([[i]])}_createFromComponent(e,i,r,s,o){const l=mU(r,{environmentInjector:i,elementInjector:ta.create({providers:[{provide:zre,useValue:s}],parent:e})}),c=l.location.nativeElement;return o.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new sb([[c]],l.hostView,l)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),t6e=(()=>{class n{constructor(){this._injector=ze(ta),this._modalStack=ze(e6e),this._config=ze(WHe)}open(e,i={}){const r={...this._config,animation:this._config.animation,...i};return this._modalStack.open(this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({providers:[t6e]})}}return n})(),qre=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),c6e=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0})}}return n})(),$re=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0})}}return n})(),Kre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0})}}return n})(),Xre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0})}}return n})(),Yre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0})}}return n})(),Zre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0})}}return n})(),Jre=(()=>{class n{constructor(){this.templateRef=ze(gs)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0})}}return n})(),lD=(()=>{class n{constructor(){this._config=ze(c6e),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new Cn(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(e){this._updatePages(e)}ngOnChanges(e){this._updatePages(this.page)}isEllipsis(e){return-1===e}_applyEllipses(e,i){this.ellipses&&(e>0&&(e>2?this.pages.unshift(-1):2===e&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let e=0,i=this.pageCount,r=Math.floor(this.maxSize/2);return this.page<=r?i=this.maxSize:this.pageCount-this.page<r?e=this.pageCount-this.maxSize:(e=this.page-r-1,i=this.page+(this.maxSize%2==0?r-1:r)),[e,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[i,i+this.maxSize]}_setPageInRange(e){const i=this.page;this.page=function U8e(n,t,e=0){return Math.max(Math.min(n,t),e)}(e,this.pageCount,1),this.page!==i&&Sc(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(e){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Sc(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(e),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,r=this.pageCount;[i,r]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(i,r),this._applyEllipses(i,r)}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["ngb-pagination"]],contentQueries:function(i,r,s){if(1&i&&(nr(s,Wre,5),nr(s,$re,5),nr(s,Kre,5),nr(s,Xre,5),nr(s,Yre,5),nr(s,Zre,5),nr(s,Jre,5)),2&i){let o;Ut(o=Ht())&&(r.tplEllipsis=o.first),Ut(o=Ht())&&(r.tplFirst=o.first),Ut(o=Ht())&&(r.tplLast=o.first),Ut(o=Ht())&&(r.tplNext=o.first),Ut(o=Ht())&&(r.tplNumber=o.first),Ut(o=Ht())&&(r.tplPrevious=o.first),Ut(o=Ht())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[js,qr],decls:20,vars:12,consts:()=>{let e,i,r,s,o,a,l,c;return e=$localize`:@@ngb.pagination.first:`,i=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,s=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,a=$localize`:@@ngb.pagination.previous-aria:Previous`,l=$localize`:@@ngb.pagination.next-aria:Next`,c=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],e,i,r,s,[1,"page-item",3,"disabled"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],[1,"page-item",3,"active","disabled"],[1,"page-item"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",a,"href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"]]},template:function(i,r){if(1&i&&(ht(0,i8e,2,0,"ng-template",null,0,zc)(2,r8e,2,0,"ng-template",null,1,zc)(4,s8e,2,0,"ng-template",null,2,zc)(6,o8e,2,0,"ng-template",null,3,zc)(8,a8e,1,0,"ng-template",null,4,zc)(10,l8e,1,1,"ng-template",null,5,zc)(12,p8e,2,0,"ng-template",null,6,zc),q(14,"ul"),ht(15,A8e,3,9,"li",11)(16,v8e,3,8,"li",11)(17,_8e,0,0,"ng-template",12)(18,y8e,3,9,"li",11)(19,x8e,3,9,"li",11),$()),2&i){const s=ha(13);te(14),Wf("pagination"+(r.size?" pagination-"+r.size:"")),te(),fi(15,r.boundaryLinks?15:-1),te(),fi(16,r.directionLinks?16:-1),te(),Se("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||s)("ngTemplateOutletContext",K4(8,JUe,r.page,r.pages,r.disabled)),te(),fi(18,r.directionLinks?18:-1),te(),fi(19,r.boundaryLinks?19:-1)}},dependencies:[T0],encapsulation:2,changeDetection:0})}}return n})(),X6=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),ese=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),tse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),nse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),ise=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),rse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),sse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),ose=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),cD=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(e){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const i=rre(this.result),r=Array.isArray(this.term)?this.term:[this.term],s=c=>this.accentSensitive?c:are(c),o=r.map(c=>function H8e(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(s(rre(c)))).filter(c=>c),a=this.accentSensitive?i:are(i),l=o.length?a.split(new RegExp(`(${o.join("|")})`,"gmi")):[i];if(this.accentSensitive)this.parts=l;else{let c=0;this.parts=l.map(u=>i.substring(c,c+=u.length))}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[js,qr],decls:2,vars:0,consts:[[3,"class"]],template:function(i,r){1&i&&tc(0,P8e,2,1,null,null,Ju),2&i&&nc(r.parts)},styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0})}}return n})();new Rt("live announcer delay",{providedIn:"root",factory:()=>100});let ase=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})(),lse=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({})}}return n})();const A6e=[dre,O6,pre,mre,Ure,Vre,Qre,qre,lse,X6,ese,tse,nse,ise,rse,sse,ose,ase];let g6e=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[A6e,dre,O6,pre,mre,Ure,Vre,Qre,qre,lse,X6,ese,tse,nse,ise,rse,sse,ose,ase]})}}return n})();const v6e=n=>[n],_6e=n=>({pageName:n});function b6e(n,t){if(1&n){const e=Bi();q(0,"ul",14)(1,"li",15)(2,"a",16),ct("click",function(){return $t(e),Gt(lt()._navbarCollapsed=!0)}),q(3,"div",17),pe(4),$()()()()}if(2&n){const e=t.$implicit;te(2),Se("routerLink",Fl(3,v6e,e.url))("queryParams",Fl(5,_6e,e.queryParams)),te(2),An(e.text)}}let y6e=(()=>{class n{get _NavbarCollapsed(){return this._navbarCollapsed}set _NavbarCollapsed(e){this._navbarCollapsed=e}constructor(e,i,r,s){this._customErrorHandler=e,this.backendService=i,this._configService=r,this.titleService=s,this._appBrand="",this._title="",this._appEnv="",this._appVersion="",this._navbarCollapsed=!0,this.pages=[{url:"/Home",text:"[HOME]",queryParams:"PAGE_ANGULAR_DEMO_INDEX"},{url:"/PageUrlList",text:"[DEMOS]",queryParams:"PAGE_ANGULAR_DEMO_INDEX"},{url:"/PageUrlList",text:"[ABOUT]",queryParams:"PAGE_ABOUT_INDEX"}];let o="",a="";o="appBrand",a=this._configService.getConfigValue(o),this._appBrand=a,o="appEnv",a=this._configService.getConfigValue(o),this._appEnv=a,o="appVersion",a=this._configService.getConfigValue(o),this._appVersion=a,this.titleService.setTitle(`${this._appBrand} -- ${this._appEnv} -- ${this._appVersion}`)}ngOnInit(){}getValueFromConfig(e){return this._configService.getConfigValue(e)}static{this.\u0275fac=function(i){return new(i||n)(oe(JM),oe($r),oe(Hi),oe(zU))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-nav"]],decls:25,vars:6,consts:[["navbarItems",""],[1,""],[1,"navbar","navbar-expand-lg","subtitle"],["type","button","data-toggle","collapse","data-target","#navbarItems","aria-controls","navbarItems","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],[1,"subtitle",3,"click"],["routerLink","/"],[1,"me-1",2,"width","25px",3,"src","alt"],["id","navbarItems","align","left",1,"collapse","navbar-collapse","subtitle",3,"ngbCollapse"],["class","navbar-nav",4,"ngFor","ngForOf"],["role","main",1,"main-container"],[1,"footer"],["routerLink","/Index"],[1,"navbar-nav"],[1,"nav-item"],[1,"nav-link",3,"click","routerLink","queryParams"],["align","left"]],template:function(i,r){if(1&i){const s=Bi();q(0,"header",1)(1,"div",1)(2,"nav",2)(3,"button",3),ct("click",function(){return $t(s),Gt(r._NavbarCollapsed=!r._NavbarCollapsed)}),Ye(4,"span",4),$(),q(5,"a",5)(6,"div",6),ct("click",function(){return $t(s),Gt(r._navbarCollapsed=!0)}),q(7,"a",7),Ye(8,"img",8),$()()(),q(9,"div",9,0),ht(11,b6e,5,7,"ul",10),$()()()(),Ye(12,"hr"),q(13,"div",11),Ye(14,"router-outlet"),$(),Ye(15,"hr"),q(16,"footer")(17,"div",12)(18,"H5")(19,"a",13),pe(20,"[Index]"),$()(),q(21,"h5"),pe(22),$(),q(23,"h5"),pe(24),$()()()}2&i&&(te(8),Se("src","./assets/images/logos/Angular_full_color_logo.svg.png",Js)("alt","Angular Logo"),te(),Se("ngbCollapse",r._NavbarCollapsed),te(2),Se("ngForOf",r.pages),te(11),di("Application Name : ",r._appBrand+" -- "+r._appEnv,""),te(2),di("Application Version : ",r._appVersion,""))},dependencies:[Ma,F6,s6,rs]})}}return n})();const uD=new Rt("PAGE_ID"),dD=new Rt("PAGE_SIZE"),ra=(new Rt("PAGE_TITLE"),new Rt("PAGE_TITLE_LOG")),hD=new Rt("SEARCH_TERM"),bl=(new Rt("PAGE_NAME"),"PAGE_TITLE_NO_SOUND"),cse="PAGE_GAMES_SUDOKU";let vs=(()=>{class n{constructor(){this.isListening=!1,this.transcript="",this.error="";const e=window.SpeechRecognition||window.webkitSpeechRecognition;e?(this.recognition=new e,this.recognition.lang="en-US",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=i=>{this.transcript=i.results[0][0].transcript},this.recognition.onerror=i=>{this.error=i.error,this.isListening=!1,console.error("Error:",this.error)},this.recognition.onend=()=>{}):console.info("Speech Recognition API is not supported in your browser.")}startListening(){this.recognition&&(this.isListening=!0,this.recognition.start())}stopListening(){this.recognition&&(this.isListening=!1,this.recognition.stop())}speakText(){if(this.transcript){const e=new SpeechSynthesisUtterance(this.transcript);e.lang="en-US",window.speechSynthesis.speak(e)}else alert("No text to speak!");return this.transcript}speakTextCustom(e,i=""){setTimeout(()=>{const r=new SpeechSynthesisUtterance(e);r.lang=""==i?"en-US":i,speechSynthesis.speak(r)},1e3)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function K6e(n,t){if(1&n&&(q(0,"li")(1,"a",7),pe(2),$()()),2&n){const e=lt().$implicit;te(),Se("routerLink",e.routerLink)("queryParams",e.queryParamsObj),te(),di(" ",e.text," ")}}function X6e(n,t){if(1&n&&(q(0,"li")(1,"a",8),pe(2),$()()),2&n){const e=lt().$implicit;te(),Se("href",e.url,Js),te(),di(" ",e.text," ")}}function Y6e(n,t){if(1&n&&(q(0,"div"),ht(1,K6e,3,3,"li",6)(2,X6e,3,2,"li",6),$()),2&n){const e=t.$implicit;te(),Se("ngIf","about:blank"!==e.routerLink),te(),Se("ngIf","about:blank"!==e.url)}}function Z6e(n,t){if(1&n&&(q(0,"ul"),ht(1,Y6e,3,2,"div",5),$()),2&n){const e=lt().$implicit,i=lt(2);te(),Se("ngForOf",i.pagesByGroupId[e.id])}}function J6e(n,t){if(1&n&&(q(0,"li"),pe(1),ht(2,Z6e,2,1,"ul",6),$()),2&n){const e=t.$implicit,i=lt(2);te(),di("",e.text," "),te(),Se("ngIf",null!==i._pages_nested)}}function eVe(n,t){if(1&n&&(q(0,"ul",4),ht(1,J6e,3,2,"li",5),$()),2&n){const e=lt();te(),Se("ngForOf",e._pages)}}let yr=(()=>{class n{get pageTitle(){return this._pageTitle}set pageTitle(e){this._pageTitle=e}constructor(e,i,r,s,o){this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.PAGE_TITLE_LOG=o,this._pageTitle="",this.isListVisible=!1,this.toogleLisCaption="[See references]",this.status_message=hA(""),this._pages=[],this._pages_nested=[],this._page_name="",this.pagesByGroupId={},dv(()=>{this.status_message()&&console.log(`status_message : ${this.status_message()} `),this.speechService.speakTextCustom(this.status_message())}),this.configService._loadMainPages().then(()=>{const a=eo.mainPageListDictionary?.[o];this._page_name=a?.page_name,this._page_name&&"string"==typeof this._page_name?(this.pageTitle=this._page_name,this.speechService.speakTextCustom(this.pageTitle,"en-US"),this.backendService.SetLog(this._pageTitle,o),null!==eo.mainPageListDictionary[o].pages&&(eo.mainPageListDictionary[o].pages=eo.mainPageListDictionary[o].pages.map(l=>({...l,queryParamsObj:this.parseQueryParams(l.queryParams)})),this._pages=eo.mainPageListDictionary[o].pages,this._pages=this._pages.map(l=>({...l,queryParamsObj:l.queryParams&&"string"==typeof l.queryParams?this.parseQueryParams(l.queryParams):l.queryParamsObj}))),null!==eo.mainPageListDictionary[o].pages_nested&&(this._pages_nested=eo.mainPageListDictionary[o].pages_nested,this._pages_nested=this._pages_nested.map(l=>({...l,queryParamsObj:this.parseQueryParams(l.queryParams)})),this.pagesByGroupId=this._pages_nested.reduce((l,c)=>{const u=c.id;return l[u]||(l[u]=[]),l[u].push(c),l},{}))):(console.warn(`Page data not found for key: ${o}`),this.pageTitle=o)})}toggleList(){this.isListVisible=!this.isListVisible,this.toogleLisCaption=this.isListVisible?"[Hide references]":"[See references]",this.isListVisible&&this.speechService.speakTextCustom("See references")}parseQueryParams(e){return"string"==typeof e&&e.trim()?e.replace(/{|}/g,"").replace(/['"]/g,"").replace(/\s+/g," ").trim().split(",").reduce((r,s)=>{const[o,a]=s.split(":").map(l=>l.trim());return o&&a&&(r[o]=a),r},{}):(console.debug("parseQueryParams: Invalid input",{input:e}),{})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(ra))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-base-reference"]],decls:8,vars:3,consts:[["align","center"],["align","right",2,"padding","1em"],[1,"btn","btn-primary",3,"click"],["align","left","widdth","10px","class","reference_base",4,"ngIf"],["align","left","widdth","10px",1,"reference_base"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink","queryParams"],["target","_blank",3,"href"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2),$()(),Ye(3,"hr"),q(4,"div",1)(5,"button",2),ct("click",function(){return r.toggleList()}),pe(6),$(),ht(7,eVe,2,1,"ul",3),$()),2&i&&(te(2),An(r.pageTitle),te(4),An(r.toogleLisCaption),te(),Se("ngIf",r.isListVisible))},dependencies:[Ma,pa,rs],styles:[".reference_base[_ngcontent-%COMP%]{ul,li,a,a:visited,a:hover,a:active{color:#000}font-size:xx-small;background-color:gray;padding:1em}"]})}}return n})();const qF=n=>[n];function tVe(n,t){if(1&n&&(q(0,"a",2),Ye(1,"img",3),$()),2&n){const e=lt().$implicit;Se("routerLink",Fl(4,qF,e.routerLink))("queryParams",e.queryParamsObj),te(),Se("src",Fl(6,qF,e.text),Js)("alt","Logo")}}function nVe(n,t){if(1&n&&(q(0,"a",4),Ye(1,"img",3),$()),2&n){const e=lt().$implicit;Se("routerLink",Fl(3,qF,e.url)),te(),Se("src",Fl(5,qF,e.text),Js)("alt","Logo")}}function iVe(n,t){if(1&n&&(q(0,"span"),ht(1,tVe,2,8,"a",2)(2,nVe,2,7),$()),2&n){const e=t.$implicit;te(),fi(1,e.queryParams?1:2)}}let use=(()=>{class n{constructor(e){this.configService=e,this._pages_nested=[],this.LandingPage=void 0}ngAfterViewInit(){this.loadLandingPage()}loadLandingPage(){this.configService._loadMainPages().then(()=>{const e=eo.mainPageListDictionary?.PAGE_ANGULAR_DEMO_LANDING,i=this.LandingPage?this.LandingPage:e?.page_name;i&&"string"==typeof i?(console.log(`Selected Landing Page : ${i}`),null!==eo.mainPageListDictionary[i].pages_nested&&(this._pages_nested=eo.mainPageListDictionary[i].pages_nested,this._pages_nested=this._pages_nested.map(r=>({...r,queryParamsObj:this.parseQueryParams(r.queryParams)})))):console.warn(`Page data not found for key: ${i}`)})}parseQueryParams(e){return"string"==typeof e&&e.trim()?e.replace(/{|}/g,"").replace(/['"]/g,"").replace(/\s+/g," ").trim().split(",").reduce((r,s)=>{const[o,a]=s.split(":").map(l=>l.trim());return o&&a&&(r[o]=a),r},{}):(console.debug("parseQueryParams: Invalid input",{input:e}),{})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-landing"]],inputs:{LandingPage:"LandingPage"},decls:2,vars:1,consts:[["align","center",1,"animate"],[4,"ngFor","ngForOf"],[3,"routerLink","queryParams"],[1,"me-1",2,"width","45px",3,"src","alt"],[3,"routerLink"]],template:function(i,r){1&i&&(q(0,"div",0),ht(1,iVe,3,1,"span",1),$()),2&i&&(te(),Se("ngForOf",r._pages_nested))},dependencies:[Ma,rs]})}}return n})();function rVe(n,t){if(1&n&&(q(0,"span",4)(1,"a",5)(2,"span",6),pe(3),$()()()),2&n){const e=lt().$implicit;te(),Se("routerLink",e.url)("queryParams",e.queryParamsObj),te(2),An(e.text)}}function sVe(n,t){if(1&n&&(q(0,"span"),ht(1,rVe,4,3,"span",3),$()),2&n){const e=t.$implicit;te(),Se("ngIf",e)}}let dse=(()=>{class n extends yr{get _appBrand(){return`Welcome to ${this.configService.getConfigValue("appBrand")}`}constructor(e,i,r,s){super(e,i,r,s,"PAGE_ANGULAR_DEMO_INDEX"),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.selectedLandingPage=""}ngOnInit(){this.queryParams()}ngAfterViewInit(){}queryParams(){this.route.queryParams.subscribe({next:e=>{let i=e.landingPage?e.landingPage:"NO_ASSIGNED";console.log(` Landing Page Query Param : ${i} `),"NO_ASSIGNED"!==i&&(this.selectedLandingPage=i)},complete:()=>{}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-home-web"]],features:[mn],decls:7,vars:3,consts:[["align","center",1,"animate"],[3,"LandingPage"],[4,"ngFor","ngForOf"],["style","padding:5px;",4,"ngIf"],[2,"padding","5px"],[3,"routerLink","queryParams"],["align","left"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h4"),pe(2),$(),Ye(3,"hr")(4,"app-landing",1)(5,"hr"),ht(6,sVe,2,1,"span",2),$()),2&i&&(te(2),di("",r._appBrand,"!"),te(2),Se("LandingPage",r.selectedLandingPage),te(2),Se("ngForOf",r._pages))},dependencies:[Ma,pa,rs,use],styles:[".animate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale 2s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.5)}to{opacity:1;transform:scale(1)}}"]})}}return n})(),fD=(()=>{class n{get pageTitle(){return this._pageTitle}set pageTitle(e){this._pageTitle=e}constructor(e,i,r,s,o){this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.PAGE_TITLE_LOG=o,this._pageTitle="",this.isListVisible=!1,this.toogleLisCaption="[See references]",this.status_message=hA(""),this._pages=[],this._page_name="",dv(()=>{this.status_message()&&console.log(`status_message : ${this.status_message()} `),this.speechService.speakTextCustom(this.status_message())}),this.configService._loadMainPages().then(()=>{const a=eo.mainPageListDictionary?.[o];this._page_name=a?.page_name,this._page_name&&"string"==typeof this._page_name?(this.pageTitle=this._page_name,this.speechService.speakTextCustom(this.pageTitle,"en-US"),this.backendService.SetLog(this._pageTitle,o),null!==eo.mainPageListDictionary[o].pages&&(this._pages=eo.mainPageListDictionary[o].pages)):(console.warn(`Page data not found for key: ${o}`),this.pageTitle=o)})}toggleList(){this.isListVisible=!this.isListVisible,this.toogleLisCaption=this.isListVisible?"[Hide references]":"[See references]",this.isListVisible&&this.speechService.speakTextCustom("See references")}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(ra))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-base"]],decls:3,vars:1,template:function(i,r){1&i&&(q(0,"div")(1,"h1"),pe(2),$()()),2&i&&(te(2),An(r.pageTitle))}})}}return n})(),oVe=(()=>{class n extends fD{constructor(e,i,r,s){super(e,i,r,s,"PAGE_NOT_FOUND")}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-page-not-found"]],features:[mn],decls:7,vars:1,consts:[["align","center"],["align","right"],["routerLink","/Home"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2),$()(),Ye(3,"hr"),q(4,"div",1)(5,"a",2),pe(6,"[Home]"),$()()),2&i&&(te(2),An(r.pageTitle))},dependencies:[rs]})}}return n})();const aVe={asc:"desc",desc:"","":"asc"};function hse(n,t,e){return""===e||""===t?n:[...n].sort((i,r)=>{const s=((n,t)=>n<t?-1:n>t?1:0)(i[t],r[t]);return"asc"===e?s:-s})}function fse(n,t,e){return n.name?.toLowerCase().includes(t?.toLowerCase())||n.description?.toLowerCase().includes(t?.toLowerCase())||n.field_1?.toLowerCase().includes(t?.toLowerCase())||n.field_2?.toLowerCase().includes(t?.toLowerCase())||n.field_3?.toLowerCase().includes(t?.toLowerCase())||n.field_4?.toLowerCase().includes(t?.toLowerCase())||n.field_5?.toLowerCase().includes(t?.toLowerCase())||n.field_6?.toLowerCase().includes(t?.toLowerCase())||n.field_7?.toLowerCase().includes(t?.toLowerCase())||n.field_8?.toLowerCase().includes(t?.toLowerCase())||n.field_9?.toLowerCase().includes(t?.toLowerCase())||n.field_10?.toLowerCase().includes(t?.toLowerCase())}let pD=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new Cn}rotatePage(){this.direction=aVe[this.direction],this.sortevent.emit({_column:this.sortable,_direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["th","sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&ct("click",function(){return r.rotatePage()}),2&i&&oi("asc","asc"===r.direction)("desc","desc"===r.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),mD=(()=>{class n{constructor(e,i,r,s,o,a,l){this.PAGE_ID=e,this.PAGE_SIZE=i,this.SEARCH_TERM=r,this.pipe=s,this.__configService=o,this.backendService=a,this.speechService=l,this._loading=new Qr(!0),this._search$=new Rn,this._Pagelist=new Qr([]),this._total=new Qr(0),this._pageTitle="",this._PAGE_ID="",this._environmentList=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.GetData(e),this.pageSize=i,this.searchTerm=r}GetData(e){this.__configService._loadMainPages().then(()=>{this.pageTitle=eo.mainPageListDictionary[e].page_name,this.__configService.loadJsonData(eo.mainPageListDictionary[e].pages[0].url,this._environmentList).then(()=>{this._search$.pipe($s(()=>this._loading.next(!0)),nw(200),Ta(()=>this._search()),b2(200),$s(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next(),console.info("speak "+this.pageTitle),console.info("log   "+this.pageID),this.speechService.speakTextCustom(this.pageTitle),this.backendService.SetLog(this.pageTitle,this.pageID)})})}_search(){let i,e=[],r={searchPages:e,total:i};const{sortColumn:s,sortDirection:o,pageSize:a,page:l,searchTerm:c}=this._state;this._environmentList.forEach(d=>{e.push(d)});let u=1;return e=e.map(d=>({...d,id:u++})),e=e.map(d=>({...d,field_7:this.fixBackend(d.field_7)})),e=hse(e,s,o),e=e.filter(d=>fse(d,c)),i=e.length,e=e.slice((l-1)*a,(l-1)*a+a),r={searchPages:e,total:i},Yn(r)}get pageID(){return this._PAGE_ID}set pageID(e){this._PAGE_ID=e}get pageTitle(){return this._pageTitle}set pageTitle(e){this._pageTitle=e}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(e){this._Pagelist=e}get page(){return this._state.page}set page(e){this._set({page:e})}get pageSize(){return this._state.pageSize}set pageSize(e){this._set({pageSize:e})}get searchTerm(){return this._state.searchTerm}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}_set(e){Object.assign(this._state,e),this._search$.next()}speakText(e){this.searchTerm=e}clearText(){this.searchTerm=""}fixBackend(e){return"string"==typeof e&&e.trim()&&"string"==typeof e&&e.trim()?e.replace(/\{\{(.+?)\}\}/g,(o,a)=>{const l=a.trim();let c=e;return void 0!==l&&(c=this.__configService.getConfigValue(l)),void 0!==c?c:o}):(console.debug("field_4_input: Invalid input",{input:e}),"")}static{this.\u0275fac=function(i){return new(i||n)(dt(uD),dt(dD),dt(hD),dt(N0),dt(Hi),dt($r),dt(vs))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),pse=(()=>{class n{constructor(e){this.searchService=e,this.ConfigRoleString=_6.RoleConfig.toString(),this.__pages=this.searchService.Pagelist,this.__total=this.searchService.total}onSort({_column:e,_direction:i}){this._headers?.forEach(r=>{r.sortable!==e&&(r.direction="")}),this.searchService.sortColumn=e,this.searchService.sortDirection=i}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(oe(mD))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-search_"]],viewQuery:function(i,r){if(1&i&&Tn(pD,5),2&i){let s;Ut(s=Ht())&&(r._headers=s)}},decls:2,vars:0,template:function(i,r){1&i&&(q(0,"p"),pe(1,"search works!"),$())}})}}return n})();function cVe(n,t){1&n&&(q(0,"span",4),pe(1,"[Listening...]"),$())}function uVe(n,t){if(1&n&&(q(0,"span",6)(1,"p"),pe(2),$()()),2&n){const e=lt();te(2),di("Error: ",e.speechService.error,"")}}let WF=(()=>{class n{constructor(e){this.speechService=e,this.ListeningButtonIconOn="./assets/images/mic_on.gif",this.ListeningButtonIconOff="./assets/images/mic_off.gif",this.SpeakerIcon="./assets/images/speaker_on.gif",this.clearFormIcon="./assets/images/clearForm.gif",this.clickEventSpeak=new Cn,this.clickEventClearText=new Cn}speakText(){this.clickEventSpeak.emit(this.speechService.speakText())}clearText(){this.clickEventClearText.emit()}static{this.\u0275fac=function(i){return new(i||n)(oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-speech-panel"]],outputs:{clickEventSpeak:"clickEventSpeak",clickEventClearText:"clickEventClearText"},decls:12,vars:9,consts:[[3,"click","disabled"],[1,"imgSearch",3,"src"],[3,"click"],["alt","new search",1,"imgSearch",3,"src"],[1,"col","col-form-label"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,r){1&i&&(q(0,"div")(1,"button",0),ct("click",function(){return r.speechService.startListening()}),Ye(2,"img",1),$(),q(3,"button",0),ct("click",function(){return r.speechService.stopListening()}),Ye(4,"img",1),$(),q(5,"button",0),ct("click",function(){return r.speakText()}),Ye(6,"img",1),$(),q(7,"button",2),ct("click",function(){return r.clearText()}),Ye(8,"img",3),$()(),q(9,"div"),ht(10,cVe,2,0,"span",4)(11,uVe,3,1,"span",5),$()),2&i&&(te(),Se("disabled",r.speechService.isListening),te(),Se("src",r.ListeningButtonIconOn,Js),te(),Se("disabled",!r.speechService.isListening),te(),Se("src",r.ListeningButtonIconOff,Js),te(),Se("disabled",r.speechService.isListening),te(),Se("src",r.SpeakerIcon,Js),te(2),Se("src",r.clearFormIcon,Js),te(2),fi(10,r.speechService.isListening&&!r.speechService.error?10:-1),te(),Se("ngIf",r.speechService.error))},dependencies:[pa]})}}return n})();const dVe=(n,t)=>t.id,hVe=()=>({pageName:"PAGE_ABOUT_INDEX"});function fVe(n,t){1&n&&(q(0,"span",7),pe(1,"[Loading...]"),$())}function pVe(n,t){if(1&n&&(q(0,"tr")(1,"th",22),pe(2),$(),q(3,"td"),Ye(4,"input",23),$(),q(5,"td",0),Ye(6,"ngb-highlight",24),$(),q(7,"td",0)(8,"a",25),Ye(9,"ngb-highlight",24),$()(),q(10,"td",0)(11,"a",25),Ye(12,"ngb-highlight",24),$()(),q(13,"td",0)(14,"a",25),Ye(15,"ngb-highlight",24),$()(),q(16,"td",0)(17,"a",25),Ye(18,"ngb-highlight",24),$()()()),2&n){const e=t.$implicit,i=lt();te(2),An(e.id),te(2),Se("checked",e.done),te(2),Se("result",e.description)("term",i.searchService.searchTerm),te(2),Se("href",e.field_1,Js),te(),Se("result",e.name)("term",i.searchService.searchTerm),te(2),Se("href",e.field_3,Js),te(),Se("result",e.field_2)("term",i.searchService.searchTerm),te(2),Se("href",e.field_5,Js),te(),Se("result",e.field_4)("term",i.searchService.searchTerm),te(2),Se("href",e.field_7,Js),te(),Se("result",e.field_6)("term",i.searchService.searchTerm)}}function mVe(n,t){1&n&&(q(0,"tr")(1,"td",26),pe(2,"[NO SE ENCONTRARON DATOS]"),$()())}let AVe=(()=>{class n extends pse{constructor(e){super(e),this.searchService=e}static{this.\u0275fac=function(i){return new(i||n)(oe(mD))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-scm"]],features:[Ln([mD,{provide:uD,useValue:"PAGE_ABOUT_SCM"},{provide:dD,useValue:8},{provide:hD,useValue:""}]),mn],decls:53,vars:21,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"clickEventSpeak","clickEventClearText"],[1,"col","col-form-label"],[1,"table","table-striped","table-dark"],["align","left","scope","col","sortable","id",3,"sortevent"],["align","left","scope","col","sortable","done",3,"sortevent"],["align","left","scope","col","sortable","description",3,"sortevent"],["align","left","scope","col","sortable","name",3,"sortevent"],["align","left","scope","col","sortable","field_2",3,"sortevent"],["align","left","scope","col","sortable","field_4",3,"sortevent"],["align","left","scope","col","sortable","field_6",3,"sortevent"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],[3,"routerLink","queryParams"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"result","term"],["target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2),$()(),Ye(3,"hr"),q(4,"form")(5,"div",1)(6,"label",2),pe(7,"Full Text Search:"),$(),q(8,"div",3)(9,"input",4),Mo("ngModelChange",function(o){return Vo(r.searchService.searchTerm,o)||(r.searchService.searchTerm=o),o}),$()(),q(10,"span",5)(11,"div")(12,"app-speech-panel",6),ct("clickEventSpeak",function(o){return r.searchService.speakText(o)})("clickEventClearText",function(){return r.searchService.clearText()}),$()()(),ht(13,fVe,2,0,"span",7),ml(14,"async"),$(),q(15,"table",8)(16,"thead")(17,"tr")(18,"th",9),ct("sortevent",function(o){return r.onSort(o)}),pe(19,"#"),$(),q(20,"th",10),ct("sortevent",function(o){return r.onSort(o)}),pe(21,"(Hecho)"),$(),q(22,"th",11),ct("sortevent",function(o){return r.onSort(o)}),pe(23,"[Type]"),$(),q(24,"th",12),ct("sortevent",function(o){return r.onSort(o)}),pe(25,"[desc_1]"),$(),q(26,"th",13),ct("sortevent",function(o){return r.onSort(o)}),pe(27,"[desc_2]"),$(),q(28,"th",14),ct("sortevent",function(o){return r.onSort(o)}),pe(29,"[desc_3]"),$(),q(30,"th",15),ct("sortevent",function(o){return r.onSort(o)}),pe(31,"[desc_4]"),$()()(),q(32,"tbody"),tc(33,pVe,19,16,"tr",null,dVe,!1,mVe,3,0,"tr"),ml(36,"async"),$()(),q(37,"div",16)(38,"ngb-pagination",17),ml(39,"async"),Mo("pageChange",function(o){return Vo(r.searchService.page,o)||(r.searchService.page=o),o}),$(),q(40,"select",18),Mo("ngModelChange",function(o){return Vo(r.searchService.pageSize,o)||(r.searchService.pageSize=o),o}),q(41,"option",19),pe(42,"2 items por Pagina"),$(),q(43,"option",19),pe(44,"4 items por Pagina"),$(),q(45,"option",19),pe(46,"6 tems por Pagina"),$(),q(47,"option",19),pe(48,"10 items por Pagina"),$()()()(),Ye(49,"hr"),q(50,"div",20)(51,"a",21),pe(52,"[Back to Menu]"),$()()),2&i&&(te(2),An(r.searchService.pageTitle),te(7),Do("ngModel",r.searchService.searchTerm),te(4),fi(13,xc(14,14,r.searchService.loading)?13:-1),te(20),nc(xc(36,16,r.__pages)),te(5),Se("collectionSize",xc(39,18,r.searchService.total)),Do("page",r.searchService.page),Se("pageSize",r.searchService.pageSize),te(2),Do("ngModel",r.searchService.pageSize),te(),Se("ngValue",2),te(2),Se("ngValue",4),te(2),Se("ngValue",6),te(2),Se("ngValue",10),te(4),Se("routerLink","/PageUrlList")("queryParams",Us(20,hVe)))},dependencies:[Yh,wu,xu,sd,V0,$h,Kh,Xh,od,lD,cD,rs,WF,pD,pv],styles:["a[_ngcontent-%COMP%]:link{color:#00ff40}a[_ngcontent-%COMP%]:visited{color:green}a[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#add8e6}input[type=checkbox][_ngcontent-%COMP%]{outline:1px solid rgb(0,17,255);color:#8a2be2;pointer-events:none}"]})}}return n})(),mse=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i,this.__baseUrlTesseract="",this.__baseUrlTesseract=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/ocr/`}_GetTesseract_CPPSTDVersion(){return this.http.get(`${this.__baseUrlTesseract}GetTesseract_CPPSTDVersion`,this.HTTPOptions_Text)}_GetTesseract_AppVersion(){return this.http.get(`${this.__baseUrlTesseract}GetTesseractAppVersion`,this.HTTPOptions_Text)}_GetTesseract_APIVersion(){return this.http.get(`${this.__baseUrlTesseract}GetTesseractVersion`,this.HTTPOptions_Text)}uploadBase64ImageCPP(e){let i=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/ocr/upload`;return this.http.post(i,{base64Image:e})}uploadBase64ImageNodeJs(e){let i=`${this._configService.getConfigValue("baseUrlNodeJsOcr")}upload`;return this.http.post(i,{base64Image:e})}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Y6=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i,this.__baseUrlComputerVision="",this.__baseUrlComputerVision=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/computervision/`}_OpenCv_js_detectShapes(e){const i=[];if(cv.getBuildInformation){const r=cv.imread(e),s=new cv.Mat,o=new cv.Mat;cv.cvtColor(r,s,cv.COLOR_RGBA2GRAY,0),cv.Canny(s,o,50,150,3,!1);const a=new cv.MatVector,l=new cv.Mat;cv.findContours(o,a,l,cv.RETR_EXTERNAL,cv.CHAIN_APPROX_SIMPLE);for(let c=0;c<a.size();c++){const u=a.get(c),d=new cv.Mat,f=.04*cv.arcLength(u,!0);cv.approxPolyDP(u,d,f,!0);let h="";if(3===d.rows)h="[Triangle]";else if(4===d.rows){const p=cv.boundingRect(d),m=p.width/p.height;h=m>=.95&&m<=1.05?"[Square]":"[Rectangle]"}else d.rows>4&&(h="[Circle]");h&&i.push(h)}return r.delete(),s.delete(),o.delete(),a.delete(),l.delete(),i}return console.log("cv missing"),i}_OpenCv_CPP_uploadBase64Image(e){return this.http.post(`${this.__baseUrlComputerVision}uploadOpenCv`,{base64Image:e})}_OpenCv_GetAppVersion(){return this.http.get(`${this.__baseUrlComputerVision}GetOpenCvAppVersion`,this.HTTPOptions_Text)}_OpenCv_GetAPIVersion(){return this.http.get(`${this.__baseUrlComputerVision}GetOpenCvAPIVersion`,this.HTTPOptions_Text)}_OpenCv_GetCPPSTDVersion(){return this.http.get(`${this.__baseUrlComputerVision}OpenCv_GetCPPSTDVersion`,this.HTTPOptions_Text)}_OpenCv_GetFractal(e,i,r){return this.http.get(`${this.__baseUrlComputerVision}generatejuliaparams/?maxIterations=${e}&realPart=${i}&imagPart=${r}`,{responseType:"blob"})}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ase=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i}getConfigValue(e){return JSON.parse(JSON.stringify(eo.externalConfig))[e]}predictTime_tensorflow_python(e){let i=`${this.getConfigValue("baseUrlDjangoPythonTF")}predict/`;const r={mission_number:e},s=new sc({"Content-Type":"application/json"});return this.http.post(i,r,{headers:s})}predictTime_netcore_cpp(e){let i=`${this.getConfigValue("baseUrlNetCoreCPPEntry")}api/linearregression/predict?missionNumberToPredict=${e}`;const r=new sc({"Content-Type":"application/json"});return this.http.get(i,{headers:r})}_GetTensorFlowAPIVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/TicTacToe/GetTensorFlowAPIVersion`;return this.http.get(e,this.HTTPOptions_Text)}_GetTensorFlowAPPVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/TicTacToe/GetTensorFlowAPPVersion`;return this.http.get(e,this.HTTPOptions_Text)}_TensorFlow_GetCPPSTDVersion(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/TicTacToe/TensorFlow_GetCPPSTDVersion`;return this.http.get(e,this.HTTPOptions_Text)}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const gVe=()=>({pageName:"PAGE_ABOUT_INDEX"});let vVe=(()=>{class n extends fD{get _baseUrlNetCore(){return this.__baseUrlNetCore}get _baseUrlNodeJs(){return this.__baseUrlNodeJs}get _baseUrlNodeJsOcr(){return this.__baseUrlNodeJsOcr}get _baseUrlNodeJsChat(){return this.__baseUrlNodeJsChat}get _baseUrlSpringBootJava(){return this.__baseUrlSprinbBootJava}get _baseUrlNetCoreCPPEntry(){return this.__baseUrlNetCoreCPPEntry}constructor(e,i,r,s,o,a,l,c){super(e,i,r,s,"PAGE_ABOUT_TECHNICAL_SPECS"),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.ocrService=o,this.computervisionService=a,this.tensorflowService=l,this.algorithmService=c,this._runtimeVersion=PSe.full,this._webApiAppVersion="(..cargando..)",this._AlgorithmAppVersion="(..cargando..)",this._Algorithm_CPPSTDVersion="(..cargando..)",this._ASPNETCoreCppVersion="(..cargando..)",this._tesseractAppVersion="(..cargando..)",this._tesseractAPIVersion="(..cargando..)",this._tesseractCPPSTDVersion="(..cargando..)",this._OpenCvAppVersion="(..cargando..)",this._OpenCvAPIVersion="(..cargando..)",this._OpenCvCPPSTDVersion="(..cargando..)",this._TensorFlowAPIVersion="(..cargando..)",this._TensorFlowAPPVersion="(..cargando..)",this._TensorFlowCPPSTDVersion="(..cargando..)",this.guid=hA(""),this.__baseUrlNetCore="",this.__baseUrlNodeJs="",this.__baseUrlNodeJsChat="",this.__baseUrlNodeJsOcr="",this.__baseUrlSprinbBootJava="",this.__baseUrlNetCoreCPPEntry="",this._appBrand=this.configService.getConfigValue("appBrand"),this._appVersion=this.configService.getConfigValue("appVersion"),this.__baseUrlNetCoreCPPEntry=this.configService.getConfigValue("baseUrlNetCoreCPPEntry"),this.__baseUrlNetCore=this.configService.getConfigValue("baseUrlNetCore"),this.__baseUrlNodeJs=this.configService.getConfigValue("baseUrlNodeJs"),this.__baseUrlNodeJsChat=this.configService.getConfigValue("baseUrlNodeJsChat"),this.__baseUrlNodeJsOcr=this.configService.getConfigValue("baseUrlNodeJsOcr"),this.__baseUrlSprinbBootJava=this.configService.getConfigValue("baseUrlSpringBootJava"),this._GetWebApiAppVersion(),this._GetAlgorithmAppVersion(),this._GetAlgorithmCPPSTDVersion(),this._GetASPNETCoreCppVersion(),this._GetTesseractAppVersion(),this._GetTesseractAPIVersion(),this._GetTesseract_CPPSTDVersion(),this._GetOpenCvAppVersion(),this._GetOpenCVAPIVersion(),this._GetOpenCV_CPPSTDVersion(),this._GetTensorflowAPIVersion(),this._GetTensorflowAPPVersion(),this._GetTensorflowcCPPSTDVersion()}ngOnInit(){}setNewGuid(){let e=this.configService.generateGuid();return this.guid.set(e),e}generateNewGuid(){var e=this;return(0,Tt.A)(function*(){try{yield navigator.clipboard.writeText(e.setNewGuid()),alert("Text copied to clipboard!")}catch(i){console.error("Failed to copy text: ",i),alert("Failed to copy text.")}})()}_GetWebApiAppVersion(){this.backendService._GetWebApiAppVersion().subscribe({next:r=>{this._webApiAppVersion=r},error:r=>{console.error("_GetAppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this.setNewGuid()}_GetAlgorithmAppVersion(){return this.algorithmService._Algorithm_GetAppVersion().subscribe({next:r=>{this._AlgorithmAppVersion=r},error:r=>{console.error("_GetCppDLLVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._tesseractAppVersion}_GetAlgorithmCPPSTDVersion(){return this.algorithmService._Algorithm_GetCPPSTDVersion().subscribe({next:r=>{this._Algorithm_CPPSTDVersion=r},error:r=>{console.error("_Algorithm_CPPSTDVersion  - (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._Algorithm_CPPSTDVersion}_GetASPNETCoreCppVersion(){return this.backendService._GetASPNETCoreCppVersion().subscribe({next:r=>{this._ASPNETCoreCppVersion=r},error:r=>{console.error("_GetASPNETCoreCppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._tesseractAppVersion}_GetTesseractAppVersion(){return this.ocrService._GetTesseract_AppVersion().subscribe({next:r=>{this._tesseractAppVersion=r},error:r=>{console.error("_GetTesseractAppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._tesseractAppVersion}_GetTesseractAPIVersion(){return this.ocrService._GetTesseract_APIVersion().subscribe({next:r=>{this._tesseractAPIVersion=r},error:r=>{console.error("_GetTesseractAppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._tesseractAPIVersion}_GetTesseract_CPPSTDVersion(){return this.ocrService._GetTesseract_CPPSTDVersion().subscribe({next:r=>{this._tesseractCPPSTDVersion=r},error:r=>{console.error("_GetTesseract_CPPSTDVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._tesseractCPPSTDVersion}_GetOpenCvAppVersion(){return this.computervisionService._OpenCv_GetAppVersion().subscribe({next:r=>{this._OpenCvAppVersion=r},error:r=>{console.error("_GetOpenCvAppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._OpenCvAppVersion}_GetOpenCVAPIVersion(){return this.computervisionService._OpenCv_GetAPIVersion().subscribe({next:r=>{this._OpenCvAPIVersion=r},error:r=>{console.error("_GetOpenCvAppVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._OpenCvAPIVersion}_GetOpenCV_CPPSTDVersion(){return this.computervisionService._OpenCv_GetCPPSTDVersion().subscribe({next:r=>{this._OpenCvCPPSTDVersion=r},error:r=>{console.error("_GetOpenCV_CPPSTDVersion- (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._OpenCvCPPSTDVersion}_GetTensorflowAPIVersion(){return this.tensorflowService._GetTensorFlowAPIVersion().subscribe({next:r=>{this._TensorFlowAPIVersion=r},error:r=>{console.error("_GetTensorflowAPIVersion - (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._TensorFlowAPIVersion}_GetTensorflowAPPVersion(){return this.tensorflowService._GetTensorFlowAPPVersion().subscribe({next:r=>{this._TensorFlowAPPVersion=r},error:r=>{console.error("_GetTensorflowAPIVersion - (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._TensorFlowAPPVersion}_GetTensorflowcCPPSTDVersion(){return this.tensorflowService._TensorFlow_GetCPPSTDVersion().subscribe({next:r=>{this._TensorFlowCPPSTDVersion=r},error:r=>{console.error("_GetTensorflowcCPPSTDVersion - (ERROR) : "+JSON.stringify(r.message))},complete:()=>{}}),this._TensorFlowCPPSTDVersion}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(mse),oe(Y6),oe(Ase),oe(Y2))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-technical-specs"]],features:[mn],decls:72,vars:21,consts:[["align","center"],["align","left"],[3,"click"],["align","right"],[3,"routerLink","queryParams"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"H4"),pe(2),$()(),Ye(3,"hr"),q(4,"table")(5,"tr")(6,"td"),pe(7,"Aplication Name "),$(),q(8,"td",1)(9,"b"),pe(10),$()()(),q(11,"tr")(12,"td"),pe(13,"Aplication Version "),$(),q(14,"td",1)(15,"b"),pe(16),$()()(),q(17,"tr")(18,"td"),pe(19,"Angular Runtime "),$(),q(20,"td")(21,"b"),pe(22),$()()(),q(23,"tr")(24,"td"),pe(25,"(Backend ASP.NET Core x32 / C# ) "),$(),q(26,"td")(27,"b"),pe(28),$()()(),q(29,"tr")(30,"td"),pe(31,"(Backend ASP.NET Core x64 / C++) "),$(),q(32,"td")(33,"b"),pe(34),$()()(),q(35,"tr")(36,"td"),pe(37,"(DLL C++ Algorithm) "),$(),q(38,"td")(39,"b"),pe(40),$()()(),q(41,"tr")(42,"td"),pe(43,"(DLL C++ OpenCv) "),$(),q(44,"td")(45,"b"),pe(46),$()()(),q(47,"tr")(48,"td"),pe(49,"(DLL C++ Tensorflow) "),$(),q(50,"td")(51,"b"),pe(52),$()()(),q(53,"tr")(54,"td"),pe(55,"(DLL C++ Tesseract) "),$(),q(56,"td")(57,"b"),pe(58),$()()(),q(59,"tr")(60,"td"),pe(61,"Random GUID "),q(62,"b")(63,"button",2),ct("click",function(){return r.generateNewGuid()}),pe(64,"[GENERATE & COPY]"),$()()(),q(65,"td")(66,"b"),pe(67),$()()()(),Ye(68,"hr"),q(69,"div",3)(70,"a",4),pe(71,"[Back to Menu]"),$()()),2&i&&(te(2),An(r.pageTitle),te(8),di("",r._appBrand," "),te(6),di("",r._appVersion," "),te(6),di("",r._runtimeVersion," "),te(6),di("v5.0 App v[",r._webApiAppVersion,"] "),te(6),di("v8.0 App v[",r._ASPNETCoreCppVersion,"] "),te(6),SI("App v[",r._AlgorithmAppVersion,"] / [",r._Algorithm_CPPSTDVersion,"] "),te(6),HE("App v[",r._OpenCvAppVersion,"] / [",r._OpenCvCPPSTDVersion,"] / API v[",r._OpenCvAPIVersion,"] "),te(6),HE("App v[",r._TensorFlowAPPVersion,"] / [",r._TensorFlowCPPSTDVersion,"] / API v[",r._TensorFlowAPIVersion,"] "),te(6),HE("App v[",r._tesseractAppVersion,"] / [",r._tesseractCPPSTDVersion,"] / API v[",r._tesseractAPIVersion,"] "),te(9),di("",r.guid()," "),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(20,gVe)))},dependencies:[rs],styles:["table[_ngcontent-%COMP%]{height:auto;border:2px solid black;color:#0ff}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc}"]})}}return n})();const _Ve=(n,t)=>t.id,bVe=()=>({pageName:"PAGE_DEMOS_CURRICULUM_INDEX"});function yVe(n,t){1&n&&(q(0,"span",9),pe(1,"[Loading...]"),$())}function wVe(n,t){if(1&n&&(q(0,"tr")(1,"th",25),pe(2),$(),q(3,"td"),Ye(4,"input",26),$(),q(5,"td")(6,"a",27),Ye(7,"ngb-highlight",28),$()(),q(8,"td")(9,"a",29),pe(10," [Demo] "),$()(),q(11,"td")(12,"a",30),pe(13," [Repo] "),$()(),q(14,"td")(15,"a",30),pe(16," [Topic] "),$()(),q(17,"td"),Ye(18,"ngb-highlight",28),$(),q(19,"td"),Ye(20,"ngb-highlight",28),$()()),2&n){const e=t.$implicit,i=lt();te(2),An(e.id),te(2),Se("checked",e.done),te(2),Se("href",e.field_3,Js),te(),Se("result",e.name)("term",i.searchService.searchTerm),te(2),Se("href",e.field_3,Js),te(3),Se("href",e.field_4,Js),te(3),Se("href",e.field_5,Js),te(3),Se("result",e.field_2)("term",i.searchService.searchTerm),te(2),Se("result",e.description)("term",i.searchService.searchTerm)}}function xVe(n,t){1&n&&(q(0,"tr")(1,"td",31),pe(2,"[NO SE ENCONTRARON DATOS]"),$()())}let CVe=(()=>{class n extends pse{constructor(e,i){super(e),this.searchService=e,this.router=i,this.toogleLisCaption="[Ir a Demos / Angular ...]"}toggleList(){this.router.navigate(["/GridParam"],{queryParams:{pageName:"PAGE_DEMOS_ANGULAR_JAVASCRIPT"}})}static{this.\u0275fac=function(i){return new(i||n)(oe(mD),oe(Cu))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-curriculum-angular"]],features:[Ln([Hi,mD,{provide:uD,useValue:"PAGE_CURRICULUM_ANGULAR"},{provide:dD,useValue:8},{provide:hD,useFactory:e=>e.queryUrlParams("searchTerm"),deps:[Hi]}]),mn],decls:57,vars:21,consts:[["align","left"],["align","right",1,"reference"],[1,"btn","btn-primary",3,"click"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"clickEventSpeak","clickEventClearText"],[1,"col","col-form-label"],[1,"table","table-striped","table-dark"],["scope","col","sortable","id",3,"sortevent"],["scope","col","sortable","done",3,"sortevent"],["scope","col","sortable","name",3,"sortevent"],["scope","col","sortable","field_3",3,"sortevent"],["scope","col","sortable","field_4",3,"sortevent"],["scope","col","sortable","field_5",3,"sortevent"],["scope","col","sortable","field_2",3,"sortevent"],["scope","col","sortable","description",3,"sortevent"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],[3,"routerLink","queryParams"],["scope","row"],["type","checkbox","name","done","id","done","value","done","readonly","",3,"checked"],[3,"href"],[3,"result","term"],["ngb-highlight","",3,"href"],["ngb-highlight","","target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2),$(),Ye(3,"hr"),q(4,"div",1)(5,"button",2),ct("click",function(){return r.toggleList()}),pe(6),$()(),Ye(7,"hr"),q(8,"form")(9,"div",3)(10,"label",4),pe(11,"B\xfasqueda por P\xe1gina:"),$(),q(12,"div",5)(13,"input",6),Mo("ngModelChange",function(o){return Vo(r.searchService.searchTerm,o)||(r.searchService.searchTerm=o),o}),$()(),q(14,"span",7)(15,"div")(16,"app-speech-panel",8),ct("clickEventSpeak",function(o){return r.searchService.speakText(o)})("clickEventClearText",function(){return r.searchService.clearText()}),$()()(),ht(17,yVe,2,0,"span",9),ml(18,"async"),$(),q(19,"table",10)(20,"thead")(21,"tr")(22,"th",11),ct("sortevent",function(o){return r.onSort(o)}),pe(23,"#"),$(),q(24,"th",12),ct("sortevent",function(o){return r.onSort(o)}),pe(25,"(Done)"),$(),q(26,"th",13),ct("sortevent",function(o){return r.onSort(o)}),pe(27,"Name"),$(),q(28,"th",14),ct("sortevent",function(o){return r.onSort(o)}),pe(29,"Demo"),$(),q(30,"th",15),ct("sortevent",function(o){return r.onSort(o)}),pe(31,"Repo"),$(),q(32,"th",16),ct("sortevent",function(o){return r.onSort(o)}),pe(33,"Topic"),$(),q(34,"th",17),ct("sortevent",function(o){return r.onSort(o)}),pe(35,"Keywords"),$(),q(36,"th",18),ct("sortevent",function(o){return r.onSort(o)}),pe(37,"Description"),$()()(),q(38,"tbody"),tc(39,wVe,21,12,"tr",null,_Ve,!1,xVe,3,0,"tr"),ml(42,"async"),$()(),q(43,"div",19)(44,"ngb-pagination",20),ml(45,"async"),Mo("pageChange",function(o){return Vo(r.searchService.page,o)||(r.searchService.page=o),o}),$(),q(46,"select",21),Mo("ngModelChange",function(o){return Vo(r.searchService.pageSize,o)||(r.searchService.pageSize=o),o}),q(47,"option",22),pe(48,"2 items por Pagina"),$(),q(49,"option",22),pe(50,"4 items por Pagina"),$(),q(51,"option",22),pe(52,"6 items por Pagina"),$()()()()(),Ye(53,"hr"),q(54,"div",23)(55,"a",24),pe(56,"[Back to Menu]"),$()()),2&i&&(te(2),An(r.searchService.pageTitle),te(4),An(r.toogleLisCaption),te(7),Do("ngModel",r.searchService.searchTerm),te(4),fi(17,xc(18,14,r.searchService.loading)?17:-1),te(22),nc(xc(42,16,r.__pages)),te(5),Se("collectionSize",xc(45,18,r.searchService.total)),Do("page",r.searchService.page),Se("pageSize",r.searchService.pageSize),te(2),Do("ngModel",r.searchService.pageSize),te(),Se("ngValue",2),te(2),Se("ngValue",4),te(2),Se("ngValue",6),te(4),Se("routerLink","/PageUrlList")("queryParams",Us(20,bVe)))},dependencies:[Yh,wu,xu,sd,V0,$h,Kh,Xh,od,lD,cD,rs,WF,pD,pv],styles:["a[_ngcontent-%COMP%]:link{color:#00ff40}a[_ngcontent-%COMP%]:visited{color:green}a[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#add8e6}input[type=checkbox][_ngcontent-%COMP%]{outline:1px solid rgb(0,17,255);color:#8a2be2;pointer-events:none}"]})}}return n})();const SVe=["ballCanvas"],EVe=()=>({pageName:"PAGE_ALGORITMOS_INDEX"});let DVe=(()=>{class n extends yr{constructor(e,i,r,s,o){super(i,s,o,r,bl),this.pageRestartService=e,this.configService=i,this.speechService=r,this.backendService=s,this.route=o,this.ball={x:100,y:100,vx:5,vy:0,radius:15,mass:1},this.gravity=.5,this.friction=.98,this.restitution=.8,this.animate=()=>{this.ctx=this.canvas.nativeElement.getContext("2d"),this.ctx.clearRect(0,0,this.canvas.nativeElement.width,this.canvas.nativeElement.height),this.ball.vy+=this.gravity,this.ball.x+=this.ball.vx,this.ball.y+=this.ball.vy,(this.ball.x+this.ball.radius>this.canvas.nativeElement.width||this.ball.x-this.ball.radius<0)&&(this.ball.vx=-this.ball.vx*this.restitution),this.ball.y+this.ball.radius>this.canvas.nativeElement.height&&(this.ball.y=this.canvas.nativeElement.height-this.ball.radius,this.ball.vy=-this.ball.vy*this.restitution,this.ball.vx*=this.friction),this.ctx.beginPath(),this.ctx.arc(this.ball.x,this.ball.y,this.ball.radius,0,2*Math.PI),this.ctx.fillStyle="red",this.ctx.fill(),this.ctx.closePath(),Math.abs(this.ball.vx)<.1&&Math.abs(this.ball.vy)<.1?(this.ball.vx=0,this.ball.vy=0):requestAnimationFrame(this.animate)}}restart(){this.pageRestartService.reloadPage()}ngAfterViewInit(){this.animate()}static{this.\u0275fac=function(i){return new(i||n)(oe(MVe),oe(Hi),oe(vs),oe($r),oe(Wr))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-algorithm-collision"]],viewQuery:function(i,r){if(1&i&&Tn(SVe,5),2&i){let s;Ut(s=Ht())&&(r.canvas=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_ALGORITMOS_COLISION"}]),mn],decls:12,vars:3,consts:[["ballCanvas",""],["align","center"],["width","300","height","300"],[3,"click"],["align","right"],[3,"routerLink","queryParams"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1),Ye(1,"app-base-reference")(2,"hr")(3,"canvas",2,0)(5,"hr"),q(6,"button",3),ct("click",function(){return $t(s),Gt(r.restart())}),pe(7,"[RESTART]"),$(),Ye(8,"hr"),q(9,"div",4)(10,"a",5),pe(11,"[Back to Menu]"),$()()()}2&i&&(te(10),Se("routerLink","/PageUrlList")("queryParams",Us(2,EVe)))},dependencies:[rs,yr],styles:["canvas[_ngcontent-%COMP%]{border:1px solid #d3d3d3}"]})}}return n})(),MVe=(()=>{class n{constructor(e){this.router=e}reloadPage(){window.location.reload()}reloadCurrentRoute(){var e=this;return(0,Tt.A)(function*(){const i=e.router.url;return yield e.router.navigateByUrl("/",{skipLocationChange:!0}),e.router.navigateByUrl(i)})()}reloadWithQueryParamsRefresh(){const e=window.location.href;window.location.href=e}static{this.\u0275fac=function(i){return new(i||n)(dt(Cu))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class $F{static DebugHostingContent(t){let i=t.replace(/(\r\n|\n|\r)/gm,""),r=i.match(/(.*)(<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->)(.*\w+.*)(<!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE-->)(.*)/);if(null!=r)for(var s=1;s<r.length;s++){var o=r[s];-1!=o.indexOf("\x3c!--SCRIPT GENERATED BY SERVER! PLEASE REMOVE--\x3e")&&""!=o.trim()&&(i=i.replace(o,"")),-1!=o.indexOf("<center>")&&""!=o.trim()&&(i=i.replace(o,""))}return i}}var TVe=Me(7239),NVe=Me.n(TVe),No=Me(2284),to=Uint8Array,Su=Uint16Array,AD=Int32Array,Pw=new to([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ow=new to([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gD=new to([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vse=function(n,t){for(var e=new Su(31),i=0;i<31;++i)e[i]=t+=1<<n[i-1];var r=new AD(e[30]);for(i=1;i<30;++i)for(var s=e[i];s<e[i+1];++s)r[s]=s-e[i]<<5|i;return{b:e,r}},_se=vse(Pw,2),Z6=_se.b,KF=_se.r;Z6[28]=258,KF[258]=28;for(var bse=vse(Ow,0),yse=bse.b,J6=bse.r,vD=new Su(32768),Xo=0;Xo<32768;++Xo){var Ev=(43690&Xo)>>1|(21845&Xo)<<1;vD[Xo]=((65280&(Ev=(61680&(Ev=(52428&Ev)>>2|(13107&Ev)<<2))>>4|(3855&Ev)<<4))>>8|(255&Ev)<<8)>>1}var tf=function(n,t,e){for(var i=n.length,r=0,s=new Su(t);r<i;++r)n[r]&&++s[n[r]-1];var a,o=new Su(t);for(r=1;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;if(e){a=new Su(1<<t);var l=15-t;for(r=0;r<i;++r)if(n[r])for(var c=r<<4|n[r],u=t-n[r],d=o[n[r]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)a[vD[d]>>l]=c}else for(a=new Su(i),r=0;r<i;++r)n[r]&&(a[r]=vD[o[n[r]-1]++]>>15-n[r]);return a},IA=new to(288);for(Xo=0;Xo<144;++Xo)IA[Xo]=8;for(Xo=144;Xo<256;++Xo)IA[Xo]=9;for(Xo=256;Xo<280;++Xo)IA[Xo]=7;for(Xo=280;Xo<288;++Xo)IA[Xo]=8;var Rw=new to(32);for(Xo=0;Xo<32;++Xo)Rw[Xo]=5;var wse=tf(IA,9,0),xse=tf(IA,9,1),Cse=tf(Rw,5,0),Sse=tf(Rw,5,1),XF=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},nf=function(n,t,e){var i=t/8|0;return(n[i]|n[i+1]<<8)>>(7&t)&e},YF=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(7&t)},_D=function(n){return(n+7)/8|0},Dv=function(n,t,e){return(null==t||t<0)&&(t=0),(null==e||e>n.length)&&(e=n.length),new to(n.subarray(t,e))},Ese=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],_s=function(n,t,e){var i=new Error(t||Ese[n]);if(i.code=n,Error.captureStackTrace&&Error.captureStackTrace(i,_s),!e)throw i;return i},bm=function(n,t,e){var i=t/8|0;n[i]|=e<<=7&t,n[i+1]|=e>>8},kw=function(n,t,e){var i=t/8|0;n[i]|=e<<=7&t,n[i+1]|=e>>8,n[i+2]|=e>>16},JF=function(n,t){for(var e=[],i=0;i<n.length;++i)n[i]&&e.push({s:i,f:n[i]});var r=e.length,s=e.slice();if(!r)return{t:iV,l:0};if(1==r){var o=new to(e[0].s+1);return o[e[0].s]=1,{t:o,l:1}}e.sort(function(w,y){return w.f-y.f}),e.push({s:-1,f:25001});var a=e[0],l=e[1],c=0,u=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=e[e[c].f<e[d].f?c++:d++],l=e[c!=u&&e[c].f<e[d].f?c++:d++],e[u++]={s:-1,f:a.f+l.f,l:a,r:l};var f=s[0].s;for(i=1;i<r;++i)s[i].s>f&&(f=s[i].s);var h=new Su(f+1),p=eP(e[u-1],h,0);if(p>t){i=0;var m=0,g=p-t,A=1<<g;for(s.sort(function(y,C){return h[C.s]-h[y.s]||y.f-C.f});i<r;++i){var _=s[i].s;if(!(h[_]>t))break;m+=A-(1<<p-h[_]),h[_]=t}for(m>>=g;m>0;){var v=s[i].s;h[v]<t?m-=1<<t-h[v]++-1:++i}for(;i>=0&&m;--i){var b=s[i].s;h[b]==t&&(--h[b],++m)}p=t}return{t:new to(h),l:p}},eP=function(n,t,e){return-1==n.s?Math.max(eP(n.l,t,e+1),eP(n.r,t,e+1)):t[n.s]=e},eV=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Su(++t),i=0,r=n[0],s=1,o=function(l){e[i++]=l},a=1;a<=t;++a)if(n[a]==r&&a!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(r),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(r);s=1,r=n[a]}return{c:e.subarray(0,i),n:t}},Lw=function(n,t){for(var e=0,i=0;i<t.length;++i)e+=n[i]*t[i];return e},tV=function(n,t,e){var i=e.length,r=_D(t+2);n[r]=255&i,n[r+1]=i>>8,n[r+2]=255^n[r],n[r+3]=255^n[r+1];for(var s=0;s<i;++s)n[r+s+4]=e[s];return 8*(r+4+i)},nV=function(n,t,e,i,r,s,o,a,l,c,u){bm(t,u++,e),++r[256];for(var d=JF(r,15),f=d.t,h=d.l,p=JF(s,15),m=p.t,g=p.l,A=eV(f),_=A.c,v=A.n,b=eV(m),w=b.c,y=b.n,C=new Su(19),D=0;D<_.length;++D)++C[31&_[D]];for(D=0;D<w.length;++D)++C[31&w[D]];for(var S=JF(C,7),T=S.t,M=S.l,F=19;F>4&&!T[gD[F-1]];--F);var O,G,j,J,L=c+5<<3,U=Lw(r,IA)+Lw(s,Rw)+o,z=Lw(r,f)+Lw(s,m)+o+14+3*F+Lw(C,T)+2*C[16]+3*C[17]+7*C[18];if(l>=0&&L<=U&&L<=z)return tV(t,u,n.subarray(l,l+c));if(bm(t,u,1+(z<U)),u+=2,z<U){O=tf(f,h,0),G=f,j=tf(m,g,0),J=m;var le=tf(T,M,0);for(bm(t,u,v-257),bm(t,u+5,y-1),bm(t,u+10,F-4),u+=14,D=0;D<F;++D)bm(t,u+3*D,T[gD[D]]);u+=3*F;for(var ye=[_,w],R=0;R<2;++R){var X=ye[R];for(D=0;D<X.length;++D)bm(t,u,le[H=31&X[D]]),u+=T[H],H>15&&(bm(t,u,X[D]>>5&127),u+=X[D]>>12)}}else O=wse,G=IA,j=Cse,J=Rw;for(D=0;D<a;++D){var ae=i[D];if(ae>255){var H;kw(t,u,O[257+(H=ae>>18&31)]),u+=G[H+257],H>7&&(bm(t,u,ae>>23&31),u+=Pw[H]);var de=31&ae;kw(t,u,j[de]),u+=J[de],de>3&&(kw(t,u,ae>>5&8191),u+=Ow[de])}else kw(t,u,O[ae]),u+=G[ae]}return kw(t,u,O[256]),u+G[256]},Dse=new AD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iV=new to(0),rV=function(){var n=1,t=0;return{p:function(e){for(var i=n,r=t,s=0|e.length,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)r+=i+=e[o];i=(65535&i)+15*(i>>16),r=(65535&r)+15*(r>>16)}n=i,t=r},d:function(){return(255&(n%=65521))<<24|(65280&n)<<8|(255&(t%=65521))<<8|t>>8}}},nP=function(n,t,e,i,r){if(!r&&(r={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new to(s.length+n.length);o.set(s),o.set(n,s.length),n=o,r.w=s.length}return function(n,t,e,i,r,s){var o=s.z||n.length,a=new to(i+o+5*(1+Math.ceil(o/7e3))+r),l=a.subarray(i,a.length-r),c=s.l,u=7&(s.r||0);if(t){u&&(l[0]=s.r>>3);for(var d=Dse[t-1],f=d>>13,h=8191&d,p=(1<<e)-1,m=s.p||new Su(32768),g=s.h||new Su(p+1),A=Math.ceil(e/3),_=2*A,v=function(se){return(n[se]^n[se+1]<<A^n[se+2]<<_)&p},b=new AD(25e3),w=new Su(288),y=new Su(32),C=0,D=0,S=s.i||0,T=0,M=s.w||0,F=0;S+2<o;++S){var L=v(S),U=32767&S,z=g[L];if(m[U]=z,g[L]=U,M<=S){var O=o-S;if((C>7e3||T>24576)&&(O>423||!c)){u=nV(n,l,0,b,w,y,D,T,F,S-F,u),T=C=D=0,F=S;for(var G=0;G<286;++G)w[G]=0;for(G=0;G<30;++G)y[G]=0}var j=2,J=0,le=h,ye=U-z&32767;if(O>2&&L==v(S-ye))for(var R=Math.min(f,O)-1,X=Math.min(32767,S),H=Math.min(258,O);ye<=X&&--le&&U!=z;){if(n[S+j]==n[S+j-ye]){for(var ae=0;ae<H&&n[S+ae]==n[S+ae-ye];++ae);if(ae>j){if(j=ae,J=ye,ae>R)break;var de=Math.min(ye,ae-2),he=0;for(G=0;G<de;++G){var ee=S-ye+G&32767,ge=ee-m[ee]&32767;ge>he&&(he=ge,z=ee)}}}ye+=(U=z)-(z=m[U])&32767}if(J){b[T++]=268435456|KF[j]<<18|J6[J];var Ce=31&KF[j],ve=31&J6[J];D+=Pw[Ce]+Ow[ve],++w[257+Ce],++y[ve],M=S+j,++C}else b[T++]=n[S],++w[n[S]]}}for(S=Math.max(S,M);S<o;++S)b[T++]=n[S],++w[n[S]];u=nV(n,l,c,b,w,y,D,T,F,S-F,u),c||(s.r=7&u|l[u/8|0]<<3,u-=7,s.h=g,s.p=m,s.i=S,s.w=M)}else{for(S=s.w||0;S<o+c;S+=65535){var Ne=S+65535;Ne>=o&&(l[u/8|0]=c,Ne=o),u=tV(l,u+1,n.subarray(S,Ne))}s.i=o}return Dv(a,0,i+_D(u)+r)}(n,null==t.level?6:t.level,null==t.mem?r.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(n.length)))):20:12+t.mem,e,i,r)},sa=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8};function yD(n,t){t||(t={});var e=rV();e.p(n);var i=nP(n,t,t.dictionary?6:2,4);return function(n,t){var e=t.level,i=0==e?0:e<6?1:9==e?3:2;if(n[0]=120,n[1]=i<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var r=rV();r.p(t.dictionary),sa(n,2,r.d())}}(i,t),sa(i,i.length-4,e.d()),i}function oP(n,t){return function(n,t,e,i){var r=n.length,s=i?i.length:0;if(!r||t.f&&!t.l)return e||new to(0);var o=!e,a=o||2!=t.i,l=t.i;o&&(e=new to(3*r));var c=function(Ce){var ve=e.length;if(Ce>ve){var Ne=new to(Math.max(2*ve,Ce));Ne.set(e),e=Ne}},u=t.f||0,d=t.p||0,f=t.b||0,h=t.l,p=t.d,m=t.m,g=t.n,A=8*r;do{if(!h){u=nf(n,d,1);var _=nf(n,d+1,3);if(d+=3,!_){var b=n[(v=_D(d)+4)-4]|n[v-3]<<8,w=v+b;if(w>r){l&&_s(0);break}a&&c(f+b),e.set(n.subarray(v,w),f),t.b=f+=b,t.p=d=8*w,t.f=u;continue}if(1==_)h=xse,p=Sse,m=9,g=5;else if(2==_){var y=nf(n,d,31)+257,C=nf(n,d+10,15)+4,D=y+nf(n,d+5,31)+1;d+=14;for(var S=new to(D),T=new to(19),M=0;M<C;++M)T[gD[M]]=nf(n,d+3*M,7);d+=3*C;var F=XF(T),L=(1<<F)-1,U=tf(T,F,1);for(M=0;M<D;){var v,z=U[nf(n,d,L)];if(d+=15&z,(v=z>>4)<16)S[M++]=v;else{var O=0,G=0;for(16==v?(G=3+nf(n,d,3),d+=2,O=S[M-1]):17==v?(G=3+nf(n,d,7),d+=3):18==v&&(G=11+nf(n,d,127),d+=7);G--;)S[M++]=O}}var j=S.subarray(0,y),J=S.subarray(y);m=XF(j),g=XF(J),h=tf(j,m,1),p=tf(J,g,1)}else _s(1);if(d>A){l&&_s(0);break}}a&&c(f+131072);for(var le=(1<<m)-1,ye=(1<<g)-1,R=d;;R=d){var X=(O=h[YF(n,d)&le])>>4;if((d+=15&O)>A){l&&_s(0);break}if(O||_s(2),X<256)e[f++]=X;else{if(256==X){R=d,h=null;break}var H=X-254;X>264&&(H=nf(n,d,(1<<(ae=Pw[M=X-257]))-1)+Z6[M],d+=ae);var de=p[YF(n,d)&ye],he=de>>4;if(de||_s(3),d+=15&de,J=yse[he],he>3){var ae=Ow[he];J+=YF(n,d)&(1<<ae)-1,d+=ae}if(d>A){l&&_s(0);break}a&&c(f+131072);var ee=f+H;if(f<J){var ie=s-J,ge=Math.min(J,ee);for(ie+f<0&&_s(3);f<ge;++f)e[f]=i[ie+f]}for(;f<ee;++f)e[f]=e[f-J]}}t.l=h,t.p=R,t.b=f,t.f=u,h&&(u=1,t.m=m,t.d=p,t.n=g)}while(!u);return f!=e.length&&o?Dv(e,0,f):e.subarray(0,f)}(n.subarray(function(n,t){return(8!=(15&n[0])||n[0]>>4>7||(n[0]<<8|n[1])%31)&&_s(6,"invalid zlib data"),(n[1]>>5&1)==+!t&&_s(6,"invalid zlib data: "+(32&n[1]?"need":"unexpected")+" dictionary"),2+(n[1]>>3&4)}(n,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var dV=typeof TextDecoder<"u"&&new TextDecoder;try{dV.decode(iV,{stream:!0})}catch{}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var ji=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function hV(){ji.console&&"function"==typeof ji.console.log&&ji.console.log.apply(ji.console,arguments)}var Io={log:hV,warn:function(n){ji.console&&("function"==typeof ji.console.warn?ji.console.warn.apply(ji.console,arguments):hV.call(null,arguments))},error:function(n){ji.console&&("function"==typeof ji.console.error?ji.console.error.apply(ji.console,arguments):hV(n))}};function fV(n,t,e){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){ob(i.response,t,e)},i.onerror=function(){Io.error("could not download file")},i.send()}function Gse(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function uP(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var xD,pV,ob=ji.saveAs||("object"!==(typeof window>"u"?"undefined":(0,No.A)(window))||window!==ji?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var i=ji.URL||ji.webkitURL,r=document.createElement("a");r.download=t=t||n.name||"download",r.rel="noopener","string"==typeof n?(r.href=n,r.origin!==location.origin?Gse(r.href)?fV(n,t,e):uP(r,r.target="_blank"):uP(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){uP(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download","string"==typeof n)if(Gse(n))fV(n,t,e);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){uP(i)})}else navigator.msSaveOrOpenBlob((r=n,void 0===(s=e)?s={autoBom:!1}:"object"!==(0,No.A)(s)&&(Io.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob(["\ufeff",r],{type:r.type}):r),t);var r,s}:function(n,t,e,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof n)return fV(n,t,e);var r="application/octet-stream"===n.type,s=/constructor/i.test(ji.HTMLElement)||ji.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&s)&&"object"===(typeof FileReader>"u"?"undefined":(0,No.A)(FileReader))){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},a.readAsDataURL(n)}else{var l=ji.URL||ji.webkitURL,c=l.createObjectURL(n);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});function jse(n){var t;n=n||"",this.ok=!1,"#"==n.charAt(0)&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],i=0;i<e.length;i++){var s=e[i].process,o=e[i].re.exec(n);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return 1==a.length&&(a="0"+a),1==l.length&&(l="0"+l),1==c.length&&(c="0"+c),"#"+a+l+c}}function mV(n,t){var e=n[0],i=n[1],r=n[2],s=n[3];e=Qc(e,i,r,s,t[0],7,-680876936),s=Qc(s,e,i,r,t[1],12,-389564586),r=Qc(r,s,e,i,t[2],17,606105819),i=Qc(i,r,s,e,t[3],22,-1044525330),e=Qc(e,i,r,s,t[4],7,-176418897),s=Qc(s,e,i,r,t[5],12,1200080426),r=Qc(r,s,e,i,t[6],17,-1473231341),i=Qc(i,r,s,e,t[7],22,-45705983),e=Qc(e,i,r,s,t[8],7,1770035416),s=Qc(s,e,i,r,t[9],12,-1958414417),r=Qc(r,s,e,i,t[10],17,-42063),i=Qc(i,r,s,e,t[11],22,-1990404162),e=Qc(e,i,r,s,t[12],7,1804603682),s=Qc(s,e,i,r,t[13],12,-40341101),r=Qc(r,s,e,i,t[14],17,-1502002290),e=Gc(e,i=Qc(i,r,s,e,t[15],22,1236535329),r,s,t[1],5,-165796510),s=Gc(s,e,i,r,t[6],9,-1069501632),r=Gc(r,s,e,i,t[11],14,643717713),i=Gc(i,r,s,e,t[0],20,-373897302),e=Gc(e,i,r,s,t[5],5,-701558691),s=Gc(s,e,i,r,t[10],9,38016083),r=Gc(r,s,e,i,t[15],14,-660478335),i=Gc(i,r,s,e,t[4],20,-405537848),e=Gc(e,i,r,s,t[9],5,568446438),s=Gc(s,e,i,r,t[14],9,-1019803690),r=Gc(r,s,e,i,t[3],14,-187363961),i=Gc(i,r,s,e,t[8],20,1163531501),e=Gc(e,i,r,s,t[13],5,-1444681467),s=Gc(s,e,i,r,t[2],9,-51403784),r=Gc(r,s,e,i,t[7],14,1735328473),e=jc(e,i=Gc(i,r,s,e,t[12],20,-1926607734),r,s,t[5],4,-378558),s=jc(s,e,i,r,t[8],11,-2022574463),r=jc(r,s,e,i,t[11],16,1839030562),i=jc(i,r,s,e,t[14],23,-35309556),e=jc(e,i,r,s,t[1],4,-1530992060),s=jc(s,e,i,r,t[4],11,1272893353),r=jc(r,s,e,i,t[7],16,-155497632),i=jc(i,r,s,e,t[10],23,-1094730640),e=jc(e,i,r,s,t[13],4,681279174),s=jc(s,e,i,r,t[0],11,-358537222),r=jc(r,s,e,i,t[3],16,-722521979),i=jc(i,r,s,e,t[6],23,76029189),e=jc(e,i,r,s,t[9],4,-640364487),s=jc(s,e,i,r,t[12],11,-421815835),r=jc(r,s,e,i,t[15],16,530742520),e=qc(e,i=jc(i,r,s,e,t[2],23,-995338651),r,s,t[0],6,-198630844),s=qc(s,e,i,r,t[7],10,1126891415),r=qc(r,s,e,i,t[14],15,-1416354905),i=qc(i,r,s,e,t[5],21,-57434055),e=qc(e,i,r,s,t[12],6,1700485571),s=qc(s,e,i,r,t[3],10,-1894986606),r=qc(r,s,e,i,t[10],15,-1051523),i=qc(i,r,s,e,t[1],21,-2054922799),e=qc(e,i,r,s,t[8],6,1873313359),s=qc(s,e,i,r,t[15],10,-30611744),r=qc(r,s,e,i,t[6],15,-1560198380),i=qc(i,r,s,e,t[13],21,1309151649),e=qc(e,i,r,s,t[4],6,-145523070),s=qc(s,e,i,r,t[11],10,-1120210379),r=qc(r,s,e,i,t[2],15,718787259),i=qc(i,r,s,e,t[9],21,-343485551),n[0]=Tv(e,n[0]),n[1]=Tv(i,n[1]),n[2]=Tv(r,n[2]),n[3]=Tv(s,n[3])}function dP(n,t,e,i,r,s){return t=Tv(Tv(t,n),Tv(i,s)),Tv(t<<r|t>>>32-r,e)}function Qc(n,t,e,i,r,s,o){return dP(t&e|~t&i,n,t,r,s,o)}function Gc(n,t,e,i,r,s,o){return dP(t&i|e&~i,n,t,r,s,o)}function jc(n,t,e,i,r,s,o){return dP(t^e^i,n,t,r,s,o)}function qc(n,t,e,i,r,s,o){return dP(e^(t|~i),n,t,r,s,o)}function qse(n){var t,e=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)mV(i,GVe(n.substring(t-64,t)));n=n.substring(t-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)r[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(r[t>>2]|=128<<(t%4<<3),t>55)for(mV(i,r),t=0;t<16;t++)r[t]=0;return r[14]=8*e,mV(i,r),i}function GVe(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}xD=ji.atob.bind(ji),pV=ji.btoa.bind(ji);var Wse="0123456789abcdef".split("");function jVe(n){for(var t="",e=0;e<4;e++)t+=Wse[n>>8*e+4&15]+Wse[n>>8*e&15];return t}function qVe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function AV(n){return qse(n).map(qVe).join("")}var WVe="5d41402abc4b2a76b9719d911017c592"!=function(n){for(var t=0;t<n.length;t++)n[t]=jVe(n[t]);return n.join("")}(qse("hello"));function Tv(n,t){if(WVe){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}function gV(n,t){var e,i,r;if(n!==e){for(var o=(r=n,new Array(1+(256/n.length|0)+1).join(r)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var u=a[l];c=(c+u+o.charCodeAt(l))%256,a[l]=a[c],a[c]=u}e=n,i=a}else a=i;var d=t.length,f=0,h=0,p="";for(l=0;l<d;l++)h=(h+(u=a[f=(f+1)%256]))%256,a[f]=a[h],a[h]=u,o=a[(a[f]+a[h])%256],p+=String.fromCharCode(t.charCodeAt(l)^o);return p}var $se={print:4,modify:8,copy:16,"annot-forms":32};function Hw(n,t,e,i){this.v=1,this.r=2;var r=192;n.forEach(function(a){if(void 0!==$se.perm)throw new Error("Invalid permission: "+a);r+=$se[a]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var s=(t+this.padding).substr(0,32),o=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^r)),this.encryptionKey=AV(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=gV(this.encryptionKey,this.padding)}function Vw(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,i=0;i<e;i++){var r=n.charCodeAt(i);t+=r<33||35===r||37===r||40===r||41===r||47===r||60===r||62===r||91===r||93===r||123===r||125===r||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return t}function Kse(n){if("object"!==(0,No.A)(n))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,i,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof i||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[i,!!r],s},this.unsubscribe=function(e){for(var i in t)if(t[i][e])return delete t[i][e],0===Object.keys(t[i]).length&&delete t[i],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in t[e]){var o=t[e][s];try{o[0].apply(n,i)}catch(a){ji.console&&Io.error("jsPDF PubSub Error",a.message,a)}o[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function hP(n){if(!(this instanceof hP))return new hP(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function Xse(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function ab(n,t,e,i,r){if(!(this instanceof ab))return new ab(n,t,e,i,r);this.type="axial"===n?2:3,this.coords=t,this.colors=e,Xse.call(this,i,r)}function zw(n,t,e,i,r){if(!(this instanceof zw))return new zw(n,t,e,i,r);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,Xse.call(this,i,r)}function Vi(n){var t,e="string"==typeof arguments[0]?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],o=[],a=1,l=16,c="S",u=null;"object"===(0,No.A)(n=n||{})&&(e=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,null!==(u=n.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a="number"==typeof n.userUnit?Math.abs(n.userUnit):1,void 0!==n.precision&&(t=n.precision),void 0!==n.floatPrecision&&(l=n.floatPrecision),c=n.defaultPathOperation||"S"),o=n.filters||(!0===s?["FlateEncode"]:o),i=i||"mm",e=(""+(e||"P")).toLowerCase();var d=n.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Kse;var p="1.3",m=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(k){p=k};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return g};var A=h.__private__.getPageFormat=function(k){return g[k]};r=r||"a4";var v="compat";function b(){this.saveGraphicsState(),fe(new Ai(rt,0,0,-rt,0,C_()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),c="n",v="advanced"}function w(){this.restoreGraphicsState(),c="S",v="compat"}var y=h.__private__.combineFontStyleAndFontWeight=function(k,ue){if("bold"==k&&"normal"==ue||"bold"==k&&400==ue||"normal"==k&&"italic"==ue||"bold"==k&&"italic"==ue)throw new Error("Invalid Combination of fontweight and fontstyle");return ue&&(k=400==ue||"normal"===ue?"italic"===k?"italic":"normal":700!=ue&&"bold"!==ue||"normal"!==k?(700==ue?"bold":ue)+""+k:"bold"),k};h.advancedAPI=function(k){var ue="compat"===v;return ue&&b.call(this),"function"!=typeof k||(k(this),ue&&w.call(this)),this},h.compatAPI=function(k){var ue="advanced"===v;return ue&&w.call(this),"function"!=typeof k||(k(this),ue&&b.call(this)),this},h.isAdvancedAPI=function(){return"advanced"===v};var C,D=function(k){if("advanced"!==v)throw new Error(k+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=h.roundToPrecision=h.__private__.roundToPrecision=function(k,ue){var Ue=t||ue;if(isNaN(k)||isNaN(Ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(Ue).replace(/0+$/,"")};C=h.hpf=h.__private__.hpf="number"==typeof l?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return S(k,l)}:"smart"===l?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return S(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return S(k,16)};var T=h.f2=h.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return S(k,2)},M=h.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return S(k,3)},F=h.scale=h.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return"compat"===v?k*rt:"advanced"===v?k:void 0},U=function(k){return F(function(k){return"compat"===v?C_()-k:"advanced"===v?k:void 0}(k))};h.__private__.setPrecision=h.setPrecision=function(k){"number"==typeof parseInt(k,10)&&(t=parseInt(k,10))};var z,O="00000000000000000000000000000000",G=h.__private__.getFileId=function(){return O},j=h.__private__.setFileId=function(k){return O=void 0!==k&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():O.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(cu=new Hw(u.userPermissions,u.userPassword,u.ownerPassword,O)),O};h.setFileId=function(k){return j(k),this},h.getFileId=function(){return G()};var J=h.__private__.convertDateToPDFDate=function(k){var ue=k.getTimezoneOffset(),Ue=ue<0?"+":"-",qe=Math.floor(Math.abs(ue/60)),ut=Math.abs(ue%60),Vt=[Ue,H(qe),"'",H(ut),"'"].join("");return["D:",k.getFullYear(),H(k.getMonth()+1),H(k.getDate()),H(k.getHours()),H(k.getMinutes()),H(k.getSeconds()),Vt].join("")},le=h.__private__.convertPDFDateToDate=function(k){var ue=parseInt(k.substr(2,4),10),Ue=parseInt(k.substr(6,2),10)-1,qe=parseInt(k.substr(8,2),10),ut=parseInt(k.substr(10,2),10),Vt=parseInt(k.substr(12,2),10),un=parseInt(k.substr(14,2),10);return new Date(ue,Ue,qe,ut,Vt,un,0)},ye=h.__private__.setCreationDate=function(k){var ue;if(void 0===k&&(k=new Date),k instanceof Date)ue=J(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ue=k}return z=ue},R=h.__private__.getCreationDate=function(k){var ue=z;return"jsDate"===k&&(ue=le(z)),ue};h.setCreationDate=function(k){return ye(k),this},h.getCreationDate=function(k){return R(k)};var X,H=h.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},ae=h.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},de=0,he=[],ee=[],ie=0,ge=[],Ce=[],ve=!1,Ne=ee;h.__private__.setCustomOutputDestination=function(k){ve=!0,Ne=k};var Oe=function(k){ve||(Ne=k)};h.__private__.resetCustomOutputDestination=function(){ve=!1,Ne=ee};var fe=h.__private__.out=function(k){return k=k.toString(),ie+=k.length+1,Ne.push(k),Ne},at=h.__private__.write=function(k){return fe(1===arguments.length?k.toString():Array.prototype.join.call(arguments," "))},Ge=h.__private__.getArrayBuffer=function(k){for(var ue=k.length,Ue=new ArrayBuffer(ue),qe=new Uint8Array(Ue);ue--;)qe[ue]=k.charCodeAt(ue);return Ue},$e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return $e};var re=n.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(k){return re="advanced"===v?k/rt:k,this};var K,W=h.__private__.getFontSize=h.getFontSize=function(){return"compat"===v?re:re*rt},we=n.R2L||!1;h.__private__.setR2L=h.setR2L=function(k){return we=k,this},h.__private__.getR2L=h.getR2L=function(){return we};var ke,Ve=h.__private__.setZoomMode=function(k){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))K=k;else if(isNaN(k)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(k))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');K=k}else K=parseInt(k,10)};h.__private__.getZoomMode=function(){return K};var Qe,pt=h.__private__.setPageMode=function(k){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');ke=k};h.__private__.getPageMode=function(){return ke};var Bt=h.__private__.setLayoutMode=function(k){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');Qe=k};h.__private__.getLayoutMode=function(){return Qe},h.__private__.setDisplayMode=h.setDisplayMode=function(k,ue,Ue){return Ve(k),Bt(ue),pt(Ue),this};var yt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(k){if(-1===Object.keys(yt).indexOf(k))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return yt[k]},h.__private__.getDocumentProperties=function(){return yt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(k){for(var ue in yt)yt.hasOwnProperty(ue)&&k[ue]&&(yt[ue]=k[ue]);return this},h.__private__.setDocumentProperty=function(k,ue){if(-1===Object.keys(yt).indexOf(k))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return yt[k]=ue};var Mn,rt,Sn,En,ei,Kt={},ni={},Y=[],Fe={},Ee={},Ze={},it={},mt=null,on=0,Xt=[],Wn=new Kse(h),Xs=n.hotfixes||[],bs={},kr={},Pa=[],Ai=function k(ue,Ue,qe,ut,Vt,un){if(!(this instanceof k))return new k(ue,Ue,qe,ut,Vt,un);isNaN(ue)&&(ue=1),isNaN(Ue)&&(Ue=0),isNaN(qe)&&(qe=0),isNaN(ut)&&(ut=1),isNaN(Vt)&&(Vt=0),isNaN(un)&&(un=0),this._matrix=[ue,Ue,qe,ut,Vt,un]};Object.defineProperty(Ai.prototype,"sx",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Ai.prototype,"shy",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Ai.prototype,"shx",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Ai.prototype,"sy",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Ai.prototype,"tx",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Ai.prototype,"ty",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Ai.prototype,"a",{get:function(){return this._matrix[0]},set:function(k){this._matrix[0]=k}}),Object.defineProperty(Ai.prototype,"b",{get:function(){return this._matrix[1]},set:function(k){this._matrix[1]=k}}),Object.defineProperty(Ai.prototype,"c",{get:function(){return this._matrix[2]},set:function(k){this._matrix[2]=k}}),Object.defineProperty(Ai.prototype,"d",{get:function(){return this._matrix[3]},set:function(k){this._matrix[3]=k}}),Object.defineProperty(Ai.prototype,"e",{get:function(){return this._matrix[4]},set:function(k){this._matrix[4]=k}}),Object.defineProperty(Ai.prototype,"f",{get:function(){return this._matrix[5]},set:function(k){this._matrix[5]=k}}),Object.defineProperty(Ai.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ai.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ai.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ai.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ai.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(k)},Ai.prototype.multiply=function(k){return new Ai(k.sx*this.sx+k.shy*this.shx,k.sx*this.shy+k.shy*this.sy,k.shx*this.sx+k.sy*this.shx,k.shx*this.shy+k.sy*this.sy,k.tx*this.sx+k.ty*this.shx+this.tx,k.tx*this.shy+k.ty*this.sy+this.ty)},Ai.prototype.decompose=function(){var k=this.sx,ue=this.shy,Ue=this.shx,qe=this.sy,ut=this.tx,Vt=this.ty,un=Math.sqrt(k*k+ue*ue),Xn=(k/=un)*Ue+(ue/=un)*qe;Ue-=k*Xn,qe-=ue*Xn;var Ei=Math.sqrt(Ue*Ue+qe*qe);return Xn/=Ei,k*(qe/=Ei)<ue*(Ue/=Ei)&&(k=-k,ue=-ue,Xn=-Xn,un=-un),{scale:new Ai(un,0,0,Ei,0,0),translate:new Ai(1,0,0,1,ut,Vt),rotate:new Ai(k,ue,-ue,k,0,0),skew:new Ai(1,0,Xn,1,0,0)}},Ai.prototype.toString=function(k){return this.join(" ")},Ai.prototype.inversed=function(){var k=this.sx,ue=this.shy,Ue=this.shx,qe=this.sy,ut=this.tx,Vt=this.ty,un=1/(k*qe-ue*Ue),Xn=qe*un,Ei=-ue*un,gr=-Ue*un,pr=k*un;return new Ai(Xn,Ei,gr,pr,-Xn*ut-gr*Vt,-Ei*ut-pr*Vt)},Ai.prototype.applyToPoint=function(k){return new kC(k.x*this.sx+k.y*this.shx+this.tx,k.x*this.shy+k.y*this.sy+this.ty)},Ai.prototype.applyToRectangle=function(k){var ue=this.applyToPoint(k),Ue=this.applyToPoint(new kC(k.x+k.w,k.y+k.h));return new oT(ue.x,ue.y,Ue.x-ue.x,Ue.y-ue.y)},Ai.prototype.clone=function(){return new Ai(this.sx,this.shy,this.shx,this.sy,this.tx,this.ty)},h.Matrix=Ai;var Sd=h.matrixMult=function(k,ue){return ue.multiply(k)},wh=new Ai(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=wh;var Oa=function(k,ue){if(!Ee[k]){var Ue=(ue instanceof ab?"Sh":"P")+(Object.keys(Fe).length+1).toString(10);ue.id=Ue,Ee[k]=Ue,Fe[Ue]=ue,Wn.publish("addPattern",ue)}};h.ShadingPattern=ab,h.TilingPattern=zw,h.addShadingPattern=function(k,ue){return D("addShadingPattern()"),Oa(k,ue),this},h.beginTilingPattern=function(k){D("beginTilingPattern()"),AL(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},h.endTilingPattern=function(k,ue){D("endTilingPattern()"),ue.stream=Ce[X].join("\n"),Oa(k,ue),Wn.publish("endTilingPattern",ue),Pa.pop().restore()};var k,Aa=h.__private__.newObject=function(){var k=ga();return ou(k,!0),k},ga=h.__private__.newObjectDeferred=function(){return de++,he[de]=function(){return ie},de},ou=function(k,ue){return ue="boolean"==typeof ue&&ue,he[k]=ie,ue&&fe(k+" 0 obj"),k},Ep=h.__private__.newAdditionalObject=function(){var k={objId:ga(),content:""};return ge.push(k),k},wf=ga(),au=ga(),Ed=h.__private__.decodeColorString=function(k){var ue=k.split(" ");if(2!==ue.length||"g"!==ue[1]&&"G"!==ue[1])5===ue.length&&("k"===ue[4]||"K"===ue[4])&&(ue=[(1-ue[0])*(1-ue[3]),(1-ue[1])*(1-ue[3]),(1-ue[2])*(1-ue[3]),"r"]);else{var Ue=parseFloat(ue[0]);ue=[Ue,Ue,Ue,"r"]}for(var qe="#",ut=0;ut<3;ut++)qe+=("0"+Math.floor(255*parseFloat(ue[ut])).toString(16)).slice(-2);return qe},Dd=h.__private__.encodeColorString=function(k){var ue;"string"==typeof k&&(k={ch1:k});var Ue=k.ch1,qe=k.ch2,ut=k.ch3,Vt=k.ch4,un="draw"===k.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof Ue&&"#"!==Ue.charAt(0)){var Xn=new jse(Ue);if(Xn.ok)Ue=Xn.toHex();else if(!/^\d*\.?\d*$/.test(Ue))throw new Error('Invalid color "'+Ue+'" passed to jsPDF.encodeColorString.')}if("string"==typeof Ue&&/^#[0-9A-Fa-f]{3}$/.test(Ue)&&(Ue="#"+Ue[1]+Ue[1]+Ue[2]+Ue[2]+Ue[3]+Ue[3]),"string"==typeof Ue&&/^#[0-9A-Fa-f]{6}$/.test(Ue)){var Ei=parseInt(Ue.substr(1),16);Ue=Ei>>16&255,qe=Ei>>8&255,ut=255&Ei}if(void 0===qe||void 0===Vt&&Ue===qe&&qe===ut)ue="string"==typeof Ue?Ue+" "+un[0]:2===k.precision?T(Ue/255)+" "+un[0]:M(Ue/255)+" "+un[0];else if(void 0===Vt||"object"===(0,No.A)(Vt)){if(Vt&&!isNaN(Vt.a)&&0===Vt.a)return["1.","1.","1.",un[1]].join(" ");ue="string"==typeof Ue?[Ue,qe,ut,un[1]].join(" "):2===k.precision?[T(Ue/255),T(qe/255),T(ut/255),un[1]].join(" "):[M(Ue/255),M(qe/255),M(ut/255),un[1]].join(" ")}else ue="string"==typeof Ue?[Ue,qe,ut,Vt,un[2]].join(" "):2===k.precision?[T(Ue),T(qe),T(ut),T(Vt),un[2]].join(" "):[M(Ue),M(qe),M(ut),M(Vt),un[2]].join(" ");return ue},xf=h.__private__.getFilters=function(){return o},Md=h.__private__.putStream=function(k){var ue=(k=k||{}).data||"",Ue=k.filters||xf(),qe=k.alreadyAppliedFilters||[],ut=k.addLength1||!1,Vt=ue.length,un=k.objectId,Xn=function(uu){return uu};if(null!==u&&void 0===un)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(Xn=cu.encryptor(un,0));var Ei={};!0===Ue&&(Ue=["FlateEncode"]);var gr=k.additionalKeyValues||[],pr=(Ei=void 0!==Vi.API.processDataByFilters?Vi.API.processDataByFilters(ue,Ue):{data:ue,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(0!==Ei.data.length&&(gr.push({key:"Length",value:Ei.data.length}),!0===ut&&gr.push({key:"Length1",value:Vt})),0!=pr.length)if(pr.split("/").length-1==1)gr.push({key:"Filter",value:pr});else{gr.push({key:"Filter",value:"["+pr+"]"});for(var ws=0;ws<gr.length;ws+=1)if("DecodeParms"===gr[ws].key){for(var ba=[],Ra=0;Ra<Ei.reverseChain.split("/").length-1;Ra+=1)ba.push("null");ba.push(gr[ws].value),gr[ws].value="["+ba.join(" ")+"]"}}fe("<<");for(var Cl=0;Cl<gr.length;Cl++)fe("/"+gr[Cl].key+" "+gr[Cl].value);fe(">>"),0!==Ei.data.length&&(fe("stream"),fe(Xn(Ei.data)),fe("endstream"))},Cf=h.__private__.putPage=function(k){var ue=k.number,Ue=k.data,qe=k.objId,ut=k.contentsObjId;ou(qe,!0),fe("<</Type /Page"),fe("/Parent "+k.rootDictionaryObjId+" 0 R"),fe("/Resources "+k.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(C(k.mediaBox.bottomLeftX))+" "+parseFloat(C(k.mediaBox.bottomLeftY))+" "+C(k.mediaBox.topRightX)+" "+C(k.mediaBox.topRightY)+"]"),null!==k.cropBox&&fe("/CropBox ["+C(k.cropBox.bottomLeftX)+" "+C(k.cropBox.bottomLeftY)+" "+C(k.cropBox.topRightX)+" "+C(k.cropBox.topRightY)+"]"),null!==k.bleedBox&&fe("/BleedBox ["+C(k.bleedBox.bottomLeftX)+" "+C(k.bleedBox.bottomLeftY)+" "+C(k.bleedBox.topRightX)+" "+C(k.bleedBox.topRightY)+"]"),null!==k.trimBox&&fe("/TrimBox ["+C(k.trimBox.bottomLeftX)+" "+C(k.trimBox.bottomLeftY)+" "+C(k.trimBox.topRightX)+" "+C(k.trimBox.topRightY)+"]"),null!==k.artBox&&fe("/ArtBox ["+C(k.artBox.bottomLeftX)+" "+C(k.artBox.bottomLeftY)+" "+C(k.artBox.topRightX)+" "+C(k.artBox.topRightY)+"]"),"number"==typeof k.userUnit&&1!==k.userUnit&&fe("/UserUnit "+k.userUnit),Wn.publish("putPage",{objId:qe,pageContext:Xt[ue],pageNumber:ue,page:Ue}),fe("/Contents "+ut+" 0 R"),fe(">>"),fe("endobj");var Vt=Ue.join("\n");return"advanced"===v&&(Vt+="\nQ"),ou(ut,!0),Md({data:Vt,filters:xf(),objectId:ut}),fe("endobj"),qe},mg=h.__private__.putPages=function(){var k,ue,Ue=[];for(k=1;k<=on;k++)Xt[k].objId=ga(),Xt[k].contentsObjId=ga();for(k=1;k<=on;k++)Ue.push(Cf({number:k,data:Ce[k],objId:Xt[k].objId,contentsObjId:Xt[k].contentsObjId,mediaBox:Xt[k].mediaBox,cropBox:Xt[k].cropBox,bleedBox:Xt[k].bleedBox,trimBox:Xt[k].trimBox,artBox:Xt[k].artBox,userUnit:Xt[k].userUnit,rootDictionaryObjId:wf,resourceDictionaryObjId:au}));ou(wf,!0),fe("<</Type /Pages");var qe="/Kids [";for(ue=0;ue<on;ue++)qe+=Ue[ue]+" 0 R ";fe(qe+"]"),fe("/Count "+on),fe(">>"),fe("endobj"),Wn.publish("postPutPages")},b_=function(k){Wn.publish("putFont",{font:k,out:fe,newObject:Aa,putStream:Md}),!0!==k.isAlreadyPutted&&(k.objectNumber=Aa(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Vw(k.postScriptName)),fe("/Subtype /Type1"),"string"==typeof k.encoding&&fe("/Encoding /"+k.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Te=function(k){k.objectNumber=Aa();var ue=[];ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Form"}),ue.push({key:"BBox",value:"["+[C(k.x),C(k.y),C(k.x+k.width),C(k.y+k.height)].join(" ")+"]"}),ue.push({key:"Matrix",value:"["+k.matrix.toString()+"]"});var Ue=k.pages[1].join("\n");Md({data:Ue,additionalKeyValues:ue,objectId:k.objectNumber}),fe("endobj")},wt=function(k,ue){ue||(ue=21);var Ue=Aa(),qe=function(k,ue){var Ue,qe=[],ut=1/(ue-1);for(Ue=0;Ue<1;Ue+=ut)qe.push(Ue);qe.push(1),0!=k[0].offset&&k.unshift({offset:0,color:k[0].color}),1!=k[k.length-1].offset&&k.push({offset:1,color:k[k.length-1].color});for(var Xn="",Ei=0,gr=0;gr<qe.length;gr++){for(Ue=qe[gr];Ue>k[Ei+1].offset;)Ei++;var pr=k[Ei].offset,ws=(Ue-pr)/(k[Ei+1].offset-pr),ba=k[Ei].color,Ra=k[Ei+1].color;Xn+=ae(Math.round((1-ws)*ba[0]+ws*Ra[0]).toString(16))+ae(Math.round((1-ws)*ba[1]+ws*Ra[1]).toString(16))+ae(Math.round((1-ws)*ba[2]+ws*Ra[2]).toString(16))}return Xn.trim()}(k.colors,ue),ut=[];ut.push({key:"FunctionType",value:"0"}),ut.push({key:"Domain",value:"[0.0 1.0]"}),ut.push({key:"Size",value:"["+ue+"]"}),ut.push({key:"BitsPerSample",value:"8"}),ut.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ut.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Md({data:qe,additionalKeyValues:ut,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ue}),fe("endobj"),k.objectNumber=Aa(),fe("<< /ShadingType "+k.type),fe("/ColorSpace /DeviceRGB");var Vt="/Coords ["+C(parseFloat(k.coords[0]))+" "+C(parseFloat(k.coords[1]))+" ";Vt+=2===k.type?C(parseFloat(k.coords[2]))+" "+C(parseFloat(k.coords[3])):C(parseFloat(k.coords[2]))+" "+C(parseFloat(k.coords[3]))+" "+C(parseFloat(k.coords[4]))+" "+C(parseFloat(k.coords[5])),fe(Vt+="]"),k.matrix&&fe("/Matrix ["+k.matrix.toString()+"]"),fe("/Function "+Ue+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ot=function(k,ue){var Ue=ga(),qe=Aa();ue.push({resourcesOid:Ue,objectOid:qe}),k.objectNumber=qe;var ut=[];ut.push({key:"Type",value:"/Pattern"}),ut.push({key:"PatternType",value:"1"}),ut.push({key:"PaintType",value:"1"}),ut.push({key:"TilingType",value:"1"}),ut.push({key:"BBox",value:"["+k.boundingBox.map(C).join(" ")+"]"}),ut.push({key:"XStep",value:C(k.xStep)}),ut.push({key:"YStep",value:C(k.yStep)}),ut.push({key:"Resources",value:Ue+" 0 R"}),k.matrix&&ut.push({key:"Matrix",value:"["+k.matrix.toString()+"]"}),Md({data:k.stream,additionalKeyValues:ut,objectId:k.objectNumber}),fe("endobj")},Bn=function(k){for(var ue in k.objectNumber=Aa(),fe("<<"),k)switch(ue){case"opacity":fe("/ca "+T(k[ue]));break;case"stroke-opacity":fe("/CA "+T(k[ue]))}fe(">>"),fe("endobj")},lr=function(k){ou(k.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var k in fe("/Font <<"),Kt)Kt.hasOwnProperty(k)&&(!1===d||!0===d&&f.hasOwnProperty(k))&&fe("/"+k+" "+Kt[k].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(Fe).length>0){for(var k in fe("/Shading <<"),Fe)Fe.hasOwnProperty(k)&&Fe[k]instanceof ab&&Fe[k].objectNumber>=0&&fe("/"+k+" "+Fe[k].objectNumber+" 0 R");Wn.publish("putShadingPatternDict"),fe(">>")}}(),function(k){if(Object.keys(Fe).length>0){for(var ue in fe("/Pattern <<"),Fe)Fe.hasOwnProperty(ue)&&Fe[ue]instanceof h.TilingPattern&&Fe[ue].objectNumber>=0&&Fe[ue].objectNumber<k&&fe("/"+ue+" "+Fe[ue].objectNumber+" 0 R");Wn.publish("putTilingPatternDict"),fe(">>")}}(k.objectOid),function(){if(Object.keys(Ze).length>0){var k;for(k in fe("/ExtGState <<"),Ze)Ze.hasOwnProperty(k)&&Ze[k].objectNumber>=0&&fe("/"+k+" "+Ze[k].objectNumber+" 0 R");Wn.publish("putGStateDict"),fe(">>")}}(),function(){for(var k in fe("/XObject <<"),bs)bs.hasOwnProperty(k)&&bs[k].objectNumber>=0&&fe("/"+k+" "+bs[k].objectNumber+" 0 R");Wn.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},wi=function(k){ni[k.fontName]=ni[k.fontName]||{},ni[k.fontName][k.fontStyle]=k.id},va=function(k,ue,Ue,qe,ut){var Vt={id:"F"+(Object.keys(Kt).length+1).toString(10),postScriptName:k,fontName:ue,fontStyle:Ue,encoding:qe,isStandardFont:ut||!1,metadata:{}};return Wn.publish("addFont",{font:Vt,instance:this}),Kt[Vt.id]=Vt,wi(Vt),Vt.id},wo=h.__private__.pdfEscape=h.pdfEscape=function(k,ue){return function(k,ue){var Ue,qe,ut,Vt,un,Xn,Ei,gr,pr;if(ut=(ue=ue||{}).sourceEncoding||"Unicode",un=ue.outputEncoding,(ue.autoencode||un)&&Kt[Mn].metadata&&Kt[Mn].metadata[ut]&&Kt[Mn].metadata[ut].encoding&&(Vt=Kt[Mn].metadata[ut].encoding,!un&&Kt[Mn].encoding&&(un=Kt[Mn].encoding),!un&&Vt.codePages&&(un=Vt.codePages[0]),"string"==typeof un&&(un=Vt[un]),un)){for(Ei=!1,Xn=[],Ue=0,qe=k.length;Ue<qe;Ue++)(gr=un[k.charCodeAt(Ue)])?Xn.push(String.fromCharCode(gr)):Xn.push(k[Ue]),Xn[Ue].charCodeAt(0)>>8&&(Ei=!0);k=Xn.join("")}for(Ue=k.length;void 0===Ei&&0!==Ue;)k.charCodeAt(Ue-1)>>8&&(Ei=!0),Ue--;if(!Ei)return k;for(Xn=ue.noBOM?[]:[254,255],Ue=0,qe=k.length;Ue<qe;Ue++){if((pr=(gr=k.charCodeAt(Ue))>>8)>>8)throw new Error("Character at position "+Ue+" of string '"+k+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Xn.push(pr),Xn.push(gr-(pr<<8))}return String.fromCharCode.apply(void 0,Xn)}(k,ue).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Dp=h.__private__.beginPage=function(k){Ce[++on]=[],Xt[on]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},Bc(on),Oe(Ce[X])},ao=function(k,ue){var Ue,qe,ut;switch(e=ue||e,"string"==typeof k&&(Ue=A(k.toLowerCase()),Array.isArray(Ue)&&(qe=Ue[0],ut=Ue[1])),Array.isArray(k)&&(qe=k[0]*rt,ut=k[1]*rt),isNaN(qe)&&(qe=r[0],ut=r[1]),(qe>14400||ut>14400)&&(Io.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),ut=Math.min(14400,ut)),r=[qe,ut],e.substr(0,1)){case"l":ut>qe&&(r=[ut,qe]);break;case"p":qe>ut&&(r=[ut,qe])}Dp(r),dL(nT),fe(Mp),0!==rT&&fe(rT+" J"),0!==sT&&fe(sT+" j"),Wn.publish("addPage",{pageNumber:on})},lu=function(k){k>0&&k<=on&&(Ce.splice(k,1),Xt.splice(k,1),on--,X>on&&(X=on),this.setPage(X))},Bc=function(k){k>0&&k<=on&&(X=k)},jl=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ce.length-1},ql=function(k,ue,Ue){var qe,ut=void 0;return Ue=Ue||{},ue=void 0!==ue?ue:Kt[Mn].fontStyle,qe=(k=void 0!==k?k:Kt[Mn].fontName).toLowerCase(),void 0!==ni[qe]&&void 0!==ni[qe][ue]?ut=ni[qe][ue]:void 0!==ni[k]&&void 0!==ni[k][ue]?ut=ni[k][ue]:!1===Ue.disableWarning&&Io.warn("Unable to look up font label for font '"+k+"', '"+ue+"'. Refer to getFontList() for available fonts."),ut||Ue.noFallback||null==(ut=ni.times[ue])&&(ut=ni.times.normal),ut},ly=h.__private__.putInfo=function(){var k=Aa(),ue=function(qe){return qe};for(var Ue in null!==u&&(ue=cu.encryptor(k,0)),fe("<<"),fe("/Producer ("+wo(ue("jsPDF "+Vi.version))+")"),yt)yt.hasOwnProperty(Ue)&&yt[Ue]&&fe("/"+Ue.substr(0,1).toUpperCase()+Ue.substr(1)+" ("+wo(ue(yt[Ue]))+")");fe("/CreationDate ("+wo(ue(z))+")"),fe(">>"),fe("endobj")},Ch=h.__private__.putCatalog=function(k){var ue=(k=k||{}).rootDictionaryObjId||wf;switch(Aa(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+ue+" 0 R"),K||(K="fullwidth"),K){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ue=""+K;"%"===Ue.substr(Ue.length-1)&&(K=parseInt(K)/100),"number"==typeof K&&fe("/OpenAction [3 0 R /XYZ null null "+T(K)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}ke&&fe("/PageMode /"+ke),Wn.publish("putCatalog"),fe(">>"),fe("endobj")},T9=h.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(de+1)),fe("/Root "+de+" 0 R"),fe("/Info "+(de-1)+" 0 R"),null!==u&&fe("/Encrypt "+cu.oid+" 0 R"),fe("/ID [ <"+O+"> <"+O+"> ]"),fe(">>")},N9=h.__private__.putHeader=function(){fe("%PDF-"+p),fe("%\xba\xdf\xac\xe0")},I9=h.__private__.putXRef=function(){var k="0000000000";fe("xref"),fe("0 "+(de+1)),fe("0000000000 65535 f ");for(var ue=1;ue<=de;ue++)fe("function"==typeof he[ue]?(k+he[ue]()).slice(-10)+" 00000 n ":void 0!==he[ue]?(k+he[ue]).slice(-10)+" 00000 n ":"0000000000 00000 n ")},Ag=h.__private__.buildDocument=function(){de=0,ie=0,ee=[],he=[],ge=[],wf=ga(),au=ga(),Oe(ee),Wn.publish("buildDocument"),N9(),mg(),function(){Wn.publish("putAdditionalObjects");for(var k=0;k<ge.length;k++){var ue=ge[k];ou(ue.objId,!0),fe(ue.content),fe("endobj")}Wn.publish("postPutAdditionalObjects")}(),function(){var k=[];(function(){for(var k in Kt)Kt.hasOwnProperty(k)&&(!1===d||!0===d&&f.hasOwnProperty(k))&&b_(Kt[k])})(),function(){var k;for(k in Ze)Ze.hasOwnProperty(k)&&Bn(Ze[k])}(),function(){for(var k in bs)bs.hasOwnProperty(k)&&Te(bs[k])}(),function(k){var ue;for(ue in Fe)Fe.hasOwnProperty(ue)&&(Fe[ue]instanceof ab?wt(Fe[ue]):Fe[ue]instanceof zw&&ot(Fe[ue],k))}(k),Wn.publish("putResources"),k.forEach(lr),lr({resourcesOid:au,objectOid:Number.MAX_SAFE_INTEGER}),Wn.publish("postPutResources")}(),null!==u&&(cu.oid=Aa(),fe("<<"),fe("/Filter /Standard"),fe("/V "+cu.v),fe("/R "+cu.r),fe("/U <"+cu.toHexString(cu.U)+">"),fe("/O <"+cu.toHexString(cu.O)+">"),fe("/P "+cu.P),fe(">>"),fe("endobj")),ly(),Ch();var k=ie;return I9(),T9(),fe("startxref"),fe(""+k),fe("%%EOF"),Oe(Ce[X]),ee.join("\n")},BC=h.__private__.getBlob=function(k){return new Blob([Ge(k)],{type:"application/pdf"})},FC=h.output=h.__private__.output=((k=function(k,ue){switch("string"==typeof(ue=ue||{})?ue={filename:ue}:ue.filename=ue.filename||"generated.pdf",k){case void 0:return Ag();case"save":h.save(ue.filename);break;case"arraybuffer":return Ge(Ag());case"blob":return BC(Ag());case"bloburi":case"bloburl":if(void 0!==ji.URL&&"function"==typeof ji.URL.createObjectURL)return ji.URL&&ji.URL.createObjectURL(BC(Ag()))||void 0;Io.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ue="",qe=Ag();try{Ue=pV(qe)}catch{Ue=pV(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+ue.filename+";base64,"+Ue;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ji)){var ut="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Vt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ue.pdfObjectUrl&&(ut=ue.pdfObjectUrl,Vt="");var un='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ut+'"'+Vt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ue)+");<\/script></body></html>",Xn=ji.open();return null!==Xn&&Xn.document.write(un),Xn}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ji)){var Ei='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ue.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ue.filename+'" width="500px" height="400px" /></body></html>',gr=ji.open();if(null!==gr){gr.document.write(Ei);var pr=this;gr.document.documentElement.querySelector("#pdfViewer").onload=function(){gr.document.title=ue.filename,gr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pr.output("bloburl"))}}return gr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ji))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ws='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ue)+'"></iframe></body></html>',ba=ji.open();if(null!==ba&&(ba.document.write(ws),ba.document.title=ue.filename),ba||typeof safari>"u")return ba;break;case"datauri":case"dataurl":return ji.document.location.href=this.output("datauristring",ue);default:return null}}).foo=function(){try{return k.apply(this,arguments)}catch(qe){var ue=qe.stack||"";~ue.indexOf(" at ")&&(ue=ue.split(" at ")[1]);var Ue="Error in function "+ue.split("\n")[0].split("<")[0]+": "+qe.message;if(!ji.console)throw new Error(Ue);ji.console.error(Ue,qe),ji.alert&&alert(Ue)}},k.foo.bar=k,k.foo),aL=function(k){return!0===Array.isArray(Xs)&&Xs.indexOf(k)>-1};switch(i){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=1==aL("px_scaling")?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if("number"!=typeof i)throw new Error("Invalid unit: "+i);rt=i}var cu=null;ye(),j();var lL=h.__private__.getPageInfo=h.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Xt[k].objId,pageNumber:k,pageContext:Xt[k]}},cr=h.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ue in Xt)if(Xt[ue].objId===k)break;return lL(ue)},F9=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Xt[X].objId,pageNumber:X,pageContext:Xt[X]}};h.addPage=function(){return ao.apply(this,arguments),this},h.setPage=function(){return Bc.apply(this,arguments),Oe.call(this,Ce[X]),this},h.insertPage=function(k){return this.addPage(),this.movePage(X,k),this},h.movePage=function(k,ue){var Ue,qe;if(k>ue){Ue=Ce[k],qe=Xt[k];for(var ut=k;ut>ue;ut--)Ce[ut]=Ce[ut-1],Xt[ut]=Xt[ut-1];Ce[ue]=Ue,Xt[ue]=qe,this.setPage(ue)}else if(k<ue){Ue=Ce[k],qe=Xt[k];for(var Vt=k;Vt<ue;Vt++)Ce[Vt]=Ce[Vt+1],Xt[Vt]=Xt[Vt+1];Ce[ue]=Ue,Xt[ue]=qe,this.setPage(ue)}return this},h.deletePage=function(){return lu.apply(this,arguments),this},h.__private__.text=h.text=function(k,ue,Ue,qe,ut){var Vt,un,Xn,Ei,gr,pr,ws,ba,Ra,Cl=(qe=qe||{}).scope||this;if("number"==typeof k&&"number"==typeof ue&&("string"==typeof Ue||Array.isArray(Ue))){var uu=Ue;Ue=ue,ue=k,k=uu}if(arguments[3]instanceof Ai?(D("The transform parameter of text() with a Matrix value"),Ra=ut):(Xn=arguments[4],Ei=arguments[5],"object"===(0,No.A)(ws=arguments[3])&&null!==ws||("string"==typeof Xn&&(Ei=Xn,Xn=null),"string"==typeof ws&&(Ei=ws,ws=null),"number"==typeof ws&&(Xn=ws,ws=null),qe={flags:ws,angle:Xn,align:Ei})),isNaN(ue)||isNaN(Ue)||null==k)throw new Error("Invalid arguments passed to jsPDF.text");if(0===k.length)return Cl;var Tp,Ac="",Sh="number"==typeof qe.lineHeightFactor?qe.lineHeightFactor:uy,Vm=Cl.internal.scaleFactor;function gL(qo){return qo=qo.split("\t").join(Array(qe.TabLen||9).join(" ")),wo(qo,ws)}function uT(qo){for(var Wo,rl=qo.concat(),Wl=[],yg=rl.length;yg--;)"string"==typeof(Wo=rl.shift())?Wl.push(Wo):Array.isArray(qo)&&(1===Wo.length||void 0===Wo[1]&&void 0===Wo[2])?Wl.push(Wo[0]):Wl.push([Wo[0],Wo[1],Wo[2]]);return Wl}function dT(qo,Wo){var rl;if("string"==typeof qo)rl=Wo(qo)[0];else if(Array.isArray(qo)){for(var Wl,yg,_T=qo.concat(),$C=[],wL=_T.length;wL--;)"string"==typeof(Wl=_T.shift())?$C.push(Wo(Wl)[0]):Array.isArray(Wl)&&"string"==typeof Wl[0]&&(yg=Wo(Wl[0],Wl[1],Wl[2]),$C.push([yg[0],yg[1],yg[2]]));rl=$C}return rl}var UC=!1,hT=!0;if("string"==typeof k)UC=!0;else if(Array.isArray(k)){var fT=k.concat();un=[];for(var HC,Fc=fT.length;Fc--;)("string"!=typeof(HC=fT.shift())||Array.isArray(HC)&&"string"!=typeof HC[0])&&(hT=!1);UC=hT}if(!1===UC)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');"string"==typeof k&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var VC=re/Cl.internal.scaleFactor,zC=VC*(Sh-1);switch(qe.baseline){case"bottom":Ue-=zC;break;case"top":Ue+=VC-zC;break;case"hanging":Ue+=VC-2*zC;break;case"middle":Ue+=VC/2-zC}if((pr=qe.maxWidth||0)>0&&("string"==typeof k?k=Cl.splitTextToSize(k,pr):"[object Array]"===Object.prototype.toString.call(k)&&(k=k.reduce(function(qo,Wo){return qo.concat(Cl.splitTextToSize(Wo,pr))},[]))),Wn.publish("preProcessText",Vt={text:k,x:ue,y:Ue,options:qe,mutex:{pdfEscape:wo,activeFontKey:Mn,fonts:Kt,activeFontSize:re}}),k=Vt.text,Xn=(qe=Vt.options).angle,Ra instanceof Ai||!Xn||"number"!=typeof Xn)Xn&&Xn instanceof Ai&&(Ra=Xn);else{Xn*=Math.PI/180,0===qe.rotationDirection&&(Xn=-Xn),"advanced"===v&&(Xn=-Xn);var QC=Math.cos(Xn),pT=Math.sin(Xn);Ra=new Ai(QC,pT,-pT,QC,0,0)}"advanced"!==v||Ra||(Ra=wh),void 0!==(gr=qe.charSpace||RC)&&(Ac+=C(F(gr))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(ba=qe.horizontalScale)&&(Ac+=C(100*ba)+" Tz\n");var Td=-1,Q9=void 0!==qe.renderingMode?qe.renderingMode:qe.stroke,mT=Cl.internal.getCurrentPageInfo().pageContext;switch(Q9){case 0:case!1:case"fill":Td=0;break;case 1:case!0:case"stroke":Td=1;break;case 2:case"fillThenStroke":Td=2;break;case 3:case"invisible":Td=3;break;case 4:case"fillAndAddForClipping":Td=4;break;case 5:case"strokeAndAddPathForClipping":Td=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Td=6;break;case 7:case"addToPathForClipping":Td=7}-1!==Td?Ac+=Td+" Tr\n":-1!==(void 0!==mT.usedRenderingMode?mT.usedRenderingMode:-1)&&(Ac+="0 Tr\n"),-1!==Td&&(mT.usedRenderingMode=Td),Ei=qe.align||"left";var Sf,GC=re*Sh,_L=Cl.internal.pageSize.getWidth(),bL=Kt[Mn];gr=qe.charSpace||RC,pr=qe.maxWidth||0,ws=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var S_=[],fy=function(qo){return Cl.getStringUnitWidth(qo,{font:bL,charSpace:gr,fontSize:re,doKerning:!1})*re/Vm};if("[object Array]"===Object.prototype.toString.call(k)){var Nd;un=uT(k),"left"!==Ei&&(Sf=un.map(fy));var Hu,E_=0;if("right"===Ei){ue-=Sf[0],k=[],Fc=un.length;for(var vg=0;vg<Fc;vg++)0===vg?(Hu=Hm(ue),Nd=gg(Ue)):(Hu=F(E_-Sf[vg]),Nd=-GC),k.push([un[vg],Hu,Nd]),E_=Sf[vg]}else if("center"===Ei){ue-=Sf[0]/2,k=[],Fc=un.length;for(var _g=0;_g<Fc;_g++)0===_g?(Hu=Hm(ue),Nd=gg(Ue)):(Hu=F((E_-Sf[_g])/2),Nd=-GC),k.push([un[_g],Hu,Nd]),E_=Sf[_g]}else if("left"===Ei){k=[],Fc=un.length;for(var jC=0;jC<Fc;jC++)k.push(un[jC])}else if("justify"===Ei&&"Identity-H"===bL.encoding){k=[],Fc=un.length,pr=0!==pr?pr:_L;for(var bg=0,il=0;il<Fc;il++)if(Nd=0===il?gg(Ue):-GC,Hu=0===il?Hm(ue):bg,il<Fc-1){var AT=F((pr-Sf[il])/(un[il].split(" ").length-1)),Vu=un[il].split(" ");k.push([Vu[0]+" ",Hu,Nd]),bg=0;for(var Ef=1;Ef<Vu.length;Ef++){var qC=(fy(Vu[Ef-1]+" "+Vu[Ef])-fy(Vu[Ef]))*Vm+AT;k.push(Ef==Vu.length-1?[Vu[Ef],qC,0]:[Vu[Ef]+" ",qC,0]),bg-=qC}}else k.push([un[il],Hu,Nd]);k.push(["",bg,0])}else{if("justify"!==Ei)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(k=[],Fc=un.length,pr=0!==pr?pr:_L,il=0;il<Fc;il++)Nd=0===il?gg(Ue):-GC,Hu=0===il?Hm(ue):0,S_.push(il<Fc-1?C(F((pr-Sf[il])/(un[il].split(" ").length-1))):0),k.push([un[il],Hu,Nd])}}!0===("boolean"==typeof qe.R2L?qe.R2L:we)&&(k=dT(k,function(qo,Wo,rl){return[qo.split("").reverse().join(""),Wo,rl]})),Wn.publish("postProcessText",Vt={text:k,x:ue,y:Ue,options:qe,mutex:{pdfEscape:wo,activeFontKey:Mn,fonts:Kt,activeFontSize:re}}),k=Vt.text,Tp=Vt.mutex.isHex||!1;var gT=Kt[Mn].encoding;"WinAnsiEncoding"!==gT&&"StandardEncoding"!==gT||(k=dT(k,function(qo,Wo,rl){return[gL(qo),Wo,rl]})),un=uT(k),k=[];for(var py,my,D_,gy=Array.isArray(un[0])?1:0,M_="",vT=function(qo,Wo,rl){var Wl="";return rl instanceof Ai?(rl="number"==typeof qe.angle?Sd(rl,new Ai(1,0,0,1,qo,Wo)):Sd(new Ai(1,0,0,1,qo,Wo),rl),"advanced"===v&&(rl=Sd(new Ai(1,0,0,-1,0,0),rl)),Wl=rl.join(" ")+" Tm\n"):Wl=C(qo)+" "+C(Wo)+" Td\n",Wl},Df=0;Df<un.length;Df++){switch(M_="",gy){case 1:D_=(Tp?"<":"(")+un[Df][0]+(Tp?">":")"),py=parseFloat(un[Df][1]),my=parseFloat(un[Df][2]);break;case 0:D_=(Tp?"<":"(")+un[Df]+(Tp?">":")"),py=Hm(ue),my=gg(Ue)}void 0!==S_&&void 0!==S_[Df]&&(M_=S_[Df]+" Tw\n"),0===Df?k.push(M_+vT(py,my,Ra)+D_):0===gy?k.push(M_+D_):1===gy&&k.push(M_+vT(py,my,Ra)+D_)}k=k.join(0===gy?" Tj\nT* ":" Tj\n"),k+=" Tj\n";var Mf="BT\n/";return Mf+=Mn+" "+re+" Tf\n",Mf+=C(re*Sh)+" TL\n",Mf+=dy+"\n",Mf+=Ac,Mf+=k,fe(Mf+="ET"),f[Mn]=!0,Cl};var P9=h.__private__.clip=h.clip=function(k){return fe("evenodd"===k?"W*":"W"),this};h.clipEvenOdd=function(){return P9("evenodd")},h.__private__.discardPath=h.discardPath=function(){return fe("n"),this};var Um=h.__private__.isValidStyle=function(k){var ue=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)&&(ue=!0),ue};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(k){return Um(k)&&(c=k),this};var cL=h.__private__.getStyle=h.getStyle=function(k){var ue=c;switch(k){case"D":case"S":ue="S";break;case"F":ue="f";break;case"FD":case"DF":ue="B";break;case"f":case"f*":case"B":case"B*":ue=k}return ue},uL=h.close=function(){return fe("h"),this};h.stroke=function(){return fe("S"),this},h.fill=function(k){return PC("f",k),this},h.fillEvenOdd=function(k){return PC("f*",k),this},h.fillStroke=function(k){return PC("B",k),this},h.fillStrokeEvenOdd=function(k){return PC("B*",k),this};var PC=function(k,ue){"object"===(0,No.A)(ue)?R9(ue,k):fe(k)},eT=function(k){null===k||"advanced"===v&&void 0===k||(k=cL(k),fe(k))};function O9(k,ue,Ue,qe,ut){var Vt=new zw(ue||this.boundingBox,Ue||this.xStep,qe||this.yStep,this.gState,ut||this.matrix);Vt.stream=this.stream;var un=k+"$$"+this.cloneIndex+++"$$";return Oa(un,Vt),Vt}var R9=function(k,ue){var Ue=Ee[k.key],qe=Fe[Ue];if(qe instanceof ab)fe("q"),fe(k9(ue)),qe.gState&&h.setGState(qe.gState),fe(k.matrix.toString()+" cm"),fe("/"+Ue+" sh"),fe("Q");else if(qe instanceof zw){var ut=new Ai(1,0,0,-1,0,C_());k.matrix&&(ut=ut.multiply(k.matrix||wh),Ue=O9.call(qe,k.key,k.boundingBox,k.xStep,k.yStep,ut).id),fe("q"),fe("/Pattern cs"),fe("/"+Ue+" scn"),qe.gState&&h.setGState(qe.gState),fe(ue),fe("Q")}},k9=function(k){switch(k){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},tT=h.moveTo=function(k,ue){return fe(C(F(k))+" "+C(U(ue))+" m"),this},cy=h.lineTo=function(k,ue){return fe(C(F(k))+" "+C(U(ue))+" l"),this},w_=h.curveTo=function(k,ue,Ue,qe,ut,Vt){return fe([C(F(k)),C(U(ue)),C(F(Ue)),C(U(qe)),C(F(ut)),C(U(Vt)),"c"].join(" ")),this};h.__private__.line=h.line=function(k,ue,Ue,qe,ut){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||isNaN(qe)||!Um(ut))throw new Error("Invalid arguments passed to jsPDF.line");return"compat"===v?this.lines([[Ue-k,qe-ue]],k,ue,[1,1],ut||"S"):this.lines([[Ue-k,qe-ue]],k,ue,[1,1]).stroke()},h.__private__.lines=h.lines=function(k,ue,Ue,qe,ut,Vt){var un,Xn,Ei,gr,pr,uu,Ac,Tp;if("number"==typeof k&&(Tp=Ue,Ue=ue,ue=k,k=Tp),qe=qe||[1,1],Vt=Vt||!1,isNaN(ue)||isNaN(Ue)||!Array.isArray(k)||!Array.isArray(qe)||!Um(ut)||"boolean"!=typeof Vt)throw new Error("Invalid arguments passed to jsPDF.lines");for(tT(ue,Ue),un=qe[0],Xn=qe[1],gr=k.length,uu=ue,Ac=Ue,Ei=0;Ei<gr;Ei++)2===(pr=k[Ei]).length?cy(uu=pr[0]*un+uu,Ac=pr[1]*Xn+Ac):w_(pr[0]*un+uu,pr[1]*Xn+Ac,pr[2]*un+uu,pr[3]*Xn+Ac,uu=pr[4]*un+uu,Ac=pr[5]*Xn+Ac);return Vt&&uL(),eT(ut),this},h.path=function(k){for(var ue=0;ue<k.length;ue++){var Ue=k[ue],qe=Ue.c;switch(Ue.op){case"m":tT(qe[0],qe[1]);break;case"l":cy(qe[0],qe[1]);break;case"c":w_.apply(this,qe);break;case"h":uL()}}return this},h.__private__.rect=h.rect=function(k,ue,Ue,qe,ut){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||isNaN(qe)||!Um(ut))throw new Error("Invalid arguments passed to jsPDF.rect");return"compat"===v&&(qe=-qe),fe([C(F(k)),C(U(ue)),C(F(Ue)),C(F(qe)),"re"].join(" ")),eT(ut),this},h.__private__.triangle=h.triangle=function(k,ue,Ue,qe,ut,Vt,un){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||isNaN(qe)||isNaN(ut)||isNaN(Vt)||!Um(un))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ue-k,qe-ue],[ut-Ue,Vt-qe],[k-ut,ue-Vt]],k,ue,[1,1],un,!0),this},h.__private__.roundedRect=h.roundedRect=function(k,ue,Ue,qe,ut,Vt,un){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||isNaN(qe)||isNaN(ut)||isNaN(Vt)||!Um(un))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Xn=4/3*(Math.SQRT2-1);return ut=Math.min(ut,.5*Ue),Vt=Math.min(Vt,.5*qe),this.lines([[Ue-2*ut,0],[ut*Xn,0,ut,Vt-Vt*Xn,ut,Vt],[0,qe-2*Vt],[0,Vt*Xn,-ut*Xn,Vt,-ut,Vt],[2*ut-Ue,0],[-ut*Xn,0,-ut,-Vt*Xn,-ut,-Vt],[0,2*Vt-qe],[0,-Vt*Xn,ut*Xn,-Vt,ut,-Vt]],k+ut,ue,[1,1],un,!0),this},h.__private__.ellipse=h.ellipse=function(k,ue,Ue,qe,ut){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||isNaN(qe)||!Um(ut))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Vt=4/3*(Math.SQRT2-1)*Ue,un=4/3*(Math.SQRT2-1)*qe;return tT(k+Ue,ue),w_(k+Ue,ue-un,k+Vt,ue-qe,k,ue-qe),w_(k-Vt,ue-qe,k-Ue,ue-un,k-Ue,ue),w_(k-Ue,ue+un,k-Vt,ue+qe,k,ue+qe),w_(k+Vt,ue+qe,k+Ue,ue+un,k+Ue,ue),eT(ut),this},h.__private__.circle=h.circle=function(k,ue,Ue,qe){if(isNaN(k)||isNaN(ue)||isNaN(Ue)||!Um(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,ue,Ue,Ue,qe)},h.setFont=function(k,ue,Ue){return Ue&&(ue=y(ue,Ue)),Mn=ql(k,ue,{disableWarning:!1}),this};var L9=h.__private__.getFont=h.getFont=function(){return Kt[ql.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var k,ue,Ue={};for(k in ni)if(ni.hasOwnProperty(k))for(ue in Ue[k]=[],ni[k])ni[k].hasOwnProperty(ue)&&Ue[k].push(ue);return Ue},h.addFont=function(k,ue,Ue,qe,ut){var Vt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==Vt.indexOf(arguments[3])?ut=arguments[3]:arguments[3]&&-1==Vt.indexOf(arguments[3])&&(Ue=y(Ue,qe)),va.call(this,k,ue,Ue,ut=ut||"Identity-H")};var uy,nT=n.lineWidth||.200025,OC=h.__private__.getLineWidth=h.getLineWidth=function(){return nT},dL=h.__private__.setLineWidth=h.setLineWidth=function(k){return nT=k,fe(C(F(k))+" w"),this};h.__private__.setLineDash=Vi.API.setLineDash=Vi.API.setLineDashPattern=function(k,ue){if(k=k||[],ue=ue||0,isNaN(ue)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(Ue){return C(F(Ue))}).join(" "),ue=C(F(ue)),fe("["+k+"] "+ue+" d"),this};var hL=h.__private__.getLineHeight=h.getLineHeight=function(){return re*uy};h.__private__.getLineHeight=h.getLineHeight=function(){return re*uy};var fL=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(k){return"number"==typeof(k=k||1.15)&&(uy=k),this},pL=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return uy};fL(n.lineHeight);var Hm=h.__private__.getHorizontalCoordinate=function(k){return F(k)},gg=h.__private__.getVerticalCoordinate=function(k){return"advanced"===v?k:Xt[X].mediaBox.topRightY-Xt[X].mediaBox.bottomLeftY-F(k)},U9=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(k){return C(Hm(k))},x_=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(k){return C(gg(k))},Mp=n.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ed(Mp)},h.__private__.setStrokeColor=h.setDrawColor=function(k,ue,Ue,qe){return Mp=Dd({ch1:k,ch2:ue,ch3:Ue,ch4:qe,pdfColorType:"draw",precision:2}),fe(Mp),this};var iT=n.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ed(iT)},h.__private__.setFillColor=h.setFillColor=function(k,ue,Ue,qe){return iT=Dd({ch1:k,ch2:ue,ch3:Ue,ch4:qe,pdfColorType:"fill",precision:2}),fe(iT),this};var dy=n.textColor||"0 g",H9=h.__private__.getTextColor=h.getTextColor=function(){return Ed(dy)};h.__private__.setTextColor=h.setTextColor=function(k,ue,Ue,qe){return dy=Dd({ch1:k,ch2:ue,ch3:Ue,ch4:qe,pdfColorType:"text",precision:3}),this};var RC=n.charSpace,V9=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(RC||0)};h.__private__.setCharSpace=h.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return RC=k,this};var rT=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(k){var ue=h.CapJoinStyles[k];if(void 0===ue)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return rT=ue,fe(ue+" J"),this};var sT=0;h.__private__.setLineJoin=h.setLineJoin=function(k){var ue=h.CapJoinStyles[k];if(void 0===ue)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return sT=ue,fe(ue+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(C(F(k))+" M"),this},h.GState=hP,h.setGState=function(k){(k="string"==typeof k?Ze[it[k]]:mL(null,k)).equals(mt)||(fe("/"+k.id+" gs"),mt=k)};var mL=function(k,ue){if(!k||!it[k]){var Ue=!1;for(var qe in Ze)if(Ze.hasOwnProperty(qe)&&Ze[qe].equals(ue)){Ue=!0;break}if(Ue)ue=Ze[qe];else{var ut="GS"+(Object.keys(Ze).length+1).toString(10);Ze[ut]=ue,ue.id=ut}return k&&(it[k]=ue.id),Wn.publish("addGState",ue),ue}};h.addGState=function(k,ue){return mL(k,ue),this},h.saveGraphicsState=function(){return fe("q"),Y.push({key:Mn,size:re,color:dy}),this},h.restoreGraphicsState=function(){fe("Q");var k=Y.pop();return Mn=k.key,re=k.size,dy=k.color,mt=null,this},h.setCurrentTransformationMatrix=function(k){return fe(k.toString()+" cm"),this},h.comment=function(k){return fe("#"+k),this};var kC=function(k,ue){var Ue=k||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ue},set:function(Vt){isNaN(Vt)||(Ue=parseFloat(Vt))}});var qe=ue||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(Vt){isNaN(Vt)||(qe=parseFloat(Vt))}});var ut="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ut},set:function(Vt){ut=Vt.toString()}}),this},oT=function(k,ue,Ue,qe){kC.call(this,k,ue),this.type="rect";var ut=Ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ut},set:function(un){isNaN(un)||(ut=parseFloat(un))}});var Vt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Vt},set:function(un){isNaN(un)||(Vt=parseFloat(un))}}),this},aT=function(){this.page=on,this.currentPage=X,this.pages=Ce.slice(0),this.pagesContext=Xt.slice(0),this.x=Sn,this.y=En,this.matrix=ei,this.width=hy(X),this.height=C_(X),this.outputDestination=Ne,this.id="",this.objectNumber=-1};aT.prototype.restore=function(){on=this.page,Xt=this.pagesContext,Ce=this.pages,Sn=this.x,En=this.y,ei=this.matrix,lT(X=this.currentPage,this.width),cT(X,this.height),Ne=this.outputDestination};var AL=function(k,ue,Ue,qe,ut){Pa.push(new aT),on=X=0,Ce=[],Sn=k,En=ue,ei=ut,Dp([Ue,qe])};for(var LC in h.beginFormObject=function(k,ue,Ue,qe,ut){return AL(k,ue,Ue,qe,ut),this},h.endFormObject=function(k){return function(k){if(kr[k])Pa.pop().restore();else{var ue=new aT,Ue="Xo"+(Object.keys(bs).length+1).toString(10);ue.id=Ue,kr[k]=Ue,bs[Ue]=ue,Wn.publish("addFormObject",ue),Pa.pop().restore()}}(k),this},h.doFormObject=function(k,ue){var Ue=bs[kr[k]];return fe("q"),fe(ue.toString()+" cm"),fe("/"+Ue.id+" Do"),fe("Q"),this},h.getFormObject=function(k){var ue=bs[kr[k]];return{x:ue.x,y:ue.y,width:ue.width,height:ue.height,matrix:ue.matrix}},h.save=function(k,ue){return k=k||"generated.pdf",(ue=ue||{}).returnPromise=ue.returnPromise||!1,!1===ue.returnPromise?(ob(BC(Ag()),k),"function"==typeof ob.unload&&ji.setTimeout&&setTimeout(ob.unload,911),this):new Promise(function(Ue,qe){try{var ut=ob(BC(Ag()),k);"function"==typeof ob.unload&&ji.setTimeout&&setTimeout(ob.unload,911),Ue(ut)}catch(Vt){qe(Vt.message)}})},Vi.API)Vi.API.hasOwnProperty(LC)&&("events"===LC&&Vi.API.events.length?function(k,ue){var qe,ut;for(ut=ue.length-1;-1!==ut;ut--)k.subscribe.apply(k,[ue[ut][0]].concat("function"==typeof(qe=ue[ut][1])?[qe]:qe))}(Wn,Vi.API.events):h[LC]=Vi.API[LC]);var hy=h.getPageWidth=function(k){return(Xt[k=k||X].mediaBox.topRightX-Xt[k].mediaBox.bottomLeftX)/rt},lT=h.setPageWidth=function(k,ue){Xt[k].mediaBox.topRightX=ue*rt+Xt[k].mediaBox.bottomLeftX},C_=h.getPageHeight=function(k){return(Xt[k=k||X].mediaBox.topRightY-Xt[k].mediaBox.bottomLeftY)/rt},cT=h.setPageHeight=function(k,ue){Xt[k].mediaBox.topRightY=ue*rt+Xt[k].mediaBox.bottomLeftY};return h.internal={pdfEscape:wo,getStyle:cL,getFont:L9,getFontSize:W,getCharSpace:V9,getTextColor:H9,getLineHeight:hL,getLineHeightFactor:pL,getLineWidth:OC,write:at,getHorizontalCoordinate:Hm,getVerticalCoordinate:gg,getCoordinateString:U9,getVerticalCoordinateString:x_,collections:{},newObject:Aa,newAdditionalObject:Ep,newObjectDeferred:ga,newObjectDeferredBegin:ou,getFilters:xf,putStream:Md,events:Wn,scaleFactor:rt,pageSize:{getWidth:function(){return hy(X)},setWidth:function(k){lT(X,k)},getHeight:function(){return C_(X)},setHeight:function(k){cT(X,k)}},encryptionOptions:u,encryption:cu,getEncryptor:function(k){return null!==u?cu.encryptor(k,0):function(ue){return ue}},output:FC,getNumberOfPages:jl,pages:Ce,out:fe,f2:T,f3:M,getPageInfo:lL,getPageInfoByObjId:cr,getCurrentPageInfo:F9,getPDFVersion:m,Point:kC,Rectangle:oT,Matrix:Ai,hasHotfix:aL},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return hy(X)},set:function(k){lT(X,k)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return C_(X)},set:function(k){cT(X,k)},enumerable:!0,configurable:!0}),function(k){for(var ue=0,Ue=$e.length;ue<Ue;ue++){var qe=va.call(this,k[ue][0],k[ue][1],k[ue][2],$e[ue][3],!0);!1===d&&(f[qe]=!0);var ut=k[ue][0].split("-");wi({id:qe,fontName:ut[0],fontStyle:ut[1]||""})}Wn.publish("addFonts",{fonts:Kt,dictionary:ni})}.call(h,$e),Mn="F1",ao(r,e),Wn.publish("initialized"),h}Hw.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Hw.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Hw.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},Hw.prototype.processOwnerPassword=function(n,t){return gV(AV(t).substr(0,5),n)},Hw.prototype.encryptor=function(n,t){var e=AV(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(i){return gV(e,i)}},hP.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||(0,No.A)(n)!==(0,No.A)(this))return!1;var i=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;i++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&i--;return 0===i},Vi.API={events:[]},Vi.version="2.5.2";var Na=Vi.API,vV=1,lb=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qw=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},dr=function(n){return n.toFixed(2)},Nv=function(n){return n.toFixed(5)};Na.__acroform__={};var cd=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},Yse=function(n){return n*vV},ym=function(n){var t=new Jse,e=ui.internal.getHeight(n)||0,i=ui.internal.getWidth(n)||0;return t.BBox=[0,0,Number(dr(i)),Number(dr(e))],t},$Ve=Na.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<t},KVe=Na.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<t)},XVe=Na.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},Ka=Na.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return XVe(n,t-1)},Xa=Na.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $Ve(n,t-1)},Ya=Na.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return KVe(n,t-1)},YVe=Na.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,i=t.internal.getVerticalCoordinate,r=n[0],s=n[1],o=n[2],a=n[3],l={};return l.lowerLeft_X=e(r)||0,l.lowerLeft_Y=i(s+a)||0,l.upperRight_X=e(r+o)||0,l.upperRight_Y=i(s)||0,[Number(dr(l.lowerLeft_X)),Number(dr(l.lowerLeft_Y)),Number(dr(l.upperRight_X)),Number(dr(l.upperRight_Y))]},ZVe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],i=_V(n,n._V||n.DV),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+r+" "+dr(i.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(i.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ym(n);return s.scope=n.scope,s.stream=t.join("\n"),s}},_V=function(n,t){var e=0===n.fontSize?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");r=r.map(n.multiline?function(M){return M.split("\n")}:function(M){return[M]});var s=e,o=ui.internal.getHeight(n)||0;o=o<0?-o:o;var M,a=ui.internal.getWidth(n)||0;a=a<0?-a:a,s++;e:for(;s>0;){t="",s--;var c,u,d=fP("3",n,s).height,f=n.multiline?o-s:(o-d)/2,h=f+=2,p=0,m=0,g=0;if(s<=0){t="(...) Tj\n",t+="% Width of Text: "+fP(t,n,s=12).width+", FieldWidth:"+a+"\n";break}for(var A="",_=0,v=0;v<r.length;v++)if(r.hasOwnProperty(v)){var b=!1;if(1!==r[v].length&&g!==r[v].length-1){if((d+2)*(_+2)+2>o)continue e;A+=r[v][g],b=!0,m=v,v--}else{A=" "==(A+=r[v][g]+" ").substr(A.length-1)?A.substr(0,A.length-1):A;var w=parseInt(v),y=(M=w)+1<r.length&&fP(A+" "+r[M+1][0],n,s).width<=a-4,C=v>=r.length-1;if(y&&!C){A+=" ",g=0;continue}if(y||C){if(C)m=w;else if(n.multiline&&(d+2)*(_+2)+2>o)continue e}else{if(!n.multiline||(d+2)*(_+2)+2>o)continue e;m=w}}for(var D="",S=p;S<=m;S++){var T=r[S];if(n.multiline){if(S===m){D+=T[g]+" ",g=(g+1)%T.length;continue}if(S===p){D+=T[T.length-1]+" ";continue}}D+=T[0]+" "}switch(D=" "==D.substr(D.length-1)?D.substr(0,D.length-1):D,u=fP(D,n,s).width,n.textAlign){case"right":c=a-u-2;break;case"center":c=(a-u)/2;break;default:c=2}t+=dr(c)+" "+dr(h)+" Td\n",t+="("+lb(D)+") Tj\n",t+=-dr(c)+" 0 Td\n",h=-(s+2),u=0,p=b?m:m+1,_++,A=""}break}return i.text=t,i.fontSize=s,i},fP=function(n,t,e){var i=t.scope.internal.getFont(t.fontName,t.fontStyle),r=t.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:r}},JVe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},eze=function(n,t){var e={type:"reference",object:n};void 0===t.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===e.type&&i.object===e.object})&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},Zse=Na.__acroform__.arrayToPdfArray=function(n,t,e){var i=function(o){return o};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(0!==s&&(r+=" "),(0,No.A)(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":"/"!==n[s].substr(0,1)?(void 0!==t&&e&&(i=e.internal.getEncryptor(t)),r+="("+lb(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},bV=function(n,t,e){var i=function(r){return r};return void 0!==t&&e&&(i=e.internal.getEncryptor(t)),(n=n||"").toString(),"("+lb(i(n))+")"},wm=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};wm.prototype.toString=function(){return this.objId+" 0 R"},wm.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},wm.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return"content"!=s&&"appearanceStreamContent"!=s&&"scope"!=s&&"objId"!=s&&"_"!=s.substring(0,1)});for(var e in t)if(!1===Object.getOwnPropertyDescriptor(this,t[e]).configurable){var i=t[e],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:Zse(r,this.objId,this.scope)}):r instanceof wm?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):"function"!=typeof r&&n.push({key:i,value:r}))}return n};var Jse=function(){wm.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};cd(Jse,wm);var eoe=function(){wm.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(i){return i};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+lb(e(n))+")"}},set:function(e){n=e}})};cd(eoe,wm);var lp=function n(){wm.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ka(t,3)},set:function(A){this.F=A?Xa(t,3):Ya(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');e=A}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==i.length)return i},set:function(A){i=void 0!==A?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(A){i[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(A){i[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(A){i[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(A){i[3]=A}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof AP)return;s="FieldObject"+n.FieldNum++}var A=function(_){return _};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+lb(A(s))+")"},set:function(A){s=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(A){s=A}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(A){o=A}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(A){a=A}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/vV:c},set:function(A){c=A}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(A){u=A}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof AP||this instanceof cb))return bV(d,this.objId,this.scope)},set:function(A){A=A.toString(),d=A}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof ac?f:bV(f,this.objId,this.scope)},set:function(A){A=A.toString(),f=this instanceof ac?A:"("===A.substr(0,1)?Qw(A.substr(1,A.length-2)):Qw(A)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ac?Qw(f.substr(1,f.length-1)):f},set:function(A){A=A.toString(),f=this instanceof ac?"/"+A:A}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ac?h:bV(h,this.objId,this.scope)},set:function(A){A=A.toString(),h=this instanceof ac?A:"("===A.substr(0,1)?Qw(A.substr(1,A.length-2)):Qw(A)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ac?Qw(h.substr(1,h.length-1)):h},set:function(A){A=A.toString(),h=this instanceof ac?"/"+A:A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(A){m=A=!!A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(A){p=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,1)},set:function(A){this.Ff=A?Xa(this.Ff,1):Ya(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,2)},set:function(A){this.Ff=A?Xa(this.Ff,2):Ya(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,3)},set:function(A){this.Ff=A?Xa(this.Ff,3):Ya(this.Ff,3)}});var g=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==g)return g},set:function(A){if(-1===[0,1,2].indexOf(A))throw new Error('Invalid value "'+A+'" for attribute Q supplied.');g=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(g){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:g=2;break;case"center":case 1:g=1;break;default:g=0}}})};cd(lp,wm);var Gw=function(){lp.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Zse(t,this.objId,this.scope)},set:function(e){var i,r;r=[],"string"==typeof(i=e)&&(r=function(s,o,a){a||(a=1);for(var l,c=[];l=o.exec(s);)c.push(l[a]);return c}(i,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,i){for(i=i||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==i););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,18)},set:function(e){this.Ff=e?Xa(this.Ff,18):Ya(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,19)},set:function(e){!0===this.combo&&(this.Ff=e?Xa(this.Ff,19):Ya(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,20)},set:function(e){e?(this.Ff=Xa(this.Ff,20),t.sort()):this.Ff=Ya(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,22)},set:function(e){this.Ff=e?Xa(this.Ff,22):Ya(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,23)},set:function(e){this.Ff=e?Xa(this.Ff,23):Ya(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,27)},set:function(e){this.Ff=e?Xa(this.Ff,27):Ya(this.Ff,27)}}),this.hasAppearanceStream=!1};cd(Gw,lp);var jw=function(){Gw.call(this),this.fontName="helvetica",this.combo=!1};cd(jw,Gw);var qw=function(){jw.call(this),this.combo=!0};cd(qw,jw);var pP=function(){qw.call(this),this.edit=!0};cd(pP,qw);var ac=function(){lp.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,15)},set:function(e){this.Ff=e?Xa(this.Ff,15):Ya(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,16)},set:function(e){this.Ff=e?Xa(this.Ff,16):Ya(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,17)},set:function(e){this.Ff=e?Xa(this.Ff,17):Ya(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,26)},set:function(e){this.Ff=e?Xa(this.Ff,26):Ya(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var i,r=[];for(i in r.push("<<"),t)r.push("/"+i+" ("+lb(e(t[i]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,No.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};cd(ac,lp);var mP=function(){ac.call(this),this.pushButton=!0};cd(mP,ac);var Ww=function(){ac.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=void 0!==t?t:[]}})};cd(Ww,ac);var AP=function(){var n,t;lp.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(r){t=r}});var e,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),i)o.push("/"+s+" ("+lb(r(i[s]))+")");return o.push(">>"),o.join("\n")},set:function(r){"object"===(0,No.A)(r)&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){"string"==typeof r&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ui.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cd(AP,lp),Ww.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Ww.prototype.createOption=function(n){var t=new AP;return t.Parent=this,t.optionName=n,this.Kids.push(t),ize.call(this.scope,t),t};var gP=function(){ac.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ui.CheckBox.createAppearanceStream()};cd(gP,ac);var cb=function(){lp.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,13)},set:function(t){this.Ff=t?Xa(this.Ff,13):Ya(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,21)},set:function(t){this.Ff=t?Xa(this.Ff,21):Ya(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,23)},set:function(t){this.Ff=t?Xa(this.Ff,23):Ya(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,24)},set:function(t){this.Ff=t?Xa(this.Ff,24):Ya(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,25)},set:function(t){this.Ff=t?Xa(this.Ff,25):Ya(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,26)},set:function(t){this.Ff=t?Xa(this.Ff,26):Ya(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cd(cb,lp);var vP=function(){cb.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ka(this.Ff,14)},set:function(n){this.Ff=n?Xa(this.Ff,14):Ya(this.Ff,14)}}),this.password=!0};cd(vP,cb);var ui={CheckBox:{createAppearanceStream:function(){return{N:{On:ui.CheckBox.YesNormal},D:{On:ui.CheckBox.YesPushDown,Off:ui.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=_V(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+dr(ui.internal.getWidth(n))+" "+dr(ui.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+i+" "+dr(s.fontSize)+" Tf "+r),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join("\n"),t},YesNormal:function(n){var t=ym(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=ui.internal.getHeight(n),o=ui.internal.getWidth(n),a=_V(n,n.caption);return r.push("1 g"),r.push("0 0 "+dr(o)+" "+dr(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+dr(o-1)+" "+dr(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+e+" "+dr(a.fontSize)+" Tf "+i),r.push(a.text),r.push("ET"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+dr(ui.internal.getWidth(n))+" "+dr(ui.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ui.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ui.RadioButton.Circle.YesNormal,t.D[n]=ui.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=ym(n);t.scope=n.scope;var e=[],i=ui.internal.getWidth(n)<=ui.internal.getHeight(n)?ui.internal.getWidth(n)/4:ui.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var s=Number((i*ui.internal.Bezier_C).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Nv(ui.internal.getWidth(n)/2)+" "+Nv(ui.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),e.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),e.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),e.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=[],i=ui.internal.getWidth(n)<=ui.internal.getHeight(n)?ui.internal.getWidth(n)/4:ui.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ui.internal.Bezier_C).toFixed(5)),o=Number((i*ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Nv(ui.internal.getWidth(n)/2)+" "+Nv(ui.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Nv(ui.internal.getWidth(n)/2)+" "+Nv(ui.internal.getHeight(n)/2)+" cm"),e.push(i+" 0 m"),e.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),e.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),e.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),e.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t},OffPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=[],i=ui.internal.getWidth(n)<=ui.internal.getHeight(n)?ui.internal.getWidth(n)/4:ui.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*ui.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Nv(ui.internal.getWidth(n)/2)+" "+Nv(ui.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join("\n"),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ui.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ui.RadioButton.Cross.YesNormal,t.D[n]=ui.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=ym(n);t.scope=n.scope;var e=[],i=ui.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+dr(ui.internal.getWidth(n)-2)+" "+dr(ui.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(dr(i.x1.x)+" "+dr(i.x1.y)+" m"),e.push(dr(i.x2.x)+" "+dr(i.x2.y)+" l"),e.push(dr(i.x4.x)+" "+dr(i.x4.y)+" m"),e.push(dr(i.x3.x)+" "+dr(i.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join("\n"),t},YesPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=ui.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+dr(ui.internal.getWidth(n))+" "+dr(ui.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+dr(ui.internal.getWidth(n)-2)+" "+dr(ui.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(dr(e.x1.x)+" "+dr(e.x1.y)+" m"),i.push(dr(e.x2.x)+" "+dr(e.x2.y)+" l"),i.push(dr(e.x4.x)+" "+dr(e.x4.y)+" m"),i.push(dr(e.x3.x)+" "+dr(e.x3.y)+" l"),i.push("s"),i.push("Q"),t.stream=i.join("\n"),t},OffPushDown:function(n){var t=ym(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+dr(ui.internal.getWidth(n))+" "+dr(ui.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join("\n"),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ui.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ui.internal.getWidth(n),e=ui.internal.getHeight(n),i=Math.min(t,e);return{x1:{x:(t-i)/2,y:(e-i)/2+i},x2:{x:(t-i)/2+i,y:(e-i)/2},x3:{x:(t-i)/2,y:(e-i)/2},x4:{x:(t-i)/2+i,y:(e-i)/2+i}}}},ui.internal.getWidth=function(n){var t=0;return"object"===(0,No.A)(n)&&(t=Yse(n.Rect[2])),t},ui.internal.getHeight=function(n){var t=0;return"object"===(0,No.A)(n)&&(t=Yse(n.Rect[3])),t};var n,t,ize=Na.addField=function(n){if(function(n,t){if(t.scope=n,void 0!==n.internal&&(void 0===n.internal.acroformPlugin||!1===n.internal.acroformPlugin.isInitialized)){if(lp.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(JVe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vV=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new eoe,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){var e;(e=n).internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0}),n.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&eze(s,e)}}(n)}),n.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(n)}),n.internal.events.subscribe("postPutPages",function(e){!function(i,r){var s=!i;for(var o in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(o)){var a=i[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=YVe(a.Rect,r)),r.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ui.createDefaultAppearanceStream(a),"object"===(0,No.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=ZVe(a);l.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var f in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(f)){var h=a.appearanceStreamContent[f];if(d+="/"+f+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var p=h[o];"function"==typeof p&&(p=p.call(r,a)),d+="/"+o+" "+p+" ",r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p)}}else"function"==typeof(p=h)&&(p=p.call(r,a)),d+="/"+o+" "+p,r.internal.acroformPlugin.xForms.indexOf(p)>=0||r.internal.acroformPlugin.xForms.push(p);d+=">>"}l.push({key:"AP",value:"<<\n"+d+">>"})}r.internal.putStream({additionalKeyValues:l,objectId:a.objId}),r.internal.out("endobj")}s&&function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var i=e,r=n[e];t.internal.newObjectDeferredBegin(r.objId,!0),"object"===(0,No.A)(r)&&"function"==typeof r.putStream&&r.putStream(),delete n[i]}}(r.internal.acroformPlugin.xForms,r)}(e,n)}),n.internal.acroformPlugin.isInitialized=!0}}(this,n),!(n instanceof lp))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};function toe(n){return n.reduce(function(t,e,i){return t[e]=i,t},{})}Na.AcroFormChoiceField=Gw,Na.AcroFormListBox=jw,Na.AcroFormComboBox=qw,Na.AcroFormEditBox=pP,Na.AcroFormButton=ac,Na.AcroFormPushButton=mP,Na.AcroFormRadioButton=Ww,Na.AcroFormCheckBox=gP,Na.AcroFormTextField=cb,Na.AcroFormPasswordField=vP,Na.AcroFormAppearance=ui,Na.AcroForm={ChoiceField:Gw,ListBox:jw,ComboBox:qw,EditBox:pP,Button:ac,PushButton:mP,RadioButton:Ww,CheckBox:gP,TextField:cb,PasswordField:vP,Appearance:ui},Vi.AcroForm={ChoiceField:Gw,ListBox:jw,ComboBox:qw,EditBox:pP,Button:ac,PushButton:mP,RadioButton:Ww,CheckBox:gP,TextField:cb,PasswordField:vP,Appearance:ui},function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(M,F){var L,U,z,O,G,j=t;if("RGBA"===(F=F||t)||void 0!==M.data&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(y(M))for(G in e)for(z=e[G],L=0;L<z.length;L+=1){for(O=!0,U=0;U<z[L].length;U+=1)if(void 0!==z[L][U]&&z[L][U]!==M[U]){O=!1;break}if(!0===O){j=G;break}}else for(G in e)for(z=e[G],L=0;L<z.length;L+=1){for(O=!0,U=0;U<z[L].length;U+=1)if(void 0!==z[L][U]&&z[L][U]!==M.charCodeAt(U)){O=!1;break}if(!0===O){j=G;break}}return j===t&&F!==t&&(j=F),j},r=function M(F){for(var L=this.internal.write,U=this.internal.putStream,z=(0,this.internal.getFilters)();-1!==z.indexOf("FlateEncode");)z.splice(z.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var O=[];if(O.push({key:"Type",value:"/XObject"}),O.push({key:"Subtype",value:"/Image"}),O.push({key:"Width",value:F.width}),O.push({key:"Height",value:F.height}),F.colorSpace===g.INDEXED?O.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&void 0!==F.sMask?F.objectId+2:F.objectId+1)+" 0 R]"}):(O.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===g.DEVICE_CMYK&&O.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),O.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&void 0!==F.decodeParameters&&O.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)){for(var G="",j=0,J=F.transparency.length;j<J;j++)G+=F.transparency[j]+" "+F.transparency[j]+" ";O.push({key:"Mask",value:"["+G+"]"})}if(void 0!==F.sMask&&O.push({key:"SMask",value:F.objectId+1+" 0 R"}),U({data:F.data,additionalKeyValues:O,alreadyAppliedFilters:void 0!==F.filter?["/"+F.filter]:void 0,objectId:F.objectId}),L("endobj"),"sMask"in F&&void 0!==F.sMask){var R={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:F.bitsPerComponent,decodeParameters:"/Predictor "+F.predictor+" /Colors 1 /BitsPerComponent "+F.bitsPerComponent+" /Columns "+F.width,data:F.sMask};"filter"in F&&(R.filter=F.filter),M.call(this,R)}if(F.colorSpace===g.INDEXED){var X=this.internal.newObject();U({data:D(new Uint8Array(F.palette)),objectId:X}),L("endobj")}},s=function(){var M=this.internal.collections.addImage_images;for(var F in M)r.call(this,M[F])},o=function(){var M,F=this.internal.collections.addImage_images,L=this.internal.write;for(var U in F)L("/I"+(M=F[U]).index,M.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var M=this.internal.collections.addImage_images;return a.call(this),M},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(M){return"function"==typeof n["process"+M.toUpperCase()]},d=function(M){return"object"===(0,No.A)(M)&&1===M.nodeType},f=function(M,F){if("IMG"===M.nodeName&&M.hasAttribute("src")){var L=""+M.getAttribute("src");if(0===L.indexOf("data:image/"))return xD(unescape(L).split("base64,").pop());var U=n.loadFile(L,!0);if(void 0!==U)return U}if("CANVAS"===M.nodeName){if(0===M.width||0===M.height)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var z;switch(F){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;default:z="image/jpeg"}return xD(M.toDataURL(z,1).split("base64,").pop())}},h=function(M){var F=this.internal.collections.addImage_images;if(F)for(var L in F)if(M===F[L].alias)return F[L]},p=function(M,F,L){return M||F||(M=-96,F=-96),M<0&&(M=-1*L.width*72/M/this.internal.scaleFactor),F<0&&(F=-1*L.height*72/F/this.internal.scaleFactor),0===M&&(M=F*L.width/L.height),0===F&&(F=M*L.height/L.width),[M,F]},m=function(M,F,L,U,z,O){var G=p.call(this,L,U,z),j=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,le=l.call(this);if(L=G[0],U=G[1],le[z.index]=z,O){O*=Math.PI/180;var ye=Math.cos(O),R=Math.sin(O),X=function(ae){return ae.toFixed(4)},H=[X(ye),X(R),X(-1*R),X(ye),0,0,"cm"]}this.internal.write("q"),O?(this.internal.write([1,"0","0",1,j(M),J(F+U),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([j(L),"0","0",j(U),"0","0","cm"].join(" "))):this.internal.write([j(L),"0","0",j(U),j(M),J(F+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},g=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var A=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(M){var F,L,U=0;if("string"==typeof M)for(L=M.length,F=0;F<L;F++)U=(U<<5)-U+M.charCodeAt(F),U|=0;else if(y(M))for(L=M.byteLength/2,F=0;F<L;F++)U=(U<<5)-U+M[F],U|=0;return U},v=n.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var F=!0;return 0===M.length&&(F=!1),M.length%4!=0&&(F=!1),!1===/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))&&(F=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))&&(F=!1),F},b=n.__addimage__.extractImageFromDataUrl=function(M){var F=(M=M||"").split("base64,"),L=null;if(2===F.length){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(F[0]);Array.isArray(U)&&(L={mimeType:U[1],charset:U[2],data:F[1]})}return L},w=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(M){return w()&&M instanceof ArrayBuffer};var y=n.__addimage__.isArrayBufferView=function(M){return w()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},C=n.__addimage__.binaryStringToUint8Array=function(M){for(var F=M.length,L=new Uint8Array(F),U=0;U<F;U++)L[U]=M.charCodeAt(U);return L},D=n.__addimage__.arrayBufferToBinaryString=function(M){for(var F="",L=y(M)?M:new Uint8Array(M),U=0;U<L.length;U+=8192)F+=String.fromCharCode.apply(null,L.subarray(U,U+8192));return F};n.addImage=function(){var M,F,L,U,z,O,G,j,J;if("number"==typeof arguments[1]?(F=t,L=arguments[1],U=arguments[2],z=arguments[3],O=arguments[4],G=arguments[5],j=arguments[6],J=arguments[7]):(F=arguments[1],L=arguments[2],U=arguments[3],z=arguments[4],O=arguments[5],G=arguments[6],j=arguments[7],J=arguments[8]),"object"===(0,No.A)(M=arguments[0])&&!d(M)&&"imageData"in M){var le=M;M=le.imageData,F=le.format||F||t,L=le.x||L||0,U=le.y||U||0,z=le.w||le.width||z,O=le.h||le.height||O,G=le.alias||G,j=le.compression||j,J=le.rotation||le.angle||J}var ye=this.internal.getFilters();if(void 0===j&&-1!==ye.indexOf("FlateEncode")&&(j="SLOW"),isNaN(L)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=S.call(this,M,F,G,j);return m.call(this,L,U,z,O,R,J),this};var S=function(M,F,L,U){var z,O,G,J;if("string"==typeof M&&i(M)===t){M=unescape(M);var j=T(M,!1);(""!==j||void 0!==(j=n.loadFile(M,!0)))&&(M=j)}if(d(M)&&(M=f(M,F)),F=i(M,F),!u(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if((null==(G=L)||0===G.length)&&(L="string"==typeof(J=M)||y(J)?_(J):y(J.data)?_(J.data):null),(z=h.call(this,L))||(w()&&(M instanceof Uint8Array||"RGBA"===F||(O=M,M=C(M))),z=this["process"+F.toUpperCase()](M,c.call(this),L,function(J){return J&&"string"==typeof J&&(J=J.toUpperCase()),J in n.image_compression?J:A.NONE}(U),O)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},T=n.__addimage__.convertBase64ToBinaryString=function(M,F){var L;F="boolean"!=typeof F||F;var U,z="";if("string"==typeof M){U=null!==(L=b(M))?L.data:M;try{z=xD(U)}catch(O){if(F)throw v(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+O.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};n.getImageProperties=function(M){var F,L,U="";if(d(M)&&(M=f(M)),"string"==typeof M&&i(M)===t&&(""===(U=T(M,!1))&&(U=n.loadFile(M)||""),M=U),L=i(M),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!w()||M instanceof Uint8Array||(M=C(M)),!(F=this["process"+L.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=L,F}}(Vi.API),
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
n=Vi.API,t=function(e){if(void 0!==e&&""!=e)return!0},Vi.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var i,r,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),c=e.pageContext.annotations,u=!1,d=0;d<c.length&&!u;d++)switch((i=c[d]).type){case"link":(t(i.options.url)||t(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(0!=u){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){i=c[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(e.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),g=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(m.objId),_=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y)+"] ")+"/Contents ("+h(A(i.contents))+")",s+=" /Popup "+g.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(A(_))+") >>",m.content=s;var v=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+o(i.bounds.x+30)+" "+a(i.bounds.y+i.bounds.h)+" "+o(i.bounds.x+i.bounds.w+30)+" "+a(i.bounds.y)+"] ")+" /Parent "+v,i.open&&(s+=" /Open true"),g.content=s+=" >>",this.internal.write(m.objId,"0 R",g.objId,"0 R");break;case"freetext":r="/Rect ["+o(i.bounds.x)+" "+a(i.bounds.y)+" "+o(i.bounds.x+i.bounds.w)+" "+a(i.bounds.y+i.bounds.h)+"] ";var b=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(p(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",s+=" /Border [0 0 0]",this.internal.write(s+=" >>");break;case"link":if(i.options.name){var w=this.annotations._nameMap[i.options.name];i.options.pageNumber=w.page,i.options.top=w.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var y=a(i.options.top);i.options.left=i.options.left||0,void 0===i.options.zoom&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+y+" "+i.options.zoom+"]"}""!=s&&this.internal.write(s+=" >>")}}this.internal.write("]")}}]),n.createAnnotation=function(e){var i=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":i.pageContext.annotations.push(e)}},n.link=function(e,i,r,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(e),y:c(i),w:l(e+r),h:c(i+s)},options:o,type:"link"})},n.textWithLink=function(e,i,r,s){var o,a,l=this.getTextWidth(e),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==s.maxWidth){var u=this.splitTextToSize(e,a=s.maxWidth).length;o=Math.ceil(c*u)}else a=l,o=c;return this.text(e,i,r,s),"center"===s.align&&(i-=l/2),"right"===s.align&&(i-=l),this.link(i,(r+=.2*c)-c,a,o,s),l},n.getTextWidth=function(e){var i=this.internal.getFontSize();return this.getStringUnitWidth(e)*i/this.internal.scaleFactor},
/**
         * @license
         * Copyright (c) 2017 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(m){return void 0!==t[m.charCodeAt(0)]},o=n.__arabicParser__.isArabicLetter=function(m){return"string"==typeof m&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},a=n.__arabicParser__.isArabicEndLetter=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(m){return o(m)&&r.indexOf(m.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=1};var c=n.__arabicParser__.arabicLetterHasFinalForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(m){return o(m)&&s(m)&&t[m.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(m){return o(m)&&s(m)&&4==t[m.charCodeAt(0)].length},d=n.__arabicParser__.resolveLigatures=function(m){var g=0,A=e,_="",v=0;for(g=0;g<m.length;g+=1)void 0!==A[m.charCodeAt(g)]?(v++,"number"==typeof(A=A[m.charCodeAt(g)])&&(_+=String.fromCharCode(A),A=e,v=0),g===m.length-1&&(A=e,_+=m.charAt(g-(v-1)),g-=v-1,v=0)):(A=e,_+=m.charAt(g-v),g-=v,v=0);return _};n.__arabicParser__.isArabicDiacritic=function(m){return void 0!==m&&void 0!==i[m.charCodeAt(0)]};var f=n.__arabicParser__.getCorrectForm=function(m,g,A){return o(m)?!1===s(m)?-1:!c(m)||!o(g)&&!o(A)||!o(A)&&a(g)||a(m)&&!o(g)||a(m)&&l(g)||a(m)&&a(g)?0:u(m)&&o(g)&&!a(g)&&o(A)&&c(A)?3:a(m)||!o(A)?1:2:-1},h=function(m){var g=0,A=0,_=0,v="",b="",w="",y=(m=m||"").split("\\s+"),C=[];for(g=0;g<y.length;g+=1){for(C.push(""),A=0;A<y[g].length;A+=1)b=y[g][A-1],w=y[g][A+1],o(v=y[g][A])?(_=f(v,b,w),C[g]+=-1!==_?String.fromCharCode(t[v.charCodeAt(0)][_]):v):C[g]+=v;C[g]=d(C[g])}return C.join(" ")},p=n.__arabicParser__.processArabic=n.processArabic=function(){var m,g="string"==typeof arguments[0]?arguments[0]:arguments[0].text,A=[];if(Array.isArray(g)){var _=0;for(A=[],_=0;_<g.length;_+=1)Array.isArray(g[_])?A.push([h(g[_][0]),g[_][1],g[_][2]]):A.push([h(g[_])]);m=A}else m=h(g);return"string"==typeof arguments[0]?m:(arguments[0].text=m,arguments[0])};n.events.push(["preProcessText",p])}(Vi.API),Vi.API.autoPrint=function(n){var t;return"javascript"===((n=n||{}).variant=n.variant||"non-conform",n.variant)?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(a){e=a}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(a){i=isNaN(a)||!1===Number.isInteger(a)||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(a){r=isNaN(a)||!1===Number.isInteger(a)||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,i){var r;if("2d"!==(e=e||"2d"))return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Vi.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,i=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(m){p=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return i.call(this),this.internal.__cell__.headerFunction="function"==typeof l?l:void 0,this},n.getTextDimensions=function(l,c){i.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),d=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,p=0,m=0,g=this;if(!Array.isArray(l)&&"string"!=typeof l){if("number"!=typeof l)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var A=c.maxWidth;A>0?"string"==typeof l?l=this.splitTextToSize(l,A):"[object Array]"===Object.prototype.toString.call(l)&&(l=l.reduce(function(v,b){return v.concat(g.splitTextToSize(b,A))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)h<(m=this.getStringUnitWidth(l[_],{font:d})*u)&&(h=m);return 0!==h&&(p=l.length),{w:h/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),i.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return void 0!==c.lineNumber&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=d.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),void 0!==l.text[0]&&(this.rect(l.x,l.y,l.width,l.height,!0===e?"FD":void 0),"right"===l.align?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):"center"===l.align?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};n.table=function(l,c,u,d,f){if(i.call(this),!u)throw new Error("No data for PDF table.");var h,p,m,g,A=[],_=[],v=[],b={},w={},y=[],C=[],D=(f=f||{}).autoSize||!1,S=!1!==f.printHeaders,T=f.css&&void 0!==f.css["font-size"]?16*f.css["font-size"]:f.fontSize||12,M=f.margins||Object.assign({width:this.getPageWidth()},t),F="number"==typeof f.padding?f.padding:3,L=f.headerBackgroundColor||"#c8c8c8",U=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=U,this.setFontSize(T),null==d)_=A=Object.keys(u[0]),v=A.map(function(){return"left"});else if(Array.isArray(d)&&"object"===(0,No.A)(d[0]))for(A=d.map(function(le){return le.name}),_=d.map(function(le){return le.prompt||le.name||""}),v=d.map(function(le){return le.align||"left"}),h=0;h<d.length;h+=1)w[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(_=A=d,v=A.map(function(){return"left"}));if(D||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<A.length;h+=1){for(b[g=A[h]]=u.map(function(le){return le[g]}),this.setFont(void 0,"bold"),y.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=b[g],this.setFont(void 0,"normal"),m=0;m<p.length;m+=1)y.push(this.getTextDimensions(p[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);w[g]=Math.max.apply(null,y)+F+F,y=[]}if(S){var z={};for(h=0;h<A.length;h+=1)z[A[h]]={},z[A[h]].text=_[h],z[A[h]].align=v[h];var O=a.call(this,z,w);C=A.map(function(le){return new s(l,c,w[le],O,z[le].text,void 0,z[le].align)}),this.setTableHeaderRow(C),this.printHeaderRow(1,!1)}var G=d.reduce(function(le,ye){return le[ye.name]=ye.align,le},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var j=a.call(this,u[h],w);for(m=0;m<A.length;m+=1){var J=u[h][A[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:m,data:J},this),o.call(this,new s(l,c,w[A[m]],j,J,h+2,G[A[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/f+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};n.setTableHeaderRow=function(l){i.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,c){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(e=!0,"function"==typeof this.internal.__cell__.headerFunction){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),e=!1}}(Vi.API);var noe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ioe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],yV=toe(ioe),roe=[100,200,300,400,500,600,700,800,900],rze=toe(roe);function wV(n){var s,t=n.family.replace(/"|'/g,"").toLowerCase(),e=noe[s=(s=n.style)||"normal"]?s:"normal",i=function(s){return s?"number"==typeof s?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):"bold"===s?700:400:400}(n.weight),r=function(s){return"number"==typeof yV[s=s||"normal"]?s:"normal"}(n.stretch);return{family:t,style:e,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:t,style:[r,e,i].join(" ")}}}function soe(n,t,e,i){var r;for(r=e;r>=0&&r<t.length;r+=i)if(n[t[r]])return n[t[r]];for(r=e;r>=0&&r<t.length;r-=i)if(n[t[r]])return n[t[r]]}var sze={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ooe={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function aoe(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function loe(n){return n.trimLeft()}function aze(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function lze(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],n.substring(t[0].length)]}var _P,coe,uoe,xV=["times"];(function(n){var t,e,i,r,s,o,a,l,c,u=function(R){return this.isStrokeTransparent=(R=R||{}).isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=void 0!==R.transform?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof R.ignoreClearRect||R.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,e=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=R;Object.defineProperty(this,"pdf",{get:function(){return X}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(Oe){H=!!Oe}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Oe){ae=!!Oe}});var de=0;Object.defineProperty(this,"posX",{get:function(){return de},set:function(Oe){isNaN(Oe)||(de=Oe)}});var he=0;Object.defineProperty(this,"posY",{get:function(){return he},set:function(Oe){isNaN(Oe)||(he=Oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Oe){var fe;"number"==typeof Oe?fe=[Oe,Oe,Oe,Oe]:((fe=new Array(4))[0]=Oe[0],fe[1]=Oe.length>=2?Oe[1]:fe[0],fe[2]=Oe.length>=3?Oe[2]:fe[0],fe[3]=Oe.length>=4?Oe[3]:fe[1]),c.margin=fe}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(Oe){ee=Oe}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(Oe){ie=Oe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Oe){ge=Oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Oe){Oe instanceof u&&(c=Oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Oe){c.path=Oe}});var Ce=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ce},set:function(Oe){Ce=Oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Oe){var fe;fe=f(Oe),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=0===fe.a,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Oe){var fe=f(Oe);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=0===fe.a,this.ctx.strokeOpacity=fe.a,0===fe.a?this.pdf.setDrawColor(255,255,255):this.pdf.setDrawColor(fe.r,fe.g,fe.b)}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Oe){-1!==["butt","round","square"].indexOf(Oe)&&(this.ctx.lineCap=Oe,this.pdf.setLineCap(Oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Oe){isNaN(Oe)||(this.ctx.lineWidth=Oe,this.pdf.setLineWidth(Oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Oe){-1!==["bevel","round","miter"].indexOf(Oe)&&(this.ctx.lineJoin=Oe,this.pdf.setLineJoin(Oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Oe){isNaN(Oe)||(this.ctx.miterLimit=Oe,this.pdf.setMiterLimit(Oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Oe){this.ctx.textBaseline=Oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Oe){-1!==["right","end","center","left","start"].indexOf(Oe)&&(this.ctx.textAlign=Oe)}});var ve=null,se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(Oe){ve=null,se=Oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Oe){var fe;if(this.ctx.font=Oe,null!==(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Oe))){var at=fe[1],Ge=fe[3],$e=fe[4],re=fe[6],K=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor("px"===K?parseFloat($e)*this.pdf.internal.scaleFactor:"em"===K?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var W=function(yt){var Mn,rt,Sn=[],En=yt.trim();if(""===En)return xV;if(En in ooe)return[ooe[En]];for(;""!==En;){switch(rt=null,Mn=(En=loe(En)).charAt(0)){case'"':case"'":rt=aze(En.substring(1),Mn);break;default:rt=lze(En)}if(null===rt||(Sn.push(rt[0]),""!==(En=loe(rt[1]))&&","!==En.charAt(0)))return xV;En=En.replace(/^,/,"")}return Sn}(re);if(this.fontFaces){var we=function oze(n,t,e){for(var i=(e=e||{}).defaultFontFamily||"times",r=Object.assign({},sze,e.genericFontFamilies||{}),s=null,o=null,a=0;a<t.length;++a)if(r[(s=wV(t[a])).family]&&(s.family=r[s.family]),n.hasOwnProperty(s.family)){o=n[s.family];break}if(!(o=o||n[i]))throw new Error("Could not find a font-family for the rule '"+aoe(s)+"' and default family '"+i+"'.");if(o=function(l,c){if(c[l])return c[l];var u=yV[l],f=soe(c,ioe,u,u<=yV.normal?-1:1);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,o),o=function(l,c){if(c[l])return c[l];for(var u=noe[l],d=0;d<u.length;++d)if(c[u[d]])return c[u[d]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,c){if(c[l])return c[l];if(400===l&&c[500])return c[500];if(500===l&&c[400])return c[400];var d=soe(c,roe,rze[l],l<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+l);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+aoe(s)+"'.");return o}(function Ne(Oe,fe){if(null===ve){var at=(Ge=Oe.getFontList(),$e=[],Object.keys(Ge).forEach(function(re){Ge[re].forEach(function(K){var W=null;switch(K){case"bold":W={family:re,weight:"bold"};break;case"italic":W={family:re,style:"italic"};break;case"bolditalic":W={family:re,weight:"bold",style:"italic"};break;case"":case"normal":W={family:re}}null!==W&&(W.ref={name:re,style:K},$e.push(W))})}),$e);ve=function(Ge){for(var $e={},re=0;re<Ge.length;++re){var K=wV(Ge[re]),W=K.family,we=K.stretch,ke=K.style,Ve=K.weight;$e[W]=$e[W]||{},$e[W][we]=$e[W][we]||{},$e[W][we][ke]=$e[W][we][ke]||{},$e[W][we][ke][Ve]=K}return $e}(at.concat(fe))}var Ge,$e;return ve}(this.pdf,this.fontFaces),W.map(function(yt){return{family:yt,stretch:"normal",weight:Ge,style:at}}));this.pdf.setFont(we.ref.name,we.ref.style)}else{var ke="";("bold"===Ge||parseInt(Ge,10)>=700||"bold"===at)&&(ke="bold"),"italic"===at&&(ke+="italic"),0===ke.length&&(ke="normal");for(var Ve="",Qe={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<W.length;pt++){if(void 0!==this.pdf.internal.getFont(W[pt],ke,{noFallback:!0,disableWarning:!0})){Ve=W[pt];break}if("bolditalic"===ke&&void 0!==this.pdf.internal.getFont(W[pt],"bold",{noFallback:!0,disableWarning:!0}))Ve=W[pt],ke="bold";else if(void 0!==this.pdf.internal.getFont(W[pt],"normal",{noFallback:!0,disableWarning:!0})){Ve=W[pt],ke="normal";break}}if(""===Ve)for(var Bt=0;Bt<W.length;Bt++)if(Qe[W[Bt]]){Ve=Qe[W[Bt]];break}this.pdf.setFont(Ve=""===Ve?"Times":Ve,ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Oe){this.ctx.globalCompositeOperation=Oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Oe){this.ctx.globalAlpha=Oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Oe){this.ctx.lineDashOffset=Oe,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Oe){this.ctx.lineDash=Oe,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Oe){this.ctx.ignoreClearRect=!!Oe}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){b.call(this,"fill",!1)},d.prototype.stroke=function(){b.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,X){if(isNaN(R)||isNaN(X))throw Io.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new o(R,X));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(R,X)},d.prototype.closePath=function(){var R=new o(0,0),X=0;for(X=this.path.length-1;-1!==X;X--)if("begin"===this.path[X].type&&"object"===(0,No.A)(this.path[X+1])&&"number"==typeof this.path[X+1].x){R=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},d.prototype.lineTo=function(R,X){if(isNaN(R)||isNaN(X))throw Io.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new o(R,X));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new o(H.x,H.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),b.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,X,H,ae){if(isNaN(H)||isNaN(ae)||isNaN(R)||isNaN(X))throw Io.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var de=this.ctx.transform.applyToPoint(new o(H,ae)),he=this.ctx.transform.applyToPoint(new o(R,X));this.path.push({type:"qct",x1:he.x,y1:he.y,x:de.x,y:de.y}),this.ctx.lastPoint=new o(de.x,de.y)},d.prototype.bezierCurveTo=function(R,X,H,ae,de,he){if(isNaN(de)||isNaN(he)||isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae))throw Io.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new o(de,he)),ie=this.ctx.transform.applyToPoint(new o(R,X)),ge=this.ctx.transform.applyToPoint(new o(H,ae));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:ge.x,y2:ge.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},d.prototype.arc=function(R,X,H,ae,de,he){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae)||isNaN(de))throw Io.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(he=!!he,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new o(R,X));R=ee.x,X=ee.y;var ie=this.ctx.transform.applyToPoint(new o(0,H)),ge=this.ctx.transform.applyToPoint(new o(0,0));H=Math.sqrt(Math.pow(ie.x-ge.x,2)+Math.pow(ie.y-ge.y,2))}Math.abs(de-ae)>=2*Math.PI&&(ae=0,de=2*Math.PI),this.path.push({type:"arc",x:R,y:X,radius:H,startAngle:ae,endAngle:de,counterclockwise:he})},d.prototype.arcTo=function(R,X,H,ae,de){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,X,H,ae){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae))throw Io.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,X),this.lineTo(R+H,X),this.lineTo(R+H,X+ae),this.lineTo(R,X+ae),this.lineTo(R,X),this.lineTo(R+H,X),this.lineTo(R,X)},d.prototype.fillRect=function(R,X,H,ae){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae))throw Io.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var de={};"butt"!==this.lineCap&&(de.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(de.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,X,H,ae),this.fill(),de.hasOwnProperty("lineCap")&&(this.lineCap=de.lineCap),de.hasOwnProperty("lineJoin")&&(this.lineJoin=de.lineJoin)}},d.prototype.strokeRect=function(R,X,H,ae){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae))throw Io.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(R,X,H,ae),this.stroke())},d.prototype.clearRect=function(R,X,H,ae){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae))throw Io.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,X,H,ae))},d.prototype.save=function(R){R="boolean"!=typeof R||R;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},d.prototype.restore=function(R){R="boolean"!=typeof R||R;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(X),R&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(R){var X,H,ae,de;if(!0===R.isCanvasGradient&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))X=0,H=0,ae=0,de=0;else{var he=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(null!==he)X=parseInt(he[1]),H=parseInt(he[2]),ae=parseInt(he[3]),de=1;else if(null!==(he=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R)))X=parseInt(he[1]),H=parseInt(he[2]),ae=parseInt(he[3]),de=parseFloat(he[4]);else{if(de=1,"string"==typeof R&&"#"!==R.charAt(0)){var ee=new jse(R);R=ee.ok?ee.toHex():"#000000"}4===R.length?(X=R.substring(1,2),X+=X,H=R.substring(2,3),H+=H,ae=R.substring(3,4),ae+=ae):(X=R.substring(1,3),H=R.substring(3,5),ae=R.substring(5,7)),X=parseInt(X,16),H=parseInt(H,16),ae=parseInt(ae,16)}}return{r:X,g:H,b:ae,a:de,style:R}},h=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},p=function(){return!(!this.ctx.isStrokeTransparent&&0!=this.globalAlpha)};d.prototype.fillText=function(R,X,H,ae){if(isNaN(X)||isNaN(H)||"string"!=typeof R)throw Io.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!h.call(this)){var de=j(this.ctx.transform.rotation);F.call(this,{text:R,x:X,y:H,scale:this.ctx.transform.scaleX,angle:de,align:this.textAlign,maxWidth:ae})}},d.prototype.strokeText=function(R,X,H,ae){if(isNaN(X)||isNaN(H)||"string"!=typeof R)throw Io.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ae=isNaN(ae)?void 0:ae;var de=j(this.ctx.transform.rotation);F.call(this,{text:R,x:X,y:H,scale:this.ctx.transform.scaleX,renderingMode:"stroke",angle:de,align:this.textAlign,maxWidth:ae})}},d.prototype.measureText=function(R){if("string"!=typeof R)throw Io.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,H=this.pdf.internal.scaleFactor,ae=X.internal.getFontSize(),de=X.getStringUnitWidth(R)*ae/X.internal.scaleFactor;return new function(ee){var ie=(ee=ee||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this}({width:de*=Math.round(96*H/72*1e4)/1e4})},d.prototype.scale=function(R,X){if(isNaN(R)||isNaN(X))throw Io.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(R,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.rotate=function(R){if(isNaN(R))throw Io.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},d.prototype.translate=function(R,X){if(isNaN(R)||isNaN(X))throw Io.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,R,X);this.ctx.transform=this.ctx.transform.multiply(H)},d.prototype.transform=function(R,X,H,ae,de,he){if(isNaN(R)||isNaN(X)||isNaN(H)||isNaN(ae)||isNaN(de)||isNaN(he))throw Io.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new l(R,X,H,ae,de,he);this.ctx.transform=this.ctx.transform.multiply(ee)},d.prototype.setTransform=function(R,X,H,ae,de,he){R=isNaN(R)?1:R,X=isNaN(X)?0:X,H=isNaN(H)?0:H,ae=isNaN(ae)?1:ae,de=isNaN(de)?0:de,he=isNaN(he)?0:he,this.ctx.transform=new l(R,X,H,ae,de,he)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,X,H,ae,de,he,ee,ie,ge){var Ce=this.pdf.getImageProperties(R),ve=1,Ne=1,se=1,Oe=1;void 0!==ae&&void 0!==ie&&(se=ie/ae,Oe=ge/de,ve=Ce.width/ae*ie/ae,Ne=Ce.height/de*ge/de),void 0===he&&(he=X,ee=H,X=0,H=0),void 0!==ae&&void 0===ie&&(ie=ae,ge=de),void 0===ae&&void 0===ie&&(ie=Ce.width,ge=Ce.height);for(var fe,at=this.ctx.transform.decompose(),Ge=j(at.rotate.shx),$e=new l,re=($e=($e=($e=$e.multiply(at.translate)).multiply(at.skew)).multiply(at.scale)).applyToRectangle(new a(he-X*se,ee-H*Oe,ae*ve,de*Ne)),K=g.call(this,re),W=[],we=0;we<K.length;we+=1)-1===W.indexOf(K[we])&&W.push(K[we]);if(v(W),this.autoPaging)for(var ke=W[0],Ve=W[W.length-1],Qe=ke;Qe<Ve+1;Qe++){this.pdf.setPage(Qe);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Bt=1===Qe?this.posY+this.margin[0]:this.margin[0],Mn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=1===Qe?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(Qe-2)*Mn;if(0!==this.ctx.clip_path.length){var Sn=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(fe,this.posX+this.margin[3],-rt+Bt+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=Sn}var En=JSON.parse(JSON.stringify(re));En=_([En],this.posX+this.margin[3],-rt+Bt+this.ctx.prevPageLastElemOffset)[0];var ei=(Qe>ke||Qe<Ve)&&m.call(this);ei&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Mn,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",En.x,En.y,En.w,En.h,null,null,Ge),ei&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",re.x,re.y,re.w,re.h,null,null,Ge)};var g=function(R,X,H){var ae=[];X=X||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var de=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ae.push(Math.floor((R.y+de)/H)+1);break;case"arc":ae.push(Math.floor((R.y+de-R.radius)/H)+1),ae.push(Math.floor((R.y+de+R.radius)/H)+1);break;case"qct":var he=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ae.push(Math.floor((he.y+de)/H)+1),ae.push(Math.floor((he.y+he.h+de)/H)+1);break;case"bct":var ee=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ae.push(Math.floor((ee.y+de)/H)+1),ae.push(Math.floor((ee.y+ee.h+de)/H)+1);break;case"rect":ae.push(Math.floor((R.y+de)/H)+1),ae.push(Math.floor((R.y+R.h+de)/H)+1)}for(var ie=0;ie<ae.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ie];)A.call(this);return ae},A=function(){var R=this.fillStyle,X=this.strokeStyle,H=this.font,ae=this.lineCap,de=this.lineWidth,he=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=X,this.font=H,this.lineCap=ae,this.lineWidth=de,this.lineJoin=he},_=function(R,X,H){for(var ae=0;ae<R.length;ae++)switch(R[ae].type){case"bct":R[ae].x2+=X,R[ae].y2+=H;case"qct":R[ae].x1+=X,R[ae].y1+=H;default:R[ae].x+=X,R[ae].y+=H}return R},v=function(R){return R.sort(function(X,H){return X-H})},b=function(R,X){for(var H,ae,de=this.fillStyle,he=this.strokeStyle,ee=this.lineCap,ie=this.lineWidth,ge=Math.abs(ie*this.ctx.transform.scaleX),Ce=this.lineJoin,ve=JSON.parse(JSON.stringify(this.path)),Ne=JSON.parse(JSON.stringify(this.path)),se=[],Oe=0;Oe<Ne.length;Oe++)if(void 0!==Ne[Oe].x)for(var fe=g.call(this,Ne[Oe]),at=0;at<fe.length;at+=1)-1===se.indexOf(fe[at])&&se.push(fe[at]);for(var Ge=0;Ge<se.length;Ge++)for(;this.pdf.internal.getNumberOfPages()<se[Ge];)A.call(this);if(v(se),this.autoPaging)for(var $e=se[0],re=se[se.length-1],K=$e;K<re+1;K++){this.pdf.setPage(K),this.fillStyle=de,this.strokeStyle=he,this.lineCap=ee,this.lineWidth=ge,this.lineJoin=Ce;var W=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],we=1===K?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Qe=1===K?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(K-2)*Ve;if(0!==this.ctx.clip_path.length){var pt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(H,this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset),w.call(this,R,!0),this.path=pt}if(ae=JSON.parse(JSON.stringify(ve)),this.path=_(ae,this.posX+this.margin[3],-Qe+we+this.ctx.prevPageLastElemOffset),!1===X||0===K){var Bt=(K>$e||K<re)&&m.call(this);Bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],W,Ve,null).clip().discardPath()),w.call(this,R,X),Bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=ge,w.call(this,R,X),this.lineWidth=ie;this.path=ve},w=function(R,X){if(("stroke"!==R||X||!p.call(this))&&("stroke"===R||X||!h.call(this))){for(var H,ae,de=[],he=this.path,ee=0;ee<he.length;ee++){var ie=he[ee];switch(ie.type){case"begin":de.push({begin:!0});break;case"close":de.push({close:!0});break;case"mt":de.push({start:ie,deltas:[],abs:[]});break;case"lt":var ge=de.length;if(he[ee-1]&&!isNaN(he[ee-1].x)&&(H=[ie.x-he[ee-1].x,ie.y-he[ee-1].y],ge>0))for(;ge>=0;ge--)if(!0!==de[ge-1].close&&!0!==de[ge-1].begin){de[ge-1].deltas.push(H),de[ge-1].abs.push(ie);break}break;case"bct":de[de.length-1].deltas.push(H=[ie.x1-he[ee-1].x,ie.y1-he[ee-1].y,ie.x2-he[ee-1].x,ie.y2-he[ee-1].y,ie.x-he[ee-1].x,ie.y-he[ee-1].y]);break;case"qct":de[de.length-1].deltas.push(H=[he[ee-1].x+2/3*(ie.x1-he[ee-1].x)-he[ee-1].x,he[ee-1].y+2/3*(ie.y1-he[ee-1].y)-he[ee-1].y,ie.x+2/3*(ie.x1-ie.x)-he[ee-1].x,ie.y+2/3*(ie.y1-ie.y)-he[ee-1].y,ie.x-he[ee-1].x,ie.y-he[ee-1].y]);break;case"arc":de.push({deltas:[],abs:[],arc:!0}),Array.isArray(de[de.length-1].abs)&&de[de.length-1].abs.push(ie)}}ae=X?null:"stroke"===R?"stroke":"fill";for(var at=!1,Ge=0;Ge<de.length;Ge++)if(de[Ge].arc)for(var $e=de[Ge].abs,re=0;re<$e.length;re++){var K=$e[re];"arc"===K.type?D.call(this,K.x,K.y,K.radius,K.startAngle,K.endAngle,K.counterclockwise,void 0,X,!at):L.call(this,K.x,K.y),at=!0}else!0===de[Ge].close?(this.pdf.internal.out("h"),at=!1):!0!==de[Ge].begin&&(U.call(this,de[Ge].deltas,de[Ge].start.x,de[Ge].start.y),at=!0);ae&&S.call(this,ae),X&&T.call(this)}},y=function(R){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-H;case"top":return R+X-H;case"hanging":return R+X-2*H;case"middle":return R+X/2-H;default:return R}},C=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(X,H){this.colorStops.push([X,H])},R.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(R,X,H,ae,de,he,ee,ie,ge){for(var Ce=O.call(this,H,ae,de,he),ve=0;ve<Ce.length;ve++){var Ne=Ce[ve];0===ve&&(ge?M.call(this,Ne.x1+R,Ne.y1+X):L.call(this,Ne.x1+R,Ne.y1+X)),z.call(this,R,X,Ne.x2,Ne.y2,Ne.x3,Ne.y3,Ne.x4,Ne.y4)}ie?T.call(this):S.call(this,ee)},S=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(R,X){this.pdf.internal.out(e(R)+" "+i(X)+" m")},F=function(R){var X;switch(R.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var H=this.pdf.getTextDimensions(R.text),ae=y.call(this,R.y),de=C.call(this,ae)-H.h,he=this.ctx.transform.applyToPoint(new o(R.x,ae)),ee=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(ee.translate)).multiply(ee.skew)).multiply(ee.scale);for(var ge,Ce,ve,Ne=this.ctx.transform.applyToRectangle(new a(R.x,ae,H.w,H.h)),se=ie.applyToRectangle(new a(R.x,de,H.w,H.h)),Oe=g.call(this,se),fe=[],at=0;at<Oe.length;at+=1)-1===fe.indexOf(Oe[at])&&fe.push(Oe[at]);if(v(fe),this.autoPaging)for(var Ge=fe[0],$e=fe[fe.length-1],re=Ge;re<$e+1;re++){this.pdf.setPage(re);var K=1===re?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.margin[2],ke=we-this.margin[0],Ve=this.pdf.internal.pageSize.width-this.margin[1],Qe=Ve-this.margin[3],pt=1===re?0:this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2]+(re-2)*ke;if(0!==this.ctx.clip_path.length){var Bt=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ge,this.posX+this.margin[3],-1*pt+K),w.call(this,"fill",!0),this.path=Bt}var yt=_([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-pt+K+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*R.scale),this.lineWidth=(ve=this.lineWidth)*R.scale);var Mn="text"!==this.autoPaging;if(Mn||yt.y+yt.h<=we){if(Mn||yt.y>=K&&yt.x<=Ve){var rt=Mn?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Ve-yt.x)[0],Sn=_([JSON.parse(JSON.stringify(Ne))],this.posX+this.margin[3],-pt+K+this.ctx.prevPageLastElemOffset)[0],En=Mn&&(re>Ge||re<$e)&&m.call(this);En&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,ke,null).clip().discardPath()),this.pdf.text(rt,Sn.x,Sn.y,{angle:R.angle,align:X,renderingMode:R.renderingMode}),En&&this.pdf.restoreGraphicsState()}}else yt.y<we&&(this.ctx.prevPageLastElemOffset+=we-yt.y);R.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ve)}else R.scale>=.01&&(Ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ce*R.scale),this.lineWidth=(ve=this.lineWidth)*R.scale),this.pdf.text(R.text,he.x+this.posX,he.y+this.posY,{angle:R.angle,align:X,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ce),this.lineWidth=ve)},L=function(R,X,H,ae){ae=ae||0,this.pdf.internal.out(e(R+(H=H||0))+" "+i(X+ae)+" l")},U=function(R,X,H){return this.pdf.lines(R,X,H,null,null)},z=function(R,X,H,ae,de,he,ee,ie){this.pdf.internal.out([t(r(H+R)),t(s(ae+X)),t(r(de+R)),t(s(he+X)),t(r(ee+R)),t(s(ie+X)),"c"].join(" "))},O=function(R,X,H,ae){for(var de=2*Math.PI,he=Math.PI/2;X>H;)X-=de;var ee=Math.abs(H-X);ee<de&&ae&&(ee=de-ee);for(var ie=[],ge=ae?-1:1,Ce=X;ee>1e-5;){var ve=Ce+ge*Math.min(ee,he);ie.push(G.call(this,R,Ce,ve)),ee-=Math.abs(ve-Ce),Ce=ve}return ie},G=function(R,X,H){var ae=(H-X)/2,de=R*Math.cos(ae),he=R*Math.sin(ae),ee=de,ie=-he,ge=ee*ee+ie*ie,Ce=ge+ee*de+ie*he,ve=4/3*(Math.sqrt(2*ge*Ce)-Ce)/(ee*he-ie*de),Ne=ee-ve*ie,se=ie+ve*ee,Oe=Ne,fe=-se,at=ae+X,Ge=Math.cos(at),$e=Math.sin(at);return{x1:R*Math.cos(X),y1:R*Math.sin(X),x2:Ne*Ge-se*$e,y2:Ne*$e+se*Ge,x3:Oe*Ge-fe*$e,y3:Oe*$e+fe*Ge,x4:R*Math.cos(H),y4:R*Math.sin(H)}},j=function(R){return 180*R/Math.PI},J=function(R,X,H,ae,de,he){var ee=R+.5*(H-R),ie=X+.5*(ae-X),ge=de+.5*(H-de),Ce=he+.5*(ae-he),ve=Math.min(R,de,ee,ge),Ne=Math.max(R,de,ee,ge),se=Math.min(X,he,ie,Ce),Oe=Math.max(X,he,ie,Ce);return new a(ve,se,Ne-ve,Oe-se)},le=function(R,X,H,ae,de,he,ee,ie){var ge,Ce,ve,Ne,se,Oe,fe,at,Ge,$e,re,K,W,we,ke=H-R,Ve=ae-X,Qe=de-H,pt=he-ae,Bt=ee-de,yt=ie-he;for(Ce=0;Ce<41;Ce++)Ge=(fe=(ve=R+(ge=Ce/40)*ke)+ge*((se=H+ge*Qe)-ve))+ge*(se+ge*(de+ge*Bt-se)-fe),$e=(at=(Ne=X+ge*Ve)+ge*((Oe=ae+ge*pt)-Ne))+ge*(Oe+ge*(he+ge*yt-Oe)-at),0==Ce?(re=Ge,K=$e,W=Ge,we=$e):(re=Math.min(re,Ge),K=Math.min(K,$e),W=Math.max(W,Ge),we=Math.max(we,$e));return new a(Math.round(re),Math.round(K),Math.round(W-re),Math.round(we-K))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var H=JSON.stringify({lineDash:this.ctx.lineDash,lineDashOffset:this.ctx.lineDashOffset});this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Vi.API),
/**
         * @license
         * jsPDF filters PlugIn
         * Copyright (c) 2014 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(s){var o,a,l,c,u,d,f,h,p,m;for(/[^\x00-\xFF]/.test(s),a=[],l=0,c=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)0!==(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))?(d=(u=((u=((u=((u=(u-(m=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,a.push(d+33,f+33,h+33,p+33,m+33)):a.push(122);return function(g,A){for(var _=A;_>0;_--)g.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},e=function(s){var o,a,l,c,u,d=String,f="length",h=255,p="charCodeAt",m="slice",g="replace";for(s[m](-2),s=s[m](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),l=[],c=0,u=(s+=o="uuuuu"[m](s[f]%5||5))[f];u>c;c+=5)a=52200625*(s[p](c)-33)+614125*(s[p](c+1)-33)+7225*(s[p](c+2)-33)+85*(s[p](c+3)-33)+(s[p](c+4)-33),l.push(h&a>>24,h&a>>16,h&a>>8,h&a);return function(A,_){for(var v=_;v>0;v--)A.pop()}(l,o[f]),d.fromCharCode.apply(d,l)},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(s=s.replace(/\s/g,"")).indexOf(">")&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),!1===o.test(s))return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},r=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return(o=yD(o)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};n.processDataByFilters=function(s,o){var a=0,l=s||"",c=[];for("string"==typeof(o=o||[])&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=i(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=r(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Vi.API),
/**
         * @license
         * jsPDF fileloading PlugIn
         * Copyright (c) 2018 Aras Abbasi (aras.abbasi@gmail.com)
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.loadFile=function(t,e,i){return function(r,s,o){s=!1!==s,o="function"==typeof o?o:function(){};var a=void 0;try{a=function(l,c,u){var d=new XMLHttpRequest,f=0,h=function(p){var m=p.length,g=[],A=String.fromCharCode;for(f=0;f<m;f+=1)g.push(A(255&p.charCodeAt(f)));return g.join("")};if(d.open("GET",l,!c),d.overrideMimeType("text/plain; charset=x-user-defined"),!1===c&&(d.onload=function(){u(200===d.status?h(this.responseText):void 0)}),d.send(null),c&&200===d.status)return h(d.responseText)}(r,s,o)}catch{}return a}(t,e,i)},n.loadImageFile=n.loadFile}(Vi.API),function(n){function t(){return(ji.html2canvas?Promise.resolve(ji.html2canvas):Promise.resolve().then(Me.t.bind(Me,7239,23))).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function e(){return(ji.DOMPurify?Promise.resolve(ji.DOMPurify):Me.e(973).then(Me.t.bind(Me,1973,23))).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var a=(0,No.A)(o);return"undefined"===a?"undefined":"string"===a||o instanceof String?"string":"number"===a||o instanceof Number?"number":"function"===a||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&1===o.nodeType?"element":"object"===a?"object":"unknown"},r=function(o,a){var l=document.createElement(o);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),c=o.convert(Promise.resolve(),l);return(c=c.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(i(l)){case"string":return"string";case"element":return"canvas"===l.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(e).then(function(l){return this.set({src:r("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,u){for(var d=3===c.nodeType?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)!0!==u&&1===f.nodeType&&"SCRIPT"===f.nodeName||d.appendChild(l(f,u));return 1===c.nodeType&&("CANVAS"===c.nodeName?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):"TEXTAREA"!==c.nodeName&&"SELECT"!==c.nodeName||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===a.tagName&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){return this.thenList([function(){return document.body.contains(this.prop.container)||this.toContainer()}]).then(t).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,u="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,l.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],p=h.src.find(function(m){return"truetype"===m.format});p&&l.addFont(p.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=0==d.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,l.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return"img"===(l=l||"pdf").toLowerCase()||"image"===l.toLowerCase()?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if("object"!==i(o))return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(2===o.length&&(o=[o[0],o[1],o[0],o[1]]),4===o.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(o=o||Vi.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,c){return null!=o&&(this.progress.val=o),null!=a&&(this.progress.state=a),null!=l&&(this.progress.n=l),null!=c&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,c){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(d){return l.updateProgress(null,c),d}).then(c,u).then(function(d){return l.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var c=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Vi.getPageSize=function(o,a,l){if("object"===(0,No.A)(o)){var c=o;o=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var h,p=0,m=0;if(f.hasOwnProperty(d))p=f[d][1]/u,m=f[d][0]/u;else try{p=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if("p"===o||"portrait"===o)o="p",m>p&&(h=m,m=p,p=h);else{if("l"!==o&&"landscape"!==o)throw"Invalid orientation: "+o;o="l",p>m&&(h=m,m=p,p=h)}return{width:m,height:p,unit:a,k:u,orientation:o}},n.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(wV):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Vi.API),Vi.API.addJS=function(n){return uoe=n,this.internal.events.subscribe("postPutResources",function(){_P=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_P+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),coe=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+uoe+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==_P&&void 0!==coe&&this.internal.out("/Names <</JavaScript "+_P+" 0 R>>")}),this},
/**
         * @license
         * Copyright (c) 2014 Steven Spungin (TwelveTone LLC)  steven@twelvetone.tv
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t;n.events.push(["postPutResources",function(){var e=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var o=r[s],a=i.exec(o);null!=a&&e.internal.newObjectDeferredBegin(a[1],!1),e.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var d=e.internal.newObject();u.push(d);var f=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<u.length;s++)e.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(i,r,s){var o={title:r,options:s,children:[]};return null==i&&(i=this.root),i.children.push(o),o},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(i){i.id=e.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},e.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},e.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var o=i.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=e.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var c=0;c<i.children.length;c++)this.renderItems(i.children[c])},e.outline.line=function(i){this.ctx.val+=i+"\r\n"},e.outline.makeRef=function(i){return i.id+" 0 R"},e.outline.makeString=function(i){return"("+e.internal.pdfEscape(i)+")"},e.outline.objStart=function(i){this.ctx.val+="\r\n"+i.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(Vi.API),
/**
         * @license
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,i,r,s,o,a){var l,c=this.decode.DCT_DECODE,u=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=this.__addimage__.isArrayBuffer(e=o||e)?new Uint8Array(e):e,(l=function(d){for(var f,h=256*d.charCodeAt(4)+d.charCodeAt(5),p=d.length,m={width:0,height:0,numcomponents:1},g=4;g<p;g+=2){if(-1!==t.indexOf(d.charCodeAt((g+=h)+1))){f=256*d.charCodeAt(g+5)+d.charCodeAt(g+6),m={width:256*d.charCodeAt(g+7)+d.charCodeAt(g+8),height:f,numcomponents:d.charCodeAt(g+9)};break}h=256*d.charCodeAt(g+2)+d.charCodeAt(g+3)}return m}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:e,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:i,alias:r}}return u}}(Vi.API);var $w,bP,doe,hoe,foe,cze=function(){var n,t,e;function i(s){var o,l,c,u,d,f,h,p,m,g,A,_,v;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),p=function(){var b,w;for(w=[],b=0;b<4;++b)w.push(String.fromCharCode(this.data[this.pos++]));return w}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,d.delay=1e3*u/c,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for("fdAT"===p&&(this.pos+=4,o-=4),s=d?.data||this.imgData,A=0;0<=o?A<o:A>o;0<=o?++A:--A)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(_=0;0<=m?_<m:_>m;0<=m?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":f=(g=this.read(o)).indexOf(0),h=String.fromCharCode.apply(String,g.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,g.slice(f+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(v=this.colorType)||6===v,this.pixelBitlength=this.bits*(this.colors+(this.hasAlphaChannel?1:0)),this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}i.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},i.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},i.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,c=this;if(null==s&&(s=this.imgData),0===s.length)return new Uint8Array(0);function u(d,f,h,p){var m,g,A,_,v,b,w,y,D,S,T,M,F,L,U,z,O,G,j,J,le=Math.ceil((c.width-d)/h),ye=Math.ceil((c.height-f)/p),R=c.width==le&&c.height==ye;for(F=o*le,T=R?a:new Uint8Array(F*ye),b=s.length,M=0,g=0;M<ye&&l<b;){switch(s[l++]){case 0:for(_=z=0;z<F;_=z+=1)T[g++]=s[l++];break;case 1:for(_=O=0;O<F;_=O+=1)m=s[l++],v=_<o?0:T[g-o],T[g++]=(m+v)%256;break;case 2:for(_=G=0;G<F;_=G+=1)m=s[l++],A=(_-_%o)/o,T[g++]=((L=M&&T[(M-1)*F+A*o+_%o])+m)%256;break;case 3:for(_=j=0;j<F;_=j+=1)m=s[l++],A=(_-_%o)/o,v=_<o?0:T[g-o],L=M&&T[(M-1)*F+A*o+_%o],T[g++]=(m+Math.floor((v+L)/2))%256;break;case 4:for(_=J=0;J<F;_=J+=1)m=s[l++],A=(_-_%o)/o,0===M?L=U=0:(L=T[(M-1)*F+A*o+_%o],U=A&&T[(M-1)*F+(A-1)*o+_%o]),w=(v=_<o?0:T[g-o])+L-U,y=Math.abs(w-v),D=Math.abs(w-L),S=Math.abs(w-U),T[g++]=(m+(y<=D&&y<=S?v:D<=S?L:U))%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!R){var X=((f+M*p)*c.width+d)*o,H=M*F;for(_=0;_<le;_+=1){for(var ae=0;ae<o;ae+=1)a[X++]=T[H++];X+=(h-1)*o}}M++}}return s=oP(s),1==c.interlaceMethod?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},i.prototype.decodePalette=function(){var s,o,a,l,c,u,d,f,h;for(a=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+a.length),l=0,s=0,o=d=0,f=a.length;d<f;o=d+=3)c[l++]=a[o],c[l++]=a[o+1],c[l++]=a[o+2],c[l++]=null!=(h=u[s++])?h:255;return c},i.prototype.copyToImageData=function(s,o){var a,l,c,u,d,f,h,p,m,g,A;if(l=this.colors,m=null,a=this.hasAlphaChannel,this.palette.length&&(m=null!=(A=this._decodedPalette)?A:this._decodedPalette=this.decodePalette(),l=4,a=!0),p=(c=s.data||s).length,d=m||o,u=f=0,1===l)for(;u<p;)h=m?4*o[u/4]:f,g=d[h++],c[u++]=g,c[u++]=g,c[u++]=g,c[u++]=a?d[h++]:255,f=h;else for(;u<p;)h=m?4*o[u/4]:f,c[u++]=d[h++],c[u++]=d[h++],c[u++]=d[h++],c[u++]=a?d[h++]:255,f=h},i.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var r=function(){if("[object Window]"===Object.prototype.toString.call(ji)){try{t=ji.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return r(),n=function(s){var o;if(!0===r())return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},i.prototype.decodeFrames=function(s){var o,a,l,c,u,d,f,h;if(this.animation){for(h=[],a=u=0,d=(f=this.animation.frames).length;u<d;a=++u)l=s.createImageData((o=f[a]).width,o.height),c=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,c),o.imageData=l,h.push(o.image=n(l));return h}},i.prototype.renderFrame=function(s,o){var a,l,c;return a=(l=this.animation.frames)[o],c=l[o-1],0===o&&s.clearRect(0,0,this.width,this.height),1===c?.disposeOp?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):2===c?.disposeOp&&s.putImageData(c.imageData,c.xOffset,c.yOffset),0===a.blendOp&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},i.prototype.animate=function(s){var o,a,l,c,u,d,f=this;return a=0,c=(d=this.animation).numFrames,l=d.frames,u=d.numPlays,(o=function(){var h,p;if(h=a++%c,p=l[h],f.renderFrame(s,h),c>1&&a/c<u)return f.animation._timeout=setTimeout(o,p.delay)})()},i.prototype.stopAnimation=function(){var s;return clearTimeout(null!=(s=this.animation)?s._timeout:void 0)},i.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},i}();function uze(n){var t=0;if(71!==n[t++]||73!==n[t++]||70!==n[t++]||56!==n[t++]||56!=(n[t++]+1&253)||97!==n[t++])throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,i=n[t++]|n[t++]<<8,r=n[t++],o=1<<1+(7&r);t++,t++;var a=null,l=null;r>>7&&(a=t,l=o,t+=3*o);var c=!0,u=[],d=0,f=null,h=0,p=null;for(this.width=e,this.height=i;c&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(11!==n[t]||78==n[t+1]&&69==n[t+2]&&84==n[t+3]&&83==n[t+4]&&67==n[t+5]&&65==n[t+6]&&80==n[t+7]&&69==n[t+8]&&50==n[t+9]&&46==n[t+10]&&48==n[t+11]&&3==n[t+12]&&1==n[t+13]&&0==n[t+16])t+=14,p=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((M=n[t++])>=0))throw Error("Invalid block size");if(0===M)break;t+=M}break;case 249:if(4!==n[t++]||0!==n[t+4])throw new Error("Invalid graphics extension block.");var m=n[t++];d=n[t++]|n[t++]<<8,f=n[t++],!(1&m)&&(f=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((M=n[t++])>=0))throw Error("Invalid block size");if(0===M)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var g=n[t++]|n[t++]<<8,A=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,v=n[t++]|n[t++]<<8,b=n[t++],w=b>>6&1,y=1<<1+(7&b),C=a,D=l,S=!1;b>>7&&(S=!0,C=t,D=y,t+=3*y);var T=t;for(t++;;){var M;if(!((M=n[t++])>=0))throw Error("Invalid block size");if(0===M)break;t+=M}u.push({x:g,y:A,width:_,height:v,has_local_palette:S,palette_offset:C,palette_size:D,data_offset:T,data_length:t-T,transparent_index:f,interlaced:!!w,delay:d,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(F){if(F<0||F>=u.length)throw new Error("Frame index out of range.");return u[F]},this.decodeAndBlitFrameBGRA=function(F,L){var U=this.frameInfo(F),z=U.width*U.height,O=new Uint8Array(z);poe(n,U.data_offset,O,z);var G=U.palette_offset,j=U.transparent_index;null===j&&(j=256);var J=U.width,le=e-J,ye=J,R=4*(U.y*e+U.x),X=4*((U.y+U.height)*e+U.x),H=R,ae=4*le;!0===U.interlaced&&(ae+=4*e*7);for(var de=8,he=0,ee=O.length;he<ee;++he){var ie=O[he];if(0===ye&&(ye=J,(H+=ae)>=X&&(ae=4*le+4*e*(de-1),H=R+(J+le)*(de<<1),de>>=1)),ie===j)H+=4;else{var ge=n[G+3*ie],Ce=n[G+3*ie+1];L[H++]=n[G+3*ie+2],L[H++]=Ce,L[H++]=ge,L[H++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(F,L){var U=this.frameInfo(F),z=U.width*U.height,O=new Uint8Array(z);poe(n,U.data_offset,O,z);var G=U.palette_offset,j=U.transparent_index;null===j&&(j=256);var J=U.width,le=e-J,ye=J,R=4*(U.y*e+U.x),X=4*((U.y+U.height)*e+U.x),H=R,ae=4*le;!0===U.interlaced&&(ae+=4*e*7);for(var de=8,he=0,ee=O.length;he<ee;++he){var ie=O[he];if(0===ye&&(ye=J,(H+=ae)>=X&&(ae=4*le+4*e*(de-1),H=R+(J+le)*(de<<1),de>>=1)),ie===j)H+=4;else{var Ce=n[G+3*ie+1],ve=n[G+3*ie+2];L[H++]=n[G+3*ie],L[H++]=Ce,L[H++]=ve,L[H++]=255}--ye}}}function poe(n,t,e,i){for(var r=n[t++],s=1<<r,o=s+1,a=o+1,l=r+1,c=(1<<l)-1,u=0,d=0,f=0,h=n[t++],p=new Int32Array(4096),m=null;;){for(;u<16&&0!==h;)d|=n[t++]<<u,u+=8,1===h?h=n[t++]:--h;if(u<l)break;var g=d&c;if(d>>=l,u-=l,g!==s){if(g===o)break;for(var A=g<a?g:m,_=0,v=A;v>s;)v=p[v]>>8,++_;var b=v;if(f+_+(A!==g?1:0)>i)return void Io.log("Warning, gif stream longer than expected.");e[f++]=b;var w=f+=_;for(A!==g&&(e[f++]=b),v=A;_--;)e[--w]=255&(v=p[v]),v>>=8;null!==m&&a<4096&&(p[a++]=m<<8|b,a>=c+1&&l<12&&(++l,c=c<<1|1)),m=g}else a=o+1,c=(1<<(l=r+1))-1,m=null}return f!==i&&Io.log("Warning, gif stream shorter than expected."),e}function CV(n){var t,e,i,r,s,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),m=[],g=0,A=7,_=new Array(64),v=new Array(64),b=new Array(64),w=new Array(256),y=new Array(2048),C=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(R,X){for(var H=0,ae=0,de=new Array,he=1;he<=16;he++){for(var ee=1;ee<=R[he];ee++)de[X[ae]]=[],de[X[ae]][0]=H,de[X[ae]][1]=he,ae++,H++;H*=2}return de}function G(R){for(var X=R[0],H=R[1]-1;H>=0;)X&1<<H&&(g|=1<<A),H--,--A<0&&(255==g?(j(255),j(0)):j(g),A=7,g=0)}function j(R){m.push(R)}function J(R){j(R>>8&255),j(255&R)}function le(R,X,H,ae,de){for(var he,ee=de[0],ie=de[240],ge=function($e,re){var K,W,we,ke,Ve,Qe,pt,Bt,yt,Mn,rt=0;for(yt=0;yt<8;++yt){var Sn=(K=$e[rt])+(Bt=$e[rt+7]),En=K-Bt,ei=(W=$e[rt+1])+(pt=$e[rt+6]),Kt=W-pt,ni=(we=$e[rt+2])+(Qe=$e[rt+5]),Y=we-Qe,Fe=(ke=$e[rt+3])+(Ve=$e[rt+4]),Ee=ke-Ve,Ze=Sn+Fe,it=Sn-Fe,mt=ei+ni,on=ei-ni;$e[rt]=Ze+mt,$e[rt+4]=Ze-mt;var Xt=.707106781*(on+it);$e[rt+2]=it+Xt,$e[rt+6]=it-Xt;var Wn=.382683433*((Ze=Ee+Y)-(on=Kt+En)),Xs=.5411961*Ze+Wn,bs=1.306562965*on+Wn,kr=.707106781*(mt=Y+Kt),Pa=En+kr,Ai=En-kr;$e[rt+5]=Ai+Xs,$e[rt+3]=Ai-Xs,$e[rt+1]=Pa+bs,$e[rt+7]=Pa-bs,rt+=8}for(rt=0,yt=0;yt<8;++yt){var Sd=(K=$e[rt])+(Bt=$e[rt+56]),wh=K-Bt,Oa=(W=$e[rt+8])+(pt=$e[rt+48]),Aa=W-pt,ga=(we=$e[rt+16])+(Qe=$e[rt+40]),ou=we-Qe,Ep=(ke=$e[rt+24])+(Ve=$e[rt+32]),wf=ke-Ve,au=Sd+Ep,Ed=Sd-Ep,Dd=Oa+ga,xf=Oa-ga;$e[rt]=au+Dd,$e[rt+32]=au-Dd;var Md=.707106781*(xf+Ed);$e[rt+16]=Ed+Md,$e[rt+48]=Ed-Md;var Cf=.382683433*((au=wf+ou)-(xf=Aa+wh)),mg=.5411961*au+Cf,b_=1.306562965*xf+Cf,y_=.707106781*(Dd=ou+Aa),Te=wh+y_,nt=wh-y_;$e[rt+40]=nt+mg,$e[rt+24]=nt-mg,$e[rt+8]=Te+b_,$e[rt+56]=Te-b_,rt++}for(yt=0;yt<64;++yt)h[yt]=(Mn=$e[yt]*re[yt])>0?Mn+.5|0:Mn-.5|0;return h}(R,X),Ce=0;Ce<64;++Ce)p[C[Ce]]=ge[Ce];var ve=p[0]-H;H=p[0],0==ve?G(ae[0]):(G(ae[f[he=32767+ve]]),G(d[he]));for(var Ne=63;Ne>0&&0==p[Ne];)Ne--;if(0==Ne)return G(ee),H;for(var se,Oe=1;Oe<=Ne;){for(var fe=Oe;0==p[Oe]&&Oe<=Ne;)++Oe;var at=Oe-fe;if(at>=16){se=at>>4;for(var Ge=1;Ge<=se;++Ge)G(ie);at&=15}G(de[(at<<4)+f[he=32767+p[Oe]]]),G(d[he]),Oe++}return 63!=Ne&&G(ee),H}function ye(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(X){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var de=o((H[ae]*X+50)/100);de=Math.min(Math.max(de,1),255),a[C[ae]]=de}for(var he=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var ie=o((he[ee]*X+50)/100);ie=Math.min(Math.max(ie,1),255),l[C[ee]]=ie}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ce=0,ve=0;ve<8;ve++)for(var Ne=0;Ne<8;Ne++)c[Ce]=1/(a[C[Ce]]*ge[ve]*ge[Ne]*8),u[Ce]=1/(l[C[Ce]]*ge[ve]*ge[Ne]*8),Ce++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,X){var W,we;X&&ye(X),m=new Array,g=0,A=7,J(65496),J(65504),J(16),j(74),j(70),j(73),j(70),j(0),j(1),j(1),j(0),J(1),J(1),j(0),j(0),function(){J(65499),J(132),j(0);for(var W=0;W<64;W++)j(a[W]);j(1);for(var we=0;we<64;we++)j(l[we])}(),W=R.width,we=R.height,J(65472),J(17),j(8),J(we),J(W),j(3),j(1),j(17),j(0),j(2),j(17),j(1),j(3),j(17),j(1),function(){J(65476),J(418),j(0);for(var W=0;W<16;W++)j(D[W+1]);for(var we=0;we<=11;we++)j(S[we]);j(16);for(var ke=0;ke<16;ke++)j(T[ke+1]);for(var Ve=0;Ve<=161;Ve++)j(M[Ve]);j(1);for(var Qe=0;Qe<16;Qe++)j(F[Qe+1]);for(var pt=0;pt<=11;pt++)j(L[pt]);j(17);for(var Bt=0;Bt<16;Bt++)j(U[Bt+1]);for(var yt=0;yt<=161;yt++)j(z[yt])}(),J(65498),J(12),j(3),j(1),j(0),j(2),j(17),j(3),j(17),j(0),j(63),j(0);var H=0,ae=0,de=0;g=0,A=7,this.encode.displayName="_encode_";for(var he,ee,ie,ge,Ce,ve,Ne,se,Oe,fe=R.data,Ge=R.height,$e=4*R.width,re=0;re<Ge;){for(he=0;he<$e;){for(Ce=$e*re+he,Ne=-1,se=0,Oe=0;Oe<64;Oe++)ve=Ce+(se=Oe>>3)*$e+(Ne=4*(7&Oe)),re+se>=Ge&&(ve-=$e*(re+1+se-Ge)),he+Ne>=$e&&(ve-=he+Ne-$e+4),ee=fe[ve++],ie=fe[ve++],ge=fe[ve++],_[Oe]=(y[ee]+y[ie+256|0]+y[ge+512|0]>>16)-128,v[Oe]=(y[ee+768|0]+y[ie+1024|0]+y[ge+1280|0]>>16)-128,b[Oe]=(y[ee+1280|0]+y[ie+1536|0]+y[ge+1792|0]>>16)-128;H=le(_,c,H,t,i),ae=le(v,u,ae,e,r),de=le(b,u,de,e,r),he+=32}re+=8}if(A>=0){var K=[];K[1]=A+1,K[0]=(1<<A+1)-1,G(K)}return J(65497),new Uint8Array(m)},n=n||50,function(){for(var R=String.fromCharCode,X=0;X<256;X++)w[X]=R(X)}(),t=O(D,S),e=O(F,L),i=O(T,M),r=O(U,z),function(){for(var R=1,X=2,H=1;H<=15;H++){for(var ae=R;ae<X;ae++)f[32767+ae]=H,d[32767+ae]=[],d[32767+ae][1]=H,d[32767+ae][0]=ae;for(var de=-(X-1);de<=-R;de++)f[32767+de]=H,d[32767+de]=[],d[32767+de][1]=H,d[32767+de][0]=X-1+de;R<<=1,X<<=1}}(),function(){for(var R=0;R<256;R++)y[R]=19595*R,y[R+256|0]=38470*R,y[R+512|0]=7471*R+32768,y[R+768|0]=-11059*R,y[R+1024|0]=-21709*R,y[R+1280|0]=32768*R+8421375,y[R+1536|0]=-27439*R,y[R+1792|0]=-5329*R}(),ye(n)}function cp(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function moe(n){function t(D){if(!D)throw Error("assert :P")}function e(D,S,T){for(var M=0;4>M;M++)if(D[S+M]!=T.charCodeAt(M))return!0;return!1}function i(D,S,T,M,F){for(var L=0;L<F;L++)D[S+L]=T[M+L]}function r(D,S,T,M){for(var F=0;F<M;F++)D[S+F]=T}function s(D){return new Int32Array(D)}function o(D,S){for(var T=[],M=0;M<D;M++)T.push(new S);return T}function a(D,S){var T=[];return function M(F,L,U){for(var z=U[L],O=0;O<z&&(F.push(U.length>L+1?[]:new S),!(U.length<L+1));O++)M(F[O],L+1,U)}(T,0,D),T}var l=function(){var D=this;function S(x,P){for(var V=1<<P-1>>>0;x&V;)V>>>=1;return V?(x&V-1)+V:x}function T(x,P,V,Z,ce){t(!(Z%V));do{x[P+(Z-=V)]=ce}while(0<Z)}function M(x,P,V,Z,ce){if(t(2328>=ce),512>=ce)var Ae=s(512);else if(null==(Ae=s(ce)))return 0;return function(_e,be,De,Pe,Ke,At){var gt,st,tn=be,Ft=1<<De,Xe=s(16),Je=s(16);for(t(0!=Ke),t(null!=Pe),t(null!=_e),t(0<De),st=0;st<Ke;++st){if(15<Pe[st])return 0;++Xe[Pe[st]]}if(Xe[0]==Ke)return 0;for(Je[1]=0,gt=1;15>gt;++gt){if(Xe[gt]>1<<gt)return 0;Je[gt+1]=Je[gt]+Xe[gt]}for(st=0;st<Ke;++st)gt=Pe[st],0<Pe[st]&&(At[Je[gt]++]=st);if(1==Je[15])return(Pe=new F).g=0,Pe.value=At[0],T(_e,tn,1,Ft,Pe),Ft;var Zt,an=-1,Jt=Ft-1,Zn=0,Fn=1,Mi=1,kn=1<<De;for(st=0,gt=1,Ke=2;gt<=De;++gt,Ke<<=1){if(Fn+=Mi<<=1,0>(Mi-=Xe[gt]))return 0;for(;0<Xe[gt];--Xe[gt])(Pe=new F).g=gt,Pe.value=At[st++],T(_e,tn+Zn,Ke,kn,Pe),Zn=S(Zn,gt)}for(gt=De+1,Ke=2;15>=gt;++gt,Ke<<=1){if(Fn+=Mi<<=1,0>(Mi-=Xe[gt]))return 0;for(;0<Xe[gt];--Xe[gt]){if(Pe=new F,(Zn&Jt)!=an){for(tn+=kn,Zt=1<<(an=gt)-De;15>an&&!(0>=(Zt-=Xe[an]));)++an,Zt<<=1;Ft+=kn=1<<(Zt=an-De),_e[be+(an=Zn&Jt)].g=Zt+De,_e[be+an].value=tn-be-an}Pe.g=gt-De,Pe.value=At[st++],T(_e,tn+(Zn>>De),Ke,kn,Pe),Zn=S(Zn,gt)}}return Fn!=2*Je[15]-1?0:Ft}(x,P,V,Z,ce,Ae)}function F(){this.value=this.g=0}function L(){this.value=this.g=0}function U(){this.G=o(5,F),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Fc,L)}function z(x,P,V,Z){t(null!=x),t(null!=P),t(2147483648>Z),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=P,x.pa=V,x.Jd=P,x.Yc=V+Z,x.Zc=4<=Z?V+Z-4+1:V,he(x)}function O(x,P){for(var V=0;0<P--;)V|=ie(x,128)<<P;return V}function G(x,P){var V=O(x,P);return ee(x)?-V:V}function j(x,P,V,Z){var ce,Ae=0;for(t(null!=x),t(null!=P),t(4294967288>Z),x.Sb=Z,x.Ra=0,x.u=0,x.h=0,4<Z&&(Z=4),ce=0;ce<Z;++ce)Ae+=P[V+ce]<<8*ce;x.Ra=Ae,x.bb=Z,x.oa=P,x.pa=V}function J(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<QC-8>>>0,++x.bb,x.u-=8;H(x)&&(x.h=1,x.u=0)}function le(x,P){if(t(0<=P),!x.h&&P<=zC){var V=X(x)&VC[P];return x.u+=P,J(x),V}return x.h=1,x.u=0}function ye(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(x){return x.Ra>>>(x.u&QC-1)>>>0}function H(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>QC}function ae(x,P){x.u=P,x.h=H(x)}function de(x){x.u>=pT&&(t(x.u>=pT),J(x))}function he(x){t(null!=x&&null!=x.oa),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(null!=x&&null!=x.oa),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ee(x){return O(x,1)}function ie(x,P){var V=x.Ca;0>x.b&&he(x);var Z=x.b,ce=V*P>>>8,Ae=(x.I>>>Z>ce)+0;for(Ae?(V-=ce,x.I-=ce+1<<Z>>>0):V=ce+1,Z=V,ce=0;256<=Z;)ce+=8,Z>>=8;return x.b-=Z=7^ce+Td[Z],x.Ca=(V<<Z)-1,Ae}function ge(x,P,V){x[P+0]=V>>24&255,x[P+1]=V>>16&255,x[P+2]=V>>8&255,x[P+3]=255&V}function Ce(x,P){return x[P+0]|x[P+1]<<8}function ve(x,P){return Ce(x,P)|x[P+2]<<16}function Ne(x,P){return Ce(x,P)|Ce(x,P+2)<<16}function se(x,P){var V=1<<P;return t(null!=x),t(0<P),x.X=s(V),null==x.X?0:(x.Mb=32-P,x.Xa=P,1)}function Oe(x,P){t(null!=x),t(null!=P),t(x.Xa==P.Xa),i(P.X,0,x.X,0,1<<P.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function at(x,P,V,Z){t(null!=V),t(null!=Z);var ce=V[0],Ae=Z[0];return 0==ce&&(ce=(x*Ae+P/2)/P),0==Ae&&(Ae=(P*ce+x/2)/x),0>=ce||0>=Ae?0:(V[0]=ce,Z[0]=Ae,1)}function Ge(x,P){return x+(1<<P)-1>>>P}function $e(x,P){return((4278255360&x)+(4278255360&P)>>>0&4278255360)+((16711935&x)+(16711935&P)>>>0&16711935)>>>0}function re(x,P){D[P]=function(V,Z,ce,Ae,_e,be,De){var Pe;for(Pe=0;Pe<_e;++Pe){var Ke=D[x](be[De+Pe-1],ce,Ae+Pe);be[De+Pe]=$e(V[Z+Pe],Ke)}}}function K(){this.ud=this.hd=this.jd=0}function W(x,P){return((4278124286&(x^P))>>>1)+(x&P)>>>0}function we(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function ke(x,P){return we(x+(x-P+.5>>1))}function Ve(x,P,V){return Math.abs(P-V)-Math.abs(x-V)}function Qe(x,P,V,Z,ce,Ae,_e){for(Z=Ae[_e-1],V=0;V<ce;++V)Ae[_e+V]=Z=$e(x[P+V],Z)}function pt(x,P,V,Z,ce){var Ae;for(Ae=0;Ae<V;++Ae){var _e=x[P+Ae],be=_e>>8&255,De=16711935&(De=(De=16711935&_e)+((be<<16)+be));Z[ce+Ae]=(4278255360&_e)+De>>>0}}function Bt(x,P){P.jd=255&x,P.hd=x>>8&255,P.ud=x>>16&255}function yt(x,P,V,Z,ce,Ae){var _e;for(_e=0;_e<Z;++_e){var be=P[V+_e],De=be>>>8,Pe=be,Ke=255&(Ke=(Ke=be>>>16)+((x.jd<<24>>24)*(De<<24>>24)>>>5));Pe=255&(Pe=(Pe+=(x.hd<<24>>24)*(De<<24>>24)>>>5)+((x.ud<<24>>24)*(Ke<<24>>24)>>>5)),ce[Ae+_e]=(4278255360&be)+(Ke<<16)+Pe}}function Mn(x,P,V,Z,ce){D[P]=function(Ae,_e,be,De,Pe,Ke,At,gt,st){for(De=At;De<gt;++De)for(At=0;At<st;++At)Pe[Ke++]=ce(be[Z(Ae[_e++])])},D[x]=function(Ae,_e,be,De,Pe,Ke,At){var gt=8>>Ae.b,st=Ae.Ea,tn=Ae.K[0],Ft=Ae.w;if(8>gt)for(Ae=(1<<Ae.b)-1,Ft=(1<<gt)-1;_e<be;++_e){var Xe,Je=0;for(Xe=0;Xe<st;++Xe)Xe&Ae||(Je=Z(De[Pe++])),Ke[At++]=ce(tn[Je&Ft]),Je>>=gt}else D["VP8LMapColor"+V](De,Pe,tn,Ft,Ke,At,_e,be,st)}}function rt(x,P,V,Z,ce){for(V=P+V;P<V;){var Ae=x[P++];Z[ce++]=Ae>>16&255,Z[ce++]=Ae>>8&255,Z[ce++]=255&Ae}}function Sn(x,P,V,Z,ce){for(V=P+V;P<V;){var Ae=x[P++];Z[ce++]=Ae>>16&255,Z[ce++]=Ae>>8&255,Z[ce++]=255&Ae,Z[ce++]=Ae>>24&255}}function En(x,P,V,Z,ce){for(V=P+V;P<V;){var Ae=(_e=x[P++])>>16&240|_e>>12&15,_e=240&_e|_e>>28&15;Z[ce++]=Ae,Z[ce++]=_e}}function ei(x,P,V,Z,ce){for(V=P+V;P<V;){var Ae=(_e=x[P++])>>16&248|_e>>13&7,_e=_e>>5&224|_e>>3&31;Z[ce++]=Ae,Z[ce++]=_e}}function Kt(x,P,V,Z,ce){for(V=P+V;P<V;){var Ae=x[P++];Z[ce++]=255&Ae,Z[ce++]=Ae>>8&255,Z[ce++]=Ae>>16&255}}function ni(x,P,V,Z,ce,Ae){if(0==Ae)for(V=P+V;P<V;)ge(Z,((Ae=x[P++])[0]>>24|Ae[1]>>8&65280|Ae[2]<<8&16711680|Ae[3]<<24)>>>0),ce+=32;else i(Z,ce,x,P,V)}function Y(x,P){D[P][0]=D[x+"0"],D[P][1]=D[x+"1"],D[P][2]=D[x+"2"],D[P][3]=D[x+"3"],D[P][4]=D[x+"4"],D[P][5]=D[x+"5"],D[P][6]=D[x+"6"],D[P][7]=D[x+"7"],D[P][8]=D[x+"8"],D[P][9]=D[x+"9"],D[P][10]=D[x+"10"],D[P][11]=D[x+"11"],D[P][12]=D[x+"12"],D[P][13]=D[x+"13"],D[P][14]=D[x+"0"],D[P][15]=D[x+"0"]}function Fe(x){return x==q9||x==W9||x==ML||x==$9}function Ee(){this.eb=[],this.size=this.A=this.fb=0}function Ze(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function it(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ee,this.f.kb=new Ze,this.sd=null}function mt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function on(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Xt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Wn(x,P){var V=x.T,Z=P.ba.f.RGBA,ce=Z.eb,Ae=Z.fb+x.ka*Z.A,_e=Nf[P.ba.S],be=x.y,De=x.O,Pe=x.f,Ke=x.N,At=x.ea,gt=x.W,st=P.cc,tn=P.dc,Ft=P.Mc,Xe=P.Nc,Je=x.ka,Zt=x.ka+x.T,an=x.U,Jt=an+1>>1;for(0==Je?_e(be,De,null,null,Pe,Ke,At,gt,Pe,Ke,At,gt,ce,Ae,null,null,an):(_e(P.ec,P.fc,be,De,st,tn,Ft,Xe,Pe,Ke,At,gt,ce,Ae-Z.A,ce,Ae,an),++V);Je+2<Zt;Je+=2)_e(be,(De+=2*x.fa)-x.fa,be,De,st=Pe,tn=Ke,Ft=At,Xe=gt,Pe,Ke+=x.Rc,At,gt+=x.Rc,ce,(Ae+=2*Z.A)-Z.A,ce,Ae,an);return De+=x.fa,x.j+Zt<x.o?(i(P.ec,P.fc,be,De,an),i(P.cc,P.dc,Pe,Ke,Jt),i(P.Mc,P.Nc,At,gt,Jt),V--):1&Zt||_e(be,De,null,null,Pe,Ke,At,gt,Pe,Ke,At,gt,ce,Ae+Z.A,null,null,an),V}function Xs(x,P,V){var Z=x.F,ce=[x.J];if(null!=Z){var Ae=x.U,_e=P.ba.S,be=_e==DL||_e==ML;P=P.ba.f.RGBA;var De=[0],Pe=x.ka;De[0]=x.T,x.Kb&&(0==Pe?--De[0]:(--Pe,ce[0]-=x.width),x.j+x.ka+x.T==x.o&&(De[0]=x.o-x.j-Pe));var Ke=P.eb;x=Wo(Z,ce[0],x.width,Ae,De,Ke,(Pe=P.fb+Pe*P.A)+(be?0:3),P.A),t(V==De),x&&Fe(_e)&&Mf(Ke,Pe,be,Ae,De,P.A)}return 0}function bs(x){var P=x.ma,V=P.ba.S,Z=11>V,ce=V==SL||V==EL||V==DL||V==j9||12==V||Fe(V);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!hT(P.Oa,x,ce?11:12))return 0;if(ce&&Fe(V)&&un(),x.da)alert("todo:use_scaling");else{if(Z){if(P.Ib=Xt,x.Kb){if(P.memory=s(x.U+2*(V=x.U+1>>1)),null==P.memory)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+x.U,P.Mc=P.cc,P.Nc=P.dc+V,P.Ib=Wn,un()}}else alert("todo:EmitYUV");ce&&(P.Jb=Xs,Z&&ut())}if(Z&&!_0e){for(x=0;256>x;++x)IIt[x]=89858*(x-128)+NL>>TL,PIt[x]=-22014*(x-128)+NL,FIt[x]=-45773*(x-128),BIt[x]=113618*(x-128)+NL>>TL;for(x=yT;x<Y9;++x)OIt[x-yT]=Sh(P=76283*(x-16)+NL>>TL,255),RIt[x-yT]=Sh(P+8>>4,15);_0e=1}return 1}function kr(x){var P=x.ma,V=x.U,Z=x.T;return t(!(1&x.ka)),0>=V||0>=Z?0:(V=P.Ib(x,P),null!=P.Jb&&P.Jb(x,P,V),P.Dc+=V,1)}function Pa(x){x.ma.memory=null}function Ai(x,P,V,Z){return 47!=le(x,8)?0:(P[0]=le(x,14)+1,V[0]=le(x,14)+1,Z[0]=le(x,1),0!=le(x,3)?0:!x.h)}function Sd(x,P){if(4>x)return x+1;var V=x-2>>1;return(2+(1&x)<<V)+le(P,V)+1}function wh(x,P){return 120<P?P-120:1<=(V=((V=gIt[P-1])>>4)*x+(8-(15&V)))?V:1;var V}function Oa(x,P,V){var Z=X(V),ce=x[P+=255&Z].g-8;return 0<ce&&(ae(V,V.u+8),Z=X(V),P+=x[P].value,P+=Z&(1<<ce)-1),ae(V,V.u+x[P].g),x[P].value}function Aa(x,P,V){return V.g+=x.g,V.value+=x.value<<P>>>0,t(8>=V.g),x.g}function ga(x,P,V){var Z=x.xc;return t((P=0==Z?0:x.vc[x.md*(V>>Z)+(P>>Z)])<x.Wb),x.Ya[P]}function ou(x,P,V,Z){var ce=x.ab,Ae=x.c*P,_e=x.C;P=_e+P;var be=V,De=Z;for(Z=x.Ta,V=x.Ua;0<ce--;){var Pe=x.gc[ce],Ke=_e,At=P,gt=be,st=De,tn=(De=Z,be=V,Pe.Ea);switch(t(Ke<At),t(At<=Pe.nc),Pe.hc){case 2:vL(gt,st,(At-Ke)*tn,De,be);break;case 0:var Ft=Ke,Xe=At,Je=De,Zt=be,an=(kn=Pe).Ea;0==Ft&&(Q9(gt,st,null,null,1,Je,Zt),Qe(gt,st+1,0,0,an-1,Je,Zt+1),st+=an,Zt+=an,++Ft);for(var Jt=1<<kn.b,Zn=Jt-1,Fn=Ge(an,kn.b),Mi=kn.K,kn=kn.w+(Ft>>kn.b)*Fn;Ft<Xe;){var Qs=Mi,lo=kn,Ts=1;for(mT(gt,st,Je,Zt-an,1,Je,Zt);Ts<an;){var ls=(Ts&~Zn)+Jt;ls>an&&(ls=an),(0,S_[Qs[lo++]>>8&15])(gt,st+ +Ts,Je,Zt+Ts-an,ls-Ts,Je,Zt+Ts),Ts=ls}st+=an,Zt+=an,++Ft&Zn||(kn+=Fn)}At!=Pe.nc&&i(De,be-tn,De,be+(At-Ke-1)*tn,tn);break;case 1:for(tn=gt,Xe=st,an=(gt=Pe.Ea)-(Zt=gt&~(Je=(st=1<<Pe.b)-1)),Ft=Ge(gt,Pe.b),Jt=Pe.K,Pe=Pe.w+(Ke>>Pe.b)*Ft;Ke<At;){for(Zn=Jt,Fn=Pe,Mi=new K,kn=Xe+Zt,Qs=Xe+gt;Xe<kn;)Bt(Zn[Fn++],Mi),fy(Mi,tn,Xe,st,De,be),Xe+=st,be+=st;Xe<Qs&&(Bt(Zn[Fn++],Mi),fy(Mi,tn,Xe,an,De,be),Xe+=an,be+=an),++Ke&Je||(Pe+=Ft)}break;case 3:if(gt==De&&st==be&&0<Pe.b){for(Xe=De,gt=tn=be+(At-Ke)*tn-(Zt=(At-Ke)*Ge(Pe.Ea,Pe.b)),st=De,Je=be,Ft=[],Zt=(an=Zt)-1;0<=Zt;--Zt)Ft[Zt]=st[Je+Zt];for(Zt=an-1;0<=Zt;--Zt)Xe[gt+Zt]=Ft[Zt];Sf(Pe,Ke,At,De,tn,De,be)}else Sf(Pe,Ke,At,gt,st,De,be)}be=Z,De=V}De!=V&&i(Z,V,be,De,Ae)}function Ep(x,P){var V=x.V,Z=x.Ba+x.c*x.C,ce=P-x.C;if(t(P<=x.l.o),t(16>=ce),0<ce){var Ae=x.l,_e=x.Ta,be=x.Ua,De=Ae.width;if(ou(x,ce,V,Z),ce=be=[be],t((V=x.C)<(Z=P)),t(Ae.v<Ae.va),Z>Ae.o&&(Z=Ae.o),V<Ae.j){var Pe=Ae.j-V;V=Ae.j,ce[0]+=Pe*De}if(V>=Z?V=0:(ce[0]+=4*Ae.v,Ae.ka=V-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=Z-V,V=1),V){if(be=be[0],11>(V=x.ca).S){var Ke=V.f.RGBA,At=(Z=V.S,ce=Ae.U,Ae=Ae.T,Pe=Ke.eb,Ke.A),gt=Ae;for(Ke=Ke.fb+x.Ma*Ke.A;0<gt--;){var st=_e,tn=be,Ft=ce,Xe=Pe,Je=Ke;switch(Z){case CL:Nd(st,tn,Ft,Xe,Je);break;case SL:Hu(st,tn,Ft,Xe,Je);break;case q9:Hu(st,tn,Ft,Xe,Je),Mf(Xe,Je,0,Ft,1,0);break;case c0e:_g(st,tn,Ft,Xe,Je);break;case EL:ni(st,tn,Ft,Xe,Je,1);break;case W9:ni(st,tn,Ft,Xe,Je,1),Mf(Xe,Je,0,Ft,1,0);break;case DL:ni(st,tn,Ft,Xe,Je,0);break;case ML:ni(st,tn,Ft,Xe,Je,0),Mf(Xe,Je,1,Ft,1,0);break;case j9:E_(st,tn,Ft,Xe,Je);break;case $9:E_(st,tn,Ft,Xe,Je),qo(Xe,Je,Ft,1,0);break;case u0e:vg(st,tn,Ft,Xe,Je);break;default:t(0)}be+=De,Ke+=At}x.Ma+=Ae}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=V.height)}}x.C=P,t(x.C<=x.i)}function wf(x){var P;if(0<x.ua)return 0;for(P=0;P<x.Wb;++P){var V=x.Ya[P].G,Z=x.Ya[P].H;if(0<V[1][Z[1]+0].g||0<V[2][Z[2]+0].g||0<V[3][Z[3]+0].g)return 0}return 1}function au(x,P,V,Z,ce,Ae){if(0!=x.Z){var _e=x.qd,be=x.rd;for(t(null!=N_[x.Z]);P<V;++P)N_[x.Z](_e,be,Z,ce,Z,ce,Ae),_e=Z,be=ce,ce+=Ae;x.qd=_e,x.rd=be}}function Ed(x,P){var V=x.l.ma,Z=0==V.Z||1==V.Z?x.l.j:x.C;if(Z=x.C<Z?Z:x.C,t(P<=x.l.o),P>Z){var ce=x.l.width,Ae=V.ca,_e=V.tb+ce*Z,be=x.V,De=x.Ba+x.c*Z,Pe=x.gc;t(1==x.ab),t(3==Pe[0].hc),_L(Pe[0],Z,P,be,De,Ae,_e),au(V,Z,P,Ae,_e,ce)}x.C=x.Ma=P}function Dd(x,P,V,Z,ce,Ae,_e){var be=x.$/Z,De=x.$%Z,Pe=x.m,Ke=x.s,At=V+x.$,gt=At;ce=V+Z*ce;var st=V+Z*Ae,tn=280+Ke.ua,Ft=x.Pb?be:16777216,Xe=0<Ke.ua?Ke.Wa:null,Je=Ke.wc,Zt=At<st?ga(Ke,De,be):null;t(x.C<Ae),t(st<=ce);var an=!1;e:for(;;){for(;an||At<st;){var Jt=0;if(be>=Ft){var Zn=At-V;t((Ft=x).Pb),Ft.wd=Ft.m,Ft.xd=Zn,0<Ft.s.ua&&Oe(Ft.s.Wa,Ft.s.vb),Ft=be+_It}if(De&Je||(Zt=ga(Ke,De,be)),t(null!=Zt),Zt.Qb&&(P[At]=Zt.qb,an=!0),!an)if(de(Pe),Zt.jc){Zn=P;var Fn=At,Mi=Zt.pd[X(Jt=Pe)&Fc-1];t(Zt.jc),256>Mi.g?(ae(Jt,Jt.u+Mi.g),Zn[Fn]=Mi.value,Jt=0):(ae(Jt,Jt.u+Mi.g-256),t(256<=Mi.value),Jt=Mi.value),0==Jt&&(an=!0)}else Jt=Oa(Zt.G[0],Zt.H[0],Pe);if(Pe.h)break;if(an||256>Jt){if(!an)if(Zt.nd)P[At]=(Zt.qb|Jt<<8)>>>0;else{if(de(Pe),an=Oa(Zt.G[1],Zt.H[1],Pe),de(Pe),Zn=Oa(Zt.G[2],Zt.H[2],Pe),Fn=Oa(Zt.G[3],Zt.H[3],Pe),Pe.h)break;P[At]=(Fn<<24|an<<16|Jt<<8|Zn)>>>0}if(an=!1,++At,++De>=Z&&(De=0,++be,null!=_e&&be<=Ae&&!(be%16)&&_e(x,be),null!=Xe))for(;gt<At;)Jt=P[gt++],Xe.X[(506832829*Jt&4294967295)>>>Xe.Mb]=Jt}else if(280>Jt){if(Jt=Sd(Jt-256,Pe),Zn=Oa(Zt.G[4],Zt.H[4],Pe),de(Pe),Zn=wh(Z,Zn=Sd(Zn,Pe)),Pe.h)break;if(At-V<Zn||ce-At<Jt)break e;for(Fn=0;Fn<Jt;++Fn)P[At+Fn]=P[At+Fn-Zn];for(At+=Jt,De+=Jt;De>=Z;)De-=Z,++be,null!=_e&&be<=Ae&&!(be%16)&&_e(x,be);if(t(At<=ce),De&Je&&(Zt=ga(Ke,De,be)),null!=Xe)for(;gt<At;)Jt=P[gt++],Xe.X[(506832829*Jt&4294967295)>>>Xe.Mb]=Jt}else{if(!(Jt<tn))break e;for(an=Jt-280,t(null!=Xe);gt<At;)Jt=P[gt++],Xe.X[(506832829*Jt&4294967295)>>>Xe.Mb]=Jt;Jt=At,t(!(an>>>(Zn=Xe).Xa)),P[Jt]=Zn.X[an],an=!0}an||t(Pe.h==H(Pe))}if(x.Pb&&Pe.h&&At<ce)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Oe(x.s.vb,x.s.Wa);else{if(Pe.h)break e;_e?.(x,be>Ae?Ae:be),x.a=0,x.$=At-V}return 1}return x.a=3,0}function xf(x){t(null!=x),x.vc=null,x.yc=null,x.Ya=null;var P=x.Wa;null!=P&&(P.X=null),x.vb=null,t(null!=x)}function Md(){var x=new z9;return null==x?null:(x.a=0,x.xb=f0e,Y("Predictor","VP8LPredictors"),Y("Predictor","VP8LPredictors_C"),Y("PredictorAdd","VP8LPredictorsAdd"),Y("PredictorAdd","VP8LPredictorsAdd_C"),vL=pt,fy=yt,Nd=rt,Hu=Sn,E_=En,vg=ei,_g=Kt,D.VP8LMapColor32b=GC,D.VP8LMapColor8b=bL,x)}function Cf(x,P,V,Z,ce){var Ae=1,_e=[x],be=[P],De=Z.m,Pe=Z.s,Ke=null,At=0;e:for(;;){if(V)for(;Ae&&le(De,1);){var gt=_e,st=be,tn=Z,Ft=1,Xe=tn.m,Je=tn.gc[tn.ab],Zt=le(Xe,2);if(tn.Oc&1<<Zt)Ae=0;else{switch(tn.Oc|=1<<Zt,Je.hc=Zt,Je.Ea=gt[0],Je.nc=st[0],Je.K=[null],++tn.ab,t(4>=tn.ab),Zt){case 0:case 1:Je.b=le(Xe,3)+2,Ft=Cf(Ge(Je.Ea,Je.b),Ge(Je.nc,Je.b),0,tn,Je.K),Je.K=Je.K[0];break;case 3:var an,Jt=le(Xe,8)+1,Zn=16<Jt?0:4<Jt?1:2<Jt?2:3;if(gt[0]=Ge(Je.Ea,Zn),Je.b=Zn,an=Ft=Cf(Jt,1,0,tn,Je.K)){var Fn,Mi=Jt,kn=Je,Qs=1<<(8>>kn.b),lo=s(Qs);if(null==lo)an=0;else{var Ts=kn.K[0],ls=kn.w;for(lo[0]=kn.K[0][0],Fn=1;Fn<1*Mi;++Fn)lo[Fn]=$e(Ts[ls+Fn],lo[Fn-1]);for(;Fn<4*Qs;++Fn)lo[Fn]=0;kn.K[0]=null,kn.K[0]=lo,an=1}}Ft=an;break;case 2:break;default:t(0)}Ae=Ft}}if(_e=_e[0],be=be[0],Ae&&le(De,1)&&!(Ae=1<=(At=le(De,4))&&11>=At)){Z.a=3;break e}var Oo;if(Oo=Ae)t:{var xo,Dr,Sl,Id=Z,El=_e,Bd=be,co=At,Dh=V,Mh=Id.m,gc=Id.s,Pc=[null],zu=1,If=0,zm=vIt[co];n:for(;;){if(Dh&&le(Mh,1)){var vc=le(Mh,3)+2,xg=Ge(El,vc),vy=Ge(Bd,vc),KC=xg*vy;if(!Cf(xg,vy,0,Id,Pc))break n;for(Pc=Pc[0],gc.xc=vc,xo=0;xo<KC;++xo){var I_=Pc[xo]>>8&65535;Pc[xo]=I_,I_>=zu&&(zu=I_+1)}}if(Mh.h)break n;for(Dr=0;5>Dr;++Dr){var ka=d0e[Dr];!Dr&&0<co&&(ka+=1<<co),If<ka&&(If=ka)}var Z9=o(zu*zm,F),w0e=zu,x0e=o(w0e,U);if(null==x0e)var BL=null;else t(65536>=w0e),BL=x0e;var wT=s(If);if(null==BL||null==wT||null==Z9){Id.a=1;break n}var FL=Z9;for(xo=Sl=0;xo<zu;++xo){var Ip=BL[xo],XC=Ip.G,YC=Ip.H,C0e=0,PL=1,S0e=0;for(Dr=0;5>Dr;++Dr){ka=d0e[Dr],XC[Dr]=FL,YC[Dr]=Sl,!Dr&&0<co&&(ka+=1<<co);r:{var OL,J9=ka,RL=Id,xT=wT,UIt=FL,HIt=Sl,ej=0,B_=RL.m,VIt=le(B_,1);if(r(xT,0,0,J9),VIt){var zIt=le(B_,1)+1,QIt=le(B_,1),E0e=le(B_,0==QIt?1:8);xT[E0e]=1,2==zIt&&(xT[E0e=le(B_,8)]=1);var kL=1}else{var D0e=s(19),M0e=le(B_,4)+4;if(19<M0e){RL.a=3;var LL=0;break r}for(OL=0;OL<M0e;++OL)D0e[AIt[OL]]=le(B_,3);var tj=void 0,CT=void 0,T0e=RL,GIt=D0e,UL=J9,N0e=xT,nj=0,F_=T0e.m,I0e=8,B0e=o(128,F);i:for(;M(B0e,0,7,GIt,19);){if(le(F_,1)){var jIt=2+2*le(F_,3);if((tj=2+le(F_,jIt))>UL)break i}else tj=UL;for(CT=0;CT<UL&&tj--;){de(F_);var F0e=B0e[0+(127&X(F_))];ae(F_,F_.u+F0e.g);var ZC=F0e.value;if(16>ZC)N0e[CT++]=ZC,0!=ZC&&(I0e=ZC);else{var qIt=16==ZC,P0e=ZC-16,WIt=pIt[P0e],O0e=le(F_,fIt[P0e])+WIt;if(CT+O0e>UL)break i;for(var $It=qIt?I0e:0;0<O0e--;)N0e[CT++]=$It}}nj=1;break i}nj||(T0e.a=3),kL=nj}(kL=kL&&!B_.h)&&(ej=M(UIt,HIt,8,xT,J9)),kL&&0!=ej?LL=ej:(RL.a=3,LL=0)}if(0==LL)break n;if(PL&&1==mIt[Dr]&&(PL=0==FL[Sl].g),C0e+=FL[Sl].g,Sl+=LL,3>=Dr){var ST,ij=wT[0];for(ST=1;ST<ka;++ST)wT[ST]>ij&&(ij=wT[ST]);S0e+=ij}}if(Ip.nd=PL,Ip.Qb=0,PL&&(Ip.qb=(XC[3][YC[3]+0].value<<24|XC[1][YC[1]+0].value<<16|XC[2][YC[2]+0].value)>>>0,0==C0e&&256>XC[0][YC[0]+0].value&&(Ip.Qb=1,Ip.qb+=XC[0][YC[0]+0].value<<8)),Ip.jc=!Ip.Qb&&6>S0e,Ip.jc){var HL,Cg=Ip;for(HL=0;HL<Fc;++HL){var P_=HL,O_=Cg.pd[P_],VL=Cg.G[0][Cg.H[0]+P_];256<=VL.value?(O_.g=VL.g+256,O_.value=VL.value):(O_.g=0,O_.value=0,P_>>=Aa(VL,8,O_),P_>>=Aa(Cg.G[1][Cg.H[1]+P_],16,O_),P_>>=Aa(Cg.G[2][Cg.H[2]+P_],0,O_),Aa(Cg.G[3][Cg.H[3]+P_],24,O_))}}}gc.vc=Pc,gc.Wb=zu,gc.Ya=BL,gc.yc=Z9,Oo=1;break t}Oo=0}if(!(Ae=Oo)){Z.a=3;break e}if(0<At){if(Pe.ua=1<<At,!se(Pe.Wa,At)){Z.a=1,Ae=0;break e}}else Pe.ua=0;var rj=Z,R0e=_e,KIt=be,sj=rj.s,oj=sj.xc;if(rj.c=R0e,rj.i=KIt,sj.md=Ge(R0e,oj),sj.wc=0==oj?-1:(1<<oj)-1,V){Z.xb=EIt;break e}if(null==(Ke=s(_e*be))){Z.a=1,Ae=0;break e}Ae=(Ae=Dd(Z,Ke,0,_e,be,be,null))&&!De.h;break e}return Ae?(null!=ce?ce[0]=Ke:(t(null==Ke),t(V)),Z.$=0,V||xf(Pe)):xf(Pe),Ae}function mg(x,P){var V=x.c*x.i,Z=V+P+16*P;return t(x.c<=P),x.V=s(Z),null==x.V?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+V+P,1)}function b_(x,P){var V=x.C,Z=P-V,ce=x.V,Ae=x.Ba+x.c*V;for(t(P<=x.l.o);0<Z;){var _e=16<Z?16:Z,be=x.l.ma,De=x.l.width,Pe=De*_e,Ke=be.ca,At=be.tb+De*V,gt=x.Ta,st=x.Ua;ou(x,_e,ce,Ae),rl(gt,st,Ke,At,Pe),au(be,V,V+_e,Ke,At,De),Z-=_e,ce+=_e*x.c,V+=_e}t(V==P),x.C=x.Ma=P}function y_(){this.ub=this.yd=this.td=this.Rb=0}function Te(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function nt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function bt(){var x;this.Yb=(function P(V,Z,ce){for(var Ae=ce[Z],_e=0;_e<Ae&&(V.push(ce.length>Z+1?[]:0),!(ce.length<Z+1));_e++)P(V[_e],Z+1,ce)}(x=[],0,[3,11]),x)}function wt(){this.jb=s(3),this.Wc=a([4,8],bt),this.Xc=a([4,17],bt)}function ot(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function hn(){this.ld=this.La=this.dd=this.tc=0}function Bn(){this.Na=this.la=0}function ii(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kn(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qi(){this.uc=this.M=this.Nb=0,this.wa=Array(new hn),this.Y=0,this.ya=Array(new Kn),this.aa=0,this.l=new Er}function Wi(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Si(){this.cb=this.a=0,this.sc="",this.m=new ye,this.Od=new y_,this.Kc=new Te,this.ed=new ot,this.Qa=new nt,this.Ic=this.$c=this.Aa=0,this.D=new qi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,ye),this.ia=0,this.pb=o(4,ii),this.Pa=new wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wi),this.Hd=0,this.rb=Array(new Bn),this.sb=0,this.wa=Array(new hn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kn),this.L=this.aa=0,this.gd=a([4,2],hn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Er(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ms(){var x=new Si;return null!=x&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,bT||(bT=wi)),x}function lr(x,P,V){return 0==x.a&&(x.a=P,x.sc=V,x.cb=0),0}function Po(x,P,V){return 3<=V&&157==x[P+0]&&1==x[P+1]&&42==x[P+2]}function es(x,P){if(null==x)return 0;if(x.a=0,x.sc="OK",null==P)return lr(x,2,"null VP8Io passed to VP8GetHeaders()");var V=P.data,Z=P.w,ce=P.ha;if(4>ce)return lr(x,7,"Truncated header.");var Ae=V[Z+0]|V[Z+1]<<8|V[Z+2]<<16,_e=x.Od;if(_e.Rb=!(1&Ae),_e.td=Ae>>1&7,_e.yd=Ae>>4&1,_e.ub=Ae>>5,3<_e.td)return lr(x,3,"Incorrect keyframe parameters.");if(!_e.yd)return lr(x,4,"Frame not displayable.");Z+=3,ce-=3;var be=x.Kc;if(_e.Rb){if(7>ce)return lr(x,7,"cannot parse picture header");if(!Po(V,Z,ce))return lr(x,3,"Bad code word");be.c=16383&(V[Z+4]<<8|V[Z+3]),be.Td=V[Z+4]>>6,be.i=16383&(V[Z+6]<<8|V[Z+5]),be.Ud=V[Z+6]>>6,Z+=7,ce-=7,x.za=be.c+15>>4,x.Ub=be.i+15>>4,P.width=be.c,P.height=be.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,r((Ae=x.Pa).jb,0,255,Ae.jb.length),t(null!=(Ae=x.Qa)),Ae.Cb=0,Ae.Bb=0,Ae.Fb=1,r(Ae.Zb,0,0,Ae.Zb.length),r(Ae.Lb,0,0,Ae.Lb)}if(_e.ub>ce)return lr(x,7,"bad partition length");z(Ae=x.m,V,Z,_e.ub),Z+=_e.ub,ce-=_e.ub,_e.Rb&&(be.Ld=ee(Ae),be.Kd=ee(Ae)),be=x.Qa;var De,Pe=x.Pa;if(t(null!=Ae),t(null!=be),be.Cb=ee(Ae),be.Cb){if(be.Bb=ee(Ae),ee(Ae)){for(be.Fb=ee(Ae),De=0;4>De;++De)be.Zb[De]=ee(Ae)?G(Ae,7):0;for(De=0;4>De;++De)be.Lb[De]=ee(Ae)?G(Ae,6):0}if(be.Bb)for(De=0;3>De;++De)Pe.jb[De]=ee(Ae)?O(Ae,8):255}else be.Bb=0;if(Ae.Ka)return lr(x,3,"cannot parse segment header");if((be=x.ed).zd=ee(Ae),be.Tb=O(Ae,6),be.wb=O(Ae,3),be.Pc=ee(Ae),be.Pc&&ee(Ae)){for(Pe=0;4>Pe;++Pe)ee(Ae)&&(be.vd[Pe]=G(Ae,6));for(Pe=0;4>Pe;++Pe)ee(Ae)&&(be.od[Pe]=G(Ae,6))}if(x.L=0==be.Tb?0:be.zd?1:2,Ae.Ka)return lr(x,3,"cannot parse filter header");var Ke=ce;if(ce=De=Z,Z=De+Ke,be=Ke,x.Xb=(1<<O(x.m,2))-1,Ke<3*(Pe=x.Xb))V=7;else{for(De+=3*Pe,be-=3*Pe,Ke=0;Ke<Pe;++Ke){var At=V[ce+0]|V[ce+1]<<8|V[ce+2]<<16;At>be&&(At=be),z(x.Jc[+Ke],V,De,At),De+=At,be-=At,ce+=3}z(x.Jc[+Pe],V,De,be),V=De<Z?0:5}if(0!=V)return lr(x,V,"cannot parse partitions");for(V=O(De=x.m,7),ce=ee(De)?G(De,4):0,Z=ee(De)?G(De,4):0,be=ee(De)?G(De,4):0,Pe=ee(De)?G(De,4):0,De=ee(De)?G(De,4):0,Ke=x.Qa,At=0;4>At;++At){if(Ke.Cb){var gt=Ke.Zb[At];Ke.Fb||(gt+=V)}else{if(0<At){x.pb[At]=x.pb[0];continue}gt=V}var st=x.pb[At];st.Sc[0]=K9[Sh(gt+ce,127)],st.Sc[1]=X9[Sh(gt+0,127)],st.Eb[0]=2*K9[Sh(gt+Z,127)],st.Eb[1]=101581*X9[Sh(gt+be,127)]>>16,8>st.Eb[1]&&(st.Eb[1]=8),st.Qc[0]=K9[Sh(gt+Pe,117)],st.Qc[1]=X9[Sh(gt+De,127)],st.lc=gt+De}if(!_e.Rb)return lr(x,4,"Not a key frame.");for(ee(Ae),_e=x.Pa,V=0;4>V;++V){for(ce=0;8>ce;++ce)for(Z=0;3>Z;++Z)for(be=0;11>be;++be)Pe=ie(Ae,CIt[V][ce][Z][be])?O(Ae,8):wIt[V][ce][Z][be],_e.Wc[V][ce].Yb[Z][be]=Pe;for(ce=0;17>ce;++ce)_e.Xc[V][ce]=_e.Wc[V][SIt[ce]]}return x.kc=ee(Ae),x.kc&&(x.Bd=O(Ae,8)),x.cb=1}function wi(x,P,V,Z,ce,Ae,_e){var be=P[ce].Yb[V];for(V=0;16>ce;++ce){if(!ie(x,be[V+0]))return ce;for(;!ie(x,be[V+1]);)if(be=P[++ce].Yb[0],V=0,16==ce)return 16;var De=P[ce+1].Yb;if(ie(x,be[V+2])){var Pe=x,Ke=0;if(ie(Pe,(gt=be)[(At=V)+3]))if(ie(Pe,gt[At+6])){for(be=0,At=2*(Ke=ie(Pe,gt[At+8]))+(gt=ie(Pe,gt[At+9+Ke])),Ke=0,gt=bIt[At];gt[be];++be)Ke+=Ke+ie(Pe,gt[be]);Ke+=3+(8<<At)}else ie(Pe,gt[At+7])?(Ke=7+2*ie(Pe,165),Ke+=ie(Pe,145)):Ke=5+ie(Pe,159);else Ke=ie(Pe,gt[At+4])?3+ie(Pe,gt[At+5]):2;be=De[2]}else Ke=1,be=De[1];De=_e+yIt[ce],0>(Pe=x).b&&he(Pe);var At,gt=Pe.b,st=(At=Pe.Ca>>1)-(Pe.I>>gt)>>31;--Pe.b,Pe.Ca+=st,Pe.Ca|=1,Pe.I-=(At+1&st)<<gt,Ae[De]=((Ke^st)-st)*Z[(0<ce)+0]}return 16}function va(x){var P=x.rb[x.sb-1];P.la=0,P.Na=0,r(x.zc,0,0,x.zc.length),x.ja=0}function _a(x,P,V,Z,ce){x[P+V+32*Z]=-256&(ce=x[P+V+32*Z]+(ce>>3))?0>ce?0:255:ce}function xh(x,P,V,Z,ce,Ae){_a(x,P,0,V,Z+ce),_a(x,P,1,V,Z+Ae),_a(x,P,2,V,Z-Ae),_a(x,P,3,V,Z-ce)}function wo(x){return(20091*x>>16)+x}function Dp(x,P,V,Z){var ce,Ae=0,_e=s(16);for(ce=0;4>ce;++ce){var be=x[P+0]+x[P+8],De=x[P+0]-x[P+8],Pe=(35468*x[P+4]>>16)-wo(x[P+12]),Ke=wo(x[P+4])+(35468*x[P+12]>>16);_e[Ae+0]=be+Ke,_e[Ae+1]=De+Pe,_e[Ae+2]=De-Pe,_e[Ae+3]=be-Ke,Ae+=4,P++}for(ce=Ae=0;4>ce;++ce)be=(x=_e[Ae+0]+4)+_e[Ae+8],De=x-_e[Ae+8],Pe=(35468*_e[Ae+4]>>16)-wo(_e[Ae+12]),_a(V,Z,0,0,be+(Ke=wo(_e[Ae+4])+(35468*_e[Ae+12]>>16))),_a(V,Z,1,0,De+Pe),_a(V,Z,2,0,De-Pe),_a(V,Z,3,0,be-Ke),Ae++,Z+=32}function ao(x,P,V,Z){var ce=x[P+0]+4,Ae=35468*x[P+4]>>16,_e=wo(x[P+4]),be=35468*x[P+1]>>16;xh(V,Z,0,ce+_e,x=wo(x[P+1]),be),xh(V,Z,1,ce+Ae,x,be),xh(V,Z,2,ce-Ae,x,be),xh(V,Z,3,ce-_e,x,be)}function lu(x,P,V,Z,ce){Dp(x,P,V,Z),ce&&Dp(x,P+16,V,Z+4)}function Bc(x,P,V,Z){bg(x,P+0,V,Z,1),bg(x,P+32,V,Z+128,1)}function jl(x,P,V,Z){var ce;for(x=x[P+0]+4,ce=0;4>ce;++ce)for(P=0;4>P;++P)_a(V,Z,P,ce,x)}function ql(x,P,V,Z){x[P+0]&&Vu(x,P+0,V,Z),x[P+16]&&Vu(x,P+16,V,Z+4),x[P+32]&&Vu(x,P+32,V,Z+128),x[P+48]&&Vu(x,P+48,V,Z+128+4)}function ly(x,P,V,Z){var ce,Ae=s(16);for(ce=0;4>ce;++ce){var _e=x[P+0+ce]+x[P+12+ce],be=x[P+4+ce]+x[P+8+ce],De=x[P+4+ce]-x[P+8+ce],Pe=x[P+0+ce]-x[P+12+ce];Ae[0+ce]=_e+be,Ae[8+ce]=_e-be,Ae[4+ce]=Pe+De,Ae[12+ce]=Pe-De}for(ce=0;4>ce;++ce)_e=(x=Ae[0+4*ce]+3)+Ae[3+4*ce],De=Ae[1+4*ce]-Ae[2+4*ce],Pe=x-Ae[3+4*ce],V[Z+0]=_e+(be=Ae[1+4*ce]+Ae[2+4*ce])>>3,V[Z+16]=Pe+De>>3,V[Z+32]=_e-be>>3,V[Z+48]=Pe-De>>3,Z+=64}function Ch(x,P,V){var Z,ce=P-32,Ae=Eh,_e=255-x[ce-1];for(Z=0;Z<V;++Z){var be,De=Ae,Pe=_e+x[P-1];for(be=0;be<V;++be)x[P+be]=De[Pe+x[ce+be]];P+=32}}function T9(x,P){Ch(x,P,4)}function N9(x,P){Ch(x,P,8)}function I9(x,P){Ch(x,P,16)}function Ag(x,P){var V;for(V=0;16>V;++V)i(x,P+32*V,x,P-32,16)}function BC(x,P){var V;for(V=16;0<V;--V)r(x,P,x[P-1],16),P+=32}function FC(x,P,V){var Z;for(Z=0;16>Z;++Z)r(P,V+32*Z,x,16)}function aL(x,P){var V,Z=16;for(V=0;16>V;++V)Z+=x[P-1+32*V]+x[P+V-32];FC(Z>>5,x,P)}function cu(x,P){var V,Z=8;for(V=0;16>V;++V)Z+=x[P-1+32*V];FC(Z>>4,x,P)}function B9(x,P){var V,Z=8;for(V=0;16>V;++V)Z+=x[P+V-32];FC(Z>>4,x,P)}function lL(x,P){FC(128,x,P)}function cr(x,P,V){return x+2*P+V+2>>2}function F9(x,P){var V,Z=P-32;for(Z=new Uint8Array([cr(x[Z-1],x[Z+0],x[Z+1]),cr(x[Z+0],x[Z+1],x[Z+2]),cr(x[Z+1],x[Z+2],x[Z+3]),cr(x[Z+2],x[Z+3],x[Z+4])]),V=0;4>V;++V)i(x,P+32*V,Z,0,Z.length)}function P9(x,P){var V=x[P-1],Z=x[P-1+32],ce=x[P-1+64],Ae=x[P-1+96];ge(x,P+0,16843009*cr(x[P-1-32],V,Z)),ge(x,P+32,16843009*cr(V,Z,ce)),ge(x,P+64,16843009*cr(Z,ce,Ae)),ge(x,P+96,16843009*cr(ce,Ae,Ae))}function Um(x,P){var V,Z=4;for(V=0;4>V;++V)Z+=x[P+V-32]+x[P-1+32*V];for(Z>>=3,V=0;4>V;++V)r(x,P+32*V,Z,4)}function cL(x,P){var V=x[P-1+0],Z=x[P-1+32],ce=x[P-1+64],Ae=x[P-1-32],_e=x[P+0-32],be=x[P+1-32],De=x[P+2-32],Pe=x[P+3-32];x[P+0+96]=cr(Z,ce,x[P-1+96]),x[P+1+96]=x[P+0+64]=cr(V,Z,ce),x[P+2+96]=x[P+1+64]=x[P+0+32]=cr(Ae,V,Z),x[P+3+96]=x[P+2+64]=x[P+1+32]=x[P+0+0]=cr(_e,Ae,V),x[P+3+64]=x[P+2+32]=x[P+1+0]=cr(be,_e,Ae),x[P+3+32]=x[P+2+0]=cr(De,be,_e),x[P+3+0]=cr(Pe,De,be)}function uL(x,P){var V=x[P+1-32],Z=x[P+2-32],ce=x[P+3-32],Ae=x[P+4-32],_e=x[P+5-32],be=x[P+6-32],De=x[P+7-32];x[P+0+0]=cr(x[P+0-32],V,Z),x[P+1+0]=x[P+0+32]=cr(V,Z,ce),x[P+2+0]=x[P+1+32]=x[P+0+64]=cr(Z,ce,Ae),x[P+3+0]=x[P+2+32]=x[P+1+64]=x[P+0+96]=cr(ce,Ae,_e),x[P+3+32]=x[P+2+64]=x[P+1+96]=cr(Ae,_e,be),x[P+3+64]=x[P+2+96]=cr(_e,be,De),x[P+3+96]=cr(be,De,De)}function PC(x,P){var V=x[P-1+0],Z=x[P-1+32],ce=x[P-1+64],Ae=x[P-1-32],_e=x[P+0-32],be=x[P+1-32],De=x[P+2-32],Pe=x[P+3-32];x[P+0+0]=x[P+1+64]=Ae+_e+1>>1,x[P+1+0]=x[P+2+64]=_e+be+1>>1,x[P+2+0]=x[P+3+64]=be+De+1>>1,x[P+3+0]=De+Pe+1>>1,x[P+0+96]=cr(ce,Z,V),x[P+0+64]=cr(Z,V,Ae),x[P+0+32]=x[P+1+96]=cr(V,Ae,_e),x[P+1+32]=x[P+2+96]=cr(Ae,_e,be),x[P+2+32]=x[P+3+96]=cr(_e,be,De),x[P+3+32]=cr(be,De,Pe)}function eT(x,P){var V=x[P+0-32],Z=x[P+1-32],ce=x[P+2-32],Ae=x[P+3-32],_e=x[P+4-32],be=x[P+5-32],De=x[P+6-32],Pe=x[P+7-32];x[P+0+0]=V+Z+1>>1,x[P+1+0]=x[P+0+64]=Z+ce+1>>1,x[P+2+0]=x[P+1+64]=ce+Ae+1>>1,x[P+3+0]=x[P+2+64]=Ae+_e+1>>1,x[P+0+32]=cr(V,Z,ce),x[P+1+32]=x[P+0+96]=cr(Z,ce,Ae),x[P+2+32]=x[P+1+96]=cr(ce,Ae,_e),x[P+3+32]=x[P+2+96]=cr(Ae,_e,be),x[P+3+64]=cr(_e,be,De),x[P+3+96]=cr(be,De,Pe)}function O9(x,P){var V=x[P-1+0],Z=x[P-1+32],ce=x[P-1+64],Ae=x[P-1+96];x[P+0+0]=V+Z+1>>1,x[P+2+0]=x[P+0+32]=Z+ce+1>>1,x[P+2+32]=x[P+0+64]=ce+Ae+1>>1,x[P+1+0]=cr(V,Z,ce),x[P+3+0]=x[P+1+32]=cr(Z,ce,Ae),x[P+3+32]=x[P+1+64]=cr(ce,Ae,Ae),x[P+3+64]=x[P+2+64]=x[P+0+96]=x[P+1+96]=x[P+2+96]=x[P+3+96]=Ae}function R9(x,P){var V=x[P-1+0],Z=x[P-1+32],ce=x[P-1+64],Ae=x[P-1+96],_e=x[P-1-32],be=x[P+0-32],De=x[P+1-32],Pe=x[P+2-32];x[P+0+0]=x[P+2+32]=V+_e+1>>1,x[P+0+32]=x[P+2+64]=Z+V+1>>1,x[P+0+64]=x[P+2+96]=ce+Z+1>>1,x[P+0+96]=Ae+ce+1>>1,x[P+3+0]=cr(be,De,Pe),x[P+2+0]=cr(_e,be,De),x[P+1+0]=x[P+3+32]=cr(V,_e,be),x[P+1+32]=x[P+3+64]=cr(Z,V,_e),x[P+1+64]=x[P+3+96]=cr(ce,Z,V),x[P+1+96]=cr(Ae,ce,Z)}function k9(x,P){var V;for(V=0;8>V;++V)i(x,P+32*V,x,P-32,8)}function tT(x,P){var V;for(V=0;8>V;++V)r(x,P,x[P-1],8),P+=32}function cy(x,P,V){var Z;for(Z=0;8>Z;++Z)r(P,V+32*Z,x,8)}function w_(x,P){var V,Z=8;for(V=0;8>V;++V)Z+=x[P+V-32]+x[P-1+32*V];cy(Z>>4,x,P)}function L9(x,P){var V,Z=4;for(V=0;8>V;++V)Z+=x[P+V-32];cy(Z>>3,x,P)}function uy(x,P){var V,Z=4;for(V=0;8>V;++V)Z+=x[P-1+32*V];cy(Z>>3,x,P)}function nT(x,P){cy(128,x,P)}function OC(x,P,V){var Z=x[P-V],ce=x[P+0],Ae=3*(ce-Z)+G9[1020+x[P-2*V]-x[P+V]],_e=xL[112+(Ae+4>>3)];x[P-V]=Eh[255+Z+xL[112+(Ae+3>>3)]],x[P+0]=Eh[255+ce-_e]}function dL(x,P,V,Z){return Tf[255+x[P-2*V]-x[P-V]]>Z||Tf[255+x[P+V]-x[P+0]]>Z}function hL(x,P,V,Z){return 4*Tf[255+x[P-V]-x[P+0]]+Tf[255+x[P-2*V]-x[P+V]]<=Z}function fL(x,P,V,Z,ce){var Ae=x[P-3*V],_e=x[P-2*V],be=x[P-V],De=x[P+0],Pe=x[P+V],Ke=x[P+2*V];return 4*Tf[255+be-De]+Tf[255+_e-Pe]>Z?0:Tf[255+x[P-4*V]-Ae]<=ce&&Tf[255+Ae-_e]<=ce&&Tf[255+_e-be]<=ce&&Tf[255+x[P+3*V]-Ke]<=ce&&Tf[255+Ke-Pe]<=ce&&Tf[255+Pe-De]<=ce}function pL(x,P,V,Z){var ce=2*Z+1;for(Z=0;16>Z;++Z)hL(x,P+Z,V,ce)&&OC(x,P+Z,V)}function Hm(x,P,V,Z){var ce=2*Z+1;for(Z=0;16>Z;++Z)hL(x,P+Z*V,1,ce)&&OC(x,P+Z*V,1)}function gg(x,P,V,Z){var ce;for(ce=3;0<ce;--ce)pL(x,P+=4*V,V,Z)}function U9(x,P,V,Z){var ce;for(ce=3;0<ce;--ce)Hm(x,P+=4,V,Z)}function x_(x,P,V,Z,ce,Ae,_e,be){for(Ae=2*Ae+1;0<ce--;){if(fL(x,P,V,Ae,_e))if(dL(x,P,V,be))OC(x,P,V);else{var De=x,Pe=P,Ke=V,At=De[Pe-2*Ke],gt=De[Pe-Ke],st=De[Pe+0],tn=De[Pe+Ke],Ft=De[Pe+2*Ke],Xe=27*(Zt=G9[1020+3*(st-gt)+G9[1020+At-tn]])+63>>7,Je=18*Zt+63>>7,Zt=9*Zt+63>>7;De[Pe-3*Ke]=Eh[255+De[Pe-3*Ke]+Zt],De[Pe-2*Ke]=Eh[255+At+Je],De[Pe-Ke]=Eh[255+gt+Xe],De[Pe+0]=Eh[255+st-Xe],De[Pe+Ke]=Eh[255+tn-Je],De[Pe+2*Ke]=Eh[255+Ft-Zt]}P+=Z}}function Mp(x,P,V,Z,ce,Ae,_e,be){for(Ae=2*Ae+1;0<ce--;){if(fL(x,P,V,Ae,_e))if(dL(x,P,V,be))OC(x,P,V);else{var De=x,Pe=P,Ke=V,At=De[Pe-Ke],gt=De[Pe+0],st=De[Pe+Ke],tn=xL[112+(4+(Ft=3*(gt-At))>>3)],Ft=xL[112+(Ft+3>>3)],Xe=tn+1>>1;De[Pe-2*Ke]=Eh[255+De[Pe-2*Ke]+Xe],De[Pe-Ke]=Eh[255+At+Ft],De[Pe+0]=Eh[255+gt-tn],De[Pe+Ke]=Eh[255+st-Xe]}P+=Z}}function iT(x,P,V,Z,ce,Ae){x_(x,P,V,1,16,Z,ce,Ae)}function dy(x,P,V,Z,ce,Ae){x_(x,P,1,V,16,Z,ce,Ae)}function H9(x,P,V,Z,ce,Ae){var _e;for(_e=3;0<_e;--_e)Mp(x,P+=4*V,V,1,16,Z,ce,Ae)}function RC(x,P,V,Z,ce,Ae){var _e;for(_e=3;0<_e;--_e)Mp(x,P+=4,1,V,16,Z,ce,Ae)}function V9(x,P,V,Z,ce,Ae,_e,be){x_(x,P,ce,1,8,Ae,_e,be),x_(V,Z,ce,1,8,Ae,_e,be)}function rT(x,P,V,Z,ce,Ae,_e,be){x_(x,P,1,ce,8,Ae,_e,be),x_(V,Z,1,ce,8,Ae,_e,be)}function sT(x,P,V,Z,ce,Ae,_e,be){Mp(x,P+4*ce,ce,1,8,Ae,_e,be),Mp(V,Z+4*ce,ce,1,8,Ae,_e,be)}function mL(x,P,V,Z,ce,Ae,_e,be){Mp(x,P+4,1,ce,8,Ae,_e,be),Mp(V,Z+4,1,ce,8,Ae,_e,be)}function kC(){this.ba=new it,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new on,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function oT(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function aT(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function AL(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new F}function z9(){this.xb=this.a=0,this.l=new Er,this.ca=new it,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new AL,this.ab=0,this.gc=o(4,aT),this.Oc=0}function LC(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Er,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hy(x,P,V,Z,ce,Ae,_e){for(x=null==x?0:x[P+0],P=0;P<_e;++P)ce[Ae+P]=x+V[Z+P]&255,x=ce[Ae+P]}function lT(x,P,V,Z,ce,Ae,_e){var be;if(null==x)hy(null,null,V,Z,ce,Ae,_e);else for(be=0;be<_e;++be)ce[Ae+be]=x[P+be]+V[Z+be]&255}function C_(x,P,V,Z,ce,Ae,_e){if(null==x)hy(null,null,V,Z,ce,Ae,_e);else{var be,De=x[P+0],Pe=De,Ke=De;for(be=0;be<_e;++be)Pe=Ke+(De=x[P+be])-Pe,Ke=V[Z+be]+(-256&Pe?0>Pe?0:255:Pe)&255,Pe=De,ce[Ae+be]=Ke}}function cT(x,P,V,Z){var ce=P.width,Ae=P.o;if(t(null!=x&&null!=P),0>V||0>=Z||V+Z>Ae)return null;if(!x.Cc){if(null==x.ga){var _e;if(x.ga=new LC,(_e=null==x.ga)||(_e=P.width*P.o,t(0==x.Gb.length),x.Gb=s(_e),x.Uc=0,null==x.Gb?_e=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,_e=1),_e=!_e),!_e){var be=x.Fa,De=x.P,Pe=x.qc,Ke=x.mb,At=x.nb,gt=De+1,st=Pe-1,tn=(_e=x.ga).l;if(t(null!=be&&null!=Ke&&null!=P),N_[0]=null,N_[1]=hy,N_[2]=lT,N_[3]=C_,_e.ca=Ke,_e.tb=At,_e.c=P.width,_e.i=P.height,t(0<_e.c&&0<_e.i),1>=Pe)P=0;else if(_e.$a=3&be[De+0],_e.Z=be[De+0]>>2&3,_e.Lc=be[De+0]>>4&3,De=be[De+0]>>6&3,0>_e.$a||1<_e.$a||4<=_e.Z||1<_e.Lc||De)P=0;else if(tn.put=kr,tn.ac=bs,tn.bc=Pa,tn.ma=_e,tn.width=P.width,tn.height=P.height,tn.Da=P.Da,tn.v=P.v,tn.va=P.va,tn.j=P.j,tn.o=P.o,_e.$a)e:{t(1==_e.$a),P=Md();t:for(;;){if(null==P){P=0;break e}if(t(null!=_e),_e.mc=P,P.c=_e.c,P.i=_e.i,P.l=_e.l,P.l.ma=_e,P.l.width=_e.c,P.l.height=_e.i,P.a=0,j(P.m,be,gt,st),!Cf(_e.c,_e.i,1,P,null)||(1==P.ab&&3==P.gc[0].hc&&wf(P.s)?(_e.ic=1,be=P.c*P.i,P.Ta=null,P.Ua=0,P.V=s(be),P.Ba=0,null==P.V?(P.a=1,P=0):P=1):(_e.ic=0,P=mg(P,_e.c)),!P))break t;P=1;break e}_e.mc=null,P=0}else P=st>=_e.c*_e.i;_e=!P}if(_e)return null;1!=x.ga.Lc?x.Ga=0:Z=Ae-V}t(null!=x.ga),t(V+Z<=Ae);e:{if(P=(be=x.ga).c,Ae=be.l.o,0==be.$a){if(gt=x.rc,st=x.Vc,tn=x.Fa,Pe=x.mb,Ke=x.nb+V*P,t((De=x.P+1+V*P)<=x.P+x.qc),0!=be.Z)for(t(null!=N_[be.Z]),_e=0;_e<Z;++_e)N_[be.Z](gt,st,tn,De,Pe,Ke,P),gt=Pe,st=Ke,Ke+=P,De+=P;else for(_e=0;_e<Z;++_e)i(Pe,Ke,tn,De,P),gt=Pe,st=Ke,Ke+=P,De+=P;x.rc=gt,x.Vc=st}else{if(t(null!=be.mc),P=V+Z,t(null!=(_e=be.mc)),t(P<=_e.i),_e.C>=P)P=1;else if(be.ic||ut(),be.ic){be=_e.V,gt=_e.Ba;var Ft=_e.i,Xe=(tn=1,De=_e.$/(st=_e.c),Pe=_e.$%st,Ke=_e.m,At=_e.s,_e.$),Je=st*Ft,Zt=st*P,an=At.wc,Jt=Xe<Zt?ga(At,Pe,De):null;t(Xe<=Je),t(P<=Ft),t(wf(At));t:for(;;){for(;!Ke.h&&Xe<Zt;){if(Pe&an||(Jt=ga(At,Pe,De)),t(null!=Jt),de(Ke),256>(Ft=Oa(Jt.G[0],Jt.H[0],Ke)))be[gt+Xe]=Ft,++Xe,++Pe>=st&&(Pe=0,++De<=P&&!(De%16)&&Ed(_e,De));else{if(!(280>Ft)){tn=0;break t}Ft=Sd(Ft-256,Ke);var Zn,Fn=Oa(Jt.G[4],Jt.H[4],Ke);if(de(Ke),!(Xe>=(Fn=wh(st,Fn=Sd(Fn,Ke)))&&Je-Xe>=Ft)){tn=0;break t}for(Zn=0;Zn<Ft;++Zn)be[gt+Xe+Zn]=be[gt+Xe+Zn-Fn];for(Xe+=Ft,Pe+=Ft;Pe>=st;)Pe-=st,++De<=P&&!(De%16)&&Ed(_e,De);Xe<Zt&&Pe&an&&(Jt=ga(At,Pe,De))}t(Ke.h==H(Ke))}Ed(_e,De>P?P:De);break t}!tn||Ke.h&&Xe<Je?(tn=0,_e.a=Ke.h?5:3):_e.$=Xe,P=tn}else P=Dd(_e,_e.V,_e.Ba,_e.c,_e.i,P,b_);if(!P){Z=0;break e}}V+Z>=Ae&&(x.Cc=1),Z=1}if(!Z)return null;if(x.Cc&&(null!=(Z=x.ga)&&(Z.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+V*ce}function k(x,P,V,Z,ce,Ae){for(;0<ce--;){var _e,be=x,De=P+(V?1:0),Pe=x,Ke=P+(V?0:3);for(_e=0;_e<Z;++_e){var At=Pe[Ke+4*_e];255!=At&&(be[De+4*_e+0]=be[De+4*_e+0]*(At*=32897)>>23,be[De+4*_e+1]=be[De+4*_e+1]*At>>23,be[De+4*_e+2]=be[De+4*_e+2]*At>>23)}P+=Ae}}function ue(x,P,V,Z,ce){for(;0<Z--;){var Ae;for(Ae=0;Ae<V;++Ae){var _e=x[P+2*Ae+0],be=15&(Pe=x[P+2*Ae+1]),De=4369*be,Pe=(240&Pe|Pe>>4)*De>>16;x[P+2*Ae+0]=(240&_e|_e>>4)*De>>16&240|(15&_e|_e<<4)*De>>16>>4&15,x[P+2*Ae+1]=240&Pe|be}P+=ce}}function Ue(x,P,V,Z,ce,Ae,_e,be){var De,Pe,Ke=255;for(Pe=0;Pe<ce;++Pe){for(De=0;De<Z;++De){var At=x[P+De];Ae[_e+4*De]=At,Ke&=At}P+=V,_e+=be}return 255!=Ke}function qe(x,P,V,Z,ce){var Ae;for(Ae=0;Ae<ce;++Ae)V[Z+Ae]=x[P+Ae]>>8}function ut(){Mf=k,qo=ue,Wo=Ue,rl=qe}function Vt(x,P,V){D[x]=function(Z,ce,Ae,_e,be,De,Pe,Ke,At,gt,st,tn,Ft,Xe,Je,Zt,an){var Jt,Zn=an-1>>1,Fn=be[De+0]|Pe[Ke+0]<<16,Mi=At[gt+0]|st[tn+0]<<16;t(null!=Z);var kn=3*Fn+Mi+131074>>2;for(P(Z[ce+0],255&kn,kn>>16,Ft,Xe),null!=Ae&&P(Ae[_e+0],255&(kn=3*Mi+Fn+131074>>2),kn>>16,Je,Zt),Jt=1;Jt<=Zn;++Jt){var Qs=be[De+Jt]|Pe[Ke+Jt]<<16,lo=At[gt+Jt]|st[tn+Jt]<<16,Ts=Fn+Qs+Mi+lo+524296,ls=Ts+2*(Qs+Mi)>>3;kn=ls+Fn>>1,Fn=(Ts=Ts+2*(Fn+lo)>>3)+Qs>>1,P(Z[ce+2*Jt-1],255&kn,kn>>16,Ft,Xe+(2*Jt-1)*V),P(Z[ce+2*Jt-0],255&Fn,Fn>>16,Ft,Xe+(2*Jt-0)*V),null!=Ae&&(Fn=ls+lo>>1,P(Ae[_e+2*Jt-1],255&(kn=Ts+Mi>>1),kn>>16,Je,Zt+(2*Jt-1)*V),P(Ae[_e+2*Jt+0],255&Fn,Fn>>16,Je,Zt+(2*Jt+0)*V)),Fn=Qs,Mi=lo}1&an||(P(Z[ce+an-1],255&(kn=3*Fn+Mi+131074>>2),kn>>16,Ft,Xe+(an-1)*V),null!=Ae&&P(Ae[_e+an-1],255&(kn=3*Mi+Fn+131074>>2),kn>>16,Je,Zt+(an-1)*V))}}function un(){Nf[CL]=DIt,Nf[SL]=p0e,Nf[c0e]=MIt,Nf[EL]=m0e,Nf[DL]=A0e,Nf[j9]=g0e,Nf[u0e]=TIt,Nf[q9]=p0e,Nf[W9]=m0e,Nf[ML]=A0e,Nf[$9]=g0e}function Xn(x){return x&~NIt?0>x?0:255:x>>v0e}function Ei(x,P){return Xn((19077*x>>8)+(26149*P>>8)-14234)}function gr(x,P,V){return Xn((19077*x>>8)-(6419*P>>8)-(13320*V>>8)+8708)}function pr(x,P){return Xn((19077*x>>8)+(33050*P>>8)-17685)}function ws(x,P,V,Z,ce){Z[ce+0]=Ei(x,V),Z[ce+1]=gr(x,P,V),Z[ce+2]=pr(x,P)}function ba(x,P,V,Z,ce){Z[ce+0]=pr(x,P),Z[ce+1]=gr(x,P,V),Z[ce+2]=Ei(x,V)}function Ra(x,P,V,Z,ce){var Ae=gr(x,P,V);P=Ae<<3&224|pr(x,P)>>3,Z[ce+0]=248&Ei(x,V)|Ae>>5,Z[ce+1]=P}function Cl(x,P,V,Z,ce){var Ae=240&pr(x,P)|15;Z[ce+0]=240&Ei(x,V)|gr(x,P,V)>>4,Z[ce+1]=Ae}function uu(x,P,V,Z,ce){Z[ce+0]=255,ws(x,P,V,Z,ce+1)}function Ac(x,P,V,Z,ce){ba(x,P,V,Z,ce),Z[ce+3]=255}function Tp(x,P,V,Z,ce){ws(x,P,V,Z,ce),Z[ce+3]=255}function Sh(x,P){return 0>x?0:x>P?P:x}function Vm(x,P,V){D[x]=function(Z,ce,Ae,_e,be,De,Pe,Ke,At){for(var gt=Ke+(-2&At)*V;Ke!=gt;)P(Z[ce+0],Ae[_e+0],be[De+0],Pe,Ke),P(Z[ce+1],Ae[_e+0],be[De+0],Pe,Ke+V),ce+=2,++_e,++De,Ke+=2*V;1&At&&P(Z[ce+0],Ae[_e+0],be[De+0],Pe,Ke)}}function gL(x,P,V){return 0==V?0==x?0==P?6:5:0==P?4:0:V}function uT(x,P,V,Z,ce){switch(x>>>30){case 3:bg(P,V,Z,ce,0);break;case 2:il(P,V,Z,ce);break;case 1:Vu(P,V,Z,ce)}}function dT(x,P){var V,Z,ce=P.M,Ae=P.Nb,_e=x.oc,be=x.pc+40,De=x.oc,Pe=x.pc+584,Ke=x.oc,At=x.pc+600;for(V=0;16>V;++V)_e[be+32*V-1]=129;for(V=0;8>V;++V)De[Pe+32*V-1]=129,Ke[At+32*V-1]=129;for(0<ce?_e[be-1-32]=De[Pe-1-32]=Ke[At-1-32]=129:(r(_e,be-32-1,127,21),r(De,Pe-32-1,127,9),r(Ke,At-32-1,127,9)),Z=0;Z<x.za;++Z){var gt=P.ya[P.aa+Z];if(0<Z){for(V=-1;16>V;++V)i(_e,be+32*V-4,_e,be+32*V+12,4);for(V=-1;8>V;++V)i(De,Pe+32*V-4,De,Pe+32*V+4,4),i(Ke,At+32*V-4,Ke,At+32*V+4,4)}var st=x.Gd,tn=x.Hd+Z,Ft=gt.ad,Xe=gt.Hc;if(0<ce&&(i(_e,be-32,st[tn].y,0,16),i(De,Pe-32,st[tn].f,0,8),i(Ke,At-32,st[tn].ea,0,8)),gt.Za){var Je=_e,Zt=be-32+16;for(0<ce&&(Z>=x.za-1?r(Je,Zt,st[tn].y[15],4):i(Je,Zt,st[tn+1].y,0,4)),V=0;4>V;V++)Je[Zt+128+V]=Je[Zt+256+V]=Je[Zt+384+V]=Je[Zt+0+V];for(V=0;16>V;++V,Xe<<=2)Np[gt.Ob[V]](Je=_e,Zt=be+b0e[V]),uT(Xe,Ft,16*+V,Je,Zt)}else if(Je=gL(Z,ce,gt.Ob[0]),T_[Je](_e,be),0!=Xe)for(V=0;16>V;++V,Xe<<=2)uT(Xe,Ft,16*+V,_e,be+b0e[V]);for(V=gt.Gc,Je=gL(Z,ce,gt.Dd),wg[Je](De,Pe),wg[Je](Ke,At),Xe=Ft,Je=De,Zt=Pe,255&(gt=0|V)&&(170&gt?AT(Xe,256,Je,Zt):Ef(Xe,256,Je,Zt)),gt=Ke,Xe=At,255&(V>>=8)&&(170&V?AT(Ft,320,gt,Xe):Ef(Ft,320,gt,Xe)),ce<x.Ub-1&&(i(st[tn].y,0,_e,be+480,16),i(st[tn].f,0,De,Pe+224,8),i(st[tn].ea,0,Ke,At+224,8)),st=x.sa,tn=x.ta+16*Z+16*Ae*x.R,Ft=x.qa,gt=x.ra+8*Z+(V=8*Ae*x.B),Xe=x.Ha,Je=x.Ia+8*Z+V,V=0;16>V;++V)i(st,tn+V*x.R,_e,be+32*V,16);for(V=0;8>V;++V)i(Ft,gt+V*x.B,De,Pe+32*V,8),i(Xe,Je+V*x.B,Ke,At+32*V,8)}}function UC(x,P,V,Z,ce,Ae,_e,be,De){var Pe=[0],Ke=[0],At=0,gt=null!=De?De.kd:0,st=De??new oT;if(null==x||12>V)return 7;st.data=x,st.w=P,st.ha=V,P=[P],V=[V],st.gb=[st.gb];e:{var tn=P,Ft=V,Xe=st.gb;if(t(null!=x),t(null!=Ft),t(null!=Xe),Xe[0]=0,12<=Ft[0]&&!e(x,tn[0],"RIFF")){if(e(x,tn[0]+8,"WEBP")){Xe=3;break e}var Je=Ne(x,tn[0]+4);if(12>Je||4294967286<Je){Xe=3;break e}if(gt&&Je>Ft[0]-8){Xe=7;break e}Xe[0]=Je,tn[0]+=12,Ft[0]-=12}Xe=0}if(0!=Xe)return Xe;for(Je=0<st.gb[0],V=V[0];;){e:{var Zt=x;Ft=P,Xe=V;var an=Pe,Jt=Ke,Zn=tn=[0];if((kn=At=[At])[0]=0,8>Xe[0])Xe=7;else{if(!e(Zt,Ft[0],"VP8X")){if(10!=Ne(Zt,Ft[0]+4)){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Fn=Ne(Zt,Ft[0]+8),Mi=1+ve(Zt,Ft[0]+12);if(2147483648<=Mi*(Zt=1+ve(Zt,Ft[0]+15))){Xe=3;break e}null!=Zn&&(Zn[0]=Fn),null!=an&&(an[0]=Mi),null!=Jt&&(Jt[0]=Zt),Ft[0]+=18,Xe[0]-=18,kn[0]=1}Xe=0}}if(At=At[0],0!=Xe)return Xe;if(Ft=!!(2&(tn=tn[0])),!Je&&At)return 3;if(null!=Ae&&(Ae[0]=!!(16&tn)),null!=_e&&(_e[0]=Ft),null!=be&&(be[0]=0),_e=Pe[0],tn=Ke[0],At&&Ft&&null==De){Xe=0;break}if(4>V){Xe=7;break}if(Je&&At||!Je&&!At&&!e(x,P[0],"ALPH")){V=[V],st.na=[st.na],st.P=[st.P],st.Sa=[st.Sa];e:{Xe=P,Je=V;var kn=st.gb;an=st.na,Jt=st.P,Zn=st.Sa,Mi=22,t(null!=(Fn=x)),t(null!=Je),Zt=Xe[0];var Qs=Je[0];for(t(null!=an),t(null!=Zn),an[0]=null,Jt[0]=null,Zn[0]=0;;){if(Xe[0]=Zt,Je[0]=Qs,8>Qs){Xe=7;break e}var lo=Ne(Fn,Zt+4);if(4294967286<lo){Xe=3;break e}var Ts=8+lo+1&-2;if(Mi+=Ts,0<kn&&Mi>kn){Xe=3;break e}if(!e(Fn,Zt,"VP8 ")||!e(Fn,Zt,"VP8L")){Xe=0;break e}if(Qs[0]<Ts){Xe=7;break e}e(Fn,Zt,"ALPH")||(an[0]=Fn,Jt[0]=Zt+8,Zn[0]=lo),Zt+=Ts,Qs-=Ts}}if(V=V[0],st.na=st.na[0],st.P=st.P[0],st.Sa=st.Sa[0],0!=Xe)break}V=[V],st.Ja=[st.Ja],st.xa=[st.xa];e:if(kn=x,Xe=P,Je=V,an=st.gb[0],Jt=st.Ja,Zn=st.xa,Fn=Xe[0],Zt=!e(kn,Fn,"VP8 "),Mi=!e(kn,Fn,"VP8L"),t(null!=kn),t(null!=Je),t(null!=Jt),t(null!=Zn),8>Je[0])Xe=7;else{if(Zt||Mi){if(kn=Ne(kn,Fn+4),12<=an&&kn>an-12){Xe=3;break e}if(gt&&kn>Je[0]-8){Xe=7;break e}Jt[0]=kn,Xe[0]+=8,Je[0]-=8,Zn[0]=Mi}else Zn[0]=5<=Je[0]&&47==kn[Fn+0]&&!(kn[Fn+4]>>5),Jt[0]=Je[0];Xe=0}if(V=V[0],st.Ja=st.Ja[0],st.xa=st.xa[0],P=P[0],0!=Xe)break;if(4294967286<st.Ja)return 3;if(null==be||Ft||(be[0]=st.xa?2:1),_e=[_e],tn=[tn],st.xa){if(5>V){Xe=7;break}be=_e,gt=tn,Ft=Ae,null==x||5>V?x=0:5<=V&&47==x[P+0]&&!(x[P+4]>>5)?(Je=[0],kn=[0],an=[0],j(Jt=new R,x,P,V),Ai(Jt,Je,kn,an)?(null!=be&&(be[0]=Je[0]),null!=gt&&(gt[0]=kn[0]),null!=Ft&&(Ft[0]=an[0]),x=1):x=0):x=0}else{if(10>V){Xe=7;break}be=tn,null==x||10>V||!Po(x,P+3,V-3)?x=0:(gt=x[P+0]|x[P+1]<<8|x[P+2]<<16,Ft=16383&(x[P+7]<<8|x[P+6]),x=16383&(x[P+9]<<8|x[P+8]),1&gt||3<(gt>>1&7)||!(gt>>4&1)||gt>>5>=st.Ja||!Ft||!x?x=0:(_e&&(_e[0]=Ft),be&&(be[0]=x),x=1))}if(!x||(_e=_e[0],tn=tn[0],At&&(Pe[0]!=_e||Ke[0]!=tn)))return 3;null!=De&&(De[0]=st,De.offset=P-De.w,t(4294967286>P-De.w),t(De.offset==De.ha-V));break}return 0==Xe||7==Xe&&At&&null==De?(null!=Ae&&(Ae[0]|=null!=st.na&&0<st.na.length),null!=Z&&(Z[0]=_e),null!=ce&&(ce[0]=tn),0):Xe}function hT(x,P,V){var Z=P.width,ce=P.height,Ae=0,_e=0,be=Z,De=ce;if(P.Da=null!=x&&0<x.Da,P.Da&&(be=x.cd,De=x.bd,Ae=x.v,_e=x.j,11>V||(Ae&=-2,_e&=-2),0>Ae||0>_e||0>=be||0>=De||Ae+be>Z||_e+De>ce))return 0;if(P.v=Ae,P.j=_e,P.va=Ae+be,P.o=_e+De,P.U=be,P.T=De,P.da=null!=x&&0<x.da,P.da){if(!at(be,De,V=[x.ib],Ae=[x.hb]))return 0;P.ib=V[0],P.hb=Ae[0]}return P.ob=null!=x&&x.ob,P.Kb=null==x||!x.Sd,P.da&&(P.ob=P.ib<3*Z/4&&P.hb<3*ce/4,P.Kb=0),1}function fT(x){if(null==x)return 2;if(11>x.S){var P=x.f.RGBA;P.fb+=(x.height-1)*P.A,P.A=-P.A}else(P=x.f.kb).O+=((x=x.height)-1)*P.fa,P.fa=-P.fa,P.N+=(x-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(x-1>>1)*P.Db,P.Db=-P.Db,null!=P.F&&(P.J+=(x-1)*P.lb,P.lb=-P.lb);return 0}function HC(x,P,V,Z){if(null==Z||0>=x||0>=P)return 2;if(null!=V){if(V.Da){var ce=V.cd,Ae=V.bd,_e=-2&V.v,be=-2&V.j;if(0>_e||0>be||0>=ce||0>=Ae||_e+ce>x||be+Ae>P)return 2;x=ce,P=Ae}if(V.da){if(!at(x,P,ce=[V.ib],Ae=[V.hb]))return 2;x=ce[0],P=Ae[0]}}Z.width=x,Z.height=P;e:{var De=Z.width,Pe=Z.height;if(x=Z.S,0>=De||0>=Pe||!(x>=CL&&13>x))x=2;else{if(0>=Z.Rd&&null==Z.sd){_e=Ae=ce=P=0;var Ke=(be=De*y0e[x])*Pe;if(11>x||(Ae=(Pe+1)/2*(P=(De+1)/2),12==x&&(_e=(ce=De)*Pe)),null==(Pe=s(Ke+2*Ae+_e))){x=1;break e}Z.sd=Pe,11>x?((De=Z.f.RGBA).eb=Pe,De.fb=0,De.A=be,De.size=Ke):((De=Z.f.kb).y=Pe,De.O=0,De.fa=be,De.Fd=Ke,De.f=Pe,De.N=0+Ke,De.Ab=P,De.Cd=Ae,De.ea=Pe,De.W=0+Ke+Ae,De.Db=P,De.Ed=Ae,12==x&&(De.F=Pe,De.J=0+Ke+2*Ae),De.Tc=_e,De.lb=ce)}if(P=1,Ae=Z.width,_e=Z.height,(ce=Z.S)>=CL&&13>ce)if(11>ce)x=Z.f.RGBA,P&=(be=Math.abs(x.A))*(_e-1)+Ae<=x.size,P&=be>=Ae*y0e[ce],P&=null!=x.eb;else{x=Z.f.kb,be=(Ae+1)/2,Ke=(_e+1)/2,De=Math.abs(x.fa),Pe=Math.abs(x.Ab);var At=Math.abs(x.Db),gt=Math.abs(x.lb);P&=De*(_e-1)+Ae<=x.Fd,P&=Pe*(Ke-1)+be<=x.Cd,P=(P&=At*(Ke-1)+be<=x.Ed)&De>=Ae&Pe>=be&At>=be,P&=null!=x.y,P&=null!=x.f,P&=null!=x.ea,12==ce&&(P&=gt>=Ae,P&=gt*(_e-1)+Ae<=x.Tc,P&=null!=x.F)}else P=0;x=P?0:2}}return 0!=x||null!=V&&V.fd&&(x=fT(Z)),x}var Fc=64,VC=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zC=24,QC=32,pT=8,Td=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];re("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(x){return x},D.Predictor2=function(x,P,V){return P[V+0]},D.Predictor3=function(x,P,V){return P[V+1]},D.Predictor4=function(x,P,V){return P[V-1]},D.Predictor5=function(x,P,V){return W(W(x,P[V+1]),P[V+0])},D.Predictor6=function(x,P,V){return W(x,P[V-1])},D.Predictor7=function(x,P,V){return W(x,P[V+0])},D.Predictor8=function(x,P,V){return W(P[V-1],P[V+0])},D.Predictor9=function(x,P,V){return W(P[V+0],P[V+1])},D.Predictor10=function(x,P,V){return W(W(x,P[V-1]),W(P[V+0],P[V+1]))},D.Predictor11=function(x,P,V){var Z=P[V+0];return 0>=Ve(Z>>24&255,x>>24&255,(P=P[V-1])>>24&255)+Ve(Z>>16&255,x>>16&255,P>>16&255)+Ve(Z>>8&255,x>>8&255,P>>8&255)+Ve(255&Z,255&x,255&P)?Z:x},D.Predictor12=function(x,P,V){var Z=P[V+0];return(we((x>>24&255)+(Z>>24&255)-((P=P[V-1])>>24&255))<<24|we((x>>16&255)+(Z>>16&255)-(P>>16&255))<<16|we((x>>8&255)+(Z>>8&255)-(P>>8&255))<<8|we((255&x)+(255&Z)-(255&P)))>>>0},D.Predictor13=function(x,P,V){var Z=P[V-1];return(ke((x=W(x,P[V+0]))>>24&255,Z>>24&255)<<24|ke(x>>16&255,Z>>16&255)<<16|ke(x>>8&255,Z>>8&255)<<8|ke(255&x,255&Z))>>>0};var Q9=D.PredictorAdd0;D.PredictorAdd1=Qe,re("Predictor2","PredictorAdd2"),re("Predictor3","PredictorAdd3"),re("Predictor4","PredictorAdd4"),re("Predictor5","PredictorAdd5"),re("Predictor6","PredictorAdd6"),re("Predictor7","PredictorAdd7"),re("Predictor8","PredictorAdd8"),re("Predictor9","PredictorAdd9"),re("Predictor10","PredictorAdd10"),re("Predictor11","PredictorAdd11"),re("Predictor12","PredictorAdd12"),re("Predictor13","PredictorAdd13");var mT=D.PredictorAdd2;Mn("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Mn("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var vL,Sf=D.ColorIndexInverseTransform,GC=D.MapARGB,_L=D.VP8LColorIndexInverseTransformAlpha,bL=D.MapAlpha,S_=D.VP8LPredictorsAdd=[];S_.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var fy,Nd,Hu,E_,vg,_g,jC,bg,il,AT,Vu,Ef,qC,yL,gT,py,my,D_,Ay,WC,gy,M_,vT,Df,Mf,qo,Wo,rl,Wl=s(511),yg=s(2041),_T=s(225),$C=s(767),wL=0,G9=yg,xL=_T,Eh=$C,Tf=Wl,CL=0,SL=1,c0e=2,EL=3,DL=4,j9=5,u0e=6,q9=7,W9=8,ML=9,$9=10,fIt=[2,3,7],pIt=[3,3,11],d0e=[280,256,256,256,40],mIt=[0,1,1,1,0],AIt=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gIt=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vIt=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_It=8,K9=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],X9=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],bT=null,bIt=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],yIt=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],h0e=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],wIt=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xIt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],CIt=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SIt=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],T_=[],Np=[],wg=[],EIt=1,f0e=2,N_=[],Nf=[];Vt("UpsampleRgbLinePair",ws,3),Vt("UpsampleBgrLinePair",ba,3),Vt("UpsampleRgbaLinePair",Tp,4),Vt("UpsampleBgraLinePair",Ac,4),Vt("UpsampleArgbLinePair",uu,4),Vt("UpsampleRgba4444LinePair",Cl,2),Vt("UpsampleRgb565LinePair",Ra,2);var DIt=D.UpsampleRgbLinePair,MIt=D.UpsampleBgrLinePair,p0e=D.UpsampleRgbaLinePair,m0e=D.UpsampleBgraLinePair,A0e=D.UpsampleArgbLinePair,g0e=D.UpsampleRgba4444LinePair,TIt=D.UpsampleRgb565LinePair,TL=16,NL=1<<TL-1,yT=-227,Y9=482,v0e=6,NIt=(256<<v0e)-1,_0e=0,IIt=s(256),BIt=s(256),FIt=s(256),PIt=s(256),OIt=s(Y9-yT),RIt=s(Y9-yT);Vm("YuvToRgbRow",ws,3),Vm("YuvToBgrRow",ba,3),Vm("YuvToRgbaRow",Tp,4),Vm("YuvToBgraRow",Ac,4),Vm("YuvToArgbRow",uu,4),Vm("YuvToRgba4444Row",Cl,2),Vm("YuvToRgb565Row",Ra,2);var b0e=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],IL=[0,2,8],kIt=[8,7,6,4,4,2,2,2,1,1,1,1];this.WebPDecodeRGBA=function(x,P,V,Z,ce){var Ae=SL,_e=new kC,be=new it;_e.ba=be,be.S=Ae,be.width=[be.width],be.height=[be.height];var De=be.width,Pe=be.height,Ke=new mt;if(null==Ke||null==x)var At=2;else t(null!=Ke),At=UC(x,P,V,Ke.width,Ke.height,Ke.Pd,Ke.Qd,Ke.format,null);if(0!=At?De=0:(null!=De&&(De[0]=Ke.width[0]),null!=Pe&&(Pe[0]=Ke.height[0]),De=1),De){be.width=be.width[0],be.height=be.height[0],null!=Z&&(Z[0]=be.width),null!=ce&&(ce[0]=be.height);e:{if(Z=new Er,(ce=new oT).data=x,ce.w=P,ce.ha=V,ce.kd=1,P=[0],t(null!=ce),(0==(x=UC(ce.data,ce.w,ce.ha,null,null,null,P,null,ce))||7==x)&&P[0]&&(x=4),0==(P=x)){if(t(null!=_e),Z.data=ce.data,Z.w=ce.w+ce.offset,Z.ha=ce.ha-ce.offset,Z.put=kr,Z.ac=bs,Z.bc=Pa,Z.ma=_e,ce.xa){if(null==(x=Md())){_e=1;break e}if(function(gt,st){var tn=[0],Ft=[0],Xe=[0];t:for(;;){if(null==gt)return 0;if(null==st)return gt.a=2,0;if(gt.l=st,gt.a=0,j(gt.m,st.data,st.w,st.ha),!Ai(gt.m,tn,Ft,Xe)){gt.a=3;break t}if(gt.xb=f0e,st.width=tn[0],st.height=Ft[0],!Cf(tn[0],Ft[0],1,gt,null))break t;return 1}return t(0!=gt.a),0}(x,Z)){if(Z=0==(P=HC(Z.width,Z.height,_e.Oa,_e.ba))){t:{Z=x;n:for(;;){if(null==Z){Z=0;break t}if(t(null!=Z.s.yc),t(null!=Z.s.Ya),t(0<Z.s.Wb),t(null!=(V=Z.l)),t(null!=(ce=V.ma)),0!=Z.xb){if(Z.ca=ce.ba,Z.tb=ce.tb,t(null!=Z.ca),!hT(ce.Oa,V,EL)){Z.a=2;break n}if(!mg(Z,V.width)||V.da)break n;if((V.da||Fe(Z.ca.S))&&ut(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=Z.ca.f.kb.F&&ut()),Z.Pb&&0<Z.s.ua&&null==Z.s.vb.X&&!se(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break n}Z.xb=0}if(!Dd(Z,Z.V,Z.Ba,Z.c,Z.i,V.o,Ep))break n;ce.Dc=Z.Ma,Z=1;break t}t(0!=Z.a),Z=0}Z=!Z}Z&&(P=x.a)}else P=x.a}else{if(null==(x=new Ms)){_e=1;break e}if(x.Fa=ce.na,x.P=ce.P,x.qc=ce.Sa,es(x,Z)){if(0==(P=HC(Z.width,Z.height,_e.Oa,_e.ba))){if(x.Aa=0,V=_e.Oa,t(null!=(ce=x)),null!=V){if(0<(De=0>(De=V.Md)?0:100<De?255:255*De/100)){for(Pe=Ke=0;4>Pe;++Pe)12>(At=ce.pb[Pe]).lc&&(At.ia=De*kIt[0>At.lc?0:At.lc]>>3),Ke|=At.ia;Ke&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=V.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}(function ys(x,P){if(null==x)return 0;if(null==P)return lr(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!es(x,P))return 0;if(t(x.cb),null==P.ac||P.ac(P)){P.ob&&(x.L=0);var V=IL[x.L];if(2==x.L?(x.yb=0,x.zb=0):(x.yb=P.v-V>>4,x.zb=P.j-V>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=P.o+15+V>>4,x.Hb=P.va+15+V>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var Z=x.ed;for(V=0;4>V;++V){var ce;if(x.Qa.Cb){var Ae=x.Qa.Lb[V];x.Qa.Fb||(Ae+=Z.Tb)}else Ae=Z.Tb;for(ce=0;1>=ce;++ce){var _e=x.gd[V][ce],be=Ae;if(Z.Pc&&(be+=Z.vd[0],ce&&(be+=Z.od[0])),0<(be=0>be?0:63<be?63:be)){var De=be;0<Z.wb&&(De=4<Z.wb?De>>2:De>>1)>9-Z.wb&&(De=9-Z.wb),1>De&&(De=1),_e.dd=De,_e.tc=2*be+De,_e.ld=40<=be?2:15<=be?1:0}else _e.tc=0;_e.La=ce}}}V=0}else lr(x,6,"Frame setup failed"),V=x.a;if(V=0==V){if(V){x.$c=0,0<x.Aa||(x.Ic=1);e:{Z=4*(De=x.za);var Pe=32*De,Ke=De+1,At=0<x.L?De*(0<x.Aa?2:1):0,gt=(2==x.Aa?2:1)*De;if((_e=Z+832+(ce=3*(16*(V=x.Ic)+IL[x.L])/2*Pe)+(Ae=null!=x.Fa&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=_e)V=0;else{if(_e>x.Vb){if(x.Vb=0,x.Ec=s(_e),x.Fc=0,null==x.Ec){V=lr(x,1,"no memory during frame initialization.");break e}x.Vb=_e}be=x.Fc,x.Ac=_e=x.Ec,x.Bc=be,be+=Z,x.Gd=o(Pe,Wi),x.Hd=0,x.rb=o(Ke+1,Bn),x.sb=1,x.wa=At?o(At,hn):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=De),t(!0),x.oc=_e,x.pc=be,be+=832,x.ya=o(gt,Kn),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,2==x.Aa&&(x.D.aa+=De),x.R=16*De,x.B=8*De,De=(Pe=IL[x.L])*x.R,Pe=Pe/2*x.B,x.sa=_e,x.ta=be+De,x.qa=x.sa,x.ra=x.ta+16*V*x.R+Pe,x.Ha=x.qa,x.Ia=x.ra+8*V*x.B+Pe,x.$c=0,be+=ce,x.mb=Ae?_e:null,x.nb=Ae?be:null,t(be+Ae<=x.Fc+x.Vb),va(x),r(x.Ac,x.Bc,0,Z),V=1}}if(V){if(P.ka=0,P.y=x.sa,P.O=x.ta,P.f=x.qa,P.N=x.ra,P.ea=x.Ha,P.Vd=x.Ia,P.fa=x.R,P.Rc=x.B,P.F=null,P.J=0,!wL){for(V=-255;255>=V;++V)Wl[255+V]=0>V?-V:V;for(V=-1020;1020>=V;++V)yg[1020+V]=-128>V?-128:127<V?127:V;for(V=-112;112>=V;++V)_T[112+V]=-16>V?-16:15<V?15:V;for(V=-255;510>=V;++V)$C[255+V]=0>V?0:255<V?255:V;wL=1}jC=ly,bg=lu,AT=Bc,Vu=jl,Ef=ql,il=ao,qC=iT,yL=dy,gT=V9,py=rT,my=H9,D_=RC,Ay=sT,WC=mL,gy=pL,M_=Hm,vT=gg,Df=U9,Np[0]=Um,Np[1]=T9,Np[2]=F9,Np[3]=P9,Np[4]=cL,Np[5]=PC,Np[6]=uL,Np[7]=eT,Np[8]=R9,Np[9]=O9,T_[0]=aL,T_[1]=I9,T_[2]=Ag,T_[3]=BC,T_[4]=cu,T_[5]=B9,T_[6]=lL,wg[0]=w_,wg[1]=N9,wg[2]=k9,wg[3]=tT,wg[4]=uy,wg[5]=L9,wg[6]=nT,V=1}else V=0}V&&(V=function(st,tn){for(st.M=0;st.M<st.Va;++st.M){var Ft,Xe=st.Jc[st.M&st.Xb],Je=st.m,Zt=st;for(Ft=0;Ft<Zt.za;++Ft){var an=Je,Jt=Zt,Zn=Jt.Ac,Fn=Jt.Bc+4*Ft,Mi=Jt.zc,kn=Jt.ya[Jt.aa+Ft];if(kn.$b=Jt.Qa.Bb?ie(an,Jt.Pa.jb[0])?2+ie(an,Jt.Pa.jb[2]):ie(an,Jt.Pa.jb[1]):0,Jt.kc&&(kn.Ad=ie(an,Jt.Bd)),kn.Za=!ie(an,145)+0,kn.Za){var Qs=kn.Ob,lo=0;for(Jt=0;4>Jt;++Jt){var Ts,ls=Mi[0+Jt];for(Ts=0;4>Ts;++Ts){for(var Oo=h0e[ie(an,(ls=xIt[Zn[Fn+Ts]][ls])[0])];0<Oo;)Oo=h0e[2*Oo+ie(an,ls[Oo])];Zn[Fn+Ts]=ls=-Oo}i(Qs,lo,Zn,Fn,4),lo+=4,Mi[0+Jt]=ls}}else ls=ie(an,156)?ie(an,128)?1:3:ie(an,163)?2:0,kn.Ob[0]=ls,r(Zn,Fn,ls,4),r(Mi,0,ls,4);kn.Dd=ie(an,142)?ie(an,114)?ie(an,183)?1:3:2:0}if(Zt.m.Ka)return lr(st,7,"Premature end-of-partition0 encountered.");for(;st.ja<st.za;++st.ja){if(Zt=Xe,an=(Je=st).rb[Je.sb-1],Zn=Je.rb[Je.sb+Je.ja],Ft=Je.ya[Je.aa+Je.ja],Fn=Je.kc?Ft.Ad:0)an.la=Zn.la=0,Ft.Za||(an.Na=Zn.Na=0),Ft.Hc=0,Ft.Gc=0,Ft.ia=0;else{var xo,Dr;if(an=Zn,Zn=Zt,Fn=Je.Pa.Xc,kn=Je.pb[(Mi=Je.ya[Je.aa+Je.ja]).$b],lo=Je.rb[Je.sb-1],ls=Ts=0,r(Jt=Mi.ad,Qs=0,0,384),Mi.Za)var Sl=0,Id=Fn[3];else{Oo=s(16);var El=an.Na+lo.Na;if(El=bT(Zn,Fn[1],El,kn.Eb,0,Oo,0),an.Na=lo.Na=(0<El)+0,1<El)jC(Oo,0,Jt,Qs);else{var Bd=Oo[0]+3>>3;for(Oo=0;256>Oo;Oo+=16)Jt[Qs+Oo]=Bd}Sl=1,Id=Fn[0]}var co=15&an.la,Dh=15&lo.la;for(Oo=0;4>Oo;++Oo){var Mh=1&Dh;for(Bd=Dr=0;4>Bd;++Bd)co=co>>1|(Mh=(El=bT(Zn,Id,El=Mh+(1&co),kn.Sc,Sl,Jt,Qs))>Sl)<<7,Dr=Dr<<2|(3<El?3:1<El?2:0!=Jt[Qs+0]),Qs+=16;co>>=4,Dh=Dh>>1|Mh<<7,Ts=(Ts<<8|Dr)>>>0}for(Id=co,Sl=Dh>>4,xo=0;4>xo;xo+=2){for(Dr=0,co=an.la>>4+xo,Dh=lo.la>>4+xo,Oo=0;2>Oo;++Oo){for(Mh=1&Dh,Bd=0;2>Bd;++Bd)co=co>>1|(Mh=0<(El=bT(Zn,Fn[2],El=Mh+(1&co),kn.Qc,0,Jt,Qs)))<<3,Dr=Dr<<2|(3<El?3:1<El?2:0!=Jt[Qs+0]),Qs+=16;co>>=2,Dh=Dh>>1|Mh<<5}ls|=Dr<<4*xo,Id|=co<<4<<xo,Sl|=(240&Dh)<<xo}an.la=Id,lo.la=Sl,Mi.Hc=Ts,Mi.Gc=ls,Mi.ia=43690&ls?0:kn.ia,Fn=!(Ts|ls)}if(0<Je.L&&(Je.wa[Je.Y+Je.ja]=Je.gd[Ft.$b][Ft.Za],Je.wa[Je.Y+Je.ja].La|=!Fn),Zt.Ka)return lr(st,7,"Premature end-of-file encountered.")}if(va(st),Je=tn,Zt=1,Ft=(Xe=st).D,an=0<Xe.L&&Xe.M>=Xe.zb&&Xe.M<=Xe.Va,0==Xe.Aa)e:{if(Ft.M=Xe.M,Ft.uc=an,dT(Xe,Ft),Zt=1,Ft=(Dr=Xe.D).Nb,an=(ls=IL[Xe.L])*Xe.R,Fn=Xe.sa,Mi=Xe.ta-an+(Oo=16*Ft*Xe.R),kn=Xe.qa,Jt=Xe.ra-(Zn=ls/2*Xe.B)+(Bd=8*Ft*Xe.B),Qs=Xe.Ha,lo=Xe.Ia-Zn+Bd,Dh=0==(co=Dr.M),Ts=co>=Xe.Va-1,2==Xe.Aa&&dT(Xe,Dr),Dr.uc)for(Mh=(El=Xe).D.M,t(El.D.uc),Dr=El.yb;Dr<El.Hb;++Dr){Id=Mh;var gc=(Pc=(ka=El).D).Nb,Pc=Pc.wa[Pc.Y+(Sl=Dr)],zu=ka.sa,If=ka.ta+16*gc*(xo=ka.R)+16*Sl,zm=Pc.dd,vc=Pc.tc;if(0!=vc)if(t(3<=vc),1==ka.L)0<Sl&&M_(zu,If,xo,vc+4),Pc.La&&Df(zu,If,xo,vc),0<Id&&gy(zu,If,xo,vc+4),Pc.La&&vT(zu,If,xo,vc);else{var xg=ka.B,vy=ka.qa,KC=ka.ra+8*gc*xg+8*Sl,I_=ka.Ha,ka=ka.Ia+8*gc*xg+8*Sl;gc=Pc.ld,0<Sl&&(yL(zu,If,xo,vc+4,zm,gc),py(vy,KC,I_,ka,xg,vc+4,zm,gc)),Pc.La&&(D_(zu,If,xo,vc,zm,gc),WC(vy,KC,I_,ka,xg,vc,zm,gc)),0<Id&&(qC(zu,If,xo,vc+4,zm,gc),gT(vy,KC,I_,ka,xg,vc+4,zm,gc)),Pc.La&&(my(zu,If,xo,vc,zm,gc),Ay(vy,KC,I_,ka,xg,vc,zm,gc))}}if(Xe.ia&&alert("todo:DitherRow"),null!=Je.put){if(Dr=16*co,co=16*(co+1),Dh?(Je.y=Xe.sa,Je.O=Xe.ta+Oo,Je.f=Xe.qa,Je.N=Xe.ra+Bd,Je.ea=Xe.Ha,Je.W=Xe.Ia+Bd):(Dr-=ls,Je.y=Fn,Je.O=Mi,Je.f=kn,Je.N=Jt,Je.ea=Qs,Je.W=lo),Ts||(co-=ls),co>Je.o&&(co=Je.o),Je.F=null,Je.J=null,null!=Xe.Fa&&0<Xe.Fa.length&&Dr<co&&(Je.J=cT(Xe,Je,Dr,co-Dr),Je.F=Xe.mb,null==Je.F&&0==Je.F.length)){Zt=lr(Xe,3,"Could not decode alpha data.");break e}Dr<Je.j&&(ls=Je.j-Dr,Dr=Je.j,t(!(1&ls)),Je.O+=Xe.R*ls,Je.N+=Xe.B*(ls>>1),Je.W+=Xe.B*(ls>>1),null!=Je.F&&(Je.J+=Je.width*ls)),Dr<co&&(Je.O+=Je.v,Je.N+=Je.v>>1,Je.W+=Je.v>>1,null!=Je.F&&(Je.J+=Je.v),Je.ka=Dr-Je.j,Je.U=Je.va-Je.v,Je.T=co-Dr,Zt=Je.put(Je))}Ft+1!=Xe.Ic||Ts||(i(Xe.sa,Xe.ta-an,Fn,Mi+16*Xe.R,an),i(Xe.qa,Xe.ra-Zn,kn,Jt+8*Xe.B,Zn),i(Xe.Ha,Xe.Ia-Zn,Qs,lo+8*Xe.B,Zn))}if(!Zt)return lr(st,6,"Output aborted.")}return 1}(x,P)),null!=P.bc&&P.bc(P),V&=1}return V?(x.cb=0,V):0})(x,Z)||(P=x.a)}}else P=x.a}0==P&&null!=_e.Oa&&_e.Oa.fd&&(P=fT(_e.ba))}_e=P}Ae=0!=_e?null:11>Ae?be.f.RGBA.eb:be.f.kb.y}else Ae=null;return Ae};var y0e=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(D,S){for(var T="",M=0;M<4;M++)T+=String.fromCharCode(D[S++]);return T}function u(D,S){return(D[S+0]|D[S+1]<<8|D[S+2]<<16)>>>0}function d(D,S){return(D[S+0]|D[S+1]<<8|D[S+2]<<16|D[S+3]<<24)>>>0}new l;var f=[0],h=[0],p=[],m=new l,g=n,A=function(D,S){var T={},M=0,F=!1,L=0,U=0;if(T.frames=[],!
/** @license
               * Copyright (c) 2017 Dominik Homberger
              Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
              The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
              THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
              https://webpjs.appspot.com
              WebPRiffParser dominikhlbg@gmail.com
              */
function(X,H,ae,de){for(var he=0;he<4;he++)if(X[H+he]!="RIFF".charCodeAt(he))return!0;return!1}(D,S)){var z,O;for(d(D,S+=4),S+=8;S<D.length;){var G=c(D,S),j=d(D,S+=4);S+=4;var J=j+(1&j);switch(G){case"VP8 ":case"VP8L":void 0===T.frames[M]&&(T.frames[M]={}),(R=T.frames[M]).src_off=F?U:S-8,R.src_size=L+j+8,M++,F&&(F=!1,L=0,U=0);break;case"VP8X":(R=T.header={}).feature_flags=D[S];var le=S+4;R.canvas_width=1+u(D,le),R.canvas_height=1+u(D,le+=3),le+=3;break;case"ALPH":F=!0,L=J+8,U=S-8;break;case"ANIM":(R=T.header).bgcolor=d(D,S),R.loop_count=(z=D)[(O=le=S+4)+0]|z[O+1]<<8,le+=2;break;case"ANMF":var ye,R;(R=T.frames[M]={}).offset_x=2*u(D,S),R.offset_y=2*u(D,S+=3),R.width=1+u(D,S+=3),R.height=1+u(D,S+=3),R.duration=u(D,S+=3),S+=3,ye=D[S++],R.dispose=1&ye,R.blend=ye>>1&1}"ANMF"!=G&&(S+=J)}return T}}(g,0);A.response=g,A.rgbaoutput=!0,A.dataurl=!1;var _=A.header?A.header:null,v=A.frames?A.frames:null;if(_){_.loop_counter=_.loop_count,f=[_.canvas_height],h=[_.canvas_width];for(var b=0;b<v.length&&0!=v[b].blend;b++);}var w=v[0],y=m.WebPDecodeRGBA(g,w.src_off,w.src_size,h,f);w.rgba=y,w.imgwidth=h[0],w.imgheight=f[0];for(var C=0;C<h[0]*f[0]*4;C++)p[C]=y[C];return this.width=h,this.height=f,this.data=p,this}(function(n){var e=function(f,h,p,m){var g=4,A=o;switch(m){case n.image_compression.FAST:g=1,A=s;break;case n.image_compression.MEDIUM:g=6,A=a;break;case n.image_compression.SLOW:g=9,A=l}var _=yD(f=i(f,h,p,A),{level:g});return n.__addimage__.arrayBufferToBinaryString(_)},i=function(f,h,p,m){for(var g,A,_,v=f.length/h,b=new Uint8Array(f.length+v),w=u(),y=0;y<v;y+=1){if(g=f.subarray(_=y*h,_+h),m)b.set(m(g,p,A),_+y);else{for(var C,D=w.length,S=[];C<D;C+=1)S[C]=w[C](g,p,A);var T=d(S.concat());b.set(S[T],_+y)}A=g}return b},r=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var m=[],g=f.length;m[0]=1;for(var A=0;A<g;A+=1)m[A+1]=f[A]-(f[A-h]||0)+256&255;return m},o=function(f,h,p){var g=[],A=f.length;g[0]=2;for(var _=0;_<A;_+=1)g[_+1]=f[_]-(p&&p[_]||0)+256&255;return g},a=function(f,h,p){var A=[],_=f.length;A[0]=3;for(var v=0;v<_;v+=1)A[v+1]=f[v]+256-((f[v-h]||0)+(p&&p[v]||0)>>>1)&255;return A},l=function(f,h,p){var _,v=[],b=f.length;v[0]=4;for(var w=0;w<b;w+=1)_=c(f[w-h]||0,p&&p[w]||0,p&&p[w-h]||0),v[w+1]=f[w]-_+256&255;return v},c=function(f,h,p){if(f===h&&h===p)return f;var m=Math.abs(h-p),g=Math.abs(f-p),A=Math.abs(f+h-p-p);return m<=g&&m<=A?f:g<=A?h:p},u=function(){return[r,s,o,a,l]},d=function(f){var h=f.map(function(p){return p.reduce(function(m,g){return m+Math.abs(g)},0)});return h.indexOf(Math.min.apply(null,h))};n.processPNG=function(f,h,p,m){var g,A,_,v,b,w,y,C,D,S,T,M,F,L,U,z=this.decode.FLATE_DECODE,O="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(_=new cze(f)).imgData,A=_.bits,g=_.colorSpace,b=_.colors,-1!==[4,6].indexOf(_.colorType)){if(8===_.bits){D=(C=32==_.pixelBitlength?new Uint32Array(_.decodePixels().buffer):16==_.pixelBitlength?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,T=new Uint8Array(D*_.colors),S=new Uint8Array(D);var G,j=_.pixelBitlength-_.bits;for(L=0,U=0;L<D;L++){for(F=C[L],G=0;G<j;)T[U++]=F>>>G&255,G+=_.bits;S[L]=F>>>G&255}}if(16===_.bits){D=(C=new Uint32Array(_.decodePixels().buffer)).length,T=new Uint8Array(D*(32/_.pixelBitlength)*_.colors),S=new Uint8Array(D*(32/_.pixelBitlength)),M=_.colors>1,L=0,U=0;for(var J=0;L<D;)F=C[L++],T[U++]=F>>>0&255,M&&(T[U++]=F>>>16&255,F=C[L++],T[U++]=F>>>0&255),S[J++]=F>>>16&255;A=8}m!==n.image_compression.NONE?(f=e(T,_.width*_.colors,_.colors,m),y=e(S,_.width,1,m)):(f=T,y=S,z=void 0)}if(3===_.colorType&&(g=this.color_spaces.INDEXED,w=_.palette,_.transparency.indexed)){var le=_.transparency.indexed,ye=0;for(L=0,D=le.length;L<D;++L)ye+=le[L];if((ye/=255)==D-1&&-1!==le.indexOf(0))v=[le.indexOf(0)];else if(ye!==D){for(C=_.decodePixels(),S=new Uint8Array(C.length),L=0,D=C.length;L<D;L++)S[L]=le[C[L]];y=e(S,_.width,1)}}var R=function(X){var H;switch(X){case n.image_compression.FAST:H=11;break;case n.image_compression.MEDIUM:H=13;break;case n.image_compression.SLOW:H=14;break;default:H=12}return H}(m);return z===this.decode.FLATE_DECODE&&(O="/Predictor "+R+" "),O+="/Colors "+b+" /BitsPerComponent "+A+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:p,data:f,index:h,filter:z,decodeParameters:O,transparency:v,palette:w,sMask:y,predictor:R,width:_.width,height:_.height,bitsPerComponent:A,colorSpace:g}}}})(Vi.API),function(n){n.processGIF89A=function(t,e,i,r){var s=new uze(t),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},u=new CV(100).encode(c,100);return n.processJPEG.call(this,u,e,i,r)},n.processGIF87A=n.processGIF89A}(Vi.API),cp.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:r,green:i,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},cp.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP;this.data=new Uint8Array(this.width*this.height*4),this[n]()}catch(e){Io.log("bit decode error:"+e)}},cp.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++)for(var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+8*r*4,a=0;a<8&&8*r+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}0!==e&&(this.pos+=4-e)}},cp.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),o=i*this.width*4+2*r*4,l=15&s,c=this.palette[s>>4];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*r+1>=this.width)break;this.data[o+4]=(c=this.palette[l]).blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}0!==t&&(this.pos+=4-t)}},cp.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*i;if(r<this.palette.length){var o=this.palette[r];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}0!==n&&(this.pos+=4-n)}},cp.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var i=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,a=(s>>5&t)/t*255|0,c=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=(s>>10&t)/t*255|0,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=c}this.pos+=n}},cp.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&t)/t*255|0,l=(o>>5&e)/e*255|0,u=r*this.width*4+4*s;this.data[u]=(o>>11)/t*255|0,this.data[u+1]=l,this.data[u+2]=a,this.data[u+3]=255}this.pos+=n}},cp.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=255}this.pos+=this.width%4}},cp.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*e;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=o}},cp.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2018 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processBMP=function(t,e,i,r){var s=new cp(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new CV(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}}(Vi.API),moe.prototype.getData=function(){return this.data},
/**
         * @license
         * Copyright (c) 2019 Aras Abbasi
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){n.processWEBP=function(t,e,i,r){var s=new moe(t,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},c=new CV(100).encode(l,100);return n.processJPEG.call(this,c,e,i,r)}}(Vi.API),Vi.API.processRGBA=function(n,t,e){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),o=new Uint8Array(r/4),a=0,l=0,c=0;c<r;c+=4){var d=i[c+1],f=i[c+2],h=i[c+3];s[a++]=i[c],s[a++]=d,s[a++]=f,o[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Vi.API.setLanguage=function(n){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]&&(this.internal.languageSettings.languageCode=n,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bP=($w=Vi.API).getCharWidthsArray=function(n,t){var e,i,r=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),a=t.widths?t.widths:r.metadata.Unicode.widths,l=a.fof?a.fof:1,c=t.kerning?t.kerning:r.metadata.Unicode.kerning,u=c.fof?c.fof:1,d=!1!==t.doKerning,f=0,h=n.length,p=0,m=a[0]||l,g=[];for(e=0;e<h;e++)i=n.charCodeAt(e),"function"==typeof r.metadata.widthOfString?g.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+o*(1e3/s)||0)/1e3):(f=d&&"object"===(0,No.A)(c[i])&&!isNaN(parseInt(c[i][p],10))?c[i][p]/u:0,g.push((a[i]||m)/l+f)),p=i;return g},doe=$w.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),i=t.font||this.internal.getFont(),r=t.charSpace||this.internal.getCharSpace();return $w.processArabic&&(n=$w.processArabic(n)),"function"==typeof i.metadata.widthOfString?i.metadata.widthOfString(n,e,r)/e:bP.apply(this,arguments).reduce(function(s,o){return s+o},0)},hoe=function(n,t,e,i){for(var r=[],s=0,o=n.length,a=0;s!==o&&a+t[s]<e;)a+=t[s],s++;r.push(n.slice(0,s));var l=s;for(a=0;s!==o;)a+t[s]>i&&(r.push(n.slice(l,s)),a=0,l=s),a+=t[s],s++;return l!==s&&r.push(n.slice(l,s)),r},foe=function(n,t,e){e||(e={});var i,r,s,o,a,l,u=[],d=[u],f=e.textIndent||0,h=0,p=0,m=n.split(" "),g=bP.apply(this,[" ",e])[0];if(l=-1===e.lineIndent?m[0].length+2:e.lineIndent||0){var A=Array(l).join(" "),_=[];m.map(function(b){(b=b.split(/\s*\n/)).length>1?_=_.concat(b.map(function(w,y){return(y&&w.length?"\n":"")+w})):_.push(b[0])}),m=_,l=doe.apply(this,[A,e])}for(s=0,o=m.length;s<o;s++){var v=0;if(i=m[s],l&&"\n"==i[0]&&(i=i.substr(1),v=1),f+h+(p=(r=bP.apply(this,[i,e])).reduce(function(b,w){return b+w},0))>t||v){if(p>t){for(a=hoe.apply(this,[i,r,t-(f+h),t]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);p=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(b,w){return b+w},0)}else u=[i];d.push(u),f=p+l,h=g}else u.push(i),f+=h+p,h=g}return d.map(l?function(b,w){return(w?A:"")+b.join(" ")}:function(b){return b.join(" ")})},$w.splitTextToSize=function(n,t,e){var i,r=(e=e||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,e);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/r;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=e.lineIndent;var a,l,c=[];for(a=0,l=i.length;a<l;a++)c=c.concat(foe.apply(this,[i[a],o,s]));return c},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},i={},r=0;r<16;r++)e[t[r]]="0123456789abcdef"[r],i["0123456789abcdef"[r]]=t[r];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=n.__fontmetrics__.compress=function(d){var f,h,p,m,g=["{"];for(var A in d){if(f=d[A],isNaN(parseInt(A,10))?h="'"+A+"'":(A=parseInt(A,10),h=(h=s(A).slice(2)).slice(0,-1)+i[h.slice(-1)]),"number"==typeof f)f<0?(p=s(f).slice(3),m="-"):(p=s(f).slice(2),m=""),p=m+p.slice(0,-1)+i[p.slice(-1)];else{if("object"!==(0,No.A)(f))throw new Error("Don't know what to do with value type "+(0,No.A)(f)+".");p=o(f)}g.push(h+p)}return g.push("}"),g.join("")},a=n.__fontmetrics__.uncompress=function(d){if("string"!=typeof d)throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,m,g={},A=1,_=g,v=[],b="",w="",y=d.length-1,C=1;C<y;C+=1)"'"==(m=d[C])?f?(p=f.join(""),f=void 0):f=[]:f?f.push(m):"{"==m?(v.push([_,p]),_={},p=void 0):"}"==m?((h=v.pop())[0][h[1]]=_,p=void 0,_=h[0]):"-"==m?A=-1:void 0===p?e.hasOwnProperty(m)?(b+=e[m],p=parseInt(b,16)*A,A=1,b=""):b+=m:e.hasOwnProperty(m)?(w+=e[m],_[p]=parseInt(w,16)*A,A=1,p=void 0,w=""):w+=m;return g},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(d){var f=d.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(Vi.API),
/**
         * @license
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(e){for(var i=e.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=e.charCodeAt(s);return r};n.API.events.push(["addFont",function(e){var o,a,i=void 0,r=e.font,s=e.instance;if(!r.isStandardFont){if(void 0===s)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if("string"!=typeof(i=!1===s.existsFileInVFS(r.postScriptName)?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");o=r,a=/^\x00\x01\x00\x00/.test(a=i)?t(a):t(xD(a)),o.metadata=n.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]}}])}(Vi),Vi.API.addSvgAsImage=function(e,i,r,s,o,a,l,c){if(isNaN(i)||isNaN(r))throw Io.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Io.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return function t(){return(ji.canvg?Promise.resolve(ji.canvg):Me.e(687).then(Me.bind(Me,4687))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}().then(function(p){return p.fromString(d,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),i,r,s,o,l,c)})},Vi.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(t,e);return this},Vi.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var i,r,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,u=0,d=0;function f(p,m){var g,A=!1;for(g=0;g<p.length;g+=1)p[g]===m&&(A=!0);return A}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,"reset"===n||!0===t){var h=a.length;for(d=0;d<h;d+=1)e[a[d]].value=e[a[d]].defaultValue,e[a[d]].explicitSet=!1}if("object"===(0,No.A)(n))for(r in n)if(s=n[r],f(a,r)&&void 0!==s){if("boolean"===e[r].type&&"boolean"==typeof s)e[r].value=s;else if("name"===e[r].type&&f(e[r].valueSet,s))e[r].value=s;else if("integer"===e[r].type&&Number.isInteger(s))e[r].value=s;else if("array"===e[r].type){for(c=0;c<s.length;c+=1)if(i=!0,1===s[c].length&&"number"==typeof s[c][0])l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)"number"!=typeof s[c][u]&&(i=!1);!0===i&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}e[r].value="["+l.join(" ")+"]"}else e[r].value=e[r].defaultValue;e[r].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var p,m=[];for(p in e)!0===e[p].explicitSet&&m.push("name"===e[p].type?"/"+p+" /"+e[p].value:"/"+p+" "+e[p].value);0!==m.length&&this.internal.write("/ViewerPreferences\n<<\n"+m.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},
/** ====================================================================
         * @license
         * jsPDF XMP metadata plugin
         * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
         *
         * Permission is hereby granted, free of charge, to any person obtaining
         * a copy of this software and associated documentation files (the
         * "Software"), to deal in the Software without restriction, including
         * without limitation the rights to use, copy, modify, merge, publish,
         * distribute, sublicense, and/or sell copies of the Software, and to
         * permit persons to whom the Software is furnished to do so, subject to
         * the following conditions:
         *
         * The above copyright notice and this permission notice shall be
         * included in all copies or substantial portions of the Software.
         *
         * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
         * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
         * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
         * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
         * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
         * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
         * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
         * ====================================================================
         */
function(n){var t=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+o.length+a.length+r.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(r+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Vi.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],d=0,f=s.length;d<f;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),-1==l.indexOf(a)&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),"0"==a)return u.join("");a=a.toString(16),u.push(c[4-a.length],a)}return u.join("")},i=function(s){var o,a,l,c,u,d,f;for(u="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",l=[],d=0,f=(a=Object.keys(s).sort(function(h,p){return h-p})).length;d<f;d++)o=a[d],l.length>=100&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar",l=[]),null!=s[o]&&"function"==typeof s[o].toString&&(c=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(u+="\n"+l.length+" beginbfchar\n"+l.join("\n")+"\nendbfchar\n"),u+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"Identity-H"===a.encoding){for(var d=a.metadata.Unicode.widths,f=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var A=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Vw(a.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Vw(a.fontName)),l("/FontDescriptor "+A+" 0 R"),l("/W "+n.API.PDFObject.convert(d)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+g+" 0 R"),l("/BaseFont /"+Vw(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]),t.events.push(["putFont",function(s){!function(o){var a=o.font,l=o.out,c=o.newObject,u=o.putStream;if(a.metadata instanceof n.API.TTFFont&&"WinAnsiEncoding"===a.encoding){for(var d=a.metadata.rawData,f="",h=0;h<d.length;h++)f+=String.fromCharCode(d[h]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var m=c();u({data:i(a.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var g=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Vw(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var A=0;A<a.metadata.hmtx.widths.length;A++)a.metadata.hmtx.widths[A]=parseInt(a.metadata.hmtx.widths[A]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Vw(a.fontName)+"/FontDescriptor "+g+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}}(s)}]);var r=function(s){var o,a=s.text||"",l=s.x,c=s.y,u=s.options||{},d=s.mutex||{},f=d.pdfEscape,h=d.activeFontKey,p=d.fonts,m=h,g="",A=0,_="",v=p[m].encoding;if("Identity-H"!==p[m].encoding)return{text:a,x:l,y:c,options:u,mutex:d};for(_=a,m=h,Array.isArray(a)&&(_=a[0]),A=0;A<_.length;A+=1)p[m].metadata.hasOwnProperty("cmap")&&(o=p[m].metadata.cmap.unicode.codeMap[_[A].charCodeAt(0)]),o||_[A].charCodeAt(0)<256&&p[m].metadata.hasOwnProperty("Unicode")?g+=_[A]:g+="";var b="";return parseInt(m.slice(1))<14||"WinAnsiEncoding"===v?b=f(g,m).split("").map(function(w){return w.charCodeAt(0).toString(16)}).join(""):"Identity-H"===v&&(b=e(g,p[m])),d.isHex=!0,{text:b,x:l,y:c,options:u,mutex:d}};t.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&3===o[c].length?a.push([r(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(r(Object.assign({},l,{text:o[c]})).text);s.text=a}else s.text=r(Object.assign({},l,{text:o})).text}])}(Vi),
/**
         * @license
         * jsPDF virtual FileSystem functionality
         *
         * Licensed under the MIT License.
         * http://opensource.org/licenses/mit-license
         */
function(n){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},n.addFileToVFS=function(e,i){return t.call(this),this.internal.vFS[e]=i,this},n.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Vi.API),
/**
         * @license
         * Unicode Bidi Engine based on the work of Alex Shensis (@asthensis)
         * MIT License
         */
function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,o,a,l,c,u,d=t,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},g=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,v=0;this.__bidiEngine__={};var b=function(M){var F=M.charCodeAt(),L=F>>8,U=m[L];return void 0!==U?d[256*U+(255&F)]:252===L||253===L?"AL":A.test(L)?"L":8===L?"R":"N"},w=function(M){for(var F,L=0;L<M.length;L++){if("L"===(F=b(M.charAt(L))))return!1;if("R"===F)return!0}return!1},y=function(M,F,L,U){var z,O,G,j,J=F[U];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"N":case"AN":break;case"EN":_&&(J="AN");break;case"AL":_=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":U<1||U+1>=F.length||"EN"!==(z=L[U-1])&&"AN"!==z||"EN"!==(O=F[U+1])&&"AN"!==O?J="N":_&&(O="AN"),J=O===z?O:"N";break;case"ES":J="EN"===(z=U>0?L[U-1]:"B")&&U+1<F.length&&"EN"===F[U+1]?"EN":"N";break;case"ET":if(U>0&&"EN"===L[U-1]){J="EN";break}if(_){J="N";break}for(G=U+1,j=F.length;G<j&&"ET"===F[G];)G++;J=G<j&&"EN"===F[G]?"EN":"N";break;case"NSM":if(o&&!a){for(j=F.length,G=U+1;G<j&&"NSM"===F[G];)G++;if(G<j){var le=M[U];if(z=F[G],(le>=1425&&le<=2303||64286===le)&&("R"===z||"AL"===z)){J="R";break}}}J=U<1||"B"===(z=F[U-1])?"N":L[U-1];break;case"B":_=!1,r=!0,J=v;break;case"S":s=!0,J="N"}return J},C=function(M,F,L){var U=M.split("");return L&&D(U,L,{hiLevel:v}),U.reverse(),F&&F.reverse(),U.join("")},D=function(M,F,L){var U,z,O,G,j,J=-1,le=M.length,ye=0,R=[],X=v?h:f,H=[];for(_=!1,r=!1,s=!1,z=0;z<le;z++)H[z]=b(M[z]);for(O=0;O<le;O++){if(j=ye,R[O]=y(M,H,R,O),U=240&(ye=X[j][p[R[O]]]),F[O]=G=X[ye&=15][5],U>0)if(16===U){for(z=J;z<O;z++)F[z]=1;J=-1}else J=-1;if(X[ye][6])-1===J&&(J=O);else if(J>-1){for(z=J;z<O;z++)F[z]=G;J=-1}"B"===H[O]&&(F[O]=0),L.hiLevel|=G}s&&function(ae,de,he){for(var ee=0;ee<he;ee++)if("S"===ae[ee]){de[ee]=v;for(var ie=ee-1;ie>=0&&"WS"===ae[ie];ie--)de[ie]=v}}(H,F,le)},S=function(M,F,L,U,z){if(!(z.hiLevel<M)){if(1===M&&1===v&&!r)return F.reverse(),void(L&&L.reverse());for(var O,G,j,J,le=F.length,ye=0;ye<le;){if(U[ye]>=M){for(j=ye+1;j<le&&U[j]>=M;)j++;for(J=ye,G=j-1;J<G;J++,G--)O=F[J],F[J]=F[G],F[G]=O,L&&(O=L[J],L[J]=L[G],L[G]=O);ye=j}ye++}}},T=function(M,F,L){var U=M.split(""),z={hiLevel:v};return L||(L=[]),D(U,L,z),function(O,G,j){if(0!==j.hiLevel&&u)for(var J,le=0;le<O.length;le++)1===G[le]&&(J=g.indexOf(O[le]))>=0&&(O[le]=g[J+1])}(U,L,z),S(2,U,F,L,z),S(1,U,F,L,z),U.join("")};return this.__bidiEngine__.doBidiReorder=function(M,F,L){if(function(z,O){if(O)for(var G=0;G<z.length;G++)O[G]=G;void 0===a&&(a=w(z)),void 0===c&&(c=w(z))}(M,F),o||!l||c)if(o&&l&&a^c)v=a?1:0,M=C(M,F,L);else if(!o&&l&&c)v=a?1:0,M=T(M,F,L),M=C(M,F);else if(!o||a||l||c){if(o&&!l&&a^c)M=C(M,F),a?(v=0,M=T(M,F,L)):(v=1,M=T(M,F,L),M=C(M,F));else if(o&&a&&!l&&c)v=1,M=T(M,F,L),M=C(M,F);else if(!o&&!l&&a^c){var U=u;a?(v=1,M=T(M,F,L),v=0,u=!1,M=T(M,F,L),u=U):(v=0,M=T(M,F,L),M=C(M,F),v=1,u=!1,M=T(M,F,L),u=U,M=C(M,F))}}else v=0,M=T(M,F,L);else v=a?1:0,M=T(M,F,L);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,l=M.isOutputVisual,a=M.isInputRtl,c=M.isOutputRtl,u=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text,s=i.options||{},o=[];if(s.isInputVisual="boolean"!=typeof s.isInputVisual||s.isInputVisual,e.setOptions(s),"[object Array]"===Object.prototype.toString.call(r)){var a=0;for(o=[],a=0;a<r.length;a+=1)"[object Array]"===Object.prototype.toString.call(r[a])?o.push([e.doBidiReorder(r[a][0]),r[a][1],r[a][2]]):o.push([e.doBidiReorder(r[a])]);i.text=o}else i.text=e.doBidiReorder(r);e.setOptions({isInputVisual:!0})}])}(Vi),Vi.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Iv(t),this.contents.pos=4,"ttcf"===e.readString(4))throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new Sze(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new dze(this.contents),this.head=new fze(this),this.name=new vze(this),this.cmap=new goe(this),this.toUnicode={},this.hhea=new pze(this),this.maxp=new _ze(this),this.hmtx=new bze(this),this.post=new Aze(this),this.os2=new mze(this),this.loca=new Cze(this),this.glyf=new yze(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)c.push(Math.round(l[o]*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(e=r>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return(null!=(e=this.cmap.unicode)?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,i){var r,s,o,a;for(o=0,s=0,a=(t=""+t).length;0<=a?s<a:s>a;s=0<=a?++s:--s)r=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/e)||0;return o*(e/1e3)},n.prototype.lineHeight=function(t,e){return null==e&&(e=!1),(this.ascender+(e?this.lineGap:0)-this.decender)/1e3*t},n}();var up,Iv=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,i;for(i=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)i[e]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(t){var e,i,r;for(r=[],e=0,i=t.length;0<=i?e<i:e>i;e=0<=i?++e:--e)r.push(this.writeByte(t.charCodeAt(e)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,i,r,s,o,a,l;return t=this.readByte(),e=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*i+4294967296*r+16777216*s+65536*o+256*a+l},n.prototype.writeLongLong=function(t){var e,i;return e=Math.floor(t/4294967296),i=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,i;for(e=[],i=0;0<=t?i<t:i>t;i=0<=t?++i:--i)e.push(this.readByte());return e},n.prototype.write=function(t){var i,r,s;for(s=[],i=0,r=t.length;i<r;i++)s.push(this.writeByte(t[i]));return s},n}(),dze=function(){var n;function t(e){var i,r,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[i.tag]=i}return t.prototype.encode=function(e){var i,r,o,a,l,c,u,d,f,h,p,m;for(m in h=Object.keys(e).length,l=Math.log(2),d=16*Math.floor(Math.log(h)/l),o=Math.floor(d/l),u=16*h-d,(r=new Iv).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(o),r.writeShort(u),c=r.pos+16*h,a=null,p=[],e)for(f=e[m],r.writeString(m),r.writeInt(n(f)),r.writeInt(c),r.writeInt(f.length),p=p.concat(f),"head"===m&&(a=c),c+=f.length;c%4;)p.push(0),c++;return r.write(p),i=2981146554-n(r.data),r.pos=a+8,r.writeUInt32(i),r.data},n=function(e){var i,r,s,o;for(e=voe.call(e);e.length%4;)e.push(0);for(s=new Iv(e),r=0,i=0,o=e.length;i<o;i=i+=4)r+=s.readUInt32();return 4294967295&r},t}(),hze={}.hasOwnProperty,xm=function(n,t){for(var e in t)hze.call(t,e)&&(n[e]=t[e]);function i(){this.constructor=n}return i.prototype=t.prototype,n.prototype=new i,n.__super__=t.prototype,n};up=function(){function n(t){var e;this.file=t,this.exists=!!(e=this.file.directory.tables[this.tag]),e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var fze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var i;return(i=new Iv).writeInt(this.version),i.writeInt(this.revision),i.writeInt(this.checkSumAdjustment),i.writeInt(this.magicNumber),i.writeShort(this.flags),i.writeShort(this.unitsPerEm),i.writeLongLong(this.created),i.writeLongLong(this.modified),i.writeShort(this.xMin),i.writeShort(this.yMin),i.writeShort(this.xMax),i.writeShort(this.yMax),i.writeShort(this.macStyle),i.writeShort(this.lowestRecPPEM),i.writeShort(this.fontDirectionHint),i.writeShort(e),i.writeShort(this.glyphDataFormat),i.data},t}(),Aoe=function(){function n(t,e){var i,r,s,o,a,l,c,u,d,f,h,p,m,g,A,_,v;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),f=h/2,t.pos+=6,s=function(){var b,w;for(w=[],l=b=0;0<=f?b<f:b>f;l=0<=f?++b:--b)w.push(t.readUInt16());return w}(),t.pos+=2,m=function(){var b,w;for(w=[],l=b=0;0<=f?b<f:b>f;l=0<=f?++b:--b)w.push(t.readUInt16());return w}(),c=function(){var b,w;for(w=[],l=b=0;0<=f?b<f:b>f;l=0<=f?++b:--b)w.push(t.readUInt16());return w}(),u=function(){var b,w;for(w=[],l=b=0;0<=f?b<f:b>f;l=0<=f?++b:--b)w.push(t.readUInt16());return w}(),r=(this.length-t.pos+this.offset)/2,a=function(){var b,w;for(w=[],l=b=0;0<=r?b<r:b>r;l=0<=r?++b:--b)w.push(t.readUInt16());return w}(),l=A=0,v=s.length;A<v;l=++A)for(g=s[l],i=_=p=m[l];p<=g?_<=g:_>=g;i=p<=g?++_:--_)0===u[l]?o=i+c[l]:0!==(o=a[u[l]/2+(i-p)-(f-l)]||0)&&(o+=c[l]),this.codeMap[i]=65535&o}t.pos=d}return n.encode=function(t,e){var i,r,s,o,a,l,c,u,d,f,h,p,m,g,A,_,v,w,y,C,D,S,T,M,F,L,U,z,O,G,j,J,le,ye,R,X,H,ae,de,he,ee,ie,ge,Ce,ve;switch(U=new Iv,o=Object.keys(t).sort(function(Ne,se){return Ne-se}),e){case"macroman":for(m=0,g=function(){var Ne=[];for(p=0;p<256;++p)Ne.push(0);return Ne}(),_={0:0},s={},z=0,J=o.length;z<J;z++)null==_[ie=t[r=o[z]]]&&(_[ie]=++m),s[r]={old:t[r],new:_[t[r]]},g[r]=_[t[r]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(g),{charMap:s,subtable:U.data,maxGlyphID:m+1};case"unicode":for(F=[],d=[],v=0,_={},i={},A=c=null,O=0,le=o.length;O<le;O++)null==_[w=t[r=o[O]]]&&(_[w]=++v),i[r]={old:w,new:_[w]},a=_[w]-r,null!=A&&a===c||(A&&d.push(A),F.push(r),c=a),A=r;for(A&&d.push(A),d.push(65535),F.push(65535),T=2*(S=F.length),D=2*Math.pow(Math.log(S)/Math.LN2,2),f=Math.log(D/2)/Math.LN2,C=2*S-D,l=[],y=[],h=[],p=G=0,ye=F.length;G<ye;p=++G){if(u=d[p],65535===(M=F[p])){l.push(0),y.push(0);break}if(M-(L=i[M].new)>=32768)for(l.push(0),y.push(2*(h.length+S-p)),r=j=M;M<=u?j<=u:j>=u;r=M<=u?++j:--j)h.push(i[r].new);else l.push(L-M),y.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*S+2*h.length),U.writeUInt16(0),U.writeUInt16(T),U.writeUInt16(D),U.writeUInt16(f),U.writeUInt16(C),he=0,R=d.length;he<R;he++)U.writeUInt16(r=d[he]);for(U.writeUInt16(0),ee=0,X=F.length;ee<X;ee++)U.writeUInt16(r=F[ee]);for(ge=0,H=l.length;ge<H;ge++)U.writeUInt16(a=l[ge]);for(Ce=0,ae=y.length;Ce<ae;Ce++)U.writeUInt16(y[Ce]);for(ve=0,de=h.length;ve<de;ve++)U.writeUInt16(m=h[ve]);return{charMap:i,subtable:U.data,maxGlyphID:v+1}}},n}(),goe=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="cmap",t.prototype.parse=function(e){var i,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)i=new Aoe(e,this.offset),this.tables.push(i),i.isUnicode&&null==this.unicode&&(this.unicode=i);return!0},t.encode=function(e,i){var r,s;return null==i&&(i="macroman"),r=Aoe.encode(e,i),(s=new Iv).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},t}(),pze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),mze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var i,r;for(r=[],i=0;i<10;++i)r.push(e.readByte());return r}(),this.charRange=function(){var i,r;for(r=[],i=0;i<4;++i)r.push(e.readInt());return r}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var i,r;for(r=[],i=0;i<2;i=++i)r.push(e.readInt());return r}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),Aze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="post",t.prototype.parse=function(e){var i,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)i=e.readByte(),s.push(this.names.push(e.readString(i)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=function(){var a,l,c;for(c=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)c.push(e.readUInt32());return c}.call(this)}},t}(),gze=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},vze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="name",t.prototype.parse=function(e){var i,r,s,o,a,l,c,u,d,f,h;for(e.pos=this.offset,e.readShort(),i=e.readShort(),l=e.readShort(),r=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},o=d=0,f=r.length;d<f;o=++d)e.pos=(s=r[o]).offset,u=e.readString(s.length),a=new gze(u,s),null==c[h=s.nameID]&&(c[h]=[]),c[s.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),_ze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),bze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="hmtx",t.prototype.parse=function(e){var i,r,s,a,l,c;for(e.pos=this.offset,this.metrics=[],i=0,l=this.file.hhea.numberOfMetrics;0<=l?i<l:i>l;i=0<=l?++i:--i)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],i=u=0;0<=s?u<s:u>s;i=0<=s?++u:--u)d.push(e.readInt16());return d}(),this.widths=function(){var u,d,f,h;for(h=[],u=0,d=(f=this.metrics).length;u<d;u++)h.push(f[u].advance);return h}.call(this),r=this.widths[this.widths.length-1],c=[],i=a=0;0<=s?a<s:a>s;i=0<=s?++a:--a)c.push(this.widths.push(r));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),voe=[].slice,yze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var i,r,s,o,a,l,c,u,d,f;return e in this.cache?this.cache[e]:(i=this.file.contents,r=(o=this.file.loca).indexOf(e),0===(s=o.lengthOf(e))?this.cache[e]=null:(i.pos=this.offset+r,a=(l=new Iv(i.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[e]=-1===a?new xze(l,u,f,c,d):new wze(l,a,u,f,c,d),this.cache[e]))},t.prototype.encode=function(e,i,r){var s,o,a,l,c;for(a=[],o=[],l=0,c=i.length;l<c;l++)s=e[i[l]],o.push(a.length),s&&(a=a.concat(s.encode(r)));return o.push(a.length),{table:a,offsets:o}},t}(),wze=function(){function n(t,e,i,r,s,o){this.raw=t,this.numberOfContours=e,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),xze=function(){function n(t,e,i,r,s){var o,a;for(this.raw=t,this.xMin=e,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return n.prototype.encode=function(){var t,e,i;for(e=new Iv(voe.call(this.raw.data)),t=0,i=this.glyphIDs.length;t<i;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),Cze=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return xm(t,up),t.prototype.tag="loca",t.prototype.parse=function(e){var r;return e.pos=this.offset,this.offsets=0===this.file.head.indexToLocFormat?function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}.call(this):function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}.call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,i){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<r.length;++a)if(r[a]=s,o<i.length&&i[o]==a){++o,r[a]=s;var c=this.offsets[a+1]-this.offsets[a];c>0&&(s+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},t}(),Sze=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,s;for(e in r=this.font.cmap.tables[0].codeMap,t={},s=this.subset)t[e]=r[s[e]];return t},n.prototype.glyphsFor=function(t){var e,i,r,s,o,a,l;for(r={},o=0,a=t.length;o<a;o++)r[s=t[o]]=this.font.glyf.glyphFor(s);for(s in e=[],r)null!=(i=r[s])&&i.compound&&e.push.apply(e,i.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))r[s]=i=l[s];return r},n.prototype.encode=function(t,e){var i,r,s,o,l,c,u,d,f,h,p,m,g,A;for(r in i=goe.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},A=i.charMap)h[(l=A[r]).old]=l.new;for(p in f=i.maxGlyphID,o)p in h||(h[p]=f++);return u=function(_){var v,b;for(v in b={},_)b[_[v]]=v;return b}(h),d=Object.keys(u).sort(function(_,v){return _-v}),m=function(){var _,v,b;for(b=[],_=0,v=d.length;_<v;_++)b.push(u[d[_]]);return b}(),s=this.font.glyf.encode(o,m,h),c=this.font.loca.encode(s.offsets,m),g={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(g["OS/2"]=this.font.os2.raw()),this.font.directory.encode(g)},n}();Vi.API.PDFObject=function(){var n;function t(){}return n=function(e,i){return(Array(i+1).join("0")+e).slice(-i)},t.convert=function(e){var r,s;if(Array.isArray(e))return"["+function(){var a,l,c;for(c=[],a=0,l=e.length;a<l;a++)c.push(t.convert(e[a]));return c}().join(" ")+"]";if("string"==typeof e)return"/"+e;if(e?.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(e)){for(r in s=["<<"],e)s.push("/"+r+" "+t.convert(e[r]));return s.push(">>"),s.join("\n")}return""+e},t}();const Eze=Vi;let CD=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i}getPdf(e,i,r,s,o){const a=(new Date).toISOString();s=`${s}_${a}.pdf`;const l=i.nativeElement,c=r.nativeElement;NVe()(l).then(u=>{let d=c.offsetWidth,f=c.offsetHeight,h=u.toDataURL("image/jpeg"),p=new Eze("landscape","px",[d,f]);p.addImage(h,0,0,d,f),p.save(s)}),o.next(s),o.complete()}_GetPDF(e,i,r,s){return new Xi(a=>this.getPdf(e,i,r,s,a))}GetPDF(e){let i=`${this._configService.getConfigValue("baseUrlNetCore")}api/FileManager/_GetPdf?subjectName=${e}`;const r=new W0("GET",i,{reportProgress:!0,responseType:"text"});return this.http.request(r)}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Dze=["c_canvas"],Mze=["divCanvas_Pdf"],Tze=["_vertexSizeList"],Nze=["_sourcePointList"],Ize=["_distanceList"],Bze=["_languajeList"],Fze=()=>({pageName:"PAGE_ALGORITMOS_INDEX"});function Pze(n,t){if(1&n&&(q(0,"option",29),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}function Oze(n,t){if(1&n&&(q(0,"option",30),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index),te(),An(e._value)}}function Rze(n,t){if(1&n&&(q(0,"option",30),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index),te(),An(e._value)}}function kze(n,t){if(1&n&&(q(0,"option",30),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index),te(),An(e._value)}}function Lze(n,t){if(1&n){const e=Bi();q(0,"div",31)(1,"label",32)(2,"span",33),pe(3),$()(),pe(4," \xa0"),q(5,"select",34,5),ct("change",function(){return $t(e),Gt(lt()._distanceListChange())}),ht(7,kze,2,2,"option",18),$()()}if(2&n){const e=lt();te(3),An(e.tituloListadoDistancias),te(4),Se("ngForOf",e.__distanceList)}}function Uze(n,t){if(1&n&&(q(0,"div",35),pe(1),$()),2&n){const e=lt();te(),di(" ",e.status_message()," ")}}let Hze=(()=>{class n extends yr{constructor(e,i,r,s,o,a){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.pdfService=o,this.algorithmService=a,this.vertexMax=9,this.rectSize=10,this.screenSize=250,this.strokeStyleCafe="#654321",this.strokeStyleVerde="#006400",this.strokeStyleRed="#ff0000",this.tituloListadoDistancias="",this.tituloListadoLenguajes="[BACKEND] :",this.PointListHidden="",this.MatrixListHidden="",this.selectedIndex=0,this.selectedIndexLanguage=0,this.getGraphIdle=!1}ngOnInit(){this.DrawListItems(),this.DrawDistanceList(!0,"")}ngAfterViewInit(){this._context=this.c_canvas.nativeElement.getContext("2d"),this._ResetControls()}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__languajeList.push(new br(1,"(.Net Core   / C#)",!1,"CS")),this.__languajeList.push(new br(2,"(.Net Core   / C++)",!1,"CPP")),this.__languajeList.push(new br(3,"(SpringBoot  / Java)",!1,"JAVA"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0})}_distanceListChange(){this.selectedIndex=this._distanceList.nativeElement.options.selectedIndex;let e=this._distanceList.nativeElement.options[this.selectedIndex].text;if("0"!=e){var i=this.PointListHidden.split("|"),r=this.MatrixListHidden.split("|");this.DrawGrid(),this.DrawPoints(i,this.strokeStyleCafe),this.DrawLines(i,r,this.strokeStyleVerde,!1);let a=e.split("-")[2];if(""!=a){for(;-1!=a.indexOf(";");)a=a.replace(";",",");let l=a.split("\u2261"),c=new Array(i.length);for(let u=0;u<i.length;u++)c[u]="[0,0]";for(let u=0;u<l.length;u++)if(l.length>0){let d=l[u].replace("[","").replace("]","").split(",");if(d.length>0){let f=Number.parseInt(d[0]);var s=Number.parseInt(d[1]);c[f]=i[f],c[s]=i[s]}}this.DrawLines(c,r,this.strokeStyleRed,!0)}}}_ResetControls(){this.getGraphIdle=!1,this.tituloListadoDistancias="",this.DrawListItems(),this.DrawDistanceList(!0,""),this.PointListHidden="",this.MatrixListHidden="",this.status_message.set(""),this.DrawGrid(),this.status_message.set("[Graph reseted correctly]")}_GetGraph(){let e=Number.parseInt(this._vertexSizeList.nativeElement.value),i=Number.parseInt(this._sourcePointList.nativeElement.value);this.getGraphIdle=!0;let r,s=Number.parseInt(this._languajeList.nativeElement.value);switch(this.status_message.set("[Generating graph. Please wait...]"),s){case 0:return;case 1:r=this.algorithmService.getRandomVertex(e,i);break;case 2:r=this.algorithmService.getRandomVertexCpp(e,i);break;case 3:r=this.algorithmService.getRandomVertexSpringBoot(e,i)}r.subscribe({next:a=>{let f=a.replace(/&#x25A0;/g,"\u25a0").replace(/&#x2261;/g,"\u2261");console.warn(this.pageTitle+" - [GETTING VERTEX VALUES]  - RETURN VALUE : "+f);let h=f.split("\u25a0");var p=h[0];this.PointListHidden=p;let m=p.split("|");this.DrawPoints(m,this.strokeStyleCafe);let g=h[1],A=g.split("|");this.MatrixListHidden=g,this.DrawLines(m,A,this.strokeStyleVerde,new Boolean(!1));var _=h[2];let v=Number.parseInt(this._sourcePointList.nativeElement.value);this.tituloListadoDistancias="DISTANCE FROM ["+v.toString()+"]:",this.status_message.set("[Graph generated correctly]"),this.DrawDistanceList(!1,_)},error:a=>{console.error(this.pageTitle+" - [GETTING VERTEX VALUES] - [error] : "+a.message),this._ResetControls(),this.status_message.set("[An error occured. Please try again]")},complete:()=>{console.warn(this.pageTitle+" - [GETTING VERTEX VALUES] - [Observer got a complete notification]")}})}DrawGrid(){this._context.clearRect(0,0,this.c_canvas.nativeElement.width,this.c_canvas.nativeElement.height),this._context.beginPath();for(var e=.5;e<501;e+=this.rectSize)this._context.moveTo(e,0),this._context.lineTo(e,381);for(var i=.5;i<381;i+=this.rectSize)this._context.moveTo(0,i),this._context.lineTo(500,i);this._context.strokeStyle="#cccccc",this._context.stroke()}DrawPoint(e,i,r,s){i*=this.rectSize,r*=this.rectSize,this._context.setLineDash([]),this._context.beginPath(),this._context.moveTo(i,this.screenSize-r-this.rectSize/2),this._context.lineTo(i,this.screenSize-r+this.rectSize/2),this._context.strokeStyle=s,this._context.stroke(),this._context.setLineDash([]),this._context.beginPath(),this._context.moveTo(i-this.rectSize/2,this.screenSize-r),this._context.lineTo(i+this.rectSize/2,this.screenSize-r),this._context.strokeStyle=s,this._context.stroke();var o=e+"("+i/this.rectSize+","+r/this.rectSize+")";this._context.font="x-small Arial",this._context.fillText(o,i+this.rectSize/2,this.screenSize-r)}DrawPoints(e,i){let r;for(r=0;r<e.length;r++){let s="";s=e[r],s=s.replace("[",""),s=s.replace("]","");let o=s.split(","),a=Number.parseInt(o[0]),l=Number.parseInt(o[1]);this.DrawPoint(r.toString(),a,l,i)}}DrawLine(e,i,r,s){r*=this.rectSize;var a=this.screenSize-(s*=this.rectSize);this._context.moveTo(e*=this.rectSize,this.screenSize-(i*=this.rectSize)),this._context.lineTo(r,a)}DrawLines(e,i,r,s){let l,c,u,h,p,o=this.PointListHidden.split("|"),a=new Array(i.length);for(l=0;l<i.length;l++)a[l]=new Array(i.length);for(c=0;c<i.length;c++){var d=i[c].replace("{","").replace("}","").split(",");for(u=0;u<d.length;u++)a[c][u]=d[u]}for(this._context.setLineDash([]),this._context.beginPath(),h=0;h<i.length;h++)for(p=h+1;p<i.length;p++)if("0"!=a[h][p]){var m=e[h].replace("[","").replace("]","").split(","),g=e[p].replace("[","").replace("]","").split(","),A=parseInt(m[0]),_=parseInt(m[1]),v=parseInt(g[0]),b=parseInt(g[1]),w=!0;1==s&&(e[h]!=o[h]&&(w=!1),e[p]!=o[p]&&(w=!1)),1==w&&this.DrawLine(A,_,v,b)}this._context.strokeStyle=r,this._context.stroke()}DrawDistanceList(e,i){if(this.__distanceList=new Array,0==e){let s=new DF(0,"(SELECT DISTANCE)");this.__distanceList.push(s);let o=i.split("<br/>");for(var r=0;r<o.length;r++){let a="";a=o[r].replace("&lt;","<").replace("&gt;",">"),a=$F.DebugHostingContent(a);let l=new DF(r+1,a);this.__distanceList.push(l)}}}DrawListItems(){new String(this.vertexMax),this.__vertexSizeList=new Array;for(var i=this.vertexMax;i>=1;i--){let r=new DF(i,i.toString());this.__vertexSizeList.push(r)}for(this.__sourcePointList=new Array,i=0;i<this.vertexMax;i++){let s=new DF(i,i.toString());this.__sourcePointList.push(s)}this.queryParams()}_GetPDF(){this.status_message.set("[...Generating PDF...]");let i="";this.pdfService._GetPDF(this.pageTitle,this.c_canvas,this.divCanvas_Pdf,"DIJKSTRA").subscribe({next:r=>{i=r},error:r=>{this.status_message.set("An error occurred : "+r.message)},complete:()=>{this.status_message.set("[PDF file generated correctly]")}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(CD),oe(Y2))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-algorithm-dijkstra"]],viewQuery:function(i,r){if(1&i&&(Tn(Dze,5),Tn(Mze,5),Tn(Tze,5),Tn(Nze,5),Tn(Ize,5),Tn(Bze,5)),2&i){let s;Ut(s=Ht())&&(r.c_canvas=s.first),Ut(s=Ht())&&(r.divCanvas_Pdf=s.first),Ut(s=Ht())&&(r._vertexSizeList=s.first),Ut(s=Ht())&&(r._sourcePointList=s.first),Ut(s=Ht())&&(r._distanceList=s.first),Ut(s=Ht())&&(r._languajeList=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_ALGORITHMS_DIJKSTRA"}]),mn],decls:43,vars:12,consts:[["divCanvas_Pdf",""],["c_canvas",""],["_languajeList",""],["_vertexSizeList",""],["_sourcePointList",""],["_distanceList",""],["align","left",1,"content"],["align","center"],["id","divCanvas_Pdf","height","255","width","255",2,"display","block","box-sizing","border-box","height","255px","width","255px","padding","5px"],["id","c_canvas","width","250px","height","250px"],["align","left","id","LangListDiv",1,"form-group"],["for","LangList"],["id","tituloListadoLenguajes"],["id","LanguageList","name","LanguajeList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left",1,"form-group"],["for","_vertexSizeList"],["id","_vertexSizeList","name","_vertexSizeList","disabled","disabled"],[3,"value",4,"ngFor","ngForOf"],["for","_sourcePointList"],["id","_sourcePointList","name","_sourcePointList","disabled","disabled"],["class","form-group","align","left","id","listTitle",4,"ngIf"],["class","alert alert-secondary","role","alert","align","center",4,"ngIf"],["align","right",1,"form-group"],["id","GetGraph","type","button","title","[GENERATE]","value","[GENERATE]",1,"btn","btn-primary",3,"click","disabled"],["id","NewGraph","type","button","title","[RESTART]","value","[RESTART]",1,"btn","btn-secondary",3,"click","disabled"],["id","GetPDF","type","button","title","[GENERATE PDF]","value","[GENERATE PDF]",1,"btn","btn-success",3,"click","disabled"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],[3,"value"],["align","left","id","listTitle",1,"form-group"],["for","DistanceList"],["id","tituloListadoDistancias"],["id","DistanceList","name","DistanceList",3,"change"],["role","alert","align","center",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",6),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",7)(4,"div",8,0),Ye(6,"canvas",9,1),$()(),Ye(8,"hr"),q(9,"div",10)(10,"label",11)(11,"span",12),pe(12),$()(),pe(13," \xa0"),q(14,"select",13,2),ht(16,Pze,2,3,"option",14),$()(),q(17,"div",15)(18,"label",16),pe(19,"Points Amount:"),$(),q(20,"select",17,3),ht(22,Oze,2,2,"option",18),$()(),q(23,"div",15)(24,"label",19),pe(25,"Source Point:"),$(),q(26,"select",20,4),ht(28,Rze,2,2,"option",18),$()(),ht(29,Lze,8,2,"div",21),Ye(30,"hr"),ht(31,Uze,2,1,"div",22),Ye(32,"hr"),q(33,"div",23)(34,"input",24),ct("click",function(){return $t(s),Gt(r._GetGraph())}),$(),pe(35," | "),q(36,"input",25),ct("click",function(){return $t(s),Gt(r._ResetControls())}),$(),pe(37," | "),q(38,"input",26),ct("click",function(){return $t(s),Gt(r._GetPDF())}),$()(),Ye(39,"hr"),q(40,"div",27)(41,"a",28),pe(42,"[Back to Menu]"),$()()()}2&i&&(te(12),An(r.tituloListadoLenguajes),te(4),Se("ngForOf",r.__languajeList),te(6),Se("ngForOf",r.__vertexSizeList),te(6),Se("ngForOf",r.__sourcePointList),te(),Se("ngIf",!(0==r.PointListHidden.length&&0==r.MatrixListHidden.length)),te(2),Se("ngIf",r.status_message),te(3),Se("disabled",1==r.getGraphIdle),te(2),Se("disabled",0==r.PointListHidden.length&&0==r.MatrixListHidden.length),te(2),Se("disabled",0==r.PointListHidden.length&&0==r.MatrixListHidden.length||0==r.selectedIndex),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(11,Fze)))},dependencies:[Ma,pa,wu,xu,rs,yr],styles:[".form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}#c_canvas[_ngcontent-%COMP%]{width:250px;height:250px;background-color:#fff}#DistanceList[_ngcontent-%COMP%]{width:250px}"]})}}return n})();const Vze=["mensajes"],zze=["tagSearch"],Qze=["textSearch"],Gze=["regExSearch"],jze=["_languajeList"],qze=()=>({pageName:"PAGE_ALGORITMOS_INDEX"});function Wze(n,t){if(1&n&&(q(0,"option",32),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}function $ze(n,t){if(1&n&&(q(0,"div",33),pe(1),$()),2&n){const e=lt();te(),di(" ",e.status_message()," ")}}let Kze=(()=>{class n extends fD{constructor(e,i,r,s,o){super(e,i,s,r,bl),this.configService=e,this.backendService=i,this.speechService=r,this.route=s,this.algorithmService=o,this.xmlData="",this.pattern="",this.tituloListadoLenguajes="BACKEND"}ngOnInit(){this.queryParams()}ngAfterViewInit(){this._GetXMLData()}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__languajeList.push(new br(1,"(.NET CORE/C#)",!0,"CS")),this.__languajeList.push(new br(2,"(.NET CORE/C++)",!1,"CPP"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0})}_GetXMLData(){let e;e=this.algorithmService._GetXmlData(),this.textSearch.nativeElement.value="",this.status_message.set("[...LOADING PLEASE WAIT...]"),e.subscribe({next:r=>{console.warn(this.pageTitle+" - [GET XML DATA] - [RETURN VALUE] : "+r.length),this.xmlData=r,this.mensajes.nativeElement.innerHTML=this.xmlData,this.status_message.set("[RESTART SUCCESFUL]"),this.pattern=""},error:r=>{this.status_message.set("[An error ocurred]"),this.pattern="",console.error(this.pageTitle+" - [GET XML DATA]- [error] : "+r.message)},complete:()=>{console.info(this.pageTitle+" - [GET XML DATA]- [Observer got a complete notification]")}})}GetRegex(){let o,i=this.tagSearch.nativeElement.options[this.tagSearch.nativeElement.options.selectedIndex].value,r=this.textSearch.nativeElement.value,s=Number.parseInt(this._languajeList.nativeElement.value);if(0!=s)if(0!=i)if(""!=r){switch(s){case 0:return;case 1:o=this.algorithmService._RegExEval(i,r);break;case 2:o=this.algorithmService._RegExEval_CPP(i,r)}o.subscribe({next:c=>{console.warn(this.pageTitle+" - [EVAL REGEX] - [RETURN VALUE] : "+c.length);let u=c.split("|");if(u.length>0){let d=u[0],f=u[1];this.pattern=$F.DebugHostingContent(u[2]),this.mensajes.nativeElement.innerHTML=f,this.status_message.set("["+d+"] MATCHES FOUND")}},error:c=>{console.error(this.pageTitle+" - [EVAL REGEX] - [error] : "+c.message)},complete:()=>{console.info(this.pageTitle+" - [EVAL REGEX] - [Observer got a complete notification]")}})}else this.status_message.set("PLEASE ENTER A VALUE IN THE FILED [CONTENT]");else this.status_message.set("PLEASE SELECT AN ELEMENT TO SEARCH");else this.status_message.set("PLEASE SELECT A LANGUAGE")}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(vs),oe(Wr),oe(Y2))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-algorithm-reg-ex"]],viewQuery:function(i,r){if(1&i&&(Tn(Vze,5),Tn(zze,5),Tn(Qze,5),Tn(Gze,5),Tn(jze,5)),2&i){let s;Ut(s=Ht())&&(r.mensajes=s.first),Ut(s=Ht())&&(r.tagSearch=s.first),Ut(s=Ht())&&(r.textSearch=s.first),Ut(s=Ht())&&(r.regExSearch=s.first),Ut(s=Ht())&&(r._languajeList=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_ALGORITMOS_REGEX"}]),mn],decls:56,vars:7,consts:[["mensajes",""],["_languajeList",""],["tagSearch",""],["textSearch",""],["regExSearch",""],[1,"content"],["id","XmlContent"],["id","global"],["id","mensajes"],["align","left",1,"form-group"],["for","LangList"],["id","tituloListadoLenguajes"],["id","LanguageList","name","LanguajeList",1,"fieldSetRegex"],[3,"value","selected",4,"ngFor","ngForOf"],["for","tagSearch"],["id","tagSearch",1,"fieldSetRegex"],["value","0"],["value","title"],["value","artist"],["value","country"],["value","company","selected","selected"],["value","price"],["value","year"],["for","textSearch"],["type","text","id","textSearch","value","",1,"fieldSetRegex"],["for","regExSearch"],["type","text","id","regExSearch","readonly","readonly",1,"fieldSetRegex",2,"background-color","#cccccc",3,"value"],["class","form-group alert alert-secondary","align","center","role","alert",4,"ngIf"],["id","GetRegex","type","button","title","[SEARCH]","value","[SEARCH]",1,"btn","btn-primary",3,"click"],["id","newSearch","type","button","title","[RESTART]","value","[RESTART]",1,"btn","btn-success",3,"click"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],["align","center","role","alert",1,"form-group","alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",5),Ye(1,"app-base-reference")(2,"hr"),q(3,"p"),pe(4,"[CONTENT TO SEARCH]"),$(),q(5,"div",6)(6,"div",7),Ye(7,"div",8,0),$()(),Ye(9,"hr"),q(10,"form")(11,"div",9)(12,"label",10)(13,"span",11),pe(14),$()(),q(15,"select",12,1),ht(17,Wze,2,3,"option",13),$()(),q(18,"div",9)(19,"label",14),pe(20,"ELEMENT TO SEARCH : "),$(),q(21,"select",15,2)(23,"option",16),pe(24,"(CHOOSE OPTION ...)"),$(),q(25,"option",17),pe(26,"title"),$(),q(27,"option",18),pe(28,"artist"),$(),q(29,"option",19),pe(30,"country"),$(),q(31,"option",20),pe(32,"company"),$(),q(33,"option",21),pe(34,"price"),$(),q(35,"option",22),pe(36,"year"),$()()(),q(37,"div",9)(38,"label",23),pe(39,"CONTENT : "),$(),Ye(40,"input",24,3),$(),q(42,"div",9)(43,"label",25),pe(44,"REGULAR EXPRESSION : "),$(),Ye(45,"input",26,4),$(),ht(47,$ze,2,1,"div",27),q(48,"div",9)(49,"input",28),ct("click",function(){return $t(s),Gt(r.GetRegex())}),$(),pe(50," | "),q(51,"input",29),ct("click",function(){return $t(s),Gt(r._GetXMLData())}),$()()(),Ye(52,"hr"),q(53,"div",30)(54,"a",31),pe(55,"[Back to Menu]"),$()()()}2&i&&(te(14),An(r.tituloListadoLenguajes),te(3),Se("ngForOf",r.__languajeList),te(28),j1("value",r.pattern),te(2),Se("ngIf",r.status_message),te(7),Se("routerLink","/PageUrlList")("queryParams",Us(6,qze)))},dependencies:[Ma,pa,Yh,wu,xu,Kh,od,rs,yr],styles:[".form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}#global[_ngcontent-%COMP%]{width:350px;height:100px;border:1px solid #ddd;background:#ccc;color:#00f;overflow-y:scroll}#mensajes[_ngcontent-%COMP%]{height:auto}"]})}}return n})();class Xze{constructor(t,e,i,r){this._context=t,this.c_canvas=e,this.rectSize=i,this.screenSize=r}DrawGrid(){this._context.clearRect(0,0,this.c_canvas.nativeElement.width,this.c_canvas.nativeElement.height);for(let t=.5;t<501;t+=this.rectSize)this._context.moveTo(t,0),this._context.lineTo(t,381);for(let t=.5;t<381;t+=this.rectSize)this._context.moveTo(0,t),this._context.lineTo(500,t);this._context.strokeStyle="#cccccc",this._context.stroke()}DrawRectangles(t){for(let r=0;r<25;r++){let s=0+this.rectSize*r,o=this.screenSize-Number.parseInt(t[r].value)*this.rectSize,a=this.rectSize,l=Number.parseInt(t[r].value)*this.rectSize;this._context.fillStyle=1==t[r].swap?"#FFA500":"#ccc",this._context.fillRect(s,o,a,l)}}DrawPoint(t,e,i,r){e*=this.rectSize,i*=this.rectSize,this._context.setLineDash([]),this._context.beginPath(),this._context.moveTo(e,this.screenSize-i-this.rectSize/2),this._context.lineTo(e,this.screenSize-i+this.rectSize/2),this._context.strokeStyle=r,this._context.stroke(),this._context.setLineDash([]),this._context.beginPath(),this._context.moveTo(e-this.rectSize/2,this.screenSize-i),this._context.lineTo(e+this.rectSize/2,this.screenSize-i),this._context.strokeStyle=r,this._context.stroke();var s=t+"("+e/this.rectSize+","+i/this.rectSize+")";this._context.font="x-small Arial",this._context.fillText(s,e+this.rectSize/2,this.screenSize-i)}DrawPoints(t,e){let i;for(i=0;i<t.length;i++){let r="";r=t[i],r=r.replace("[",""),r=r.replace("]","");let s=r.split(","),o=Number.parseInt(s[0]),a=Number.parseInt(s[1]);this.DrawPoint(i.toString(),o,a,e)}}DrawLine(t,e,i,r){i*=this.rectSize;var o=this.screenSize-(r*=this.rectSize);this._context.moveTo(t*=this.rectSize,this.screenSize-(e*=this.rectSize)),this._context.lineTo(i,o)}DrawLines(t,e,i,r,s){let l,c,u,h,p,o=s.split("|"),a=new Array(e.length);for(l=0;l<e.length;l++)a[l]=new Array(e.length);for(c=0;c<e.length;c++){var d=e[c].replace("{","").replace("}","").split(",");for(u=0;u<d.length;u++)a[c][u]=d[u]}for(this._context.setLineDash([]),this._context.beginPath(),h=0;h<e.length;h++)for(p=h+1;p<e.length;p++)if("0"!=a[h][p]){var m=t[h].replace("[","").replace("]","").split(","),g=t[p].replace("[","").replace("]","").split(","),A=parseInt(m[0]),_=parseInt(m[1]),v=parseInt(g[0]),b=parseInt(g[1]),w=!0;1==r&&(t[h]!=o[h]&&(w=!1),t[p]!=o[p]&&(w=!1)),1==w&&this.DrawLine(A,_,v,b)}this._context.strokeStyle=i,this._context.stroke()}}const Yze=["c_canvas"],Zze=["mensajes"],Jze=["mensajes_1"],e7e=["mensajes_2"],t7e=["SortAlgorithmList"],n7e=["_languajeList"],i7e=()=>({pageName:"PAGE_ALGORITMOS_INDEX"});function r7e(n,t){if(1&n&&(q(0,"option",27),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}function s7e(n,t){if(1&n&&(q(0,"div",28),pe(1),$()),2&n){const e=lt();te(),di(" ",e.status_message()," ")}}function o7e(n,t){if(1&n&&(q(0,"div",28),pe(1),$()),2&n){const e=lt();te(),di(" ",e.lblStatus()," ")}}let a7e=(()=>{class n extends yr{constructor(e,i,r,s,o){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.algorithmService=o,this.rectSize=10,this.lblStatus=hA(""),this.tituloListadoLenguajes="[BACKEND] : ",this.screenSize=250,this.delayInMilliseconds=500,this.stringMatrix=[],this.indexDraw=0,this.sortedArrayDecoded="",this.arraySeparator="|",this.GetSortLabel="[SORT]",this.stringArray_=[],this.isListVisible=!1,this.toogleLisCaption="[See references]"}ngOnInit(){this.queryParams()}ngAfterViewInit(){this.context=this.c_canvas.nativeElement.getContext("2d"),this.drawEngine=new Xze(this.context,this.c_canvas,this.rectSize,this.screenSize),this.drawEngine.DrawGrid(),this.GetNewSort()}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION OPCION...)",!1,"")),this.__languajeList.push(new br(1,"(.NET Core/C#)",!0,"CS")),this.__languajeList.push(new br(2,"(.NET Core/C++)",!1,"CPP"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0})}GetSort(){let i=this.SortAlgorithmList.nativeElement.options[this.SortAlgorithmList.nativeElement.options.selectedIndex].value;if(0==i)return void this.status_message.set("PLEASE SELECT AN ALGORITHM");let r=this.mensajes.nativeElement.innerHTML;for(;-1!=r.indexOf("<br>");)r=r.replace("<br>","|");let o,s=r;switch(Number.parseInt(this._languajeList.nativeElement.value)){case 0:return;case 1:o=this.algorithmService.getSort(i,s);break;case 2:o=this.algorithmService.getSort_CPP(i,s)}o.subscribe({next:c=>{this.stringMatrix=c.split("\u25a0");for(let u=0;u<this.stringMatrix.length;u++)this.stringMatrix[u]=this.stringMatrix[u].replace("<br/>",""),this.stringMatrix[u]=this.stringMatrix[u].replace("\u25a0","");this.sortedArrayDecoded=this.stringMatrix[this.stringMatrix.length-1];for(let u=0;u<this.stringMatrix.length;u++)for(;-1!=this.stringMatrix[u].indexOf("<br/>");)this.stringMatrix[u]=this.stringMatrix[u].replace("<br/>",",");return this.DrawStepMain(),!0},error:c=>(console.error(this.pageTitle+" - [GETTING SORT] - [error] : "+c.message),this.status_message.set("An error occurred"),!1),complete:()=>{console.warn(this.pageTitle+" - [GETTING SORT] - [Observer got a complete notification]")}})}GetNewSort(){let e;this.lblStatus.set(""),this.SortAlgorithmList.nativeElement.options.selectedIndex=0,this.stringMatrix=[],this.mensajes_1.nativeElement.innerHTML="...getting list...",this.mensajes_2.nativeElement.innerHTML="...getting list...",this.status_message.set("...getting list..."),e=this.algorithmService.getNewSort(),e.subscribe({next:r=>{console.info(this.pageTitle+" - [GETTING NEW SORT]  - RETURN VALUE : "+r),this.mensajes.nativeElement.innerHTML=r;let s=r;for(;-1!=s.indexOf("<br/>");)s=s.replace("<br/>",this.arraySeparator);s=s.trim(),this.mensajes_1.nativeElement.innerHTML=s,this.mensajes_2.nativeElement.innerHTML=s,this._ResetControls()},error:r=>{console.error(this.pageTitle+" - [GETTING NEW SORT] - [error] : "+r.message),this.status_message.set("An error occurred")},complete:()=>{console.warn(this.pageTitle+" - [GETTING NEW SORT] - [Observer got a complete notification]")}})}_ResetControls(){this.stringArray_=this.mensajes.nativeElement.innerHTML.split("<br>");let e=[];this.stringArray_.forEach((i,r)=>{let s=new Rie(i,!1);e.push(s)}),this.drawEngine?.DrawGrid(),this.drawEngine?.DrawRectangles(e),this.status_message.set("RESTART SUCCESSFUL"),this.GetSortLabel="[SORT]",this.lblStatus.set("")}DrawStep(){if(this.indexDraw>=this.stringMatrix.length){let e=this.sortedArrayDecoded;for(;-1!=e.indexOf("<br/>");)e=e.replace("<br/>",this.arraySeparator);return e=e.trim(),this.mensajes_2.nativeElement.innerHTML=e,this.status_message.set("LIST HAS BEEN SORTED CORRECTLY"),void(this.GetSortLabel="[SORT]")}if(null==this.stringMatrix[this.indexDraw]||""!=this.stringMatrix[this.indexDraw]){this.lblStatus.set(`Step ${this.indexDraw} of ${this.stringMatrix.length-1}`);let e=1==this.indexDraw?this.stringArray_:this.stringMatrix[this.indexDraw-1].split(","),i=this.stringMatrix[this.indexDraw].split(","),r=[];i.forEach((s,o)=>{let l=new Rie(s,i[o]!=e[o]);r.push(l)}),this.drawEngine?.DrawGrid(),this.drawEngine?.DrawRectangles(r),this.DrawArray()}this.indexDraw++,setTimeout(()=>{this.DrawStep()},this.delayInMilliseconds)}DrawStepMain(){this.indexDraw=0,this.GetSortLabel="[...sorting...]",this.status_message.set(""),this.DrawStep()}DrawArray(){let e=this.stringMatrix[this.indexDraw];for(;-1!=e.indexOf(",");)e=e.replace(",",this.arraySeparator);this.mensajes_2.nativeElement.innerHTML=e.trim()}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(Y2))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-algorithm-sort"]],viewQuery:function(i,r){if(1&i&&(Tn(Yze,5),Tn(Zze,5),Tn(Jze,5),Tn(e7e,5),Tn(t7e,5),Tn(n7e,5)),2&i){let s;Ut(s=Ht())&&(r.c_canvas=s.first),Ut(s=Ht())&&(r.mensajes=s.first),Ut(s=Ht())&&(r.mensajes_1=s.first),Ut(s=Ht())&&(r.mensajes_2=s.first),Ut(s=Ht())&&(r.SortAlgorithmList=s.first),Ut(s=Ht())&&(r._languajeList=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_ALGORITMOS_SORT"}]),mn],decls:51,vars:11,consts:[["mensajes_1",""],["mensajes_2",""],["mensajes",""],["c_canvas",""],["_languajeList",""],["SortAlgorithmList",""],["align","center"],["id","mensajes_1",1,"mensajes"],["id","mensajes_2",1,"mensajes"],["id","mensajes",2,"visibility","hidden","height","0px"],["id","c_canvas","width","250px","height","250px"],["align","left","id","LangListDiv",1,"form-group"],["for","LangList"],["id","tituloListadoLenguajes"],["id","LanguageList","name","LanguajeList"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left",1,"form-group"],["for","SortAlgorithmList"],["id","SortAlgorithmList",3,"disabled"],["value","0"],["value","1"],["value","2"],["class","form-group alert alert-secondary","align","center","role","alert",4,"ngIf"],["id","NewSort","type","button","title","[RESTART]","value","[RESTART]",1,"btn","btn-primary",3,"click","disabled"],["id","GetSort","type","button","title","[ORDENAR]",1,"btn","btn-success",3,"click","value","disabled"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],["align","center","role","alert",1,"form-group","alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",6),Ye(1,"app-base-reference")(2,"hr"),q(3,"p"),pe(4,"List to Sort"),$(),Ye(5,"div",7,0)(7,"br"),q(8,"p"),pe(9,"Sorted list"),$(),Ye(10,"div",8,1)(12,"div",9,2)(14,"hr"),q(15,"div",6),Ye(16,"canvas",10,3),$(),Ye(18,"hr"),q(19,"form")(20,"div",11)(21,"label",12)(22,"span",13),pe(23),$()(),pe(24," \xa0"),q(25,"select",14,4),ht(27,r7e,2,3,"option",15),$()(),q(28,"div",16)(29,"label",17),pe(30,"[ALGORITHM] : "),$(),q(31,"select",18,5)(33,"option",19),pe(34,"[CHOOOSE OPTION]"),$(),q(35,"option",20),pe(36,"BUBBLE SORT"),$(),q(37,"option",21),pe(38,"QUICK SORT"),$()()(),Ye(39,"hr"),ht(40,s7e,2,1,"div",22)(41,o7e,2,1,"div",22),Ye(42,"hr"),q(43,"div",16)(44,"input",23),ct("click",function(){return $t(s),Gt(r.GetNewSort())}),$(),pe(45," | "),q(46,"input",24),ct("click",function(){return $t(s),Gt(r.GetSort())}),$()()(),Ye(47,"hr"),q(48,"div",25)(49,"a",26),pe(50,"[Back to Menu]"),$()()()}2&i&&(te(23),An(r.tituloListadoLenguajes),te(4),Se("ngForOf",r.__languajeList),te(4),Se("disabled",!("[...ordenando...]"!=r.GetSortLabel&&"[...ordenado...]"!=r.GetSortLabel)),te(9),Se("ngIf",r.status_message),te(),Se("ngIf",r.lblStatus),te(3),Se("disabled","[...ordenando...]"==r.GetSortLabel),te(2),j1("value",r.GetSortLabel),Se("disabled",!("[...ordenando...]"!=r.GetSortLabel&&"[...sorting...]"!=r.GetSortLabel)),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(10,i7e)))},dependencies:[Ma,pa,Yh,wu,xu,Kh,od,rs,yr],styles:[".form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.mensajes[_ngcontent-%COMP%]{border:5px solid #ddd;padding:10px;background:#ccc;color:#00f;font-size:xx-small;overflow-y:auto}#c_canvas[_ngcontent-%COMP%]{width:250px;height:250px;background-color:#fff}"]})}}return n})();function BA(){}const l7e=function(){let n=0;return function(){return n++}}();function Es(n){return null===n||typeof n>"u"}function Go(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ss(n){return null!==n&&"[object Object]"===Object.prototype.toString.call(n)}const Za=n=>("number"==typeof n||n instanceof Number)&&isFinite(+n);function rf(n,t){return Za(n)?n:t}function Br(n,t){return typeof n>"u"?t:n}const _oe=(n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100*t:+n;function jo(n,t,e){if(n&&"function"==typeof n.call)return n.apply(e,t)}function no(n,t,e,i){let r,s,o;if(Go(n))if(s=n.length,i)for(r=s-1;r>=0;r--)t.call(e,n[r],r);else for(r=0;r<s;r++)t.call(e,n[r],r);else if(ss(n))for(o=Object.keys(n),s=o.length,r=0;r<s;r++)t.call(e,n[o[r]],o[r])}function yP(n,t){let e,i,r,s;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],s=t[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function wP(n){if(Go(n))return n.map(wP);if(ss(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=wP(n[e[r]]);return t}return n}function boe(n){return-1===["__proto__","prototype","constructor"].indexOf(n)}function u7e(n,t,e,i){if(!boe(n))return;const r=t[n],s=e[n];ss(r)&&ss(s)?SD(r,s,i):t[n]=wP(s)}function SD(n,t,e){const i=Go(t)?t:[t],r=i.length;if(!ss(n))return n;const s=(e=e||{}).merger||u7e;for(let o=0;o<r;++o){if(!ss(t=i[o]))continue;const a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)s(a[l],n,t,e)}return n}function ED(n,t){return SD(n,t,{merger:d7e})}function d7e(n,t,e){if(!boe(n))return;const i=t[n],r=e[n];ss(i)&&ss(r)?ED(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=wP(r))}const yoe={"":n=>n,x:n=>n.x,y:n=>n.y};function Bv(n,t){return(yoe[t]||(yoe[t]=function h7e(n){const t=function f7e(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}(n);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(n)}function SV(n){return n.charAt(0).toUpperCase()+n.slice(1)}const sf=n=>typeof n<"u",Fv=n=>"function"==typeof n,woe=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0},oa=Math.PI,go=2*oa,m7e=go+oa,xP=Number.POSITIVE_INFINITY,A7e=oa/180,Ia=oa/2,DD=oa/4,xoe=2*oa/3,af=Math.log10,Cm=Math.sign;function Coe(n){const t=Math.round(n);n=MD(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(af(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Kw(n){return!isNaN(parseFloat(n))&&isFinite(n)}function MD(n,t,e){return Math.abs(n-t)<e}function Soe(n,t,e){let i,r,s;for(i=0,r=n.length;i<r;i++)s=n[i][e],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function dp(n){return n*(oa/180)}function EV(n){return n*(180/oa)}function Eoe(n){if(!Za(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function Doe(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let s=Math.atan2(i,e);return s<-.5*oa&&(s+=go),{angle:s,distance:r}}function DV(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function _7e(n,t){return(n-t+m7e)%go-oa}function dh(n){return(n%go+go)%go}function TD(n,t,e,i){const r=dh(n),s=dh(t),o=dh(e),a=dh(s-r),l=dh(o-r),c=dh(r-s),u=dh(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function lc(n,t,e){return Math.max(t,Math.min(e,n))}function FA(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function MV(n,t,e){e=e||(o=>n[o]<t);let s,i=n.length-1,r=0;for(;i-r>1;)s=r+i>>1,e(s)?r=s:i=s;return{lo:r,hi:i}}const PA=(n,t,e,i)=>MV(n,e,i?r=>n[r][t]<=e:r=>n[r][t]<e),y7e=(n,t,e)=>MV(n,e,i=>n[i][t]>=e),Moe=["push","pop","shift","splice","unshift"];function Toe(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),!(i.length>0)&&(Moe.forEach(s=>{delete n[s]}),delete n._chartjs)}function Noe(n){const t=new Set;let e,i;for(e=0,i=n.length;e<i;++e)t.add(n[e]);return t.size===i?n:Array.from(t)}const Ioe=typeof window>"u"?function(n){return n()}:window.requestAnimationFrame;function Boe(n,t,e){const i=e||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=i(o),r||(r=!0,Ioe.call(window,()=>{r=!1,n.apply(t,s)}))}}const TV=n=>"start"===n?"left":"end"===n?"right":"center",Wc=(n,t,e)=>"start"===n?t:"end"===n?e:(t+e)/2;function Foe(n,t,e){const i=t.length;let r=0,s=i;if(n._sorted){const{iScale:o,_parsed:a}=n,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();d&&(r=lc(Math.min(PA(a,o.axis,c).lo,e?i:PA(t,l,o.getPixelForValue(c)).lo),0,i-1)),s=f?lc(Math.max(PA(a,o.axis,u,!0).hi+1,e?0:PA(t,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:s}}function Poe(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const s=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),s}const CP=n=>0===n||1===n,Ooe=(n,t,e)=>-Math.pow(2,10*(n-=1))*Math.sin((n-t)*go/e),Roe=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*go/e)+1,ND={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>1-Math.cos(n*Ia),easeOutSine:n=>Math.sin(n*Ia),easeInOutSine:n=>-.5*(Math.cos(oa*n)-1),easeInExpo:n=>0===n?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>1===n?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>CP(n)?n:n<.5?.5*Math.pow(2,10*(2*n-1)):.5*(2-Math.pow(2,-10*(2*n-1))),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>CP(n)?n:Ooe(n,.075,.3),easeOutElastic:n=>CP(n)?n:Roe(n,.075,.3),easeInOutElastic:n=>CP(n)?n:n<.5?.5*Ooe(2*n,.1125,.45):.5+.5*Roe(2*n-1,.1125,.45),easeInBack:n=>n*n*(2.70158*n-1.70158),easeOutBack:n=>(n-=1)*n*(2.70158*n+1.70158)+1,easeInOutBack(n){let t=1.70158;return(n/=.5)<1?n*n*((1+(t*=1.525))*n-t)*.5:.5*((n-=2)*n*((1+(t*=1.525))*n+t)+2)},easeInBounce:n=>1-ND.easeOutBounce(1-n),easeOutBounce:n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,easeInOutBounce:n=>n<.5?.5*ND.easeInBounce(2*n):.5*ND.easeOutBounce(2*n-1)+.5};function ID(n){return n+.5|0}const Pv=(n,t,e)=>Math.max(Math.min(n,e),t);function BD(n){return Pv(ID(2.55*n),0,255)}function Ov(n){return Pv(ID(255*n),0,255)}function OA(n){return Pv(ID(n/2.55)/100,0,1)}function koe(n){return Pv(ID(100*n),0,100)}const lf={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},NV=[..."0123456789ABCDEF"],E7e=n=>NV[15&n],D7e=n=>NV[(240&n)>>4]+NV[15&n],SP=n=>(240&n)>>4==(15&n);const B7e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Loe(n,t,e){const i=t*Math.min(e,1-e),r=(s,o=(s+n/30)%12)=>e-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function F7e(n,t,e){const i=(r,s=(r+n/60)%6)=>e-e*t*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function P7e(n,t,e){const i=Loe(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function IV(n){const e=n.r/255,i=n.g/255,r=n.b/255,s=Math.max(e,i,r),o=Math.min(e,i,r),a=(s+o)/2;let l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=function O7e(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}(e,i,r,u,s),l=60*l+.5),[0|l,c||0,a]}function BV(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Ov)}function FV(n,t,e){return BV(Loe,n,t,e)}function Uoe(n){return(n%360+360)%360}const Hoe={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Voe={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let EP;const Q7e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,PV=n=>n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055,Xw=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function DP(n,t,e){if(n){let i=IV(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,0===t?360:1)),i=FV(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function zoe(n,t){return n&&Object.assign(t||{},n)}function Qoe(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Ov(n[3]))):(t=zoe(n,{r:0,g:0,b:0,a:1})).a=Ov(t.a),t}function W7e(n){return"r"===n.charAt(0)?function G7e(n){const t=Q7e.exec(n);let i,r,s,e=255;if(t){if(t[7]!==i){const o=+t[7];e=t[8]?BD(o):Pv(255*o,0,255)}return i=+t[1],r=+t[3],s=+t[5],i=255&(t[2]?BD(i):Pv(i,0,255)),r=255&(t[4]?BD(r):Pv(r,0,255)),s=255&(t[6]?BD(s):Pv(s,0,255)),{r:i,g:r,b:s,a:e}}}(n):function L7e(n){const t=B7e.exec(n);let i,e=255;if(!t)return;t[5]!==i&&(e=t[6]?BD(+t[5]):Ov(+t[5]));const r=Uoe(+t[2]),s=+t[3]/100,o=+t[4]/100;return i="hwb"===t[1]?function R7e(n,t,e){return BV(P7e,n,t,e)}(r,s,o):"hsv"===t[1]?function k7e(n,t,e){return BV(F7e,n,t,e)}(r,s,o):FV(r,s,o),{r:i[0],g:i[1],b:i[2],a:e}}(n)}class MP{constructor(t){if(t instanceof MP)return t;const e=typeof t;let i;"object"===e?i=Qoe(t):"string"===e&&(i=function T7e(n){var e,t=n.length;return"#"===n[0]&&(4===t||5===t?e={r:255&17*lf[n[1]],g:255&17*lf[n[2]],b:255&17*lf[n[3]],a:5===t?17*lf[n[4]]:255}:(7===t||9===t)&&(e={r:lf[n[1]]<<4|lf[n[2]],g:lf[n[3]]<<4|lf[n[4]],b:lf[n[5]]<<4|lf[n[6]],a:9===t?lf[n[7]]<<4|lf[n[8]]:255})),e}(t)||function z7e(n){EP||(EP=function V7e(){const n={},t=Object.keys(Voe),e=Object.keys(Hoe);let i,r,s,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],r=0;r<e.length;r++)s=e[r],a=a.replace(s,Hoe[s]);s=parseInt(Voe[o],16),n[a]=[s>>16&255,s>>8&255,255&s]}return n}(),EP.transparent=[0,0,0,0]);const t=EP[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(t)||W7e(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=zoe(this._rgb);return t&&(t.a=OA(t.a)),t}set rgb(t){this._rgb=Qoe(t)}rgbString(){return this._valid?function j7e(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${OA(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}(this._rgb):void 0}hexString(){return this._valid?function I7e(n){var t=(n=>SP(n.r)&&SP(n.g)&&SP(n.b)&&SP(n.a))(n)?E7e:D7e;return n?"#"+t(n.r)+t(n.g)+t(n.b)+((n,t)=>n<255?t(n):"")(n.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function H7e(n){if(!n)return;const t=IV(n),e=t[0],i=koe(t[1]),r=koe(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${OA(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=i.a-r.a,c=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function q7e(n,t,e){const i=Xw(OA(n.r)),r=Xw(OA(n.g)),s=Xw(OA(n.b));return{r:Ov(PV(i+e*(Xw(OA(t.r))-i))),g:Ov(PV(r+e*(Xw(OA(t.g))-r))),b:Ov(PV(s+e*(Xw(OA(t.b))-s))),a:n.a+e*(t.a-n.a)}}(this._rgb,t._rgb,e)),this}clone(){return new MP(this.rgb)}alpha(t){return this._rgb.a=Ov(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=ID(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return DP(this._rgb,2,t),this}darken(t){return DP(this._rgb,2,-t),this}saturate(t){return DP(this._rgb,1,t),this}desaturate(t){return DP(this._rgb,1,-t),this}rotate(t){return function U7e(n,t){var e=IV(n);e[0]=Uoe(e[0]+t),e=FV(e),n.r=e[0],n.g=e[1],n.b=e[2]}(this._rgb,t),this}}function Goe(n){return new MP(n)}function joe(n){if(n&&"object"==typeof n){const t=n.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function qoe(n){return joe(n)?n:Goe(n)}function OV(n){return joe(n)?n:Goe(n).saturate(.5).darken(.1).hexString()}const ub=Object.create(null),RV=Object.create(null);function FD(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const s=e[i];n=n[s]||(n[s]=Object.create(null))}return n}function kV(n,t,e){return"string"==typeof t?SD(FD(n,t),e):SD(FD(n,""),t)}var os=new class $7e{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,i)=>OV(i.backgroundColor),this.hoverBorderColor=(e,i)=>OV(i.borderColor),this.hoverColor=(e,i)=>OV(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,e){return kV(this,t,e)}get(t){return FD(this,t)}describe(t,e){return kV(RV,t,e)}override(t,e){return kV(ub,t,e)}route(t,e,i,r){const s=FD(this,t),o=FD(this,i),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],c=o[r];return ss(l)?Object.assign({},c,l):Br(l,c)},set(l){this[a]=l}}})}}({_scriptable:n=>!n.startsWith("on"),_indexable:n=>"events"!==n,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function TP(n,t,e,i,r){let s=t[r];return s||(s=t[r]=n.measureText(r).width,e.push(r)),s>i&&(i=s),i}function X7e(n,t,e,i){let r=(i=i||{}).data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},s=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let o=0;const a=e.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=e[l],null!=d&&!0!==Go(d))o=TP(n,r,s,o,d);else if(Go(d))for(c=0,u=d.length;c<u;c++)f=d[c],null!=f&&!Go(f)&&(o=TP(n,r,s,o,f));n.restore();const h=s.length/2;if(h>e.length){for(l=0;l<h;l++)delete r[s[l]];s.splice(0,h)}return o}function db(n,t,e){const i=n.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Woe(n,t){(t=t||n.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore()}function LV(n,t,e,i){$oe(n,t,e,i,null)}function $oe(n,t,e,i,r){let s,o,a,l,c,u;const d=t.pointStyle,f=t.rotation,h=t.radius;let p=(f||0)*A7e;if(d&&"object"==typeof d&&(s=d.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return n.save(),n.translate(e,i),n.rotate(p),n.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void n.restore();if(!(isNaN(h)||h<=0)){switch(n.beginPath(),d){default:r?n.ellipse(e,i,r/2,h,0,0,go):n.arc(e,i,h,0,go),n.closePath();break;case"triangle":n.moveTo(e+Math.sin(p)*h,i-Math.cos(p)*h),p+=xoe,n.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*h),p+=xoe,n.lineTo(e+Math.sin(p)*h,i-Math.cos(p)*h),n.closePath();break;case"rectRounded":c=.516*h,l=h-c,o=Math.cos(p+DD)*l,a=Math.sin(p+DD)*l,n.arc(e-o,i-a,c,p-oa,p-Ia),n.arc(e+a,i-o,c,p-Ia,p),n.arc(e+o,i+a,c,p,p+Ia),n.arc(e-a,i+o,c,p+Ia,p+oa),n.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*h,u=r?r/2:l,n.rect(e-u,i-l,2*u,2*l);break}p+=DD;case"rectRot":o=Math.cos(p)*h,a=Math.sin(p)*h,n.moveTo(e-o,i-a),n.lineTo(e+a,i-o),n.lineTo(e+o,i+a),n.lineTo(e-a,i+o),n.closePath();break;case"crossRot":p+=DD;case"cross":o=Math.cos(p)*h,a=Math.sin(p)*h,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"star":o=Math.cos(p)*h,a=Math.sin(p)*h,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o),p+=DD,o=Math.cos(p)*h,a=Math.sin(p)*h,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a),n.moveTo(e+a,i-o),n.lineTo(e-a,i+o);break;case"line":o=r?r/2:Math.cos(p)*h,a=Math.sin(p)*h,n.moveTo(e-o,i-a),n.lineTo(e+o,i+a);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(p)*h,i+Math.sin(p)*h)}n.fill(),t.borderWidth>0&&n.stroke()}}function PD(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function NP(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function IP(n){n.restore()}function Y7e(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if("middle"===r){const s=(t.x+e.x)/2;n.lineTo(s,t.y),n.lineTo(s,e.y)}else"after"===r!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function Z7e(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function hb(n,t,e,i,r,s={}){const o=Go(t)?t:[t],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(n.save(),n.font=r.string,function J7e(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Es(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}(n,s),l=0;l<o.length;++l)c=o[l],a&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),Es(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(c,e,i,s.maxWidth)),n.fillText(c,e,i,s.maxWidth),eQe(n,e,i,c,s),i+=r.lineHeight;n.restore()}function eQe(n,t,e,i,r){if(r.strikethrough||r.underline){const s=n.measureText(i),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,c=e+s.actualBoundingBoxDescent,u=r.strikethrough?(e-s.actualBoundingBoxAscent+c)/2:c;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(o,u),n.lineTo(a,u),n.stroke()}}function OD(n,t){const{x:e,y:i,w:r,h:s,radius:o}=t;n.arc(e+o.topLeft,i+o.topLeft,o.topLeft,-Ia,oa,!0),n.lineTo(e,i+s-o.bottomLeft),n.arc(e+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,oa,Ia,!0),n.lineTo(e+r-o.bottomRight,i+s),n.arc(e+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,Ia,0,!0),n.lineTo(e+r,i+o.topRight),n.arc(e+r-o.topRight,i+o.topRight,o.topRight,0,-Ia,!0),n.lineTo(e+o.topLeft,i)}const tQe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),nQe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function iQe(n,t){const e=(""+n).match(tQe);if(!e||"normal"===e[1])return 1.2*t;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100}return t*n}const rQe=n=>+n||0;function UV(n,t){const e={},i=ss(t),r=i?Object.keys(t):t,s=ss(n)?i?o=>Br(n[o],n[t[o]]):o=>n[o]:()=>n;for(const o of r)e[o]=rQe(s(o));return e}function Koe(n){return UV(n,{top:"y",right:"x",bottom:"y",left:"x"})}function fb(n){return UV(n,["topLeft","topRight","bottomLeft","bottomRight"])}function $c(n){const t=Koe(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ol(n,t){let e=Br((n=n||{}).size,(t=t||os.font).size);"string"==typeof e&&(e=parseInt(e,10));let i=Br(n.style,t.style);i&&!(""+i).match(nQe)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:Br(n.family,t.family),lineHeight:iQe(Br(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Br(n.weight,t.weight),string:""};return r.string=function K7e(n){return!n||Es(n.size)||Es(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}(r),r}function RD(n,t,e,i){let s,o,a,r=!0;for(s=0,o=n.length;s<o;++s)if(a=n[s],void 0!==a&&(void 0!==t&&"function"==typeof a&&(a=a(t),r=!1),void 0!==e&&Go(a)&&(a=a[e%a.length],r=!1),void 0!==a))return i&&!r&&(i.cacheable=!1),a}function Rv(n,t){return Object.assign(Object.create(n),t)}function HV(n,t=[""],e=n,i,r=(()=>n[0])){sf(i)||(i=eae("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:e,_fallback:i,_getTarget:r,override:o=>HV([o,...n],t,e,i)};return new Proxy(s,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete n[0][a],!0),get:(o,a)=>Yoe(o,a,()=>function fQe(n,t,e,i){let r;for(const s of t)if(r=eae(oQe(s,n),e),sf(r))return VV(n,r)?zV(e,i,n,r):r}(a,t,n,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(n[0]),has:(o,a)=>tae(o).includes(a),ownKeys:o=>tae(o),set(o,a,l){const c=o._storage||(o._storage=r());return o[a]=c[a]=l,delete o._keys,!0}})}function Yw(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Xoe(n,i),setContext:s=>Yw(n,s,e,i),override:s=>Yw(n.override(s),t,e,i)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete n[o],!0),get:(s,o,a)=>Yoe(s,o,()=>function aQe(n,t,e){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=n;let a=i[t];return Fv(a)&&o.isScriptable(t)&&(a=function lQe(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(n))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+n);return a.add(n),t=t(s,o||i),a.delete(n),VV(n,t)&&(t=zV(r._scopes,r,n,t)),t}(t,a,n,e)),Go(a)&&a.length&&(a=function cQe(n,t,e,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(sf(s.index)&&i(n))t=t[s.index%t.length];else if(ss(t[0])){const l=t,c=r._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=zV(c,r,n,u);t.push(Yw(d,s,o&&o[n],a))}}return t}(t,a,n,o.isIndexable)),VV(t,a)&&(a=Yw(a,r,s&&s[t],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(n,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,o),getPrototypeOf:()=>Reflect.getPrototypeOf(n),has:(s,o)=>Reflect.has(n,o),ownKeys:()=>Reflect.ownKeys(n),set:(s,o,a)=>(n[o]=a,delete s[o],!0)})}function Xoe(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Fv(e)?e:()=>e,isIndexable:Fv(i)?i:()=>i}}const oQe=(n,t)=>n?n+SV(t):t,VV=(n,t)=>ss(t)&&"adapters"!==n&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Yoe(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t))return n[t];const i=e();return n[t]=i,i}function Zoe(n,t,e){return Fv(n)?n(t,e):n}const uQe=(n,t)=>!0===n?t:"string"==typeof n?Bv(t,n):void 0;function dQe(n,t,e,i,r){for(const s of t){const o=uQe(e,s);if(o){n.add(o);const a=Zoe(o._fallback,e,r);if(sf(a)&&a!==e&&a!==i)return a}else if(!1===o&&sf(i)&&e!==i)return null}return!1}function zV(n,t,e,i){const r=t._rootScopes,s=Zoe(t._fallback,e,i),o=[...n,...r],a=new Set;a.add(i);let l=Joe(a,o,e,s||e,i);return!(null===l||sf(s)&&s!==e&&(l=Joe(a,o,s,l,i),null===l))&&HV(Array.from(a),[""],r,s,()=>function hQe(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Go(r)&&ss(e)?e:r}(t,e,i))}function Joe(n,t,e,i,r){for(;e;)e=dQe(n,t,e,i,r);return e}function eae(n,t){for(const e of t){if(!e)continue;const i=e[n];if(sf(i))return i}}function tae(n){let t=n._keys;return t||(t=n._keys=function pQe(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}(n._scopes)),t}function nae(n,t,e,i){const{iScale:r}=n,{key:s="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+e,u=t[c],o[a]={r:r.parse(Bv(u,s),c)};return o}const mQe=Number.EPSILON||1e-14,Zw=(n,t)=>t<n.length&&!n[t].skip&&n[t],iae=n=>"x"===n?"y":"x";function AQe(n,t,e,i){const r=n.skip?t:n,s=t,o=e.skip?t:e,a=DV(s,r),l=DV(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=i*c,f=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function BP(n,t,e){return Math.max(Math.min(n,e),t)}function yQe(n,t,e,i,r){let s,o,a,l;if(t.spanGaps&&(n=n.filter(c=>!c.skip)),"monotone"===t.cubicInterpolationMode)!function _Qe(n,t="x"){const e=iae(t),i=n.length,r=Array(i).fill(0),s=Array(i);let o,a,l,c=Zw(n,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zw(n,o+1),l){if(c){const u=c[t]-l[t];r[o]=0!==u?(c[e]-l[e])/u:0}s[o]=a?c?Cm(r[o-1])!==Cm(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function gQe(n,t,e){const i=n.length;let r,s,o,a,l,c=Zw(n,0);for(let u=0;u<i-1;++u)if(l=c,c=Zw(n,u+1),l&&c){if(MD(t[u],0,mQe)){e[u]=e[u+1]=0;continue}r=e[u]/t[u],s=e[u+1]/t[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[u]=r*o*t[u],e[u+1]=s*o*t[u])}})(n,r,s),function vQe(n,t,e="x"){const i=iae(e),r=n.length;let s,o,a,l=Zw(n,0);for(let c=0;c<r;++c){if(o=a,a=l,l=Zw(n,c+1),!a)continue;const u=a[e],d=a[i];o&&(s=(u-o[e])/3,a[`cp1${e}`]=u-s,a[`cp1${i}`]=d-s*t[c]),l&&(s=(l[e]-u)/3,a[`cp2${e}`]=u+s,a[`cp2${i}`]=d+s*t[c])}}(n,s,t)}(n,r);else{let c=i?n[n.length-1]:n[0];for(s=0,o=n.length;s<o;++s)a=n[s],l=AQe(c,a,n[Math.min(s+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&function bQe(n,t){let e,i,r,s,o,a=PD(n[0],t);for(e=0,i=n.length;e<i;++e)o=s,s=a,a=e<i-1&&PD(n[e+1],t),s&&(r=n[e],o&&(r.cp1x=BP(r.cp1x,t.left,t.right),r.cp1y=BP(r.cp1y,t.top,t.bottom)),a&&(r.cp2x=BP(r.cp2x,t.left,t.right),r.cp2y=BP(r.cp2y,t.top,t.bottom)))}(n,e)}function rae(){return typeof window<"u"&&typeof document<"u"}function QV(n){let t=n.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function FP(n,t,e){let i;return"string"==typeof n?(i=parseInt(n,10),-1!==n.indexOf("%")&&(i=i/100*t.parentNode[e])):i=n,i}const PP=n=>window.getComputedStyle(n,null),xQe=["top","right","bottom","left"];function pb(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=xQe[r];i[s]=parseFloat(n[t+"-"+s+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const CQe=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function mb(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=PP(e),s="border-box"===r.boxSizing,o=pb(r,"padding"),a=pb(r,"border","width"),{x:l,y:c,box:u}=function SQe(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:s}=i;let a,l,o=!1;if(CQe(r,s,n.target))a=r,l=s;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}(n,e),d=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:h,height:p}=t;return s&&(h-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/h*e.width/i),y:Math.round((c-f)/p*e.height/i)}}const GV=n=>Math.round(10*n)/10;function sae(n,t,e){const i=t||1,r=Math.floor(n.height*i),s=Math.floor(n.width*i);n.height=r/i,n.width=s/i;const o=n.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${n.height}px`,o.style.width=`${n.width}px`),(n.currentDevicePixelRatio!==i||o.height!==r||o.width!==s)&&(n.currentDevicePixelRatio=i,o.height=r,o.width=s,n.ctx.setTransform(i,0,0,i,0,0),!0)}const MQe=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return n}();function oae(n,t){const e=function wQe(n,t){return PP(n).getPropertyValue(t)}(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ab(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function TQe(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:"middle"===i?e<.5?n.y:t.y:"after"===i?e<1?n.y:t.y:e>0?t.y:n.y}}function NQe(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},s={x:t.cp1x,y:t.cp1y},o=Ab(n,r,e),a=Ab(r,s,e),l=Ab(s,t,e),c=Ab(o,a,e),u=Ab(a,l,e);return Ab(c,u,e)}const aae=new Map;function kD(n,t,e){return function IQe(n,t){t=t||{};const e=n+JSON.stringify(t);let i=aae.get(e);return i||(i=new Intl.NumberFormat(n,t),aae.set(e,i)),i}(t,e).format(n)}function Jw(n,t,e){return n?function(n,t){return{x:e=>n+n+t-e,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,i)=>e-i,leftForLtr:(e,i)=>e-i}}(t,e):{x:n=>n,setWidth(n){},textAlign:n=>n,xPlus:(n,t)=>n+t,leftForLtr:(n,t)=>n}}function lae(n,t){let e,i;("ltr"===t||"rtl"===t)&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function cae(n,t){void 0!==t&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function uae(n){return"angle"===n?{between:TD,compare:_7e,normalize:dh}:{between:FA,compare:(t,e)=>t-e,normalize:t=>t}}function dae({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e==0,style:r}}function hae(n,t,e){if(!e)return[n];const{property:i,start:r,end:s}=e,o=t.length,{compare:a,between:l,normalize:c}=uae(i),{start:u,end:d,loop:f,style:h}=function PQe(n,t,e){const{property:i,start:r,end:s}=e,{between:o,normalize:a}=uae(i),l=t.length;let f,h,{start:c,end:u,loop:d}=n;if(d){for(c+=l,u+=l,f=0,h=l;f<h&&o(a(t[c%l][i]),r,s);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:n.style}}(n,t,e),p=[];let A,_,v,m=!1,g=null;for(let D=u,S=u;D<=d;++D)_=t[D%o],!_.skip&&(A=c(_[i]),A!==v&&(m=l(A,r,s),null===g&&(m||l(r,v,A)&&0!==a(r,v))&&(g=0===a(A,r)?D:S),null!==g&&(!m||0===a(s,A)||l(s,v,A))&&(p.push(dae({start:g,end:D,loop:f,count:o,style:h})),g=null),S=D,v=A));return null!==g&&p.push(dae({start:g,end:d,loop:f,count:o,style:h})),p}function fae(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const s=hae(i[r],n.points,t);s.length&&e.push(...s)}return e}function mae(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function UQe(n,t){return t&&JSON.stringify(n)!==JSON.stringify(t)}var RA=new class HQe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.duration;e.listeners[r].forEach(a=>a({chart:t,initial:e.initial,numSteps:o,currentStep:Math.min(i-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Ioe.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let l,o=s.length-1,a=!1;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,t,"progress")),s.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=s.length}),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}};const Aae="transparent",VQe={boolean:(n,t,e)=>e>.5?t:n,color(n,t,e){const i=qoe(n||Aae),r=i.valid&&qoe(t||Aae);return r&&r.valid?r.mix(i,e).hexString():t},number:(n,t,e)=>n+(t-n)*e};class zQe{constructor(t,e,i,r){const s=e[i];r=RD([t.to,r,s,t.from]);const o=RD([t.from,s,r]);this._active=!0,this._fn=t.fn||VQe[t.type||typeof o],this._easing=ND[t.easing]||ND.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=RD([t.to,e,r,t.from]),this._from=RD([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<i),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=s:(l=e/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l))}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}os.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jQe=Object.keys(os.animation);os.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>"onProgress"!==n&&"onComplete"!==n&&"fn"!==n}),os.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),os.describe("animations",{_fallback:"animation"}),os.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>0|n}}}});class gae{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ss(t))return;const e=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!ss(r))return;const s={};for(const o of jQe)s[o]=r[o];(Go(r.properties)&&r.properties||[i]).forEach(o=>{(o===i||!e.has(o))&&e.set(o,s)})})}_animateOptions(t,e){const i=e.options,r=function WQe(n,t){if(!t)return;let e=n.options;if(e)return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;n.options=t}(t,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&function qQe(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const s=n[i[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(t.options.$animations,i).then(()=>{t.options=i},()=>{}),s}_createAnimations(t,e){const i=this._properties,r=[],s=t.$animations||(t.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if("$"===c.charAt(0))continue;if("options"===c){r.push(...this._animateOptions(t,e));continue}const u=e[c];let d=s[c];const f=i.get(c);if(d){if(f&&d.active()){d.update(f,u,a);continue}d.cancel()}f&&f.duration?(s[c]=d=new zQe(f,t,c,u),r.push(d)):t[c]=u}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(RA.add(this._chart,i),!0):void 0}}function vae(n,t){const e=n&&n.options||{},i=e.reverse,r=void 0===e.min?t:0,s=void 0===e.max?t:0;return{start:i?s:r,end:i?r:s}}function _ae(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,s;for(r=0,s=i.length;r<s;++r)e.push(i[r].index);return e}function bae(n,t,e,i={}){const r=n.keys,s="single"===i.mode;let o,a,l,c;if(null!==t){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(i.all)continue;break}c=n.values[l],Za(c)&&(s||0===t||Cm(t)===Cm(c))&&(t+=c)}return t}}function yae(n,t){const e=n&&n.options.stacked;return e||void 0===e&&void 0!==t.stack}function JQe(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function wae(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const s=n[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function xae(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=function YQe(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}(s,o,i),d=t.length;let f;for(let h=0;h<d;++h){const p=t[h],{[l]:m,[c]:g}=p;f=(p._stacks||(p._stacks={}))[c]=JQe(r,u,m),f[a]=g,f._top=wae(f,o,!0,i.type),f._bottom=wae(f,o,!1,i.type)}}function jV(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function LD(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const s=r._stacks;if(!s||void 0===s[i]||void 0===s[i][e])return;delete s[i][e]}}}const qV=n=>"reset"===n||"none"===n,Cae=(n,t)=>t?n:Object.assign({},n);let Sm=(()=>{class n{constructor(e,i){this.chart=e,this._ctx=e.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=yae(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&LD(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(f,h,p,m)=>"x"===f?h:"r"===f?m:p,o=i.xAxisID=Br(r.xAxisID,jV(e,"x")),a=i.yAxisID=Br(r.yAxisID,jV(e,"y")),l=i.rAxisID=Br(r.rAxisID,jV(e,"r")),c=i.indexAxis,u=i.iAxisID=s(c,o,a,l),d=i.vAxisID=s(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const i=this._cachedMeta;return e===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Toe(this._data,this),e._stacked&&LD(e)}_dataCheck(){const e=this.getDataset(),i=e.data||(e.data=[]),r=this._data;if(ss(i))this._data=function XQe(n){const t=Object.keys(n),e=new Array(t.length);let i,r,s;for(i=0,r=t.length;i<r;++i)s=t[i],e[i]={x:s,y:n[s]};return e}(i);else if(r!==i){if(r){Toe(r,this);const s=this._cachedMeta;LD(s),s._parsed=[]}i&&Object.isExtensible(i)&&function x7e(n,t){n._chartjs?n._chartjs.listeners.push(t):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Moe.forEach(e=>{const i="_onData"+SV(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return n._chartjs.listeners.forEach(a=>{"function"==typeof a[i]&&a[i](...s)}),o}})}))}(i,this),this._syncList=[],this._data=i}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const i=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=i._stacked;i._stacked=yae(i.vScale,i),i.stack!==r.stack&&(s=!0,LD(i),i.stack=r.stack),this._resyncElements(e),(s||o!==i._stacked)&&xae(this,i._parsed)}configure(){const e=this.chart.config,i=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),i,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,i){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis;let d,f,h,c=0===e&&i===s.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,h=s;else{h=Go(s[e])?this.parseArrayData(r,s,e,i):ss(s[e])?this.parseObjectData(r,s,e,i):this.parsePrimitiveData(r,s,e,i);const p=()=>null===f[l]||u&&f[l]<u[l];for(d=0;d<i;++d)r._parsed[d+e]=f=h[d],c&&(p()&&(c=!1),u=f);r._sorted=c}a&&xae(this,h)}parsePrimitiveData(e,i,r,s){const{iScale:o,vScale:a}=e,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,f=new Array(s);let h,p,m;for(h=0,p=s;h<p;++h)m=h+r,f[h]={[l]:d||o.parse(u[m],m),[c]:a.parse(i[m],m)};return f}parseArrayData(e,i,r,s){const{xScale:o,yScale:a}=e,l=new Array(s);let c,u,d,f;for(c=0,u=s;c<u;++c)d=c+r,f=i[d],l[c]={x:o.parse(f[0],d),y:a.parse(f[1],d)};return l}parseObjectData(e,i,r,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s);let d,f,h,p;for(d=0,f=s;d<f;++d)h=d+r,p=i[h],u[d]={x:o.parse(Bv(p,l),h),y:a.parse(Bv(p,c),h)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,i,r){const o=this._cachedMeta,a=i[e.axis];return bae({keys:_ae(this.chart,!0),values:i._stacks[e.axis]},a,o.index,{mode:r})}updateRangeFromParsed(e,i,r,s){const o=r[i.axis];let a=null===o?NaN:o;const l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=bae(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,i){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),c=((n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_ae(this.chart,!0),values:null})(i,r),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=function ZQe(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let h,p;function m(){p=s[h];const g=p[l.axis];return!Za(p[e.axis])||d>g||f<g}for(h=0;h<a&&(m()||(this.updateRangeFromParsed(u,e,p,c),!o));++h);if(o)for(h=a-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(u,e,p,c);break}return u}getAllParsedValues(e){const i=this._cachedMeta._parsed,r=[];let s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][e.axis],Za(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const i=this._cachedMeta;this.update(e||"default"),i._clip=function KQe(n){let t,e,i,r;return ss(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:!1===n}}(Br(this.options.clip,function $Qe(n,t,e){if(!1===e)return!1;const i=vae(n,e),r=vae(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(i.xScale,i.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(e,o,l,c),d=l;d<l+c;++d){const f=s[d];f.hidden||(f.active&&u?a.push(f):f.draw(e,o))}for(d=0;d<a.length;++d)a[d].draw(e,o)}getStyle(e,i){const r=i?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,i,r){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=function tGe(n,t,e){return Rv(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function eGe(n,t){return Rv(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,i){return this._resolveElementOptions(this.dataElementType.id,i,e)}_resolveElementOptions(e,i="default",r){const s="active"===i,o=this._cachedDataOpts,a=e+"-"+i,l=o[a],c=this.enableOptionSharing&&sf(r);if(l)return Cae(l,c);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),f=s?[`${e}Hover`,"hover",e,""]:[e,""],h=u.getOptionScopes(this.getDataset(),d),p=Object.keys(os.elements[e]),g=u.resolveNamedOptions(h,p,()=>this.getContext(r,s),f);return g.$shared&&(g.$shared=c,o[a]=Object.freeze(Cae(g,c))),g}_resolveAnimations(e,i,r){const s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(!1!==s.options.animation){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,i),h=d.getOptionScopes(this.getDataset(),f);c=d.createResolver(h,this.getContext(e,r,i))}const u=new gae(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,i){return!i||qV(e)||this.chart._animationsDisabled}_getSharedOptions(e,i){const r=this.resolveDataElementOptions(e,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(e,i,r,s){qV(s)?Object.assign(e,r):this._resolveAnimations(i,s).update(e,r)}updateSharedOptions(e,i,r){e&&!qV(i)&&this._resolveAnimations(void 0,i).update(e,r)}_setStyle(e,i,r,s){e.active=s;const o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,i,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,i,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const i=this._data,r=this._cachedMeta.data;for(const[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];const s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,i,r=!0){const s=this._cachedMeta,o=s.data,a=e+i;let l;const c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(e,i),r&&this.updateElements(o,e,i,"reset")}updateElements(e,i,r,s){}_removeElements(e,i){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,i);r._stacked&&LD(r,s)}r.data.splice(e,i)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[i,r,s]=e;this[i](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,i){i&&this._sync(["_removeElements",e,i]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return n.defaults={},n})();function rGe(n){const t=n.iScale,e=function iGe(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,s=e.length;r<s;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=Noe(i.sort((r,s)=>r-s))}return n._cache.$bar}(t,n.type);let r,s,o,a,i=t._length;const l=()=>{32767===o||-32768===o||(sf(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=e.length;r<s;++r)o=t.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=t.ticks.length;r<s;++r)o=t.getPixelForTick(r),l();return i}function Sae(n,t,e,i){return Go(n)?function aGe(n,t,e,i){const r=e.parse(n[0],i),s=e.parse(n[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[e.axis]=c,t._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Eae(n,t,e,i){const r=n.iScale,s=n.vScale,o=r.getLabels(),a=r===s,l=[];let c,u,d,f;for(c=e,u=e+i;c<u;++c)f=t[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(Sae(f,d,s,c));return l}function WV(n){return n&&void 0!==n.barStart&&void 0!==n.barEnd}function uGe(n,t,e,i){let r=t.borderSkipped;const s={};if(!r)return void(n.borderSkipped=s);if(!0===r)return void(n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function cGe(n){let t,e,i,r,s;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",s="start"):(r="start",s="end"),{start:e,end:i,reverse:t,top:r,bottom:s}}(n);"middle"===r&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=c:(e._bottom||0)===i?r=u:(s[Dae(u,o,a,l)]=!0,r=c)),s[Dae(r,o,a,l)]=!0,n.borderSkipped=s}function Dae(n,t,e,i){return i?(n=function dGe(n,t,e){return n===t?e:n===e?t:n}(n,t,e),n=Mae(n,e,t)):n=Mae(n,t,e),n}function Mae(n,t,e){return"start"===n?t:"end"===n?e:n}function hGe(n,{inflateAmount:t},e){n.inflateAmount="auto"===t?1===e?.33:0:t}Sm.prototype.datasetElementType=null,Sm.prototype.dataElementType=null;let fGe=(()=>{class n extends Sm{parsePrimitiveData(e,i,r,s){return Eae(e,i,r,s)}parseArrayData(e,i,r,s){return Eae(e,i,r,s)}parseObjectData(e,i,r,s){const{iScale:o,vScale:a}=e,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u="x"===o.axis?l:c,d="x"===a.axis?l:c,f=[];let h,p,m,g;for(h=r,p=r+s;h<p;++h)g=i[h],m={},m[o.axis]=o.parse(Bv(g,u),h),f.push(Sae(Bv(g,d),m,a,h));return f}updateRangeFromParsed(e,i,r,s){super.updateRangeFromParsed(e,i,r,s);const o=r._custom;o&&i===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(e),a=o._custom,l=WV(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,e)}updateElements(e,i,r,s){const o="reset"===s,{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(i,s);for(let p=i;p<i+r;p++){const m=this.getParsed(p),g=o||Es(m[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),A=this._calculateBarIndexPixels(p,d),_=(m._stacks||{})[l.axis],v={horizontal:u,base:g.base,enableBorderRadius:!_||WV(m._custom)||a===_._top||a===_._bottom,x:u?g.head:A.center,y:u?A.center:g.head,height:u?A.size:Math.abs(g.size),width:u?Math.abs(g.size):A.size};h&&(v.options=f||this.resolveDataElementOptions(p,e[p].active?"active":s));const b=v.options||e[p].options;uGe(v,b,_,a),hGe(v,b,d.ratio),this.updateElement(e[p],p,v,s)}}_getStacks(e,i){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=r.options.stacked,a=[],l=c=>{const u=c.controller.getParsed(i),d=u&&u[c.vScale.axis];if(Es(d)||isNaN(d))return!0};for(const c of s)if((void 0===i||!l(c))&&((!1===o||-1===a.indexOf(c.stack)||void 0===o&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,i,r){const s=this._getStacks(e,r),o=void 0!==i?s.indexOf(i):-1;return-1===o?s.length-1:o}_getRuler(){const e=this.options,i=this._cachedMeta,r=i.iScale,s=[];let o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const l=e.barThickness;return{min:l||rGe(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:i,_stacked:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),c=l._custom,u=WV(c);let p,m,d=l[i.axis],f=0,h=r?this.applyStack(i,l,r):d;h!==d&&(f=h-d,h=d),u&&(d=c.barStart,h=c.barEnd-c.barStart,0!==d&&Cm(d)!==Cm(c.barEnd)&&(f=0),f+=d);const g=Es(s)||u?f:s;let A=i.getPixelForValue(g);if(p=this.chart.getDataVisibility(e)?i.getPixelForValue(f+h):A,m=p-A,Math.abs(m)<o){m=function lGe(n,t,e){return 0!==n?Cm(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}(m,i,a)*o,d===a&&(A-=m/2);const _=i.getPixelForDecimal(0),v=i.getPixelForDecimal(1),b=Math.min(_,v),w=Math.max(_,v);A=Math.max(Math.min(A,w),b),p=A+m}if(A===i.getPixelForValue(a)){const _=Cm(m)*i.getLineWidthForValue(a)/2;A+=_,m-=_}return{size:m,base:A,head:p,center:p+m/2}}_calculateBarIndexPixels(e,i){const r=i.scale,s=this.options,o=s.skipNull,a=Br(s.maxBarThickness,1/0);let l,c;if(i.grouped){const u=o?this._getStackCount(e):i.stackCount,d="flex"===s.barThickness?function oGe(n,t,e,i){const r=t.pixels,s=r[n];let o=n>0?r[n-1]:null,a=n<r.length-1?r[n+1]:null;const l=e.categoryPercentage;null===o&&(o=s-(null===a?t.end-t.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:e.barPercentage,start:c}}(e,i,s,u):function sGe(n,t,e,i){const r=e.barThickness;let s,o;return Es(r)?(s=t.min*e.categoryPercentage,o=e.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:t.pixels[n]-s/2}}(e,i,s,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=d.start+d.chunk*f+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,i=e.vScale,r=e.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[i.axis]&&r[o].draw(this._ctx)}}return n.id="bar",n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},n})(),pGe=(()=>{class n extends Sm{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,i,r,s){const o=super.parsePrimitiveData(e,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,i,r,s){const o=super.parseArrayData(e,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=Br(i[r+a][2],this.resolveDataElementOptions(a+r).radius);return o}parseObjectData(e,i,r,s){const o=super.parseObjectData(e,i,r,s);for(let a=0;a<o.length;a++){const l=i[r+a];o[a]._custom=Br(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let i=0;for(let r=e.length-1;r>=0;--r)i=Math.max(i,e[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(e){const i=this._cachedMeta,{xScale:r,yScale:s}=i,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),c=o._custom;return{label:i.label,value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const i=this._cachedMeta.data;this.updateElements(i,0,i.length,e)}updateElements(e,i,r,s){const o="reset"===s,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,s),d=a.axis,f=l.axis;for(let h=i;h<i+r;h++){const p=e[h],m=!o&&this.getParsed(h),g={},A=g[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(m[d]),_=g[f]=o?l.getBasePixel():l.getPixelForValue(m[f]);g.skip=isNaN(A)||isNaN(_),u&&(g.options=c||this.resolveDataElementOptions(h,p.active?"active":s),o&&(g.options.radius=0)),this.updateElement(p,h,g,s)}}resolveDataElementOptions(e,i){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==i&&(s.radius=0),s.radius+=Br(r&&r._custom,o),s}}return n.id="bubble",n.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},n.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},n})(),Tae=(()=>{class n extends Sm{constructor(e,i){super(e,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,i){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let a,l,o=c=>+r[c];if(ss(r[e])){const{key:c="value"}=this._parsing;o=u=>+Bv(r[u],c)}for(a=e,l=e+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return dp(this.options.rotation-90)}_getCircumference(){return dp(this.options.circumference)}_getRotationExtents(){let e=go,i=-go;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),i=Math.max(i,o+a)}return{rotation:e,circumference:i-e}}update(e){const i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(((n,t)=>"string"==typeof n&&n.endsWith("%")?parseFloat(n)/100:n/t)(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=function mGe(n,t,e){let i=1,r=1,s=0,o=0;if(t<go){const a=n,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),h=(v,b,w)=>TD(v,a,l,!0)?1:Math.max(b,b*e,w,w*e),p=(v,b,w)=>TD(v,a,l,!0)?-1:Math.min(b,b*e,w,w*e),m=h(0,c,d),g=h(Ia,u,f),A=p(oa,c,d),_=p(oa+Ia,u,f);i=(m-A)/2,r=(g-_)/2,s=-(m+A)/2,o=-(g+_)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}(f,d,c),v=Math.max(Math.min((r.width-a)/h,(r.height-a)/p)/2,0),b=_oe(this.options.radius,v),y=(b-Math.max(b*c,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*b,this.offsetY=g*b,s.total=this.calculateTotal(),this.outerRadius=b-y*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-y*u,0),this.updateElements(o,0,o.length,e)}_circumference(e,i){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/go)}updateElements(e,i,r,s){const o="reset"===s,a=this.chart,l=a.chartArea,d=(l.left+l.right)/2,f=(l.top+l.bottom)/2,h=o&&a.options.animation.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:A}=this._getSharedOptions(i,s);let v,_=this._getRotation();for(v=0;v<i;++v)_+=this._circumference(v,o);for(v=i;v<i+r;++v){const b=this._circumference(v,o),w=e[v],y={x:d+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+b,circumference:b,outerRadius:m,innerRadius:p};A&&(y.options=g||this.resolveDataElementOptions(v,w.active?"active":s)),_+=b,this.updateElement(w,v,y,s)}}calculateTotal(){const e=this._cachedMeta,i=e.data;let s,r=0;for(s=0;s<i.length;s++){const o=e._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const i=this._cachedMeta.total;return i>0&&!isNaN(e)?go*(Math.abs(e)/i):0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],o=kD(this._cachedMeta._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let i=0;const r=this.chart;let s,o,a,l,c;if(!e)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}if(!e)return 0;for(s=0,o=e.length;s<o;++s)c=l.resolveDataElementOptions(s),"inner"!==c.borderAlign&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(e){let i=0;for(let r=0,s=e.length;r<s;++r){const o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(e){let i=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(e){return Math.max(Br(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return n.id="doughnut",n.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},n.descriptors={_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const a=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(t){let e=t.label;const i=": "+t.formattedValue;return Go(e)?(e=e.slice(),e[0]+=i):e+=i,e}}}}},n})(),AGe=(()=>{class n extends Sm{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled;let{start:l,count:c}=Foe(i,s,a);this._drawStart=l,this._drawCount=c,Poe(i)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},e),this.updateElements(s,l,c,e)}updateElements(e,i,r,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(i,s),h=a.axis,p=l.axis,{spanGaps:m,segment:g}=this.options,A=Kw(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||"none"===s;let v=i>0&&this.getParsed(i-1);for(let b=i;b<i+r;++b){const w=e[b],y=this.getParsed(b),C=_?w:{},D=Es(y[p]),S=C[h]=a.getPixelForValue(y[h],b),T=C[p]=o||D?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,y,c):y[p],b);C.skip=isNaN(S)||isNaN(T)||D,C.stop=b>0&&Math.abs(y[h]-v[h])>A,g&&(C.parsed=y,C.raw=u.data[b]),f&&(C.options=d||this.resolveDataElementOptions(b,w.active?"active":s)),_||this.updateElement(w,b,C,s),v=y}}getMaxOverflow(){const e=this._cachedMeta,i=e.dataset,r=i.options&&i.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return n.id="line",n.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},n.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},n})(),gGe=(()=>{class n extends Sm{constructor(e,i){super(e,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],o=kD(this._cachedMeta._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,i,r,s){return nae.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,e)}getMinMax(){const i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){const e=this.chart,i=e.chartArea,r=e.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),l=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,i,r,s){const o="reset"===s,a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,f=u.yCenter,h=u.getIndexAngle(0)-.5*oa;let m,p=h;const g=360/this.countVisibleElements();for(m=0;m<i;++m)p+=this._computeAngle(m,s,g);for(m=i;m<i+r;m++){const A=e[m];let _=p,v=p+this._computeAngle(m,s,g),b=a.getDataVisibility(m)?u.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=v,o&&(c.animateScale&&(b=0),c.animateRotate&&(_=v=h));const w={x:d,y:f,innerRadius:0,outerRadius:b,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(m,A.active?"active":s)};this.updateElement(A,m,w,s)}}countVisibleElements(){let i=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(e,i,r){return this.chart.getDataVisibility(e)?dp(this.resolveDataElementOptions(e,i).angle||r):0}}return n.id="polarArea",n.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},n.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i}}=t.legend.options;return e.labels.map((r,s)=>{const a=t.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:t=>t.chart.data.labels[t.dataIndex]+": "+t.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},n})(),vGe=(()=>{class n extends Tae{}return n.id="pie",n.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},n})(),_Ge=(()=>{class n extends Sm{getLabelAndValue(e){const i=this._cachedMeta.vScale,r=this.getParsed(e);return{label:i.getLabels()[e],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(e,i,r,s){return nae.bind(this)(e,i,r,s)}update(e){const i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:a},e)}this.updateElements(s,0,s.length,e)}updateElements(e,i,r,s){const o=this._cachedMeta.rScale,a="reset"===s;for(let l=i;l<i+r;l++){const c=e[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=o.getPointPositionForValue(l,this.getParsed(l).r),f=a?o.xCenter:d.x,h=a?o.yCenter:d.y,p={x:f,y:h,angle:d.angle,skip:isNaN(f)||isNaN(h),options:u};this.updateElement(c,l,p,s)}}}return n.id="radar",n.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},n.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},n})();class hp{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Kw(this.x)&&Kw(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}hp.defaults={},hp.defaultRoutes=void 0;const Nae={values:n=>Go(n)?n:""+n,numeric(n,t,e){if(0===n)return"0";const i=this.chart.options.locale;let r,s=n;if(e.length>1){const c=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=function bGe(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}(n,e)}const o=af(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),kD(n,i,l)},logarithmic(n,t,e){if(0===n)return"0";const i=n/Math.pow(10,Math.floor(af(n)));return 1===i||2===i||5===i?Nae.numeric.call(this,n,t,e):""}};var OP={formatters:Nae};function RP(n,t,e,i,r){const s=Br(i,0),o=Math.min(Br(r,n.length),n.length);let l,c,u,a=0;for(e=Math.ceil(e),r&&(l=r-i,e=l/Math.floor(l/e)),u=s;u<0;)a++,u=Math.round(s+a*e);for(c=Math.max(s,0);c<o;c++)c===u&&(t.push(n[c]),a++,u=Math.round(s+a*e))}os.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,t)=>t.lineWidth,tickColor:(n,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:OP.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),os.route("scale.ticks","color","","color"),os.route("scale.grid","color","","borderColor"),os.route("scale.grid","borderColor","","borderColor"),os.route("scale.title","color","","color"),os.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&"callback"!==n&&"parser"!==n,_indexable:n=>"borderDash"!==n&&"tickBorderDash"!==n}),os.describe("scales",{_fallback:"scale"}),os.describe("scale.ticks",{_scriptable:n=>"backdropPadding"!==n&&"callback"!==n,_indexable:n=>"backdropPadding"!==n});const Iae=(n,t,e)=>"top"===t||"left"===t?n[t]+e:n[t]-e;function Bae(n,t){const e=[],i=n.length/t,r=n.length;let s=0;for(;s<r;s+=i)e.push(n[Math.floor(s)]);return e}function MGe(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),s=n._startPixel,o=n._endPixel,a=1e-6;let c,l=n.getPixelForTick(r);if(!(e&&(c=1===i?Math.max(l-s,o-l):0===t?(n.getPixelForTick(1)-l)/2:(l-n.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<s-a||l>o+a)))return l}function UD(n){return n.drawTicks?n.tickLength:0}function Fae(n,t){if(!n.display)return 0;const e=Ol(n.font,t),i=$c(n.padding);return(Go(n.text)?n.text.length:1)*e.lineHeight+i.height}function BGe(n,t,e){let i=TV(n);return(e&&"right"!==t||!e&&"right"===t)&&(i=(n=>"left"===n?"right":"right"===n?"left":n)(i)),i}class gb extends hp{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=rf(t,Number.POSITIVE_INFINITY),e=rf(e,Number.NEGATIVE_INFINITY),i=rf(i,Number.POSITIVE_INFINITY),r=rf(r,Number.NEGATIVE_INFINITY),{min:rf(t,i),max:rf(e,r),minDefined:Za(t),maxDefined:Za(e)}}getMinMax(t){let o,{min:e,max:i,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),r||(e=Math.min(e,o.min)),s||(i=Math.max(i,o.max));return e=s&&e>i?i:e,i=r&&e>i?e:i,{min:rf(e,rf(i,e)),max:rf(i,rf(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){jo(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function sQe(n,t,e){const{min:i,max:r}=n,s=_oe(t,(r-i)/2),o=(a,l)=>e&&0===a?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Bae(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function yGe(n,t){const e=n.options.ticks,i=e.maxTicksLimit||function wGe(n){const t=n.options.offset,e=n._tickSize();return Math.floor(Math.min(n._length/e+(t?0:1),n._maxLength/e))}(n),r=e.major.enabled?function CGe(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}(t):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>i)return function SGe(n,t,e,i){let o,r=0,s=e[0];for(i=Math.ceil(i),o=0;o<n.length;o++)o===s&&(t.push(n[o]),r++,s=e[r*i])}(t,l,r,s/i),l;const c=function xGe(n,t,e){const i=function EGe(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}(n),r=t.length/e;if(!i)return Math.max(r,1);const s=function g7e(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i==0&&(t.push(i),t.push(n/i));return e===(0|e)&&t.push(e),t.sort((r,s)=>r-s).pop(),t}(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}(r,t,i);if(s>0){let u,d;const f=s>1?Math.round((a-o)/(s-1)):null;for(RP(t,l,c,Es(f)?0:o-f,o),u=0,d=s-1;u<d;u++)RP(t,l,c,r[u],r[u+1]);return RP(t,l,c,a,Es(f)?t.length:a+f),l}return RP(t,l,c),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,i,t=this.options.reverse;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){jo(this.options.afterUpdate,[this])}beforeSetDimensions(){jo(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){jo(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),jo(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){jo(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i],s.label=jo(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){jo(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){jo(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let a,l,c,o=r;if(!this._isVisible()||!e.display||r>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=r);const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,h=lc(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/i:h/(i-1),d+6>a&&(a=h/(i-(t.offset?.5:1)),l=this.maxHeight-UD(t.grid)-e.padding-Fae(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),o=EV(Math.min(Math.asin(lc((u.highest.height+6)/a,-1,1)),Math.asin(lc(l/c,-1,1))-Math.asin(lc(f/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){jo(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){jo(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Fae(r,e.options.font);if(a?(t.width=this.maxWidth,t.height=UD(s)+l):(t.height=this.maxHeight,t.width=UD(s)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),h=2*i.padding,p=dp(this.labelRotation),m=Math.cos(p),g=Math.sin(p);a?t.height=Math.min(this.maxHeight,t.height+(i.mirror?0:g*d.width+m*f.height)+h):t.width=Math.min(this.maxWidth,t.width+(i.mirror?0:m*d.width+g*f.height)+h),this._calculatePadding(c,u,g,m)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=0!==this.labelRotation,c="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,h=0;l?c?(f=r*t.width,h=i*e.height):(f=i*t.height,h=r*e.width):"start"===s?h=e.width:"end"===s?f=t.width:"inner"!==s&&(f=t.width/2,h=e.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((h-d+o)*this.width/(this.width-d),0)}else{let u=e.height/2,d=t.height/2;"start"===s?(u=0,d=t.height):"end"===s&&(u=e.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){jo(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)Es(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Bae(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length)}return t}_computeLabelSizes(t,e){const{ctx:i,_longestTextCache:r}=this,s=[],o=[];let c,u,d,f,h,p,m,g,A,_,v,a=0,l=0;for(c=0;c<e;++c){if(f=t[c].label,h=this._resolveTickFontOptions(c),i.font=p=h.string,m=r[p]=r[p]||{data:{},gc:[]},g=h.lineHeight,A=_=0,Es(f)||Go(f)){if(Go(f))for(u=0,d=f.length;u<d;++u)v=f[u],!Es(v)&&!Go(v)&&(A=TP(i,m.data,m.gc,A,v),_+=g)}else A=TP(i,m.data,m.gc,A,f),_=g;s.push(A),o.push(_),a=Math.max(A,a),l=Math.max(_,l)}!function TGe(n,t){no(n,e=>{const i=e.gc,r=i.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[i[s]];i.splice(0,r)}})}(r,e);const b=s.indexOf(a),w=o.indexOf(l),y=C=>({width:s[C]||0,height:o[C]||0});return{first:y(0),last:y(e-1),widest:y(b),highest:y(w),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return function b7e(n){return lc(n,-32768,32767)}(this._alignToPixels?db(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function IGe(n,t,e){return Rv(n,{tick:e,index:t,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=function NGe(n,t){return Rv(n,{scale:t,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=dp(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),u=this.ticks.length+(a?1:0),d=UD(s),f=[],h=s.setContext(this.getContext()),p=h.drawBorder?h.borderWidth:0,m=p/2,g=function(z){return db(i,z,p)};let A,_,v,b,w,y,C,D,S,T,M,F;if("top"===o)A=g(this.bottom),y=this.bottom-d,D=A-m,T=g(t.top)+m,F=t.bottom;else if("bottom"===o)A=g(this.top),T=t.top,F=g(t.bottom)-m,y=A+m,D=this.top+d;else if("left"===o)A=g(this.right),w=this.right-d,C=A-m,S=g(t.left)+m,M=t.right;else if("right"===o)A=g(this.left),S=t.left,M=g(t.right)-m,w=A+m,C=this.left+d;else if("x"===e){if("center"===o)A=g((t.top+t.bottom)/2+.5);else if(ss(o)){const z=Object.keys(o)[0];A=g(this.chart.scales[z].getPixelForValue(o[z]))}T=t.top,F=t.bottom,y=A+m,D=y+d}else if("y"===e){if("center"===o)A=g((t.left+t.right)/2);else if(ss(o)){const z=Object.keys(o)[0];A=g(this.chart.scales[z].getPixelForValue(o[z]))}w=A-m,C=w-d,S=t.left,M=t.right}const L=Br(r.ticks.maxTicksLimit,u),U=Math.max(1,Math.ceil(u/L));for(_=0;_<u;_+=U){const z=s.setContext(this.getContext(_)),O=z.lineWidth,G=z.color,j=z.borderDash||[],J=z.borderDashOffset,le=z.tickWidth,ye=z.tickColor,R=z.tickBorderDash||[],X=z.tickBorderDashOffset;v=MGe(this,_,a),void 0!==v&&(b=db(i,v,O),l?w=C=S=M=b:y=D=T=F=b,f.push({tx1:w,ty1:y,tx2:C,ty2:D,x1:S,y1:T,x2:M,y2:F,width:O,color:G,borderDash:j,borderDashOffset:J,tickWidth:le,tickColor:ye,tickBorderDash:R,tickBorderDashOffset:X}))}return this._ticksLength=u,this._borderValue=A,f}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,f=UD(i.grid),h=f+u,p=d?-u:h,m=-dp(this.labelRotation),g=[];let A,_,v,b,w,y,C,D,S,T,M,F,L="middle";if("top"===r)y=this.bottom-p,C=this._getXAxisLabelAlignment();else if("bottom"===r)y=this.top+p,C=this._getXAxisLabelAlignment();else if("left"===r){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,w=z.x}else if("right"===r){const z=this._getYAxisLabelAlignment(f);C=z.textAlign,w=z.x}else if("x"===e){if("center"===r)y=(t.top+t.bottom)/2+h;else if(ss(r)){const z=Object.keys(r)[0];y=this.chart.scales[z].getPixelForValue(r[z])+h}C=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-h;else if(ss(r)){const z=Object.keys(r)[0];w=this.chart.scales[z].getPixelForValue(r[z])}C=this._getYAxisLabelAlignment(f).textAlign}"y"===e&&("start"===l?L="top":"end"===l&&(L="bottom"));const U=this._getLabelSizes();for(A=0,_=a.length;A<_;++A){v=a[A],b=v.label;const z=s.setContext(this.getContext(A));D=this.getPixelForTick(A)+s.labelOffset,S=this._resolveTickFontOptions(A),T=S.lineHeight,M=Go(b)?b.length:1;const O=M/2,G=z.color,j=z.textStrokeColor,J=z.textStrokeWidth;let ye,le=C;if(o?(w=D,"inner"===C&&(le=A===_-1?this.options.reverse?"left":"right":0===A?this.options.reverse?"right":"left":"center"),F="top"===r?"near"===c||0!==m?-M*T+T/2:"center"===c?-U.highest.height/2-O*T+T:T/2-U.highest.height:"near"===c||0!==m?T/2:"center"===c?U.highest.height/2-O*T:U.highest.height-M*T,d&&(F*=-1)):(y=D,F=(1-M)*T/2),z.showLabelBackdrop){const R=$c(z.backdropPadding),X=U.heights[A],H=U.widths[A];let ae=y+F-R.top,de=w-R.left;switch(L){case"middle":ae-=X/2;break;case"bottom":ae-=X}switch(C){case"center":de-=H/2;break;case"right":de-=H}ye={left:de,top:ae,width:H+R.width,height:X+R.height,color:z.backdropColor}}g.push({rotation:m,label:b,font:S,color:G,strokeColor:j,strokeWidth:J,textOffset:F,textAlign:le,textBaseline:L,translation:[w,y],backdrop:ye})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-dp(this.labelRotation))return"top"===t?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,a=t+s,l=this._getLabelSizes().widest.width;let c,u;return"left"===e?r?(u=this.right+s,"near"===i?c="left":"center"===i?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,"near"===i?c="right":"center"===i?(c="center",u-=l/2):(c="left",u=this.left)):"right"===e?r?(u=this.left+s,"near"===i?c="right":"center"===i?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,"near"===i?c="left":"center"===i?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:s,height:o}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,s,o),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{grid:i}}=this,r=i.setContext(this.getContext()),s=i.drawBorder?r.borderWidth:0;if(!s)return;const o=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,d;this.isHorizontal()?(l=db(t,this.left,s)-s/2,c=db(t,this.right,o)+o/2,u=d=a):(u=db(t,this.top,s)-s/2,d=db(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(l,u),e.lineTo(c,d),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&NP(i,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(t));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],c=l.font,u=l.label;l.backdrop&&(i.fillStyle=l.backdrop.color,i.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)),hb(i,u,0,l.textOffset,c,l)}r&&IP(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const s=Ol(i.font),o=$c(i.padding),a=i.align;let l=s.lineHeight/2;"bottom"===e||"center"===e||ss(e)?(l+=o.bottom,Go(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=function FGe(n,t,e,i){const{top:r,left:s,bottom:o,right:a,chart:l}=n,{chartArea:c,scales:u}=l;let f,h,p,d=0;const m=o-r,g=a-s;if(n.isHorizontal()){if(h=Wc(i,s,a),ss(e)){const A=Object.keys(e)[0];p=u[A].getPixelForValue(e[A])+m-t}else p="center"===e?(c.bottom+c.top)/2+m-t:Iae(n,e,t);f=a-s}else{if(ss(e)){const A=Object.keys(e)[0];h=u[A].getPixelForValue(e[A])-g+t}else h="center"===e?(c.left+c.right)/2-g+t:Iae(n,e,t);p=Wc(i,o,r),d="left"===e?-Ia:Ia}return{titleX:h,titleY:p,maxWidth:f,rotation:d}}(this,l,e,a);hb(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:BGe(a,e,r),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Br(t.grid&&t.grid.z,-1);return this._isVisible()&&this.draw===gb.prototype.draw?[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[i]===this.id&&(!t||a.type===t)&&r.push(a)}return r}_resolveTickFontOptions(t){return Ol(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class kP{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function RGe(n){return"id"in n&&"defaults"in n})(e)&&(i=this.register(e));const r=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in r||(r[s]=t,function PGe(n,t,e){const i=SD(Object.create(null),[e?os.get(e):{},os.get(t),n.defaults]);os.set(t,i),n.defaultRoutes&&function OGe(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),s=[n].concat(i).join("."),o=t[e].split("."),a=o.pop(),l=o.join(".");os.route(s,r,l,a)})}(t,n.defaultRoutes),n.descriptors&&os.describe(t,n.descriptors)}(t,o,i),this.override&&os.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in os[r]&&(delete os[r][i],this.override&&delete ub[i])}}var Em=new class kGe{constructor(){this.controllers=new kP(Sm,"datasets",!0),this.elements=new kP(hp,"elements"),this.plugins=new kP(Object,"plugins"),this.scales=new kP(gb,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(t,s,r):no(r,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,e,i){const r=SV(t);jo(i["before"+r],[],i),e[t](i),jo(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+i+".");return r}},LGe=Object.freeze({__proto__:null,BarController:fGe,BubbleController:pGe,DoughnutController:Tae,LineController:AGe,PolarAreaController:gGe,PieController:vGe,RadarController:_Ge,ScatterController:(()=>{class n extends Sm{update(e){const i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled;let{start:o,count:a}=Foe(i,r,s);if(this._drawStart=o,this._drawCount=a,Poe(i)&&(o=0,a=r.length),this.options.showLine){const{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},e)}this.updateElements(r,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Em.getElement("line")),super.addElements()}updateElements(e,i,r,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(i,s),f=this.getSharedOptions(d),h=this.includeOptions(s,f),p=a.axis,m=l.axis,{spanGaps:g,segment:A}=this.options,_=Kw(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||"none"===s;let b=i>0&&this.getParsed(i-1);for(let w=i;w<i+r;++w){const y=e[w],C=this.getParsed(w),D=v?y:{},S=Es(C[m]),T=D[p]=a.getPixelForValue(C[p],w),M=D[m]=o||S?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,C,c):C[m],w);D.skip=isNaN(T)||isNaN(M)||S,D.stop=w>0&&Math.abs(C[p]-b[p])>_,A&&(D.parsed=C,D.raw=u.data[w]),h&&(D.options=f||this.resolveDataElementOptions(w,y.active?"active":s)),v||this.updateElement(y,w,D,s),b=C}this.updateSharedOptions(f,s,d)}getMaxOverflow(){const e=this._cachedMeta,i=e.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;const o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return n.id="scatter",n.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},n.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:t=>"("+t.label+", "+t.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},n})()});function vb(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var UGe={_date:(()=>{class n{constructor(e){this.options=e||{}}init(e){}formats(){return vb()}parse(e,i){return vb()}format(e,i){return vb()}add(e,i,r){return vb()}diff(e,i,r){return vb()}startOf(e,i,r){return vb()}endOf(e,i){return vb()}}return n.override=function(t){Object.assign(n.prototype,t)},n})()};function HGe(n,t,e,i){const{controller:r,data:s,_sorted:o}=n,a=r._cachedMeta.iScale;if(a&&t===a.axis&&"r"!==t&&o&&s.length){const l=a._reversePixels?y7e:PA;if(!i)return l(s,t,e);if(r._sharedOptions){const c=s[0],u="function"==typeof c.getRange&&c.getRange(t);if(u){const d=l(s,t,e-u),f=l(s,t,e+u);return{lo:d.lo,hi:f.hi}}}}return{lo:0,hi:s.length-1}}function HD(n,t,e,i,r){const s=n.getSortedVisibleDatasetMetas(),o=e[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:u}=s[a],{lo:d,hi:f}=HGe(s[a],t,o,r);for(let h=d;h<=f;++h){const p=u[h];p.skip||i(p,c,h)}}}function $V(n,t,e,i,r){const s=[];return!r&&!n.isPointInArea(t)||HD(n,e,t,function(a,l,c){!r&&!PD(a,n.chartArea,0)||a.inRange(t.x,t.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function KV(n,t,e,i,r,s){return s||n.isPointInArea(t)?"r"!==e||i?function QGe(n,t,e,i,r,s){let o=[];const a=function VGe(n){const t=-1!==n.indexOf("x"),e=-1!==n.indexOf("y");return function(i,r){const s=t?Math.abs(i.x-r.x):0,o=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(e);let l=Number.POSITIVE_INFINITY;return HD(n,e,t,function c(u,d,f){const h=u.inRange(t.x,t.y,r);if(i&&!h)return;const p=u.getCenterPoint(r);if(!s&&!n.isPointInArea(p)&&!h)return;const g=a(t,p);g<l?(o=[{element:u,datasetIndex:d,index:f}],l=g):g===l&&o.push({element:u,datasetIndex:d,index:f})}),o}(n,t,e,i,r,s):function zGe(n,t,e,i){let r=[];return HD(n,e,t,function s(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=Doe(o,{x:t.x,y:t.y});TD(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}),r}(n,t,e,r):[]}function Pae(n,t,e,i,r){const s=[],o="x"===e?"inXRange":"inYRange";let a=!1;return HD(n,e,t,(l,c,u)=>{l[o](t[e],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,r))}),i&&!a?[]:s}var GGe={evaluateInteractionItems:HD,modes:{index(n,t,e,i){const r=mb(t,n),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?$V(n,r,s,i,o):KV(n,r,s,!1,i,o),l=[];return a.length?(n.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(n,t,e,i){const r=mb(t,n),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?$V(n,r,s,i,o):KV(n,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=n.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point:(n,t,e,i)=>$V(n,mb(t,n),e.axis||"xy",i,e.includeInvisible||!1),nearest:(n,t,e,i)=>KV(n,mb(t,n),e.axis||"xy",e.intersect,i,e.includeInvisible||!1),x:(n,t,e,i)=>Pae(n,mb(t,n),"x",e.intersect,i),y:(n,t,e,i)=>Pae(n,mb(t,n),"y",e.intersect,i)}};const Oae=["left","top","right","bottom"];function VD(n,t){return n.filter(e=>e.pos===t)}function Rae(n,t){return n.filter(e=>-1===Oae.indexOf(e.pos)&&e.box.axis===t)}function zD(n,t){return n.sort((e,i)=>{const r=t?i:e,s=t?e:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function kae(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Lae(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function KGe(n,t,e,i){const{pos:r,box:s}=e,o=n.maxPadding;if(!ss(r)){e.size&&(n[r]-=e.size);const d=i[e.stack]||{size:0,count:1};d.size=Math.max(d.size,e.horizontal?s.height:s.width),e.size=d.size/d.count,n[r]+=e.size}s.getPadding&&Lae(o,s.getPadding());const a=Math.max(0,t.outerWidth-kae(o,n,"left","right")),l=Math.max(0,t.outerHeight-kae(o,n,"top","bottom")),c=a!==n.w,u=l!==n.h;return n.w=a,n.h=l,e.horizontal?{same:c,other:u}:{same:u,other:c}}function YGe(n,t){const e=t.maxPadding;return function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(t[o],e[o])}),s}(n?["left","right"]:["top","bottom"])}function QD(n,t,e,i){const r=[];let s,o,a,l,c,u;for(s=0,o=n.length,c=0;s<o;++s){a=n[s],l=a.box,l.update(a.width||t.w,a.height||t.h,YGe(a.horizontal,t));const{same:d,other:f}=KGe(t,e,a,i);c|=d&&r.length,u=u||f,l.fullSize||r.push(a)}return c&&QD(r,t,e,i)||u}function LP(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Uae(n,t,e,i){const r=e.padding;let{x:s,y:o}=t;for(const a of n){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;sf(c.start)&&(o=c.start),l.fullSize?LP(l,r.left,o,e.outerWidth-r.right-r.left,f):LP(l,t.left+c.placed,o,d,f),c.start=o,c.placed+=d,o=l.bottom}else{const d=t.h*u,f=c.size||l.width;sf(c.start)&&(s=c.start),l.fullSize?LP(l,s,r.top,f,e.outerHeight-r.bottom-r.top):LP(l,s,t.top+c.placed,f,d),c.start=s,c.placed+=d,s=l.right}}t.x=s,t.y=o}os.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Kc={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;-1!==e&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=$c(n.options.layout.padding),s=Math.max(t-r.width,0),o=Math.max(e-r.height,0),a=function $Ge(n){const t=function jGe(n){const t=[];let e,i,r,s,o,a;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],({position:s,options:{stack:o,stackWeight:a=1}}=r),t.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return t}(n),e=zD(t.filter(c=>c.box.fullSize),!0),i=zD(VD(t,"left"),!0),r=zD(VD(t,"right")),s=zD(VD(t,"top"),!0),o=zD(VD(t,"bottom")),a=Rae(t,"x"),l=Rae(t,"y");return{fullSize:e,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:VD(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(n.boxes),l=a.vertical,c=a.horizontal;no(n.boxes,m=>{"function"==typeof m.beforeLayout&&m.beforeLayout()});const u=l.reduce((m,g)=>g.box.options&&!1===g.box.options.display?m:m+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);Lae(f,$c(i));const h=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),p=function WGe(n,t){const e=function qGe(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:s}=e;if(!i||!Oae.includes(r))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let s,o,a;for(s=0,o=n.length;s<o;++s){a=n[s];const{fullSize:l}=a.box,c=e[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&t.availableHeight)}return e}(l.concat(c),d);QD(a.fullSize,h,d,p),QD(l,h,d,p),QD(c,h,d,p)&&QD(l,h,d,p),function XGe(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}(h),Uae(a.leftAndTop,h,d,p),h.x+=h.w,h.y+=h.h,Uae(a.rightAndBottom,h,d,p),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},no(a.chartArea,m=>{const g=m.box;Object.assign(g,n.chartArea),g.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Hae{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class ZGe extends Hae{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const UP="$chartjs",JGe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Vae=n=>null===n||""===n,zae=!!MQe&&{passive:!0};function n9e(n,t,e){n.canvas.removeEventListener(t,e,zae)}function HP(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function r9e(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||HP(a.addedNodes,i),o=o&&!HP(a.removedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function s9e(n,t,e){const i=n.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||HP(a.removedNodes,i),o=o&&!HP(a.addedNodes,i);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const GD=new Map;let Qae=0;function Gae(){const n=window.devicePixelRatio;n!==Qae&&(Qae=n,GD.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function l9e(n,t,e){const i=n.canvas,r=i&&QV(i);if(!r)return;const s=Boe((a,l)=>{const c=r.clientWidth;e(a,l),c<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;0===c&&0===u||s(c,u)});return o.observe(r),function o9e(n,t){GD.size||window.addEventListener("resize",Gae),GD.set(n,t)}(n,s),o}function XV(n,t,e){e&&e.disconnect(),"resize"===t&&function a9e(n){GD.delete(n),GD.size||window.removeEventListener("resize",Gae)}(n)}function c9e(n,t,e){const i=n.canvas,r=Boe(s=>{null!==n.ctx&&e(function i9e(n,t){const e=JGe[n.type]||n.type,{x:i,y:r}=mb(n,t);return{type:e,chart:t,native:n,x:void 0!==i?i:null,y:void 0!==r?r:null}}(s,n))},n,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return function t9e(n,t,e){n.addEventListener(t,e,zae)}(i,t,r),r}class u9e extends Hae{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function e9e(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[UP]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Vae(r)){const s=oae(n,"width");void 0!==s&&(n.width=s)}if(Vae(i))if(""===n.style.height)n.height=n.width/(t||2);else{const s=oae(n,"height");void 0!==s&&(n.height=s)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[UP])return!1;const i=e[UP].initial;["height","width"].forEach(s=>{const o=i[s];Es(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[UP],!0}addEventListener(t,e,i){this.removeEventListener(t,e),(t.$proxies||(t.$proxies={}))[e]=({attach:r9e,detach:s9e,resize:l9e}[e]||c9e)(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];r&&(({attach:XV,detach:XV,resize:XV}[e]||n9e)(t,e,r),i[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return function DQe(n,t,e,i){const r=PP(n),s=pb(r,"margin"),o=FP(r.maxWidth,n,"clientWidth")||xP,a=FP(r.maxHeight,n,"clientHeight")||xP,l=function EQe(n,t,e){let i,r;if(void 0===t||void 0===e){const s=QV(n);if(s){const o=s.getBoundingClientRect(),a=PP(s),l=pb(a,"border","width"),c=pb(a,"padding");t=o.width-c.width-l.width,e=o.height-c.height-l.height,i=FP(a.maxWidth,s,"clientWidth"),r=FP(a.maxHeight,s,"clientHeight")}else t=n.clientWidth,e=n.clientHeight}return{width:t,height:e,maxWidth:i||xP,maxHeight:r||xP}}(n,t,e);let{width:c,height:u}=l;if("content-box"===r.boxSizing){const d=pb(r,"border","width"),f=pb(r,"padding");c-=f.width+d.width,u-=f.height+d.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?Math.floor(c/i):u-s.height),c=GV(Math.min(c,o,l.maxWidth)),u=GV(Math.min(u,a,l.maxHeight)),c&&!u&&(u=GV(c/2)),{width:c,height:u}}(t,e,i,r)}isAttached(t){const e=QV(t);return!(!e||!e.isConnected)}}class h9e{constructor(){this._init=[]}notify(t,e,i,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=r?this._descriptors(t).filter(r):this._descriptors(t),o=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,e,i,r){r=r||{};for(const s of t){const o=s.plugin;if(!1===jo(o[i],[e,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){Es(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Br(i.options&&i.options.plugins,{}),s=function f9e(n){const t={},e=[],i=Object.keys(Em.plugins.items);for(let s=0;s<i.length;s++)e.push(Em.getPlugin(i[s]));const r=n.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===e.indexOf(o)&&(e.push(o),t[o.id]=!0)}return{plugins:e,localIds:t}}(i);return!1!==r||e?function m9e(n,{plugins:t,localIds:e},i,r){const s=[],o=n.getContext();for(const a of t){const l=a.id,c=p9e(i[l],r);null!==c&&s.push({plugin:a,options:A9e(n.config,{plugin:a,local:e[l]},c,o)})}return s}(t,s,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function p9e(n,t){return t||!1!==n?!0===n?{}:n:null}function A9e(n,{plugin:t,local:e},i,r){const s=n.pluginScopeKeys(t),o=n.getOptionScopes(i,s);return e&&t.defaults&&o.push(t.defaults),n.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function YV(n,t){return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||(os.datasets[n]||{}).indexAxis||"x"}function ZV(n,t){return"x"===n||"y"===n?n:t.axis||function _9e(n){return"top"===n||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0}(t.position)||n.charAt(0).toLowerCase()}function jae(n){const t=n.options||(n.options={});t.plugins=Br(t.plugins,{}),t.scales=function b9e(n,t){const e=ub[n.type]||{scales:{}},i=t.scales||{},r=YV(n.type,t),s=Object.create(null),o=Object.create(null);return Object.keys(i).forEach(a=>{const l=i[a];if(!ss(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const c=ZV(a,l),u=function v9e(n,t){return n===t?"_index_":"_value_"}(c,r),d=e.scales||{};s[c]=s[c]||a,o[a]=ED(Object.create(null),[{axis:c},l,d[c],d[u]])}),n.data.datasets.forEach(a=>{const l=a.type||n.type,c=a.indexAxis||YV(l,t),d=(ub[l]||{}).scales||{};Object.keys(d).forEach(f=>{const h=function g9e(n,t){let e=n;return"_index_"===n?e=t:"_value_"===n&&(e="x"===t?"y":"x"),e}(f,c),p=a[h+"AxisID"]||s[h]||h;o[p]=o[p]||Object.create(null),ED(o[p],[{axis:h},i[p],d[f]])})}),Object.keys(o).forEach(a=>{const l=o[a];ED(l,[os.scales[l.type],os.scale])}),o}(n,t)}function qae(n){return(n=n||{}).datasets=n.datasets||[],n.labels=n.labels||[],n}const Wae=new Map,$ae=new Set;function VP(n,t){let e=Wae.get(n);return e||(e=t(),Wae.set(n,e),$ae.add(e)),e}const jD=(n,t,e)=>{const i=Bv(t,e);void 0!==i&&n.add(i)};class w9e{constructor(t){this._config=function y9e(n){return(n=n||{}).data=qae(n.data),jae(n),n}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=qae(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jae(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return VP(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return VP(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return VP(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id;return VP(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:s}=this,o=this._cachedScopes(t,i),a=o.get(e);if(a)return a;const l=new Set;e.forEach(u=>{t&&(l.add(t),u.forEach(d=>jD(l,t,d))),u.forEach(d=>jD(l,r,d)),u.forEach(d=>jD(l,ub[s]||{},d)),u.forEach(d=>jD(l,os,d)),u.forEach(d=>jD(l,RV,d))});const c=Array.from(l);return 0===c.length&&c.push(Object.create(null)),$ae.has(e)&&o.set(e,c),c}chartOptionScopes(){const{options:t,type:e}=this;return[t,ub[e]||{},os.datasets[e]||{},{type:e},os,RV]}resolveNamedOptions(t,e,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Kae(this._resolverCache,t,r);let l=o;(function C9e(n,t){const{isScriptable:e,isIndexable:i}=Xoe(n);for(const r of t){const s=e(r),o=i(r),a=(o||s)&&n[r];if(s&&(Fv(a)||x9e(a))||o&&Go(a))return!0}return!1})(o,e)&&(s.$shared=!1,l=Yw(o,i=Fv(i)?i():i,this.createResolver(t,i,a)));for(const c of e)s[c]=l[c];return s}createResolver(t,e,i=[""],r){const{resolver:s}=Kae(this._resolverCache,t,i);return ss(e)?Yw(s,e,void 0,r):s}}function Kae(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let s=i.get(r);return s||(s={resolver:HV(t,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const x9e=n=>ss(n)&&Object.getOwnPropertyNames(n).reduce((t,e)=>t||Fv(n[e]),!1),E9e=["top","bottom","left","right","chartArea"];function Xae(n,t){return"top"===n||"bottom"===n||-1===E9e.indexOf(n)&&"x"===t}function Yae(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Zae(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),jo(e&&e.onComplete,[n],t)}function D9e(n){const t=n.chart,e=t.options.animation;jo(e&&e.onProgress,[n],t)}function Jae(n){return rae()&&"string"==typeof n?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const zP={},ele=n=>{const t=Jae(n);return Object.values(zP).filter(e=>e.canvas===t).pop()};function M9e(n,t,e){const i=Object.keys(n);for(const r of i){const s=+r;if(s>=t){const o=n[r];delete n[r],(e>0||s>t)&&(n[s+e]=o)}}}class kA{constructor(t,e){const i=this.config=new w9e(e),r=Jae(t),s=ele(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function d9e(n){return!rae()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?ZGe:u9e}(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;this.id=l7e(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new h9e,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function C7e(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],zP[this.id]=this,a&&l?(RA.listen(this,"complete",Zae),RA.listen(this,"progress",D9e),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:s}=this;return Es(t)?e&&s?s:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():sae(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Woe(this.canvas,this.ctx),this}stop(){return RA.stop(this),this}resize(t,e){RA.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,o=this.platform.getMaximumSize(this.canvas,t,e,i.maintainAspectRatio&&this.aspectRatio),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,sae(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),jo(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){no(this.options.scales||{},(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=ZV(o,a),c="r"===l,u="x"===l;return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),no(s,o=>{const a=o.options,l=a.id,c=ZV(l,a),u=Br(a.type,o.dtype);(void 0===a.position||Xae(a.position,c)!==Xae(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;l in i&&i[l].type===u?d=i[l]:(d=new(Em.getScale(u))({id:l,type:u,ctx:this.ctx,chart:this}),i[d.id]=d),d.init(a,t)}),no(r,(o,a)=>{o||delete i[a]}),no(i,o=>{Kc.configure(this,o,o.options),Kc.addBox(this,o)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,s)=>r.index-s.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Yae("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{0===e.filter(s=>s===i._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const s=e[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||YV(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Em.getController(a),{datasetElementType:c,dataElementType:u}=os.datasets[a];Object.assign(l.prototype,{dataElementType:Em.getElement(u),datasetElementType:c&&Em.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){no(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!r&&-1===s.indexOf(d);d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||no(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Yae("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){no(this.scales,t=>{Kc.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!woe(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of e)M9e(t,r,"_removeElements"===i?-s:s)}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<e;s++)if(!woe(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Kc.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],no(this.boxes,r=>{i&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fv(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(RA.has(this)?this.attached&&!RA.running(this)&&RA.start(this):(this.draw(),Zae({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resize(i,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,r=!i.disabled,s=this.chartArea,o={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&NP(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),r&&IP(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return PD(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const s=GGe.modes[e];return"function"==typeof s?s(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Rv(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,r);sf(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),RA.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Woe(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete zP[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(s,o)=>{e.addEventListener(this,s,o),t[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};no(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(l,c)=>{e.addEventListener(this,l,c),t[l]=c},r=(l,c)=>{t[l]&&(e.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){no(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},no(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let s,o,a,l;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!yP(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}_updateHoverStyles(t,e,i){const r=this.options.hover,s=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),o=s(e,t),a=i?t:s(t,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=o=>(o.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,r))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:s}=this,a=this._getActiveElements(t,r,i,e),l=function p7e(n){return"mouseup"===n.type||"click"===n.type||"contextmenu"===n.type}(t),c=function T9e(n,t,e,i){return e&&"mouseout"!==n.type?i?t:n:null}(t,this._lastEvent,i,l);i&&(this._lastEvent=null,jo(s.onHover,[t,a,this],this),l&&jo(s.onClick,[t,a,this],this));const u=!yP(a,r);return(u||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=c,u}_getActiveElements(t,e,i,r){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,r)}}const tle=()=>no(kA.instances,n=>n._plugins.invalidate()),kv=!0;function nle(n,t,e){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=r/a;n.beginPath(),n.arc(s,o,a,i-c,e+c),l>r?(c=r/l,n.arc(s,o,l,e+c,i-c,!0)):n.arc(s,o,r,e+Ia,i-Ia),n.closePath(),n.clip()}function ex(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function JV(n,t,e,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+i+e-c,0),f=u>0?u+i+e+c:0;let h=0;const p=r-l;if(i){const G=((u>0?u-i:0)+(d>0?d-i:0))/2;h=(p-(0!==G?p*G/(G+i):p))/2}const g=(p-Math.max(.001,p*d-e/oa)/d)/2,A=l+g+h,_=r-g-h,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:y}=function I9e(n,t,e,i){const r=function N9e(n){return UV(n,["outerStart","outerEnd","innerStart","innerEnd"])}(n.options.borderRadius),s=(e-t)/2,o=Math.min(s,i*t/2),a=l=>{const c=(e-Math.min(s,l))*i/2;return lc(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:lc(r.innerStart,0,o),innerEnd:lc(r.innerEnd,0,o)}}(t,f,d,_-A),C=d-v,D=d-b,S=A+v/C,T=_-b/D,M=f+w,F=f+y,L=A+w/M,U=_-y/F;if(n.beginPath(),s){if(n.arc(o,a,d,S,T),b>0){const G=ex(D,T,o,a);n.arc(G.x,G.y,b,T,_+Ia)}const z=ex(F,_,o,a);if(n.lineTo(z.x,z.y),y>0){const G=ex(F,U,o,a);n.arc(G.x,G.y,y,_+Ia,U+Math.PI)}if(n.arc(o,a,f,_-y/f,A+w/f,!0),w>0){const G=ex(M,L,o,a);n.arc(G.x,G.y,w,L+Math.PI,A-Ia)}const O=ex(C,A,o,a);if(n.lineTo(O.x,O.y),v>0){const G=ex(C,S,o,a);n.arc(G.x,G.y,v,A-Ia,S)}}else{n.moveTo(o,a);const z=Math.cos(S)*d+o,O=Math.sin(S)*d+a;n.lineTo(z,O);const G=Math.cos(T)*d+o,j=Math.sin(T)*d+a;n.lineTo(G,j)}n.closePath()}Object.defineProperties(kA,{defaults:{enumerable:kv,value:os},instances:{enumerable:kv,value:zP},overrides:{enumerable:kv,value:ub},registry:{enumerable:kv,value:Em},version:{enumerable:kv,value:"3.9.1"},getChart:{enumerable:kv,value:ele},register:{enumerable:kv,value:(...n)=>{Em.add(...n),tle()}},unregister:{enumerable:kv,value:(...n)=>{Em.remove(...n),tle()}}});class QP extends hp{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:s,distance:o}=Doe(r,{x:t,y:e}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),f=this.options.spacing/2,p=Br(d,l-a)>=go||TD(s,a,l),m=FA(o,c+f,u+f);return p&&m}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,u=(r+s)/2,d=(o+a+c+l)/2;return{x:e+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/2,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>go?Math.floor(i/go):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(r){a=r/2;const c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=oa&&(a=r)}t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor;const l=function B9e(n,t,e,i,r){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){JV(n,t,e,i,o+go,r);for(let c=0;c<s;++c)n.fill();isNaN(a)||(l=o+a%go,a%go==0&&(l+=go))}return JV(n,t,e,i,l,r),n.fill(),l}(t,this,a,s,o);(function P9e(n,t,e,i,r,s){const{options:o}=t,{borderWidth:a,borderJoinStyle:l}=o,c="inner"===o.borderAlign;a&&(c?(n.lineWidth=2*a,n.lineJoin=l||"round"):(n.lineWidth=a,n.lineJoin=l||"bevel"),t.fullCircles&&function F9e(n,t,e){const{x:i,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=t,l=Math.max(t.outerRadius-o,0),c=t.innerRadius+o;let u;for(e&&nle(n,t,s+go),n.beginPath(),n.arc(i,r,c,s+go,s,!0),u=0;u<a;++u)n.stroke();for(n.beginPath(),n.arc(i,r,l,s,s+go),u=0;u<a;++u)n.stroke()}(n,t,c),c&&nle(n,t,r),JV(n,t,e,i,r,s),n.stroke())})(t,this,a,s,l,o),t.restore()}}function ile(n,t,e=t){n.lineCap=Br(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Br(e.borderDash,t.borderDash)),n.lineDashOffset=Br(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Br(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Br(e.borderWidth,t.borderWidth),n.strokeStyle=Br(e.borderColor,t.borderColor)}function O9e(n,t,e){n.lineTo(e.x,e.y)}function rle(n,t,e={}){const i=n.length,{start:r=0,end:s=i-1}=e,{start:o,end:a}=t,l=Math.max(r,o),c=Math.min(s,a);return{count:i,start:l,loop:t.loop,ilen:c<l&&!(r<o&&s<o||r>a&&s>a)?i+c-l:c-l}}function k9e(n,t,e,i){const{points:r,options:s}=t,{count:o,start:a,loop:l,ilen:c}=rle(r,e,i),u=function R9e(n){return n.stepped?Y7e:n.tension||"monotone"===n.cubicInterpolationMode?Z7e:O9e}(s);let h,p,m,{move:d=!0,reverse:f}=i||{};for(h=0;h<=c;++h)p=r[(a+(f?c-h:h))%o],!p.skip&&(d?(n.moveTo(p.x,p.y),d=!1):u(n,m,p,f,s.stepped),m=p);return l&&(p=r[(a+(f?c:0))%o],u(n,m,p,f,s.stepped)),!!l}function L9e(n,t,e,i){const r=t.points,{count:s,start:o,ilen:a}=rle(r,e,i),{move:l=!0,reverse:c}=i||{};let f,h,p,m,g,A,u=0,d=0;const _=b=>(o+(c?a-b:b))%s,v=()=>{m!==g&&(n.lineTo(u,g),n.lineTo(u,m),n.lineTo(u,A))};for(l&&(h=r[_(0)],n.moveTo(h.x,h.y)),f=0;f<=a;++f){if(h=r[_(f)],h.skip)continue;const b=h.x,w=h.y,y=0|b;y===p?(w<m?m=w:w>g&&(g=w),u=(d*u+b)/++d):(v(),n.lineTo(b,w),p=y,d=0,m=g=w),A=w}v()}function ez(n){const t=n.options;return n._decimated||n._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||t.borderDash&&t.borderDash.length?k9e:L9e}QP.id="arc",QP.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},QP.defaultRoutes={backgroundColor:"backgroundColor"};const z9e="function"==typeof Path2D;let GP=(()=>{class n extends hp{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,i){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(yQe(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,i),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function kQe(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const s=!!n._loop,{start:o,end:a}=function OQe(n,t,e,i){let r=0,s=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(s+=r);s>r&&n[s%t].skip;)s--;return s%=t,{start:r,end:s}}(e,r,s,i);return function pae(n,t,e,i){return i&&i.setContext&&e?function LQe(n,t,e,i){const r=n._chart.getContext(),s=mae(n.options),{_datasetIndex:o,options:{spanGaps:a}}=n,l=e.length,c=[];let u=s,d=t[0].start,f=d;function h(p,m,g,A){const _=a?-1:1;if(p!==m){for(p+=l;e[p%l].skip;)p-=_;for(;e[m%l].skip;)m+=_;p%l!=m%l&&(c.push({start:p%l,end:m%l,loop:g,style:A}),u=A,d=m%l)}}for(const p of t){d=a?d:p.start;let g,m=e[d%l];for(f=d+1;f<=p.end;f++){const A=e[f%l];g=mae(i.setContext(Rv(r,{type:"segment",p0:m,p1:A,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),UQe(g,u)&&h(d,f-1,p.loop,u),m=A,u=g}d<f-1&&h(d,f-1,p.loop,u)}return c}(n,t,e,i):t}(n,!0===i?[{start:o,end:a,loop:s}]:function RQe(n,t,e,i){const r=n.length,s=[];let l,o=t,a=n[t];for(l=t+1;l<=e;++l){const c=n[l%r];c.skip||c.stop?a.skip||(s.push({start:t%r,end:(l-1)%r,loop:i=!1}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return null!==o&&s.push({start:t%r,end:o%r,loop:i}),s}(e,o,a<o?a+r:a,!!n._fullLoop&&0===o&&a===r-1),e,t)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,i){const r=this.options,s=e[i],o=this.points,a=fae(this,{property:i,start:s,end:s});if(!a.length)return;const l=[],c=function U9e(n){return n.stepped?TQe:n.tension||"monotone"===n.cubicInterpolationMode?NQe:Ab}(r);let u,d;for(u=0,d=a.length;u<d;++u){const{start:f,end:h}=a[u],p=o[f],m=o[h];if(p===m){l.push(p);continue}const A=c(p,m,Math.abs((s-p[i])/(m[i]-p[i])),r.stepped);A[i]=e[i],l.push(A)}return 1===l.length?l[0]:l}pathSegment(e,i,r){return ez(this)(e,this,i,r)}path(e,i,r){const s=this.segments,o=ez(this);let a=this._loop;i=i||0,r=r||this.points.length-i;for(const l of s)a&=o(e,this,l,{start:i,end:i+r-1});return!!a}draw(e,i,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function Q9e(n,t,e,i){z9e&&!t.options.segment?function H9e(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),ile(n,t.options),n.stroke(r)}(n,t,e,i):function V9e(n,t,e,i){const{segments:r,options:s}=t,o=ez(t);for(const a of r)ile(n,s,a.style),n.beginPath(),o(n,t,a,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}(n,t,e,i)}(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return n.id="line",n.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n.descriptors={_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t},n})();function sle(n,t,e,i){const r=n.options,{[e]:s}=n.getProps([e],i);return Math.abs(t-s)<r.radius+r.hitRadius}let G9e=(()=>{class n extends hp{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,i){return sle(this,e,"x",i)}inYRange(e,i){return sle(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){let i=(e=e||this.options||{}).radius||0;return i=Math.max(i,i&&e.hoverRadius||0),2*(i+(i&&e.borderWidth||0))}draw(e,i){const r=this.options;this.skip||r.radius<.1||!PD(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,LV(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return n.id="point",n.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},n.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},n})();function ole(n,t){const{x:e,y:i,base:r,width:s,height:o}=n.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return n.horizontal?(d=o/2,a=Math.min(e,r),l=Math.max(e,r),c=i-d,u=i+d):(d=s/2,a=e-d,l=e+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Lv(n,t,e,i){return n?0:lc(t,e,i)}function tz(n,t,e,i){const r=null===t,s=null===e,a=n&&!(r&&s)&&ole(n,i);return a&&(r||FA(t,a.left,a.right))&&(s||FA(e,a.top,a.bottom))}function K9e(n,t){n.rect(t.x,t.y,t.w,t.h)}function nz(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0;return{x:n.x+i,y:n.y+r,w:n.w+((n.x+n.w!==e.x+e.w?t:0)-i),h:n.h+((n.y+n.h!==e.y+e.h?t:0)-r),radius:n.radius}}class jP extends hp{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=function W9e(n){const t=ole(n),e=t.right-t.left,i=t.bottom-t.top,r=function j9e(n,t,e){const r=n.borderSkipped,s=Koe(n.options.borderWidth);return{t:Lv(r.top,s.top,0,e),r:Lv(r.right,s.right,0,t),b:Lv(r.bottom,s.bottom,0,e),l:Lv(r.left,s.left,0,t)}}(n,e/2,i/2),s=function q9e(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,s=fb(r),o=Math.min(t,e),a=n.borderSkipped,l=i||ss(r);return{topLeft:Lv(!l||a.top||a.left,s.topLeft,0,o),topRight:Lv(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Lv(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Lv(!l||a.bottom||a.right,s.bottomRight,0,o)}}(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:s},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function $9e(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}(o.radius)?OD:K9e;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,nz(o,e,s)),t.clip(),a(t,nz(s,-e,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,nz(s,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return tz(this,t,e,i)}inXRange(t,e){return tz(this,t,null,e)}inYRange(t,e){return tz(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+r)/2:e,y:s?i:(i+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}jP.id="bar",jP.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},jP.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var X9e=Object.freeze({__proto__:null,ArcElement:QP,LineElement:GP,PointElement:G9e,BarElement:jP});function ale(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{value:t})}}function lle(n){n.data.datasets.forEach(t=>{ale(t)})}var eje={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled)return void lle(n);const i=n.width;n.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=n.getDatasetMeta(s),c=o||r.data;if("y"===RD([a,n.options.indexAxis])||!l.controller.supportsDecimation)return;const u=n.scales[l.xAxisID];if("linear"!==u.type&&"time"!==u.type||n.options.parsing)return;let p,{start:d,count:f}=function J9e(n,t){const e=t.length;let r,i=0;const{iScale:s}=n,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=lc(PA(t,s.axis,o).lo,0,e-1)),r=c?lc(PA(t,s.axis,a).hi+1,i,e)-i:e-i,{start:i,count:r}}(l,c);if(f<=(e.threshold||4*i))ale(r);else{switch(Es(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}})),e.algorithm){case"lttb":p=function Y9e(n,t,e,i,r){const s=r.samples||i;if(s>=e)return n.slice(t,t+e);const o=[],a=(e-2)/(s-2);let l=0;const c=t+e-1;let d,f,h,p,m,u=t;for(o[l++]=n[u],d=0;d<s-2;d++){let _,g=0,A=0;const v=Math.floor((d+1)*a)+1+t,b=Math.min(Math.floor((d+2)*a)+1,e)+t,w=b-v;for(_=v;_<b;_++)g+=n[_].x,A+=n[_].y;g/=w,A/=w;const y=Math.floor(d*a)+1+t,C=Math.min(Math.floor((d+1)*a)+1,e)+t,{x:D,y:S}=n[u];for(h=p=-1,_=y;_<C;_++)p=.5*Math.abs((D-g)*(n[_].y-S)-(D-n[_].x)*(A-S)),p>h&&(h=p,f=n[_],m=_);o[l++]=f,u=m}return o[l++]=n[c],o}(c,d,f,i,e);break;case"min-max":p=function Z9e(n,t,e,i){let o,a,l,c,u,d,f,h,p,m,r=0,s=0;const g=[],_=n[t].x,b=n[t+e-1].x-_;for(o=t;o<t+e;++o){a=n[o],l=(a.x-_)/b*i,c=a.y;const w=0|l;if(w===u)c<p?(p=c,d=o):c>m&&(m=c,f=o),r=(s*r+a.x)/++s;else{const y=o-1;if(!Es(d)&&!Es(f)){const C=Math.min(d,f),D=Math.max(d,f);C!==h&&C!==y&&g.push({...n[C],x:r}),D!==h&&D!==y&&g.push({...n[D],x:r})}o>0&&y!==h&&g.push(n[y]),g.push(a),u=w,s=0,p=m=c,d=f=h=o}}return g}(c,d,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=p}})},destroy(n){lle(n)}};function iz(n,t,e,i){if(i)return;let r=t[n],s=e[n];return"angle"===n&&(r=dh(r),s=dh(s)),{property:n,start:r,end:s}}function rz(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function cle(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function ule(n,t){let e=[],i=!1;return Go(n)?(i=!0,e=n):e=function nje(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,s=[];return t.segments.forEach(({start:o,end:a})=>{a=rz(o,a,r);const l=r[o],c=r[a];null!==i?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):null!==e&&(s.push({x:e,y:l.y}),s.push({x:e,y:c.y}))}),s}(n,t),e.length?new GP({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function dle(n){return n&&!1!==n.fill}function ije(n,t,e){let r=n[t].fill;const s=[t];let o;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Za(r))return r;if(o=n[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function rje(n,t,e){const i=function lje(n){const t=n.options,e=t.fill;let i=Br(e&&e.target,e);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(n);if(ss(i))return!isNaN(i.value)&&i;let r=parseFloat(i);return Za(r)&&Math.floor(r)===r?function sje(n,t,e,i){return("-"===n||"+"===n)&&(e=t+e),!(e===t||e<0||e>=i)&&e}(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function dje(n,t,e){const i=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:a,point:l}=hje(s,t,"x");if(!(!l||o&&a))if(o)i.unshift(l);else if(n.push(l),!a)break}n.push(...i)}function hje(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],s=n.segments,o=n.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const u=s[c],d=o[u.start][e],f=o[u.end][e];if(FA(r,d,f)){a=r===d,l=r===f;break}}return{first:a,last:l,point:i}}class hle{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:s,radius:o}=this;return t.arc(r,s,o,(e=e||{start:0,end:go}).end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,s=t.angle;return{x:e+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}}function sz(n,t,e){const i=function fje(n){const{chart:t,fill:e,line:i}=n;if(Za(e))return function pje(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}(t,e);if("stack"===e)return function cje(n){const{scale:t,index:e,line:i}=n,r=[],s=i.segments,o=i.points,a=function uje(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const s=i[r];if(s.index===t)break;s.hidden||e.unshift(s.dataset)}return e}(t,e);a.push(ule({x:null,y:t.bottom},i));for(let l=0;l<s.length;l++){const c=s[l];for(let u=c.start;u<=c.end;u++)dje(r,o[u],a)}return new GP({points:r,options:{}})}(n);if("shape"===e)return!0;const r=function mje(n){return(n.scale||{}).getPointPositionForValue?function gje(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,s=i.reverse?t.max:t.min,o=function aje(n,t,e){let i;return i="start"===n?e:"end"===n?t.options.reverse?t.min:t.max:ss(n)?n.value:t.getBaseValue(),i}(e,t,s),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,s);return new hle({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(t.getPointPositionForValue(l,o));return a}(n):function Aje(n){const{scale:t={},fill:e}=n,i=function oje(n,t){let e=null;return"start"===n?e=t.bottom:"end"===n?e=t.top:ss(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}(e,t);if(Za(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}(n)}(n);return r instanceof hle?r:ule(r,i)}(t),{line:r,scale:s,axis:o}=t,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(NP(n,e),function vje(n,t){const{line:e,target:i,above:r,below:s,area:o,scale:a}=t,l=e._loop?"angle":t.axis;n.save(),"x"===l&&s!==r&&(fle(n,i,o.top),ple(n,{line:e,target:i,color:r,scale:a,property:l}),n.restore(),n.save(),fle(n,i,o.bottom)),ple(n,{line:e,target:i,color:s,scale:a,property:l}),n.restore()}(n,{line:r,target:i,above:u,below:d,area:e,scale:s,axis:o}),IP(n))}function fle(n,t,e){const{segments:i,points:r}=t;let s=!0,o=!1;n.beginPath();for(const a of i){const{start:l,end:c}=a,u=r[l],d=r[rz(l,c,r)];s?(n.moveTo(u.x,u.y),s=!1):(n.lineTo(u.x,e),n.lineTo(u.x,u.y)),o=!!t.pathSegment(n,a,{move:o}),o?n.closePath():n.lineTo(d.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function ple(n,t){const{line:e,target:i,property:r,color:s,scale:o}=t,a=function tje(n,t,e){const i=n.segments,r=n.points,s=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=rz(l,c,r);const u=iz(e,r[l],r[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}const d=fae(t,u);for(const f of d){const h=iz(e,s[f.start],s[f.end],f.loop),p=hae(a,r,h);for(const m of p)o.push({source:m,target:f,start:{[e]:cle(u,h,"start",Math.max)},end:{[e]:cle(u,h,"end",Math.min)}})}}return o}(e,i,r);for(const{source:l,target:c,start:u,end:d}of a){const{style:{backgroundColor:f=s}={}}=l,h=!0!==i;n.save(),n.fillStyle=f,_je(n,o,h&&iz(r,u,d)),n.beginPath();const p=!!e.pathSegment(n,l);let m;if(h){p?n.closePath():mle(n,i,d,r);const g=!!i.pathSegment(n,c,{move:p,reverse:!0});m=p&&g,m||mle(n,i,u,r)}n.closePath(),n.fill(m?"evenodd":"nonzero"),n.restore()}}function _je(n,t,e){const{top:i,bottom:r}=t.chart.chartArea,{property:s,start:o,end:a}=e||{};"x"===s&&(n.beginPath(),n.rect(o,i,a-o,r-i),n.clip())}function mle(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var bje={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<i;++o)s=n.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof GP&&(l={visible:n.isDatasetVisible(o),index:o,fill:rje(a,o,i),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],l&&!1!==l.fill&&(l.fill=ije(r,o,e.propagate))},beforeDraw(n,t,e){const i="beforeDraw"===e.drawTime,r=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&sz(n.ctx,a,s))}},beforeDatasetsDraw(n,t,e){if("beforeDatasetsDraw"!==e.drawTime)return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const s=i[r].$filler;dle(s)&&sz(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!dle(i)||"beforeDatasetDraw"!==e.drawTime||sz(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ale=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}};class gle extends hp{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=jo(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,r=Ol(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ale(i,s);let c,u;e.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a;let d=t;s.textAlign="left",s.textBaseline="middle";let f=-1,h=-u;return this.legendItems.forEach((p,m)=>{const g=i+e/2+s.measureText(p.text).width;(0===m||c[c.length-1]+g+2*a>o)&&(d+=u,c[c.length-(m>0?0:1)]=0,h+=u,f++),l[m]={left:0,top:h,row:f,width:g,height:r},c[c.length-1]+=g+a}),d}_fitCols(t,e,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let d=a,f=0,h=0,p=0,m=0;return this.legendItems.forEach((g,A)=>{const _=i+e/2+s.measureText(g.text).width;A>0&&h+r+2*a>u&&(d+=f+a,c.push({width:f,height:h}),p+=f+a,m++,f=h=0),l[A]={left:p,top:h,col:m,width:_,height:r},f=Math.max(f,_),h+=r+a}),d+=f,c.push({width:f,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Jw(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Wc(i,this.left+r,this.right-this.lineWidths[a]);for(const c of e)a!==c.row&&(a=c.row,l=Wc(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+t+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=Wc(i,this.top+t+r,this.bottom-this.columnSizes[a].height);for(const c of e)c.col!==a&&(a=c.col,l=Wc(i,this.top+t+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;NP(t,this),this._draw(),IP(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:s,labels:o}=t,a=os.color,l=Jw(t.rtl,this.left,this.width),c=Ol(o.font),{color:u,padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:A}=Ale(o,f),b=this.isHorizontal(),w=this._computeTitleHeight();p=b?{x:Wc(s,this.left+d,this.right-i[0]),y:this.top+d+w,line:0}:{x:this.left+d,y:Wc(s,this.top+w+d,this.bottom-e[0].height),line:0},lae(this.ctx,t.textDirection);const y=A+d;this.legendItems.forEach((C,D)=>{r.strokeStyle=C.fontColor||u,r.fillStyle=C.fontColor||u;const S=r.measureText(C.text).width,T=l.textAlign(C.textAlign||(C.textAlign=o.textAlign)),M=m+h+S;let F=p.x,L=p.y;l.setWidth(this.width),b?D>0&&F+M+d>this.right&&(L=p.y+=y,p.line++,F=p.x=Wc(s,this.left+d,this.right-i[p.line])):D>0&&L+y>this.bottom&&(F=p.x=F+e[p.line].width+d,p.line++,L=p.y=Wc(s,this.top+w+d,this.bottom-e[p.line].height)),function(C,D,S){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;r.save();const T=Br(S.lineWidth,1);if(r.fillStyle=Br(S.fillStyle,a),r.lineCap=Br(S.lineCap,"butt"),r.lineDashOffset=Br(S.lineDashOffset,0),r.lineJoin=Br(S.lineJoin,"miter"),r.lineWidth=T,r.strokeStyle=Br(S.strokeStyle,a),r.setLineDash(Br(S.lineDash,[])),o.usePointStyle){const M={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:T},F=l.xPlus(C,m/2);$oe(r,M,F,D+h,o.pointStyleWidth&&m)}else{const M=D+Math.max((f-g)/2,0),F=l.leftForLtr(C,m),L=fb(S.borderRadius);r.beginPath(),Object.values(L).some(U=>0!==U)?OD(r,{x:F,y:M,w:m,h:g,radius:L}):r.rect(F,M,m,g),r.fill(),0!==T&&r.stroke()}r.restore()}(l.x(F),L,C),F=((n,t,e,i)=>n===(i?"left":"right")?e:"center"===n?(t+e)/2:t)(T,F+m+h,b?F+M:this.right,t.rtl),function(C,D,S){hb(r,S.text,C,D+A/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})}(l.x(F),L,C),b?p.x+=M+d:p.y+=y}),cae(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ol(e.font),r=$c(e.padding);if(!e.display)return;const s=Jw(t.rtl,this.left,this.width),o=this.ctx,a=e.position,c=r.top+i.size/2;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Wc(t.align,d,this.right-f);else{const p=this.columnSizes.reduce((m,g)=>Math.max(m,g.height),0);u=c+Wc(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const h=Wc(a,d,d+f);o.textAlign=s.textAlign(TV(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=i.string,hb(o,e.text,h,u,i)}_computeTitleHeight(){const t=this.options.title,e=Ol(t.font),i=$c(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,s;if(FA(t,this.left,this.right)&&FA(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],FA(t,r.left,r.left+r.width)&&FA(e,r.top,r.top+r.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function wje(n,t){return!(("mousemove"!==n&&"mouseout"!==n||!t.onHover&&!t.onLeave)&&(!t.onClick||"click"!==n&&"mouseup"!==n))}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,s=((n,t)=>null!==n&&null!==t&&n.datasetIndex===t.datasetIndex&&n.index===t.index)(r,i);r&&!s&&jo(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!s&&jo(e.onHover,[t,i,this],this)}else i&&jo(e.onClick,[t,i,this],this)}}var xje={id:"legend",_element:gle,start(n,t,e){const i=n.legend=new gle({ctx:n.ctx,options:e,chart:n});Kc.configure(n,i,e),Kc.addBox(n,i)},stop(n){Kc.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Kc.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:s}}=n.legend.options;return n._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=$c(a.borderWidth);return{text:t[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:i||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class oz extends hp{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=Go(i.text)?i.text.length:1;this._padding=$c(i.padding);const s=r*Ol(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:r,right:s,options:o}=this,a=o.align;let c,u,d,l=0;return this.isHorizontal()?(u=Wc(a,i,s),d=e+t,c=s-i):("left"===o.position?(u=i+t,d=Wc(a,r,e),l=-.5*oa):(u=s-t,d=Wc(a,e,r),l=.5*oa),c=r-e),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ol(e.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);hb(t,e.text,0,0,i,{color:e.color,maxWidth:l,rotation:c,textAlign:TV(e.align),textBaseline:"middle",translation:[o,a]})}}var Sje={id:"title",_element:oz,start(n,t,e){!function Cje(n,t){const e=new oz({ctx:n.ctx,options:t,chart:n});Kc.configure(n,e,t),Kc.addBox(n,e),n.titleBlock=e}(n,e)},stop(n){Kc.removeBox(n,n.titleBlock),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Kc.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qP=new WeakMap;var Eje={id:"subtitle",start(n,t,e){const i=new oz({ctx:n.ctx,options:e,chart:n});Kc.configure(n,i,e),Kc.addBox(n,i),qP.set(n,i)},stop(n){Kc.removeBox(n,qP.get(n)),qP.delete(n)},beforeUpdate(n,t,e){const i=qP.get(n);Kc.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qD={average(n){if(!n.length)return!1;let t,e,i=0,r=0,s=0;for(t=0,e=n.length;t<e;++t){const o=n[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,r+=a.y,++s}}return{x:i/s,y:r/s}},nearest(n,t){if(!n.length)return!1;let s,o,a,e=t.x,i=t.y,r=Number.POSITIVE_INFINITY;for(s=0,o=n.length;s<o;++s){const l=n[s].element;if(l&&l.hasValue()){const u=DV(t,l.getCenterPoint());u<r&&(r=u,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,i=l.y}return{x:e,y:i}}};function Dm(n,t){return t&&(Go(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function LA(n){return("string"==typeof n||n instanceof String)&&n.indexOf("\n")>-1?n.split("\n"):n}function Dje(n,t){const{element:e,datasetIndex:i,index:r}=t,s=n.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:n,label:o,parsed:s.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function vle(n,t){const e=n.chart.ctx,{body:i,footer:r,title:s}=n,{boxWidth:o,boxHeight:a}=t,l=Ol(t.bodyFont),c=Ol(t.titleFont),u=Ol(t.footerFont),d=s.length,f=r.length,h=i.length,p=$c(t.padding);let m=p.height,g=0,A=i.reduce((b,w)=>b+w.before.length+w.lines.length+w.after.length,0);A+=n.beforeBody.length+n.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),A&&(m+=h*(t.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(A-h)*l.lineHeight+(A-1)*t.bodySpacing),f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let _=0;const v=function(b){g=Math.max(g,e.measureText(b).width+_)};return e.save(),e.font=c.string,no(n.title,v),e.font=l.string,no(n.beforeBody.concat(n.afterBody),v),_=t.displayColors?o+2+t.boxPadding:0,no(i,b=>{no(b.before,v),no(b.lines,v),no(b.after,v)}),_=0,e.font=u.string,no(n.footer,v),e.restore(),g+=p.width,{width:g,height:m}}function Nje(n,t,e,i){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=n;let c="center";return"center"===i?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),function Tje(n,t,e,i){const{x:r,width:s}=i,o=e.caretSize+e.caretPadding;if("left"===n&&r+s+o>t.width||"right"===n&&r-s-o<0)return!0}(c,n,t,e)&&(c="center"),c}function _le(n,t,e){const i=e.yAlign||t.yAlign||function Mje(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}(n,e);return{xAlign:e.xAlign||t.xAlign||Nje(n,t,e,i),yAlign:i}}function ble(n,t,e,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=n,{xAlign:a,yAlign:l}=e,c=r+s,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:h}=fb(o);let p=function Ije(n,t){let{x:e,width:i}=n;return"right"===t?e-=i:"center"===t&&(e-=i/2),e}(t,a);const m=function Bje(n,t,e){let{y:i,height:r}=n;return"top"===t?i+=e:i-="bottom"===t?r+e:r/2,i}(t,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,f)+r:"right"===a&&(p+=Math.max(d,h)+r),{x:lc(p,0,i.width-t.width),y:lc(m,0,i.height-t.height)}}function WP(n,t,e){const i=$c(e.padding);return"center"===t?n.x+n.width/2:"right"===t?n.x+n.width-i.right:n.x+i.left}function yle(n){return Dm([],LA(n))}function wle(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}let xle=(()=>{class n extends hp{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new gae(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function Fje(n,t,e){return Rv(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,i){const{callbacks:r}=i,s=r.beforeTitle.apply(this,[e]),o=r.title.apply(this,[e]),a=r.afterTitle.apply(this,[e]);let l=[];return l=Dm(l,LA(s)),l=Dm(l,LA(o)),l=Dm(l,LA(a)),l}getBeforeBody(e,i){return yle(i.callbacks.beforeBody.apply(this,[e]))}getBody(e,i){const{callbacks:r}=i,s=[];return no(e,o=>{const a={before:[],lines:[],after:[]},l=wle(r,o);Dm(a.before,LA(l.beforeLabel.call(this,o))),Dm(a.lines,l.label.call(this,o)),Dm(a.after,LA(l.afterLabel.call(this,o))),s.push(a)}),s}getAfterBody(e,i){return yle(i.callbacks.afterBody.apply(this,[e]))}getFooter(e,i){const{callbacks:r}=i,s=r.beforeFooter.apply(this,[e]),o=r.footer.apply(this,[e]),a=r.afterFooter.apply(this,[e]);let l=[];return l=Dm(l,LA(s)),l=Dm(l,LA(o)),l=Dm(l,LA(a)),l}_createItems(e){const i=this._active,r=this.chart.data,s=[],o=[],a=[];let c,u,l=[];for(c=0,u=i.length;c<u;++c)l.push(Dje(this.chart,i[c]));return e.filter&&(l=l.filter((d,f,h)=>e.filter(d,f,h,r))),e.itemSort&&(l=l.sort((d,f)=>e.itemSort(d,f,r))),no(l,d=>{const f=wle(e.callbacks,d);s.push(f.labelColor.call(this,d)),o.push(f.labelPointStyle.call(this,d)),a.push(f.labelTextColor.call(this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,i){const r=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(s.length){const l=qD[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const c=this._size=vle(this,r),u=Object.assign({},l,c),d=_le(this.chart,r,u),f=ble(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:f.x,y:f.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(e,i,r,s){const o=this.getCaretPosition(e,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(e,i,r){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:f}=fb(l),{x:h,y:p}=e,{width:m,height:g}=i;let A,_,v,b,w,y;return"center"===o?(w=p+g/2,"left"===s?(A=h,_=A-a,b=w+a,y=w-a):(A=h+m,_=A+a,b=w-a,y=w+a),v=A):(_="left"===s?h+Math.max(c,d)+a:"right"===s?h+m-Math.max(u,f)-a:this.caretX,"top"===o?(b=p,w=b-a,A=_-a,v=_+a):(b=p+g,w=b+a,A=_+a,v=_-a),y=b),{x1:A,x2:_,x3:v,y1:b,y2:w,y3:y}}drawTitle(e,i,r){const s=this.title,o=s.length;let a,l,c;if(o){const u=Jw(r.rtl,this.x,this.width);for(e.x=WP(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=Ol(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,c+1===o&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,i,r,s,o){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u,boxPadding:d}=o,f=Ol(o.bodyFont),h=WP(this,"left",o),p=s.x(h),g=i.y+(c<f.lineHeight?(f.lineHeight-c)/2:0);if(o.usePointStyle){const A={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},_=s.leftForLtr(p,u)+u/2,v=g+c/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,LV(e,A,_,v),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,LV(e,A,_,v)}else{e.lineWidth=ss(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const A=s.leftForLtr(p,u-d),_=s.leftForLtr(s.xPlus(p,1),u-d-2),v=fb(a.borderRadius);Object.values(v).some(b=>0!==b)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,OD(e,{x:A,y:g,w:u,h:c,radius:v}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),OD(e,{x:_,y:g+1,w:u-2,h:c-2,radius:v}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(A,g,u,c),e.strokeRect(A,g,u,c),e.fillStyle=a.backgroundColor,e.fillRect(_,g+1,u-2,c-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,i,r){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,f=Ol(r.bodyFont);let h=f.lineHeight,p=0;const m=Jw(r.rtl,this.x,this.width),g=function(S){i.fillText(S,m.x(e.x+p),e.y+h/2),e.y+=h+o},A=m.textAlign(a);let _,v,b,w,y,C,D;for(i.textAlign=a,i.textBaseline="middle",i.font=f.string,e.x=WP(this,A,r),i.fillStyle=r.bodyColor,no(this.beforeBody,g),p=l&&"right"!==A?"center"===a?u/2+d:u+2+d:0,w=0,C=s.length;w<C;++w){for(_=s[w],v=this.labelTextColors[w],i.fillStyle=v,no(_.before,g),b=_.lines,l&&b.length&&(this._drawColorBox(i,e,w,m,r),h=Math.max(f.lineHeight,c)),y=0,D=b.length;y<D;++y)g(b[y]),h=f.lineHeight;no(_.after,g)}p=0,h=f.lineHeight,no(this.afterBody,g),e.y-=o}drawFooter(e,i,r){const s=this.footer,o=s.length;let a,l;if(o){const c=Jw(r.rtl,this.x,this.width);for(e.x=WP(this,r.footerAlign,r),e.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=Ol(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,i,r,s){const{xAlign:o,yAlign:a}=this,{x:l,y:c}=e,{width:u,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=fb(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+f,c),"top"===a&&this.drawCaret(e,i,r,s),i.lineTo(l+u-h,c),i.quadraticCurveTo(l+u,c,l+u,c+h),"center"===a&&"right"===o&&this.drawCaret(e,i,r,s),i.lineTo(l+u,c+d-m),i.quadraticCurveTo(l+u,c+d,l+u-m,c+d),"bottom"===a&&this.drawCaret(e,i,r,s),i.lineTo(l+p,c+d),i.quadraticCurveTo(l,c+d,l,c+d-p),"center"===a&&"left"===o&&this.drawCaret(e,i,r,s),i.lineTo(l,c+f),i.quadraticCurveTo(l,c,l+f,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(e){const i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const a=qD[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=vle(this,e),c=Object.assign({},a,this._size),u=_le(i,e,c),d=ble(e,c,u,i);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const i=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(i);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=$c(i.padding);i.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,i),lae(e,i.textDirection),o.y+=a.top,this.drawTitle(o,e,i),this.drawBody(o,e,i),this.drawFooter(o,e,i),cae(e,i.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,i){const r=this._active,s=e.map(({datasetIndex:l,index:c})=>{const u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!yP(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,i,r),l=this._positionChanged(a,e),c=i||!yP(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,i))),c}_getActiveElements(e,i,r,s){const o=this.options;if("mouseout"===e.type)return[];if(!s)return i;const a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,i){const{caretX:r,caretY:s,options:o}=this,a=qD[o.position].call(this,e,i);return!1!==a&&(r!==a.x||s!==a.y)}}return n.positioners=qD,n})();var Pje={id:"tooltip",_element:xle,positioners:qD,afterInit(n,t,e){e&&(n.tooltip=new xle({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(!1===n.notifyPlugins("beforeTooltipDraw",e))return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){n.tooltip&&n.tooltip.handleEvent(t.event,t.replay,t.inChartArea)&&(t.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:BA,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:BA,beforeBody:BA,beforeLabel:BA,label(n){if(this&&this.options&&"dataset"===this.options.mode)return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Es(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:BA,afterBody:BA,beforeFooter:BA,footer:BA,afterFooter:BA}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>"filter"!==n&&"itemSort"!==n&&"external"!==n,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Oje=Object.freeze({__proto__:null,Decimation:eje,Filler:bje,Legend:xje,SubTitle:Eje,Title:Sje,Tooltip:Pje});class $P extends gb{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:s}of e)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Es(t))return null;const i=this.getLabels();return((n,t)=>null===n?null:lc(Math.round(n),0,t))(e=isFinite(e)&&i[e]===t?e:function kje(n,t,e,i){const r=n.indexOf(t);return-1===r?((n,t,e,i)=>("string"==typeof t?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e))(n,t,e,i):r!==n.lastIndexOf(t)?e:r}(i,t,Br(e,t),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=e;o++)r.push({value:o});return r}getLabelForValue(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Cle(n,t,{horizontal:e,minRotation:i}){const r=dp(i),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(t/s,.75*t*(""+n).length)}$P.id="category",$P.defaults={ticks:{callback:$P.prototype.getLabelForValue}};class KP extends gb{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Es(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=i?s:l;if(t){const l=Cm(r),c=Cm(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*s)),a(s+l),t||o(r-l)}this.min=r,this.max=s}getTickLimit(){const t=this.options.ticks;let r,{maxTicksLimit:e,stepSize:i}=t;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const o=function Uje(n,t){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=n,h=s||1,p=u-1,{min:m,max:g}=t,A=!Es(o),_=!Es(a),v=!Es(c),b=(g-m)/(d+1);let y,C,D,S,w=Coe((g-m)/p/h)*h;if(w<1e-14&&!A&&!_)return[{value:m},{value:g}];S=Math.ceil(g/w)-Math.floor(m/w),S>p&&(w=Coe(S*w/p/h)*h),Es(l)||(y=Math.pow(10,l),w=Math.ceil(w*y)/y),"ticks"===r?(C=Math.floor(m/w)*w,D=Math.ceil(g/w)*w):(C=m,D=g),A&&_&&s&&function v7e(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}((a-o)/s,w/1e3)?(S=Math.round(Math.min((a-o)/w,u)),w=(a-o)/S,C=o,D=a):v?(C=A?o:C,D=_?a:D,S=c-1,w=(D-C)/S):(S=(D-C)/w,S=MD(S,Math.round(S),w/1e3)?Math.round(S):Math.ceil(S));const T=Math.max(Eoe(w),Eoe(C));y=Math.pow(10,Es(l)?T:l),C=Math.round(C*y)/y,D=Math.round(D*y)/y;let M=0;for(A&&(f&&C!==o?(e.push({value:o}),C<o&&M++,MD(Math.round((C+M*w)*y)/y,o,Cle(o,b,n))&&M++):C<o&&M++);M<S;++M)e.push({value:Math.round((C+M*w)*y)/y});return _&&f&&D!==a?e.length&&MD(e[e.length-1].value,a,Cle(a,b,n))?e[e.length-1].value=a:e.push({value:a}):(!_||D===a)&&e.push({value:D}),e}({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&Soe(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return kD(t,this.chart.options.locale,this.options.ticks.format)}}class az extends KP{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Za(t)?t:0,this.max=Za(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=dp(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}function Sle(n){return n/Math.pow(10,Math.floor(af(n)))==1}az.id="linear",az.defaults={ticks:{callback:OP.formatters.numeric}};class lz extends gb{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=KP.prototype.parse.apply(this,[t,e]);if(0!==i)return Za(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Za(t)?Math.max(0,t):null,this.max=Za(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const s=l=>i=t?i:l,o=l=>r=e?r:l,a=(l,c)=>Math.pow(10,Math.floor(af(l))+c);i===r&&(i<=0?(s(1),o(10)):(s(a(i,-1)),o(a(r,1)))),i<=0&&s(a(r,-1)),r<=0&&o(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&s(a(i,-1)),this.min=i,this.max=r}buildTicks(){const t=this.options,i=function Hje(n,t){const e=Math.floor(af(t.max)),i=Math.ceil(t.max/Math.pow(10,e)),r=[];let s=rf(n.min,Math.pow(10,Math.floor(af(t.min)))),o=Math.floor(af(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:s,major:Sle(s)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l}while(o<e||o===e&&a<i);const c=rf(n.max,s);return r.push({value:c,major:Sle(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&Soe(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return void 0===t?"0":kD(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=af(t),this._valueRange=af(this.max)-af(t)}getPixelForValue(t){return(void 0===t||0===t)&&(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(af(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function cz(n){const t=n.ticks;if(t.display&&n.display){const e=$c(t.backdropPadding);return Br(t.font&&t.font.size,os.font.size)+e.height}return 0}function Vje(n,t,e){return e=Go(e)?e:[e],{w:X7e(n,t.string,e),h:e.length*t.lineHeight}}function Ele(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function Qje(n,t,e,i,r){const s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/s,n.l=Math.min(n.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/s,n.r=Math.max(n.r,t.r+a)),r.start<t.t?(l=(t.t-r.start)/o,n.t=Math.min(n.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/o,n.b=Math.max(n.b,t.b+l))}function jje(n){return 0===n||180===n?"center":n<180?"left":"right"}function qje(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function Wje(n,t,e){return 90===e||270===e?n-=t/2:(e>270||e<90)&&(n-=t),n}function Dle(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,go);else{let s=n.getPointPosition(0,t);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=n.getPointPosition(o,t),r.lineTo(s.x,s.y)}}lz.id="logarithmic",lz.defaults={ticks:{callback:OP.formatters.logarithmic,major:{enabled:!0}}};class WD extends KP{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=$c(cz(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Za(t)&&!isNaN(t)?t:0,this.max=Za(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/cz(this.options))}generateTickLabels(t){KP.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=jo(this.options.pointLabels.callback,[e,i],this);return r||0===r?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?function zje(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],s=n._pointLabels.length,o=n.options.pointLabels,a=o.centerPointLabels?oa/s:0;for(let l=0;l<s;l++){const c=o.setContext(n.getPointLabelContext(l));r[l]=c.padding;const u=n.getPointPosition(l,n.drawingArea+r[l],a),d=Ol(c.font),f=Vje(n.ctx,d,n._pointLabels[l]);i[l]=f;const h=dh(n.getIndexAngle(l)+a),p=Math.round(EV(h));Qje(e,t,h,Ele(p,u.x,f.w,0,180),Ele(p,u.y,f.h,90,270))}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=function Gje(n,t,e){const i=[],r=n._pointLabels.length,s=n.options,o=cz(s)/2,a=n.drawingArea,l=s.pointLabels.centerPointLabels?oa/r:0;for(let c=0;c<r;c++){const u=n.getPointPosition(c,a+o+e[c],l),d=Math.round(EV(dh(u.angle+Ia))),f=t[c],h=Wje(u.y,f.h,d),p=jje(d),m=qje(u.x,f.w,p);i.push({x:u.x,y:h,textAlign:p,left:m,top:h,right:m+f.w,bottom:h+f.h})}return i}(n,i,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){return dh(t*(go/(this._pointLabels.length||1))+dp(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(Es(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(Es(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function Xje(n,t,e){return Rv(n,{label:e,index:t,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-Ia+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Dle(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function $je(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const s=i.setContext(n.getPointLabelContext(r)),o=Ol(s.font),{x:a,y:l,textAlign:c,left:u,top:d,right:f,bottom:h}=n._pointLabelItems[r],{backdropColor:p}=s;if(!Es(p)){const m=fb(s.borderRadius),g=$c(s.backdropPadding);e.fillStyle=p;const A=u-g.left,_=d-g.top,v=f-u+g.width,b=h-d+g.height;Object.values(m).some(w=>0!==w)?(e.beginPath(),OD(e,{x:A,y:_,w:v,h:b,radius:m}),e.fill()):e.fillRect(A,_,v,b)}hb(e,n._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((c,u)=>{0!==u&&(a=this.getDistanceFromCenterForValue(c.value),function Kje(n,t,e,i){const r=n.ctx,s=t.circular,{color:o,lineWidth:a}=t;!s&&!i||!o||!a||e<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),Dle(n,e,s,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(u-1)),a,s))}),i.display){for(t.save(),o=s-1;o>=0;o--){const c=i.setContext(this.getPointLabelContext(o)),{color:u,lineWidth:d}=c;!d||!u||(t.lineWidth=d,t.strokeStyle=u,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!e.reverse)return;const c=i.setContext(this.getContext(l)),u=Ol(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=$c(c.backdropPadding);t.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}hb(t,a.label,0,-s,u,{color:c.color})}),t.restore()}drawTitle(){}}WD.id="radialLinear",WD.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:OP.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:n=>n,padding:5,centerPointLabels:!1}},WD.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},WD.descriptors={angleLines:{_fallback:"grid"}};const XP={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ud=Object.keys(XP);function Yje(n,t){return n-t}function Mle(n,t){if(Es(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:s}=n._parseOpts;let o=t;return"function"==typeof i&&(o=i(o)),Za(o)||(o="string"==typeof i?e.parse(o,i):e.parse(o)),null===o?null:(r&&(o="week"!==r||!Kw(s)&&!0!==s?e.startOf(o,r):e.startOf(o,"isoWeek",s)),+o)}function Tle(n,t,e,i){const r=ud.length;for(let s=ud.indexOf(n);s<r-1;++s){const o=XP[ud[s]];if(o.common&&Math.ceil((e-t)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=i)return ud[s]}return ud[r-1]}function Nle(n,t,e){if(e){if(e.length){const{lo:i,hi:r}=MV(e,t);n[e[i]>=t?e[i]:e[r]]=!0}}else n[t]=!0}function Ile(n,t,e){const i=[],r={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],r[a]=o,i.push({value:a,major:!1});return 0!==s&&e?function eqe(n,t,e,i){const r=n._adapter,s=+r.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=e[a],l>=0&&(t[l].major=!0);return t}(n,i,r,e):i}let uz=(()=>{class n extends gb{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,i){const r=e.time||(e.time={}),s=this._adapter=new UGe._date(e.adapters.date);s.init(i),ED(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=i.normalized}parse(e,i){return void 0===e?null:Mle(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,i=this._adapter,r=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&c(this.getMinMax(!1))),s=Za(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Za(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(i=e[0],r=e[e.length-1]),{min:i,max:r}}buildTicks(){const e=this.options,i=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=function w7e(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}(s,o,this.max);return this._unit=i.unit||(r.autoSkip?Tle(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):function Zje(n,t,e,i,r){for(let s=ud.length-1;s>=ud.indexOf(e);s--){const o=ud[s];if(XP[o].common&&n._adapter.diff(r,i,o)>=t-1)return o}return ud[e?ud.indexOf(e):0]}(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Jje(n){for(let t=ud.indexOf(n)+1,e=ud.length;t<e;++t)if(XP[ud[t]].common)return ud[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&l.reverse(),Ile(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let s,o,i=0,r=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),i=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),r=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=lc(i,0,a),r=lc(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||Tle(o.minUnit,i,r,this._getLabelCapacity(i)),l=Br(o.stepSize,1),c="week"===a&&o.isoWeekday,u=Kw(c)||!0===c,d={};let h,p,f=i;if(u&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,u?"day":a),e.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);const m="data"===s.ticks.source&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+e.add(h,l,a),p++)Nle(d,h,m);return(h===r||"ticks"===s.bounds||1===p)&&Nle(d,h,m),Object.keys(d).sort((g,A)=>g-A).map(g=>+g)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,i,r,s){const o=this.options,a=o.time.displayFormats,l=this._unit,c=this._majorUnit,d=c&&a[c],f=r[i],p=this._adapter.format(e,s||(c&&d&&f&&f.major?d:l&&a[l])),m=o.ticks.callback;return m?jo(m,[p,i,r],this):p}generateTickLabels(e){let i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],s.label=this._tickFormatFunction(s.value,i,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const i=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(e){const i=this._offsets,r=this.getDecimalForPixel(e)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const i=this.options.ticks,r=this.ctx.measureText(e).width,s=dp(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(e){const i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(e,0,Ile(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let i,r,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)e=e.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let i,r;if(e.length)return e;const s=this.getLabels();for(i=0,r=s.length;i<r;++i)e.push(Mle(this,s[i]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Noe(e.sort(Yje))}}return n.id="time",n.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},n})();function YP(n,t,e){let s,o,a,l,i=0,r=n.length-1;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=PA(n,"pos",t)),({pos:s,time:a}=n[i]),({pos:o,time:l}=n[r])):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=PA(n,"time",t)),({time:s,pos:a}=n[i]),({time:o,pos:l}=n[r]));const c=o-s;return c?a+(l-a)*(t-s)/c:a}class dz extends uz{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=YP(e,this.min),this._tableRange=YP(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],s=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=e&&c<=i&&r.push(c);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(YP(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return YP(this._table,i*this._tableRange+this._minPos,!0)}}dz.id="timeseries",dz.defaults=uz.defaults;const Ble=[LGe,X9e,Oje,Object.freeze({__proto__:null,CategoryScale:$P,LinearScale:az,LogarithmicScale:lz,RadialLinearScale:WD,TimeScale:uz,TimeSeriesScale:dz})],nqe=["canvas_csv"],iqe=["divPieChart_CSV"],rqe=["canvas_xls"],sqe=["divPieChart_XLS"],oqe=()=>({pageName:"PAGE_DEMOS_FILE_GENREATION_INDEX"});function aqe(n,t){if(1&n&&(q(0,"div",20),pe(1),$()),2&n){const e=lt();te(),An(e.pdf_message_csv())}}function lqe(n,t){if(1&n&&(q(0,"div",20),pe(1),$()),2&n){const e=lt();te(),An(e.pdf_message_xls())}}let cqe=(()=>{class n extends yr{constructor(e,i,r,s,o){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.pdfService=o,this.pdf_message_csv=hA(""),this.pdf_message_xls=hA(""),kA.register(...Ble),dv(()=>{this.pdf_message_csv()&&this.speechService.speakTextCustom(this.pdf_message_csv())}),dv(()=>{this.pdf_message_xls()&&this.speechService.speakTextCustom(this.pdf_message_xls())})}ngOnInit(){this.SetPieChart(),this.SetBarChart()}SetPieChart(){console.log("[SET CHART]");const e=[],i=[],r=[];let s;s=this.backendService.getInformeRemotoCSV_STAT(),s.subscribe({next:a=>{let l=JSON.parse(a);l.forEach((u,d)=>{e.push(l[d].ciudad),i.push(Number(l[d].id_Column));let f=Math.floor(100*Math.random()),h=Math.floor(100*Math.random()),p=Math.floor(100*Math.random()),m="rgb("+(Number(l[d].id_Column)+f)+","+(Number(l[d].id_Column)+h)+","+(Number(l[d].id_Column)+p)+")";console.log("RGB : "+m),r.push(m)})},error:a=>{},complete:()=>{const a={labels:e,datasets:[{label:"CITIES",data:i,backgroundColor:r,hoverOffset:4}]};let l=this.canvas_csv.nativeElement.getContext("2d");this.pieChartVar_csv=new kA(l,{type:"pie",data:a,options:{responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!0,text:"CITIES"}}}})}})}SetBarChart(){console.log("[SET BAR CHART]");const e=[],i=[],r=[];let s;s=this.backendService.getLogStatPOST(),s.subscribe({next:a=>{let l=JSON.parse(JSON.stringify(a));l.forEach((u,d)=>{e.push(l[d].pageName+" - "+l[d].ipValue),i.push(Number(l[d].ipValue)),r.push("rgb("+Number(l[d].ipValue)/4+","+Number(l[d].ipValue)/3+","+Number(l[d].ipValue)/2+")")})},error:a=>{console.error("ESTADISTICA- (ERROR) : "+JSON.stringify(a.message))},complete:()=>{const a={labels:e,datasets:[{label:"SESSION COUNT",data:i,backgroundColor:r,hoverOffset:4}]};let l=this.canvas_xls.nativeElement.getContext("2d");this.pieChartVar_xls=new kA(l,{type:"bar",data:a,options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"SESSION COUNT"}}}})}})}GetPDF(e){"[PIE CHART]"==e?this.pdf_message_csv.set("[...Generating PDF...]"):this.pdf_message_xls.set("[...Generating PDF...]");let i="";this.pdfService._GetPDF(e,"[PIE CHART]"==e?this.canvas_csv:this.canvas_xls,"[PIE CHART]"==e?this.divPieChart_CSV:this.divPieChart_xls,e).subscribe({next:r=>{i=r},error:r=>{let s="An error occurred : "+r.message;"[PIE CHART]"==e?this.pdf_message_csv.set(s):this.pdf_message_xls.set(s)},complete:()=>{let r="PDF file generated correctly";"[PIE CHART]"==e?this.pdf_message_csv.set(r):this.pdf_message_xls.set(r)}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(CD))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-chart"]],viewQuery:function(i,r){if(1&i&&(Tn(nqe,5),Tn(iqe,5),Tn(rqe,5),Tn(sqe,5)),2&i){let s;Ut(s=Ht())&&(r.canvas_csv=s.first),Ut(s=Ht())&&(r.divPieChart_CSV=s.first),Ut(s=Ht())&&(r.canvas_xls=s.first),Ut(s=Ht())&&(r.divPieChart_xls=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_FILE_GENERATION_CHART"}]),mn],decls:36,vars:9,consts:[["divPieChart_CSV",""],["canvas_csv",""],["divPieChart_XLS",""],["canvas_xls",""],[1,"content"],["label","[PIE CHART]",3,"click"],["align","center",2,"padding-top","10px","width","400px"],["id","divPieChart_CSV","height","400px","width","400px",2,"display","block","box-sizing","border-box","height","400px","width","400px","padding","10px"],["id","canvas_csv",2,"background-color","bisque","padding","10px 10px 10px 10px"],["align","right",2,"padding","10px 10px 10px 10px"],["id","divdescargapdf","align","right",2,"display","block"],["id","GetPDF","type","button","title","[GENERATE PDF]","value","[GENERATE PDF]",1,"btn","btn-success",3,"click","disabled"],["align","right"],["class","alert alert-secondary","role","alert",4,"ngIf"],["label","[BAR CHART]",3,"click"],["align","center",2,"padding-top","10px"],["id","divPieChart_xls","height","400px","width","800px",2,"display","block","box-sizing","border-box","height","400px","width","800px","padding","10px"],["id","canvas_xls",2,"background-color","bisque","padding","10px 10px 10px 10px"],["align","right",2,"padding","10px 10px 10px 10px","width","800px"],[3,"routerLink","queryParams"],["role","alert",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",4),Ye(1,"app-base-reference")(2,"hr"),q(3,"mat-tab-group")(4,"mat-tab",5),ct("click",function(){return $t(s),Gt(r.pdf_message_csv.set("PIE CHART"))}),q(5,"div",6)(6,"div",7,0)(8,"canvas",8,1),pe(10),$()()(),q(11,"div",9),Ye(12,"hr"),q(13,"div",10)(14,"input",11),ct("click",function(){return $t(s),Gt(r.GetPDF("[PIE CHART]"))}),$()(),Ye(15,"hr"),q(16,"div",12),ht(17,aqe,2,1,"div",13),$()()(),q(18,"mat-tab",14),ct("click",function(){return $t(s),Gt(r.pdf_message_xls.set("BAR CHART"))}),q(19,"div",15)(20,"div",16,2)(22,"canvas",17,3),pe(24),$()()(),q(25,"div",18),Ye(26,"hr"),q(27,"div",10)(28,"input",11),ct("click",function(){return $t(s),Gt(r.GetPDF("[BAR CHART]"))}),$()(),Ye(29,"hr"),q(30,"div",12),ht(31,lqe,2,1,"div",13),$()()()(),Ye(32,"hr"),q(33,"div",12)(34,"a",19),pe(35,"[Back to Menu]"),$()()()}2&i&&(te(10),An(r.pieChartVar_csv),te(4),Se("disabled","[...Generando PDF...]"==r.pdf_message_csv.toString()),te(3),Se("ngIf",r.pdf_message_csv),te(7),An(r.pieChartVar_xls),te(4),Se("disabled","[...Generando PDF...]"==r.pdf_message_xls.toString()),te(3),Se("ngIf",r.pdf_message_xls),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(8,oqe)))},dependencies:[pa,Tte,gRe,rs,yr]})}}return n})(),Fle=(()=>{class n extends fD{constructor(e,i,r,s,o,a){super(i,r,s,o,a),this.formBuilder=e,this.configService=i,this.backendService=r,this.route=s,this.speechService=o,this.PAGE_TITLE_LOG=a}static{this.\u0275fac=function(i){return new(i||n)(oe(jB),oe(Hi),oe($r),oe(Wr),oe(vs),oe(ra))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-files-generation-base"]],features:[mn],decls:0,vars:0,template:function(i,r){}})}}return n})();const uqe=["_languajeList"],dqe=["csv_paginator"],hqe=()=>[5,10,25,100],fqe=()=>({pageName:"PAGE_DEMOS_FILE_GENREATION_INDEX"});function pqe(n,t){if(1&n&&(q(0,"option",36),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function mqe(n,t){1&n&&(q(0,"li",37),pe(1," '# of records' field is required. "),$())}function Aqe(n,t){1&n&&(q(0,"li",37),pe(1," 'Initial Date' field is required. "),$())}function gqe(n,t){1&n&&(q(0,"li",37),pe(1," 'Final Date' field is required. "),$())}function vqe(n,t){if(1&n&&(q(0,"div",8)(1,"ul",37)(2,"p"),pe(3,"Please check form data"),$(),ht(4,mqe,2,0,"li",38)(5,Aqe,2,0,"li",38)(6,gqe,2,0,"li",38),$()()),2&n){const e=lt();te(4),Se("ngIf",null==e.rf_searchForm.value._P_ROW_NUM||""==e.rf_searchForm.value._P_ROW_NUM||"0"==e.rf_searchForm.value._P_ROW_NUM),te(),Se("ngIf",null==e.rf_searchForm.value._P_FECHA_INICIO||""==e.rf_searchForm.value._P_FECHA_INICIO),te(),Se("ngIf",null==e.rf_searchForm.value._P_FECHA_FIN||""==e.rf_searchForm.value._P_FECHA_FIN)}}function _qe(n,t){1&n&&(q(0,"span",21),pe(1,"[Loading...]"),$())}function bqe(n,t){if(1&n&&(q(0,"span",39),pe(1),$()),2&n){const e=lt();te(),An(e.status_message())}}function yqe(n,t){if(1&n&&(q(0,"div",40)(1,"a",41),pe(2),$()()),2&n){const e=lt();te(),Se("href",e.downloadLink,Js),te(),An(e.downloadCaption)}}function wqe(n,t){1&n&&(q(0,"th",42),pe(1,"id_Column"),$())}function xqe(n,t){if(1&n&&(q(0,"td",43),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.id_Column)}}function Cqe(n,t){1&n&&(q(0,"th",44),pe(1,"ciudad"),$())}function Sqe(n,t){if(1&n&&(q(0,"td",43),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.ciudad)}}function Eqe(n,t){1&n&&(q(0,"th",44),pe(1,"nombreCompleto"),$())}function Dqe(n,t){if(1&n&&(q(0,"td",43),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.nombreCompleto)}}function Mqe(n,t){1&n&&Ye(0,"tr",45)}function Tqe(n,t){1&n&&Ye(0,"tr",46)}let Nqe=(()=>{class n extends yr{constructor(e,i,r,s,o,a){super(r,s,o,a,bl),this.formBuilder=e,this.customErrorHandler=i,this.configService=r,this.backendService=s,this.route=o,this.speechService=a,this._loading=new Qr(!1),this.tituloListadoLenguajes="[Backend] :",this.rf_searchForm=this.formBuilder.group({_P_ROW_NUM:["999",um.required],_P_FECHA_INICIO:["2023-01-01",um.required],_P_FECHA_FIN:["2022-12-31",um.required]}),this._model=new MF("1","1","999","2022-09-01","2022-09-30","",""),this.csv_dataSource=new Wh,this.csv_displayedColumns=["id_Column","ciudad","nombreCompleto"],this.downloadLink="",this.downloadCaption="[DOWNLOAD CSV]",this.rf_buttonCaption="[Search]",this.rf_formSubmit=!1,this.rf_buttonCaption_csv="",this.rf_displayedColumns=["id_Column","ciudad","nombreCompleto"]}ngOnInit(){this.queryParams(),this.rf_newSearch()}ngAfterViewInit(){}SetCSVData(){switch(this.status_message.set("Generating please wait..."),this._languajeList.nativeElement.options.selectedIndex){case 1:let i;i=this.backendService.getInformeRemotoCSV(),i.subscribe({next:d=>{let f=JSON.parse(d);this.status_message.set("["+f.length+"] records found"),this.csv_dataSource=new Wh(f),this.csv_dataSource.paginator=this.csv_paginator},error:d=>{this.status_message.set("[An error ocurred]"),this.rf_buttonCaption="[Search]"},complete:()=>{this.rf_buttonCaption="[Search]"}});break;case 2:let s;s=this.backendService.getInformeRemotoCSV_NodeJS(),s.subscribe({next:d=>{let f=JSON.parse(d).recordsets[0];this.status_message.set("["+f.length+"] records found"),this.csv_dataSource=new Wh(f),this.csv_dataSource.paginator=this.csv_paginator},error:d=>{this.status_message.set("[An error ocurred]"),this.rf_buttonCaption="[Search]"},complete:()=>{this.rf_buttonCaption="[Search]"}});break;case 3:let a;a=this.backendService.getPersonsSprinbBootJava(),a.subscribe({next:d=>{let f=JSON.parse(d);this.status_message.set("["+f.length+"] records found "),this.rf_formSubmit=!1,this.csv_dataSource=new Wh(f),this.csv_dataSource.paginator=this.csv_paginator},error:d=>{console.error("TEMPLATE DRIVEN - sprigboot/Java - (ERROR) : "+JSON.stringify(d.message)),this.status_message.set("[An error ocurred]"),this.rf_formSubmit=!1,this.rf_buttonCaption="[Search]"},complete:()=>{this.rf_formSubmit=!1,this.rf_buttonCaption="[Search]"}});break;case 4:let c;c=this.backendService.getPersonsDjangoPython(),c.subscribe({next:d=>{let f=JSON.parse(d);this.status_message.set("["+f.length+"] records found "),this.rf_formSubmit=!1,this.csv_dataSource=new Wh(f),this.csv_dataSource.paginator=this.csv_paginator},error:d=>{console.error("TEMPLATE DRIVEN - python/django - (ERROR) : "+JSON.stringify(d.message)),this.status_message.set("[An error ocurred]"),this.rf_formSubmit=!1,this.rf_buttonCaption="[Search]"},complete:()=>{this.rf_formSubmit=!1,this.rf_buttonCaption="[Search]"}});break;default:return}}SetCSVLink(){let e;this.status_message.set("Generating please wait ..."),e=this.backendService.getCSVLink(),e.subscribe({next:r=>{let o=`${this.configService.getConfigValue("baseUrlNetCore")}${r}`;for(;o.indexOf('"')>-1;)o=o.replace('"',"");this.downloadLink=o,this.status_message.set("CSV file genetated correctly")},error:r=>{this.downloadCaption="",this.status_message.set("An error occured generating CSV file. Please try again")},complete:()=>{this.downloadCaption="[Donwload CSV]"}})}rf_newSearch(){console.warn("(NEW SEARCH RF)"),this.rf_searchForm=this.formBuilder.group({_P_ROW_NUM:["999",um.required],_P_FECHA_INICIO:["2023-01-01",um.required],_P_FECHA_FIN:["2023-12-31",um.required]}),this.rf_buttonCaption="[Search]",this.rf_formSubmit=!1,this.status_message.set(""),this.rf_buttonCaption_csv="[Generate CSV]",this.downloadCaption="",this.downloadLink="",this.csv_dataSource=new Wh,this.csv_dataSource.paginator=this.csv_paginator,this.isListVisible=!1}rf_onSubmit(){this._model=new MF("","",this.rf_searchForm.value._P_ROW_NUM||"",this.rf_searchForm.value._P_FECHA_INICIO||"",this.rf_searchForm.value._P_FECHA_FIN||"","",""),this.rf_formSubmit=!0,this.status_message.set(""),1==this.rf_searchForm.valid&&this.rf_update(this._model)}rf_update(e){this.rf_buttonCaption="[Searching please wait...]",this.rf_formSubmit=!0,this.SetCSVData()}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__languajeList.push(new br(1,"(.Net Core   / C#)",!1,"CS")),this.__languajeList.push(new br(2,"(Node.js     / JavaScript)",!1,"JS")),this.__languajeList.push(new br(3,"(SpringBoot  / Java)",!1,"JAVA")),this.__languajeList.push(new br(4,"(Django      / Pytnon)",!1,"PY"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0;console.warn(`QUERY PARAMS... ${this.__languajeList.length}`)})}GetFormattedDate(e,i){var r="";if(0===i){var s=e.toString().split("-");r=s[2]+"/"+s[1]+"/"+s[0]}return r}static{this.\u0275fac=function(i){return new(i||n)(oe(jB),oe(JM),oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-files-generation-csv"]],viewQuery:function(i,r){if(1&i&&(Tn(uqe,5),Tn(dqe,5,N2)),2&i){let s;Ut(s=Ht())&&(r._languajeList=s.first),Ut(s=Ht())&&(r.csv_paginator=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_FILE_GENERATION_CSV"}]),mn],decls:60,vars:21,consts:[["_languajeList",""],["csv_paginator","matPaginator"],[1,"content"],[1,"searchPanel",3,"formGroup"],["align","right","id","LangListDiv",1,"form-group"],["for","LangList"],["id","LanguageList","name","LanguajeList",2,"width","auto"],[3,"value","selected",4,"ngFor","ngForOf"],["align","right",1,"form-group"],["for","_P_ROW_NUM"],["id","_P_ROW_NUM","type","text","formControlName","_P_ROW_NUM"],["for","_P_FECHA_INICIO"],["id","_P_FECHA_INICIO","type","date","formControlName","_P_FECHA_INICIO"],["for","_P_FECHA_FIN"],["id","_P_FECHA_FIN","type","date","formControlName","_P_FECHA_FIN"],["align","right",1,"form-group",2,"display","block"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],["class","form-group","align","right",4,"ngIf"],["align","center",1,"form-group"],["id","loadingStatus","name","loadingStatus",1,"searchStatus"],["class","form-group","align","right","style","display: block;","id","divdescargacsv",4,"ngIf"],["align","center",1,"mat-elevation-z8"],["mat-table","","aria-label","rf_paginator",1,"mat-elevation-z8","dark-theme-table",3,"dataSource"],["matColumnDef","id_Column"],["class","mat-header-cell","mat-header-cell","","mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell","mat-cell","",4,"matCellDef"],["matColumnDef","ciudad"],["class","mat-header-cell","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","nombreCompleto"],["class","mat-header-row","mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","csv_paginator",1,"demo-paginator","dark-theme-table",3,"length","pageSize","pageSizeOptions"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],[1,"alert","alert-danger"],["class","alert alert-danger",4,"ngIf"],["id","searchStatus","name","searchStatus",1,"searchStatus"],["align","right","id","divdescargacsv",1,"form-group",2,"display","block"],["id","DownloadFile","target","_blank",3,"href"],["mat-header-cell","","mat-header-cell","",1,"mat-header-cell"],["mat-cell","",1,"mat-cell"],["mat-header-cell","",1,"mat-header-cell"],["mat-header-row","",1,"mat-header-row"],["mat-row",""]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",2),Ye(1,"app-base-reference")(2,"hr"),q(3,"div")(4,"form",3)(5,"div",4),Ye(6,"app-files-generation-base"),q(7,"label",5),pe(8),$(),q(9,"select",6,0),ht(11,pqe,2,3,"option",7),$()(),q(12,"div",8)(13,"label",9),pe(14," # of records: "),$(),Ye(15,"input",10),$(),q(16,"div",8)(17,"label",11),pe(18," Initial Date: "),$(),Ye(19,"input",12),$(),q(20,"div",8)(21,"label",13),pe(22," Final Date: "),$(),Ye(23,"input",14),$(),q(24,"div",15)(25,"button",16),ct("click",function(){return $t(s),Gt(r.rf_onSubmit())}),pe(26),$(),pe(27," | "),q(28,"button",17),ct("click",function(){return $t(s),Gt(r.rf_newSearch())}),pe(29,"[New]"),$(),pe(30," | "),q(31,"button",18),ct("click",function(){return $t(s),Gt(r.SetCSVLink())}),pe(32),$()(),ht(33,vqe,7,3,"div",19),q(34,"div",20),ht(35,_qe,2,0,"span",21),ml(36,"async"),ht(37,bqe,2,1),$(),ht(38,yqe,3,2,"div",22),$(),Ye(39,"hr"),q(40,"div",23)(41,"table",24),eh(42,25),ht(43,wqe,2,0,"th",26)(44,xqe,2,1,"td",27),th(),eh(45,28),ht(46,Cqe,2,0,"th",29)(47,Sqe,2,1,"td",27),th(),eh(48,30),ht(49,Eqe,2,0,"th",29)(50,Dqe,2,1,"td",27),th(),ht(51,Mqe,1,0,"tr",31)(52,Tqe,1,0,"tr",32),$(),Ye(53,"hr")(54,"mat-paginator",33,1),$()(),Ye(56,"hr"),q(57,"div",34)(58,"a",35),pe(59,"[Back to Menu]"),$()()()}2&i&&(te(4),Se("formGroup",r.rf_searchForm),te(4),An(r.tituloListadoLenguajes),te(3),Se("ngForOf",r.__languajeList),te(14),Se("disabled","[Search]"!=r.rf_buttonCaption),te(),An(r.rf_buttonCaption),te(5),Se("disabled","[Generate CSV]"!=r.rf_buttonCaption_csv),te(),An(r.rf_buttonCaption_csv),te(),Se("ngIf",r.rf_searchForm.invalid),te(2),fi(35,xc(36,17,r._loading)?35:37),te(3),Se("ngIf",r.downloadLink),te(3),Se("dataSource",r.csv_dataSource),te(10),Se("matHeaderRowDef",r.csv_displayedColumns),te(),Se("matRowDefColumns",r.csv_displayedColumns),te(2),Se("pageSize",5)("pageSizeOptions",Us(19,hqe)),te(4),Se("routerLink","/PageUrlList")("queryParams",Us(20,fqe)))},dependencies:[Ma,pa,Yh,wu,xu,sd,$h,Kh,lw,iH,O8,MB,R8,TB,DB,k8,NB,IB,L8,U8,N2,rs,Fle,yr,pv],styles:[".mat-column-id_Column[_ngcontent-%COMP%], .mat-column-ciudad[_ngcontent-%COMP%]{flex:none;width:100px;font-size:x-small}.mat-column-nombreCompleto[_ngcontent-%COMP%]{flex:none;width:auto;font-size:x-small}.mdc-list-item__content[_ngcontent-%COMP%]{color:bisque;font-size:x-small}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}.dark-theme-table[_ngcontent-%COMP%]{width:100%;background-color:#1e1e1e;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#1378dd;font-weight:700}.dark-theme-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#2a2a2a;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{border-bottom-color:#404040;color:#1378dd}"]})}}return n})();const Iqe=["subjectName"],Bqe=()=>({pageName:"PAGE_DEMOS_FILE_GENREATION_INDEX"}),Fqe=n=>({width:n});function Pqe(n,t){if(1&n&&(q(0,"div",11)(1,"div",12),pe(2),$()()),2&n){const e=lt(2);te(),Se("ngStyle",Fl(3,Fqe,e.progress+"%")),$i("aria-valuenow",e.progress),te(),di(" ",e.progress,"% ")}}function Oqe(n,t){if(1&n&&(q(0,"div"),ht(1,Pqe,3,5,"div",10),$()),2&n){const e=lt();te(),Se("ngIf",e.GetPDFUrl)}}function Rqe(n,t){if(1&n&&(q(0,"div",13),pe(1),$()),2&n){const e=lt();te(),An(e.status_message())}}let kqe=(()=>{class n extends yr{constructor(e,i,r,s,o){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.pdfService=o,this.progress=0,this.downloadCaption="",this.values="",this.DownloadLink="",this.pdfFileName=""}onNewPdf(){this.progress=0,this.status_message.set("[Restart sucessful]"),this.DownloadLink="",this.pdfFileName="",this.subjectName.nativeElement.value=""}onSubmit(){""!=this.subjectName.nativeElement.value?(this.progress=0,this.status_message.set("...loading..."),this.downloadCaption="...loading...",this.GetPDFUrl=this.pdfService.GetPDF(this.subjectName.nativeElement.value),this.GetPDFUrl.subscribe({next:r=>{if(r instanceof fm){this.progress=100;var s=r.body.split("|");if(s.length>0){this.pdfFileName=s[1];var o=`${this.configService.getConfigValue("baseUrlNetCore")}/wwwroot/output/uploadedfiles/pdf/${this.pdfFileName}`,a=s[2],l=s[3];let c=o;for(;c.indexOf('"')>-1;)c=c.replace('"',"");this.DownloadLink=`${$F.DebugHostingContent(c)}`,console.info("PDF FILENAME  : "+o),console.info("PDF PATH      : "+a),console.info("IMAGE PATH    : "+l),console.info("[GENERATE PDF FILE] - [Download link] : "+this.DownloadLink),this.status_message.set("File loaded correctly"),this.downloadCaption="[DOWNLOAD PDF]"}}else r.type===np.Sent&&(this.progress=25),r.type===np.DownloadProgress&&(this.progress=50)},error:r=>{this.status_message.set("An error occurred"),console.error("[GENERATE PDF FILE] - Error :"+r)},complete:()=>{console.warn("[GENERATE PDF FILE] - COMPLETED ")}})):this.status_message.set("Please enter [FULL NAME]")}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(CD))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-files-generation-pdf"]],viewQuery:function(i,r){if(1&i&&Tn(Iqe,5),2&i){let s;Ut(s=Ht())&&(r.subjectName=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_FILE_GENERATION_PDF"}]),mn],decls:22,vars:11,consts:[["subjectName",""],["id","content-body"],["type","text","id","subjectName",1,"inputPDF"],[4,"ngIf"],["id","GetPdf","type","button","title","[GET PDF]","value","[GET PDF]",1,"btn","btn-success",3,"click","hidden"],["target","_blank","id","DownloadFile",3,"href","download","hidden"],["id","NewPdf","type","button","title","[NEW PDF]","value","[NEW PDF]",1,"btn","btn-primary",3,"click","hidden"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","right"],[3,"routerLink","queryParams"],["class","progress my-3",4,"ngIf"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1),Ye(1,"app-base-reference")(2,"hr"),q(3,"div"),pe(4," FULL NAME : "),Ye(5,"input",2,0),$(),Ye(7,"hr"),ht(8,Oqe,2,1,"div",3),Ye(9,"hr"),q(10,"input",4),ct("click",function(){return $t(s),Gt(r.onSubmit())}),$(),pe(11," \xa0 "),q(12,"a",5),pe(13),$(),pe(14," \xa0 "),q(15,"input",6),ct("click",function(){return $t(s),Gt(r.onNewPdf())}),$(),Ye(16,"hr"),ht(17,Rqe,2,1,"div",7),Ye(18,"hr"),q(19,"div",8)(20,"a",9),pe(21,"[Back to Menu]"),$()()()}2&i&&(te(8),Se("ngIf",r.DownloadLink),te(2),Se("hidden",""!=r.DownloadLink),te(2),Se("href",r.DownloadLink,Js)("download",r.pdfFileName)("hidden",""==r.DownloadLink),te(),An(r.downloadCaption),te(2),Se("hidden",""==r.DownloadLink),te(2),Se("ngIf",r.status_message()),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(10,Bqe)))},dependencies:[pa,JI,rs,yr],styles:[".modalStatus[_ngcontent-%COMP%]{display:none;position:fixed;z-index:99;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:#0006}.modalStatus-content[_ngcontent-%COMP%]{text-align:center;background-color:#fefefe;margin:15% auto;padding:1em;border:1px solid #888;width:100%;color:#000}.inputPDF[_ngcontent-%COMP%]{width:100%}"]})}}return n})();const Lqe=["_languajeList"],Uqe=["td_paginator"],Hqe=()=>[5,10,25,100],Vqe=()=>({pageName:"PAGE_DEMOS_FILE_GENREATION_INDEX"});function zqe(n,t){if(1&n&&(q(0,"option",41),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function Qqe(n,t){1&n&&(q(0,"li",43),pe(1," '# of records' field required "),$())}function Gqe(n,t){1&n&&(q(0,"li",43),pe(1," 'Initial Date' field required "),$())}function jqe(n,t){1&n&&(q(0,"li",43),pe(1," 'Final Date' field required "),$())}function qqe(n,t){if(1&n&&(q(0,"div",12)(1,"ul")(2,"p"),pe(3,"Please check form data"),$(),ht(4,Qqe,2,0,"li",42)(5,Gqe,2,0,"li",42)(6,jqe,2,0,"li",42),$()()),2&n){const e=lt();te(4),Se("ngIf","0"==e._model.P_ROW_NUM||""==e._model.P_ROW_NUM||null==e._model.P_ROW_NUM),te(),Se("ngIf",""==e._model.P_FECHA_INICIO||null==e._model.P_FECHA_INICIO),te(),Se("ngIf",""==e._model.P_FECHA_FIN||null==e._model.P_FECHA_FIN)}}function Wqe(n,t){1&n&&(q(0,"span",25),pe(1,"[Loading...]"),$())}function $qe(n,t){if(1&n&&(q(0,"span",44),pe(1),$()),2&n){const e=lt();te(),An(e.status_message())}}function Kqe(n,t){1&n&&(q(0,"th",45),pe(1,"id_Column"),$())}function Xqe(n,t){if(1&n&&(q(0,"td",46),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.id_Column)}}function Yqe(n,t){1&n&&(q(0,"th",45),pe(1,"pageName"),$())}function Zqe(n,t){if(1&n&&(q(0,"td",46),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.pageName)}}function Jqe(n,t){1&n&&(q(0,"th",45),pe(1,"accessDate"),$())}function eWe(n,t){if(1&n&&(q(0,"td",46),pe(1),ml(2,"date"),$()),2&n){const e=t.$implicit;te(),An(DI(2,1,e.accessDate,"dd/MM/yyyy HH:mm a"))}}function tWe(n,t){1&n&&(q(0,"th",45),pe(1,"ipValue"),$())}function nWe(n,t){if(1&n&&(q(0,"td",46),pe(1),$()),2&n){const e=t.$implicit;te(),An(e.ipValue)}}function iWe(n,t){1&n&&Ye(0,"tr",47)}function rWe(n,t){1&n&&Ye(0,"tr",48)}let sWe=(()=>{class n extends yr{constructor(e,i,r,s,o,a){super(r,s,o,a,bl),this.formBuilder=e,this.customErrorHandler=i,this.configService=r,this.backendService=s,this.route=o,this.speechService=a,this._loading=new Qr(!1),this.tituloListadoLenguajes="[Backend] :",this.rf_searchForm=this.formBuilder.group({_P_ROW_NUM:["999",um.required],_P_FECHA_INICIO:["2023-01-01",um.required],_P_FECHA_FIN:["2022-12-31",um.required]}),this._model=new MF("1","1","999","2022-09-01","2022-09-30","",""),this.td_formSubmit=!1,this.td_buttonCaption="[Search]",this.td_buttonCaption_xls="[Generate XLS]",this.td_textStatus_xls="",this.td_ExcelDownloadLink="#",this.td_dataSource=new Wh,this.rf_displayedColumns=["id_Column","pageName","accessDate","ipValue"]}ngOnInit(){this.speechService.speakTextCustom(this.pageTitle),this.queryParams(),this.td_newSearch()}td_newSearch(){this.td_dataSource=new Wh,this.td_dataSource.paginator=this.td_paginator,this._model=new MF("1","1","999","2022-09-01","2022-09-30","",""),this.td_buttonCaption="[Search]",this.td_formSubmit=!1,this.status_message.set(""),this.td_buttonCaption_xls="[Generate XLS]",this.td_textStatus_xls="",this.td_ExcelDownloadLink="#"}td_valid_form(){return""!=this._model.P_ROW_NUM&&null!=this._model.P_ROW_NUM&&"0"!=this._model.P_ROW_NUM&&""!=this._model.P_FECHA_INICIO&&null!=this._model.P_FECHA_INICIO&&""!=this._model.P_FECHA_FIN&&null!=this._model.P_FECHA_FIN}td_onSubmit(){console.warn("TEMPLATE DRIVEN - (SUBMIT)"),console.warn("TEMPLATE DRIVEN - FORM VALID : "+this.td_valid_form()),this.td_formSubmit=!0,this.td_valid_form()&&this.td_update(this._model)}td_update(e){switch(e.P_FECHA_INICIO_STR=this.GetFormattedDate(e.P_FECHA_INICIO,0),e.P_FECHA_FIN_STR=this.GetFormattedDate(e.P_FECHA_FIN,0),this._languajeList.nativeElement.options.selectedIndex){case 1:let r;this.td_buttonCaption="[Please wait...]",this.status_message.set("[Please wait...]"),r=this.backendService.getLogRemoto(e),r.subscribe({next:f=>{this.td_dataSource=new Wh(f),this.td_dataSource.paginator=this.td_paginator,this.status_message.set("["+f.length+"] records found "),this.td_formSubmit=!1},error:f=>{console.error("TEMPLATE DRIVEN - (ERROR) : "+JSON.stringify(f.message)),this.status_message.set("An error ocurred. Please try again"),this.td_formSubmit=!1,this.td_buttonCaption="[Search]"},complete:()=>{this.td_formSubmit=!1,this.td_buttonCaption="[Search]"}});break;case 2:let o;this.td_buttonCaption="[Please wait...]",this.status_message.set("[Please wait...]"),o=this.backendService.getLogRemotoNodeJS(e),o.subscribe({next:f=>{let h=JSON.parse(f).recordsets[0];this.td_dataSource=new Wh(h),this.td_dataSource.paginator=this.td_paginator,this.status_message.set("["+h.length+"] records found "),this.td_formSubmit=!1},error:f=>{console.error("TEMPLATE DRIVEN - NODE.JS - (ERROR) : "+JSON.stringify(f.message)),this.status_message.set("An error ocurred. Please try again"),this.td_formSubmit=!1,this.td_buttonCaption="[Search]"},complete:()=>{this.td_formSubmit=!1,this.td_buttonCaption="[Search]"}});break;case 3:let l;this.td_buttonCaption="[Please wait...]",this.status_message.set("[Please wait...]"),l=this.backendService.getLogRemotoSprinbBootJava(e),l.subscribe({next:f=>{let h=JSON.parse(f);this.td_dataSource=new Wh(h),this.td_dataSource.paginator=this.td_paginator,this.status_message.set("["+h.length+"] records found "),this.td_formSubmit=!1},error:f=>{console.error("TEMPLATE DRIVEN - sprigboot/Java - (ERROR) : "+JSON.stringify(f.message)),this.status_message.set("An error ocurred. Please try again"),this.td_formSubmit=!1,this.td_buttonCaption="[Search]"},complete:()=>{this.td_formSubmit=!1,this.td_buttonCaption="[Search]"}});break;case 4:let u;this.td_buttonCaption="[Please wait...]",this.status_message.set("[Please wait...]"),u=this.backendService.getLogRemotoDjangoPython(e),u.subscribe({next:f=>{let h=JSON.parse(f);this.td_dataSource=new Wh(h),this.td_dataSource.paginator=this.td_paginator,this.status_message.set("["+h.length+"] records found "),this.td_formSubmit=!1},error:f=>{console.error("TEMPLATE DRIVEN - python/django - (ERROR) : "+JSON.stringify(f.message)),this.status_message.set("An error ocurred. Please try again"),this.td_formSubmit=!1,this.td_buttonCaption="[Search]"},complete:()=>{this.td_formSubmit=!1,this.td_buttonCaption="[Search]"}});break;default:return}}td_GenerarInformeXLSValidate(){this.td_GenerarInformeXLS(this._model)}td_GenerarInformeXLS(e){let i;i=this.backendService.getInformeExcel(this._model),this.td_ExcelDownloadLink="#",this.td_buttonCaption_xls="[Generating please wait ...]",this.status_message.set("[Generating please wait ...]"),i.subscribe({next:s=>{let o=$F.DebugHostingContent(s);this.td_ExcelDownloadLink=`${this.configService.getConfigValue("baseUrlNetCore")}/wwwroot/xlsx/${o}`,this.status_message.set("[XLS file generated correctly]"),this.td_textStatus_xls="[Download XLS File]"},error:s=>{console.error("Observer got an error: "+s.cause),console.error("Observer got an error: "+s.message),this.td_buttonCaption_xls="[An error ocurred]",this.td_textStatus_xls="[An error ocurred]",this.status_message.set("[An error ocurred]")},complete:()=>{this.td_buttonCaption_xls="[Generate XLS]"}})}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__languajeList.push(new br(1,"(.Net Core   / C#)",!1,"CS")),this.__languajeList.push(new br(2,"(Node.js     / JavaScript)",!1,"JS")),this.__languajeList.push(new br(3,"(SpringBoot  / Java)",!1,"JAVA")),this.__languajeList.push(new br(4,"(Django      / Pytnon)",!1,"PY"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0;console.warn(`QUERY PARAMS... ${this.__languajeList.length}`)})}GetFormattedDate(e,i){var r="";if(0===i){var s=e.toString().split("-");r=s[2]+"/"+s[1]+"/"+s[0]}return r}static{this.\u0275fac=function(i){return new(i||n)(oe(jB),oe(JM),oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-files-generation-xls"]],viewQuery:function(i,r){if(1&i&&(Tn(Lqe,5),Tn(Uqe,5,N2)),2&i){let s;Ut(s=Ht())&&(r._languajeList=s.first),Ut(s=Ht())&&(r.td_paginator=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_FILE_GENERATION_XLS"}]),mn],decls:68,vars:24,consts:[["td_searchForm","ngForm"],["_languajeList",""],["P_ROW_NUM","ngModel"],["P_FECHA_INICIO","ngModel"],["P_FECHA_FIN","ngModel"],["td_paginator","matPaginator"],[1,"content"],[3,"ngSubmit"],["align","left","id","LangListDiv",1,"form-group"],["for","LangList"],["id","LanguageList","name","LanguajeList",2,"width","auto"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left",1,"form-group"],["for","P_ROW_NUM",2,"width","100px"],["id","P_ROW_NUM","type","number","required","","name","P_ROW_NUM",1,"form-control",3,"ngModelChange","ngModel"],["for","P_FECHA_INICIO",2,"width","100px"],["id","P_FECHA_INICIO","type","date","required","","name","P_FECHA_INICIO",1,"form-control",3,"ngModelChange","ngModel"],["for","P_FECHA_FIN",2,"width","100px"],["id","P_FECHA_FIN","type","date","required","","name","P_FECHA_FIN",1,"form-control",3,"ngModelChange","ngModel"],["align","right",1,"form-group",2,"display","block"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],["class","form-group","align","left",4,"ngIf"],["align","center",1,"form-group"],["id","loadingStatus","name","loadingStatus",1,"searchStatus"],["align","right","id","td_divdescargaexcel",1,"form-group",2,"display","block"],["id","DownloadFile",3,"href"],[1,"mat-elevation-z8"],["mat-table","","aria-label","td_paginator",1,"mat-elevation-z8","dark-theme-table",3,"dataSource"],["matColumnDef","id_Column"],["class","mat-header-cell","mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell","mat-cell","",4,"matCellDef"],["matColumnDef","pageName"],["matColumnDef","accessDate"],["matColumnDef","ipValue"],["class","mat-header-row","mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","td_paginator",1,"demo-paginator","dark-theme-table","mat-option",3,"length","pageSize","pageSizeOptions"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],["id","td_status","name","td_searchStatus","id","td_searchStatus",1,"searchStatus",2,"width","100%"],["mat-header-cell","",1,"mat-header-cell"],["mat-cell","",1,"mat-cell"],["mat-header-row","",1,"mat-header-row"],["mat-row","",1,"mat-row"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",6),Ye(1,"app-base-reference")(2,"hr"),q(3,"form",7,0),ct("ngSubmit",function(){return $t(s),Gt(r.td_onSubmit())}),q(5,"div",8),Ye(6,"app-files-generation-base"),q(7,"label",9),pe(8),$(),q(9,"select",10,1),ht(11,zqe,2,3,"option",11),$()(),q(12,"div",12)(13,"label",13),pe(14,"# of records : "),$(),q(15,"input",14,2),Mo("ngModelChange",function(a){return $t(s),Vo(r._model.P_ROW_NUM,a)||(r._model.P_ROW_NUM=a),Gt(a)}),$()(),q(17,"div",12)(18,"label",15),pe(19,"Initial Date : "),$(),q(20,"input",16,3),Mo("ngModelChange",function(a){return $t(s),Vo(r._model.P_FECHA_INICIO,a)||(r._model.P_FECHA_INICIO=a),Gt(a)}),$()(),q(22,"div",12)(23,"label",17),pe(24,"Final Date : "),$(),q(25,"input",18,4),Mo("ngModelChange",function(a){return $t(s),Vo(r._model.P_FECHA_FIN,a)||(r._model.P_FECHA_FIN=a),Gt(a)}),$()(),q(27,"div",19)(28,"button",20),pe(29),$(),pe(30," | "),q(31,"button",21),ct("click",function(){return $t(s),Gt(r.td_newSearch())}),pe(32,"[New]"),$(),pe(33," | "),q(34,"button",22),ct("click",function(){return $t(s),Gt(r.td_GenerarInformeXLSValidate())}),pe(35),$()(),ht(36,qqe,7,3,"div",23),q(37,"div",24),ht(38,Wqe,2,0,"span",25),ml(39,"async"),ht(40,$qe,2,1),$(),q(41,"div",26)(42,"a",27),pe(43),$()()(),Ye(44,"hr"),q(45,"div",28)(46,"table",29),eh(47,30),ht(48,Kqe,2,0,"th",31)(49,Xqe,2,1,"td",32),th(),eh(50,33),ht(51,Yqe,2,0,"th",31)(52,Zqe,2,1,"td",32),th(),eh(53,34),ht(54,Jqe,2,0,"th",31)(55,eWe,3,4,"td",32),th(),eh(56,35),ht(57,tWe,2,0,"th",31)(58,nWe,2,1,"td",32),th(),ht(59,iWe,1,0,"tr",36)(60,rWe,1,0,"tr",37),$(),Ye(61,"hr")(62,"mat-paginator",38,5),$(),Ye(64,"hr"),q(65,"div",39)(66,"a",40),pe(67,"[Back to Menu]"),$()()()}2&i&&(te(8),An(r.tituloListadoLenguajes),te(3),Se("ngForOf",r.__languajeList),te(4),Do("ngModel",r._model.P_ROW_NUM),te(5),Do("ngModel",r._model.P_FECHA_INICIO),te(5),Do("ngModel",r._model.P_FECHA_FIN),te(3),Se("disabled","[Search]"!=r.td_buttonCaption),te(),An(r.td_buttonCaption),te(5),Se("disabled","[Generate XLS]"!=r.td_buttonCaption_xls),te(),An(r.td_buttonCaption_xls),te(),Se("ngIf",!r.td_valid_form()&&r.td_formSubmit),te(2),fi(38,xc(39,20,r._loading)?38:40),te(4),Se("href",r.td_ExcelDownloadLink,Js),te(),An(r.td_textStatus_xls),te(3),Se("dataSource",r.td_dataSource),te(13),Se("matHeaderRowDef",r.rf_displayedColumns),te(),Se("matRowDefColumns",r.rf_displayedColumns),te(2),Se("pageSize",5)("pageSizeOptions",Us(22,Hqe)),te(4),Se("routerLink","/PageUrlList")("queryParams",Us(23,Vqe)))},dependencies:[Ma,pa,Yh,wu,xu,sd,aw,$h,Kh,cw,Xh,od,O8,MB,R8,TB,DB,k8,NB,IB,L8,U8,N2,rs,Fle,yr,pv,eB],styles:[".mat-column-id_Column[_ngcontent-%COMP%]{flex:none;width:50px;font-size:x-small}.mat-column-pageName[_ngcontent-%COMP%]{flex:none;width:100px;font-size:x-small}.mat-column-accessDate[_ngcontent-%COMP%]{flex:none;width:150px;font-size:x-small}.mat-column-ipValue[_ngcontent-%COMP%]{flex:none;width:80;font-size:x-small}.mdc-list-item__content[_ngcontent-%COMP%]{color:bisque;font-size:x-small}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}.dark-theme-table[_ngcontent-%COMP%]{width:100%;background-color:#1e1e1e;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{background-color:#2c2c2c;color:#1378dd;font-weight:700}.dark-theme-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-row[_ngcontent-%COMP%]:hover{background-color:#2a2a2a;color:#1378dd}.dark-theme-table[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .dark-theme-table[_ngcontent-%COMP%]   .mat-option[_ngcontent-%COMP%]{border-bottom-color:#404040;color:#1378dd}"]})}}return n})();class tx{constructor(t,e){this.value=t,this.graph=e}}class oWe{constructor(t,e,i){this.n=t,this.from=e,this.to=i}}let aWe=(()=>{class n{constructor(){this.towerA=new Map,this.towerB=new Map,this.towerC=new Map,this.steps=[],this._steps=[],this._stepsIndex=0,this._startGame=!0,this._delayInMilliseconds=1500,this._stepsAmt=0,this._diskAmt=0,this.tituloDiskAmtList="Cantidad de Discos",this.gameState$=new Qr([[{size:3},{size:2},{size:1}],[],[]]),this.towers$=this.gameState$.asObservable(),this.movesSubject$=new Qr(0),this.moves$=this.movesSubject$.asObservable(),this.selectedTower=null,this._diskAmtList=new Array,this._diskAmtList.push(new MA(0,"(seleccione opcion...)",!1)),this._diskAmtList.push(new MA(3,"3",!0)),this._diskAmtList.push(new MA(4,"4",!1))}manual_selectTower(e){null===this.selectedTower?this.selectedTower=e:(this.manual_moveDisk(this.selectedTower,e),this.selectedTower=null)}manual_moveDisk(e,i){const r=this.gameState$.getValue(),s=r[e].pop();if(s){const o=r[i];0===o.length||o[o.length-1].size>s.size?(o.push(s),this.gameState$.next(r),this.movesSubject$.next(this.movesSubject$.getValue()+1),this._checkWinCondition()):r[e].push(s)}}manual_resetGame(){this.gameState$.next([[{size:3},{size:2},{size:1}],[],[]]),this.movesSubject$.next(0),this.selectedTower=null,this.auto_newGame()}_checkWinCondition(){return 3===this.gameState$.getValue()[2].length}auto_printSteps(){if(this._stepsIndex>this._stepsAmt)clearTimeout(this._timeoutId);else{if(0==this._stepsIndex&&this.steps.push("[BEGIN STEPS]"),this._steps[this._stepsIndex]){let e=document.querySelector(".steps-container");e&&(e.scrollTop=e.scrollHeight);let i=this._steps[this._stepsIndex];this.steps.push(`Step ${this._stepsIndex+1} of ${this._stepsAmt}. Move disk ${i.n} from Tower ${i.from} to Tower ${i.to}`),this.auto_makeMove(i);let l=i.from.charCodeAt(0)-65,c=i.to.charCodeAt(0)-65;this.manual_moveDisk(l,c)}this._stepsIndex++,this._stepsIndex==this._stepsAmt&&this.steps.push("[END STEPS]"),this._timeoutId=setTimeout(()=>{this.auto_printSteps()},this._delayInMilliseconds)}}auto_makeMove(e){let o,i=e.n,s=e.to;switch(e.from){case"A":o=this.towerA.get(i),this.towerA.set(i,new tx(i,"-"));break;case"B":o=this.towerB.get(i),this.towerB.set(i,new tx(i,"-"));break;case"C":o=this.towerC.get(i),this.towerC.set(i,new tx(i,"-"))}switch(s){case"A":this.towerA.set(i,o);break;case"B":this.towerB.set(i,o);break;case"C":this.towerC.set(i,o)}}auto_saveStep(e,i,r){let s=new oWe(e,i,r);this._steps.push(s),this._stepsAmt++}auto_towerOfHanoi(e,i,r,s){0!==e&&(this.auto_towerOfHanoi(e-1,i,s,r),this.auto_saveStep(e,i,r),this.auto_towerOfHanoi(e-1,s,r,i))}auto_newGame(){if(this._diskAmt=3,0===this._diskAmt)return;this.towerA=new Map;let e="";for(let i=1;i<=this._diskAmt;i++)e+="*",this.towerA.set(i,new tx(i,e));this.towerB=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerB.set(i,new tx(i,"-"));this.towerC=new Map;for(let i=1;i<=this._diskAmt;i++)this.towerC.set(i,new tx(i,"-"));this.steps=[],this._steps=[],this._stepsIndex=0,this._stepsAmt=0,this._startGame=!1}auto_startGame(){this.auto_newGame(),0!==this._diskAmt&&(this._startGame=!0,this.auto_towerOfHanoi(this._diskAmt,"A","C","B"),this.auto_printSteps())}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const lWe=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});function cWe(n,t){if(1&n&&(q(0,"div",11),pe(1),$()),2&n){const e=t.$implicit;rm("width",20*e.size,"px"),te(),di(" ",e.size," ")}}function uWe(n,t){if(1&n&&(q(0,"div",8)(1,"h2"),pe(2),$(),q(3,"div",9),ht(4,cWe,2,3,"div",10),$()()),2&n){const e=t.$implicit,i=t.index;te(2),di("Tower ",i+1,""),te(2),Se("ngForOf",e)}}let dWe=(()=>{class n extends yr{constructor(e,i,r,s,o){super(i,o,r,s,cse),this.hanoiEngine=e,this.configService=i,this.route=r,this.speechService=s,this.backendService=o}ngOnInit(){this.hanoiEngine.manual_resetGame()}static{this.\u0275fac=function(i){return new(i||n)(oe(aWe),oe(Hi),oe(Wr),oe(vs),oe($r))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-game-hanoi-auto"]],features:[Ln([{provide:ra,useValue:"PAGE_GAMES_HANOI_2D"}]),mn],decls:20,vars:11,consts:[[1,"content"],[1,"game-container"],["class","tower",4,"ngFor","ngForOf"],["align","center"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-success",3,"click","disabled"],["align","right"],[3,"routerLink","queryParams"],[1,"tower"],[1,"disks-container"],["class","disk",3,"width",4,"ngFor","ngForOf"],[1,"disk"]],template:function(i,r){1&i&&(q(0,"div",0),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",1),ht(4,uWe,5,2,"div",2),ml(5,"async"),$(),Ye(6,"hr"),q(7,"div",3)(8,"p"),pe(9),ml(10,"async"),$(),q(11,"button",4),ct("click",function(){return r.hanoiEngine.manual_resetGame()}),pe(12,"Reset Game"),$(),pe(13," | "),q(14,"button",5),ct("click",function(){return r.hanoiEngine.auto_startGame()}),pe(15,"Start Game"),$()(),Ye(16,"hr"),q(17,"div",6)(18,"a",7),pe(19,"[Back to Menu]"),$()()()),2&i&&(te(4),Se("ngForOf",xc(5,6,r.hanoiEngine.towers$)),te(5),di("Moves: ",xc(10,8,r.hanoiEngine.moves$),""),te(2),Se("disabled",!r.hanoiEngine._checkWinCondition()),te(3),Se("disabled",r.hanoiEngine._steps.length>0),te(4),Se("routerLink","/PageUrlList")("queryParams",Us(10,lWe)))},dependencies:[Ma,rs,yr,pv],styles:[".game-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.tower[_ngcontent-%COMP%]{text-align:center}.disks-container[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse;align-items:center;height:100px}.disk[_ngcontent-%COMP%]{height:20px;background-color:#007bff;margin:2px;display:flex;justify-content:center;align-items:center;color:#fff}"]})}}return n})();const Ole=1,pWe=2,UA=3,ZP=0,FWe=1,PWe=2,Vv=0,OWe=1,RWe=2,kWe=3,LWe=4,UWe=5,HWe=6,VWe=7,zv=301,bb=302,$D=306,fp=1001,Xc=1003,cc=1006,VA=1008,zA=1009,Vle=1010,zle=1011,XD=1012,xz=1013,Qv=1014,hh=1015,YD=1016,Cz=1017,Sz=1018,ox=1020,Qle=35902,Gle=1021,jle=1022,hd=1023,qle=1024,Wle=1025,ax=1026,lx=1027,Ez=1028,rO=1029,$le=1030,Dz=1031,Mz=1033,sO=33776,oO=33777,aO=33778,lO=33779,Tz=35840,Nz=35841,Iz=35842,Bz=35843,Fz=36196,Pz=37492,Oz=37496,Rz=37808,kz=37809,Lz=37810,Uz=37811,Hz=37812,Vz=37813,zz=37814,Qz=37815,Gz=37816,jz=37817,qz=37818,Wz=37819,$z=37820,Kz=37821,cO=36492,Xz=36494,Yz=36495,Kle=36283,Zz=36284,Jz=36285,e7=36286,fh="srgb",dx="srgb-linear",hO="linear",vo="srgb",hx=7680,Jle="300 es",Mm=2e3;class QA{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const r=this._listeners[t];if(void 0!==r){const s=r.indexOf(e);-1!==s&&r.splice(s,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const i=this._listeners[t.type];if(void 0!==i){t.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,t);t.target=null}}}const Yc=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],wb=Math.PI/180,fx=180/Math.PI;function ph(){const n=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Yc[255&n]+Yc[n>>8&255]+Yc[n>>16&255]+Yc[n>>24&255]+"-"+Yc[255&t]+Yc[t>>8&255]+"-"+Yc[t>>16&15|64]+Yc[t>>24&255]+"-"+Yc[63&e|128]+Yc[e>>8&255]+"-"+Yc[e>>16&255]+Yc[e>>24&255]+Yc[255&i]+Yc[i>>8&255]+Yc[i>>16&255]+Yc[i>>24&255]).toLowerCase()}function hr(n,t,e){return Math.max(t,Math.min(e,n))}function ZD(n,t,e){return(1-e)*n+e*t}function Eu(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function wr(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}const v$e_DEG2RAD=wb;class Yt{constructor(t=0,e=0){Yt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6],this.y=r[1]*e+r[4]*i+r[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=hr(this.x,t.x,e.x),this.y=hr(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=hr(this.x,t,e),this.y=hr(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hr(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(hr(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),r=Math.sin(e),s=this.x-t.x,o=this.y-t.y;return this.x=s*i-o*r+t.x,this.y=s*r+o*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class xr{constructor(t,e,i,r,s,o,a,l,c){xr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,o,a,l,c)}set(t,e,i,r,s,o,a,l,c){const u=this.elements;return u[0]=t,u[1]=r,u[2]=a,u[3]=e,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],f=i[2],h=i[5],p=i[8],m=r[0],g=r[3],A=r[6],_=r[1],v=r[4],b=r[7],w=r[2],y=r[5],C=r[8];return s[0]=o*m+a*_+l*w,s[3]=o*g+a*v+l*y,s[6]=o*A+a*b+l*C,s[1]=c*m+u*_+d*w,s[4]=c*g+u*v+d*y,s[7]=c*A+u*b+d*C,s[2]=f*m+h*_+p*w,s[5]=f*g+h*v+p*y,s[8]=f*A+h*b+p*C,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8];return e*o*u-e*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=u*o-a*c,f=a*l-u*s,h=c*s-o*l,p=e*d+i*f+r*h;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const m=1/p;return t[0]=d*m,t[1]=(r*c-u*i)*m,t[2]=(a*i-r*o)*m,t[3]=f*m,t[4]=(u*e-r*l)*m,t[5]=(r*s-a*e)*m,t[6]=h*m,t[7]=(i*l-c*e)*m,t[8]=(o*e-i*s)*m,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+t,-r*c,r*l,-r*(-c*o+l*a)+a+e,0,0,1),this}scale(t,e){return this.premultiply(s7.makeScale(t,e)),this}rotate(t){return this.premultiply(s7.makeRotation(-t)),this}translate(t,e){return this.premultiply(s7.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<9;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}const s7=new xr;function tce(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}function JD(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function b$e(){const n=JD("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const nce={};function mx(n){n in nce||(nce[n]=!0,console.warn(n))}const ice=(new xr).set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),rce=(new xr).set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function C$e(){const n={enabled:!0,workingColorSpace:dx,spaces:{},convert:function(r,s,o){return!1===this.enabled||s===o||!s||!o||(this.spaces[s].transfer===vo&&(r.r=GA(r.r),r.g=GA(r.g),r.b=GA(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===vo&&(r.r=Ax(r.r),r.g=Ax(r.g),r.b=Ax(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return""===r?hO:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[dx]:{primaries:t,whitePoint:i,transfer:hO,toXYZ:ice,fromXYZ:rce,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:fh},outputColorSpaceConfig:{drawingBufferColorSpace:fh}},[fh]:{primaries:t,whitePoint:i,transfer:vo,toXYZ:ice,fromXYZ:rce,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:fh}}}),n}const Ds=C$e();function GA(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function Ax(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let gx;class S$e{static getDataURL(t){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===gx&&(gx=JD("canvas")),gx.width=t.width,gx.height=t.height;const i=gx.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=gx}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=JD("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const r=i.getImageData(0,0,t.width,t.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*GA(s[o]/255);return i.putImageData(r,0,0),e}if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e[i]=e instanceof Uint8Array||e instanceof Uint8ClampedArray?Math.floor(255*GA(e[i]/255)):GA(e[i]);return{data:e,width:t.width,height:t.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let E$e=0;class vx{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:E$e++}),this.uuid=ph(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){!0===t&&this.version++}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.images[this.uuid])return t.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(o7(r[o].isDataTexture?r[o].image:r[o]))}else s=o7(r);i.url=s}return e||(t.images[this.uuid]=i),i}}function o7(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?S$e.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let D$e=0,fd=(()=>{class n extends QA{constructor(e=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=fp,s=fp,o=cc,a=VA,l=hd,c=zA,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:D$e++}),this.uuid=ph(),this.name="",this.source=new vx(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new Yt(0,0),this.repeat=new Yt(1,1),this.center=new Yt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const i=void 0===e||"string"==typeof e;if(!i&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case fp:e.x=e.x<0?0:1;break;case 1002:e.x=1===Math.abs(Math.floor(e.x)%2)?Math.ceil(e.x)-e.x:e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case fp:e.y=e.y<0?0:1;break;case 1002:e.y=1===Math.abs(Math.floor(e.y)%2)?Math.ceil(e.y)-e.y:e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class Os{constructor(t=0,e=0,i=0,r=1){Os.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=r}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,r){return this.x=t,this.y=e,this.z=i,this.w=r,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=this.w,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*e+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*e+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*e+o[7]*i+o[11]*r+o[15]*s,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,r,s;const l=t.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],p=l[9],m=l[2],g=l[6],A=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-m)<.01&&Math.abs(p-g)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+m)<.1&&Math.abs(p+g)<.1&&Math.abs(c+h+A-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const v=(c+1)/2,b=(h+1)/2,w=(A+1)/2,y=(u+f)/4,C=(d+m)/4,D=(p+g)/4;return v>b&&v>w?v<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(v),r=y/i,s=C/i):b>w?b<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(b),i=y/r,s=D/r):w<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(w),i=C/s,r=D/s),this.set(i,r,s,e),this}let _=Math.sqrt((g-p)*(g-p)+(d-m)*(d-m)+(f-u)*(f-u));return Math.abs(_)<.001&&(_=1),this.x=(g-p)/_,this.y=(d-m)/_,this.z=(f-u)/_,this.w=Math.acos((c+h+A-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=hr(this.x,t.x,e.x),this.y=hr(this.y,t.y,e.y),this.z=hr(this.z,t.z,e.z),this.w=hr(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=hr(this.x,t,e),this.y=hr(this.y,t,e),this.z=hr(this.z,t,e),this.w=hr(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hr(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class a7 extends QA{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new Os(0,0,t,e),this.scissorTest=!1,this.viewport=new Os(0,0,t,e);const r={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:cc,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new fd(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){null!==this._depthTexture&&(this._depthTexture.renderTarget=null),null!==t&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=t,this.textures[r].image.height=e,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let i=0,r=t.textures.length;i<r;i++)this.textures[i]=t.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const e=Object.assign({},t.texture.image);return this.texture.source=new vx(e),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,null!==t.depthTexture&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jA extends a7{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class mO extends fd{constructor(t=null,e=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Xc,this.minFilter=Xc,this.wrapR=fp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class l7 extends fd{constructor(t=null,e=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:r},this.magFilter=Xc,this.minFilter=Xc,this.wrapR=fp,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Du{constructor(t=0,e=0,i=0,r=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=r}static slerpFlat(t,e,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const f=s[o+0],h=s[o+1],p=s[o+2],m=s[o+3];if(0===a)return t[e+0]=l,t[e+1]=c,t[e+2]=u,void(t[e+3]=d);if(1===a)return t[e+0]=f,t[e+1]=h,t[e+2]=p,void(t[e+3]=m);if(d!==m||l!==f||c!==h||u!==p){let g=1-a;const A=l*f+c*h+u*p+d*m,_=A>=0?1:-1,v=1-A*A;if(v>Number.EPSILON){const w=Math.sqrt(v),y=Math.atan2(w,A*_);g=Math.sin(g*y)/w,a=Math.sin(a*y)/w}const b=a*_;if(l=l*g+f*b,c=c*g+h*b,u=u*g+p*b,d=d*g+m*b,g===1-a){const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}t[e]=l,t[e+1]=c,t[e+2]=u,t[e+3]=d}static multiplyQuaternionsFlat(t,e,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],f=s[o+1],h=s[o+2],p=s[o+3];return t[e]=a*p+u*d+l*h-c*f,t[e+1]=l*p+u*f+c*d-a*h,t[e+2]=c*p+u*h+a*f-l*d,t[e+3]=u*p-a*d-l*f-c*h,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,r){return this._x=t,this._y=e,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,r=t._y,s=t._z,o=t._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),f=l(i/2),h=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"YXZ":this._x=f*u*d+c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"ZXY":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d-f*h*p;break;case"ZYX":this._x=f*u*d-c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d+f*h*p;break;case"YZX":this._x=f*u*d+c*h*p,this._y=c*h*d+f*u*p,this._z=c*u*p-f*h*d,this._w=c*u*d-f*h*p;break;case"XZY":this._x=f*u*d-c*h*p,this._y=c*h*d-f*u*p,this._z=c*u*p+f*h*d,this._w=c*u*d+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!0===e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,r=Math.sin(i);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],r=e[4],s=e[8],o=e[1],a=e[5],l=e[9],c=e[2],u=e[6],d=e[10],f=i+a+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-r)*h}else if(i>a&&i>d){const h=2*Math.sqrt(1+i-a-d);this._w=(u-l)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(s+c)/h}else if(a>d){const h=2*Math.sqrt(1+a-i-d);this._w=(s-c)/h,this._x=(r+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-i-a);this._w=(o-r)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(hr(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const r=Math.min(1,e/i);return this.slerp(t,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,r=t._y,s=t._z,o=t._w,a=e._x,l=e._y,c=e._z,u=e._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*t._w+i*t._x+r*t._y+s*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-e;return this._w=h*o+e*this._w,this._x=h*i+e*this._x,this._y=h*r+e*this._y,this._z=h*s+e*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-e)*u)/c,f=Math.sin(e*u)/c;return this._w=o*d+this._w*f,this._x=i*d+this._x*f,this._y=r*d+this._y*f,this._z=s*d+this._z*f,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(t),r*Math.cos(t),s*Math.sin(e),s*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(t=0,e=0,i=0){Re.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(sce.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(sce.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[3]*i+s[6]*r,this.y=s[1]*e+s[4]*i+s[7]*r,this.z=s[2]*e+s[5]*i+s[8]*r,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,r=this.z,s=t.elements,o=1/(s[3]*e+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*e+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*e+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*e+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(t){const e=this.x,i=this.y,r=this.z,s=t.x,o=t.y,a=t.z,l=t.w,c=2*(o*r-a*i),u=2*(a*e-s*r),d=2*(s*i-o*e);return this.x=e+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,r=this.z,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*r,this.y=s[1]*e+s[5]*i+s[9]*r,this.z=s[2]*e+s[6]*i+s[10]*r,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=hr(this.x,t.x,e.x),this.y=hr(this.y,t.y,e.y),this.z=hr(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=hr(this.x,t,e),this.y=hr(this.y,t,e),this.z=hr(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(hr(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,r=t.y,s=t.z,o=e.x,a=e.y,l=e.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return c7.copy(this).projectOnVector(t),this.sub(c7)}reflect(t){return this.sub(c7.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(hr(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,r=this.z-t.z;return e*e+i*i+r*r}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const r=Math.sin(e)*t;return this.x=r*Math.sin(i),this.y=Math.cos(e)*t,this.z=r*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=r,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=2*Math.random()-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const c7=new Re,sce=new Du;class pd{constructor(t=new Re(1/0,1/0,1/0),e=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(pp.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(pp.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=pp.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(void 0!==i){const s=i.getAttribute("position");if(!0===e&&void 0!==s&&!0!==t.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===t.isMesh?t.getVertexPosition(o,pp):pp.fromBufferAttribute(s,o),pp.applyMatrix4(t.matrixWorld),this.expandByPoint(pp);else void 0!==t.boundingBox?(null===t.boundingBox&&t.computeBoundingBox(),AO.copy(t.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),AO.copy(i.boundingBox)),AO.applyMatrix4(t.matrixWorld),this.union(AO)}const r=t.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,pp),pp.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(eM),gO.subVectors(this.max,eM),_x.subVectors(t.a,eM),bx.subVectors(t.b,eM),yx.subVectors(t.c,eM),jv.subVectors(bx,_x),qv.subVectors(yx,bx),xb.subVectors(_x,yx);let e=[0,-jv.z,jv.y,0,-qv.z,qv.y,0,-xb.z,xb.y,jv.z,0,-jv.x,qv.z,0,-qv.x,xb.z,0,-xb.x,-jv.y,jv.x,0,-qv.y,qv.x,0,-xb.y,xb.x,0];return!(!u7(e,_x,bx,yx,gO)||(e=[1,0,0,0,1,0,0,0,1],!u7(e,_x,bx,yx,gO)))&&(vO.crossVectors(jv,qv),e=[vO.x,vO.y,vO.z],u7(e,_x,bx,yx,gO))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,pp).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=.5*this.getSize(pp).length()),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(qA[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),qA[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),qA[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),qA[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),qA[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),qA[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),qA[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),qA[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(qA)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const qA=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],pp=new Re,AO=new pd,_x=new Re,bx=new Re,yx=new Re,jv=new Re,qv=new Re,xb=new Re,eM=new Re,gO=new Re,vO=new Re,Cb=new Re;function u7(n,t,e,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Cb.fromArray(n,s);const a=r.x*Math.abs(Cb.x)+r.y*Math.abs(Cb.y)+r.z*Math.abs(Cb.z),l=t.dot(Cb),c=e.dot(Cb),u=i.dot(Cb);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const M$e=new pd,tM=new Re,d7=new Re;class Mu{constructor(t=new Re,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):M$e.setFromPoints(t).getCenter(i);let r=0;for(let s=0,o=t.length;s<o;s++)r=Math.max(r,i.distanceToSquared(t[s]));return this.radius=Math.sqrt(r),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;tM.subVectors(t,this.center);const e=tM.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),r=.5*(i-this.radius);this.center.addScaledVector(tM,r/i),this.radius+=r}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(!0===this.center.equals(t.center)?this.radius=Math.max(this.radius,t.radius):(d7.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(tM.copy(t.center).add(d7)),this.expandByPoint(tM.copy(t.center).sub(d7))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const WA=new Re,h7=new Re,_O=new Re,Wv=new Re,f7=new Re,bO=new Re,p7=new Re;class wx{constructor(t=new Re,e=new Re(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,WA)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=WA.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(WA.copy(this.origin).addScaledVector(this.direction,e),WA.distanceToSquared(t))}distanceSqToSegment(t,e,i,r){h7.copy(t).add(e).multiplyScalar(.5),_O.copy(e).sub(t).normalize(),Wv.copy(this.origin).sub(h7);const s=.5*t.distanceTo(e),o=-this.direction.dot(_O),a=Wv.dot(this.direction),l=-Wv.dot(_O),c=Wv.lengthSq(),u=Math.abs(1-o*o);let d,f,h,p;if(u>0)if(d=o*l-a,f=o*a-l,p=s*u,d>=0)if(f>=-p)if(f<=p){const m=1/u;d*=m,f*=m,h=d*(d+o*f+2*a)+f*(o*d+f+2*l)+c}else f=s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;else f<=-p?(d=Math.max(0,-(-o*s+a)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=p?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(o*s+a)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=o>0?-s:s,d=Math.max(0,-(o*f+a)),h=-d*d+f*(f+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(h7).addScaledVector(_O,f),h}intersectSphere(t,e){WA.subVectors(t.center,this.origin);const i=WA.dot(this.direction),r=WA.dot(WA)-i*i,s=t.radius*t.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(i=(t.min.x-f.x)*c,r=(t.max.x-f.x)*c):(i=(t.max.x-f.x)*c,r=(t.min.x-f.x)*c),u>=0?(s=(t.min.y-f.y)*u,o=(t.max.y-f.y)*u):(s=(t.max.y-f.y)*u,o=(t.min.y-f.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(t.min.z-f.z)*d,l=(t.max.z-f.z)*d):(a=(t.max.z-f.z)*d,l=(t.min.z-f.z)*d),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,e)}intersectsBox(t){return null!==this.intersectBox(t,WA)}intersectTriangle(t,e,i,r,s){f7.subVectors(e,t),bO.subVectors(i,t),p7.crossVectors(f7,bO);let a,o=this.direction.dot(p7);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Wv.subVectors(this.origin,t);const l=a*this.direction.dot(bO.crossVectors(Wv,bO));if(l<0)return null;const c=a*this.direction.dot(f7.cross(Wv));if(c<0||l+c>o)return null;const u=-a*Wv.dot(p7);return u<0?null:this.at(u/o,s)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Zi{constructor(t,e,i,r,s,o,a,l,c,u,d,f,h,p,m,g){Zi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==t&&this.set(t,e,i,r,s,o,a,l,c,u,d,f,h,p,m,g)}set(t,e,i,r,s,o,a,l,c,u,d,f,h,p,m,g){const A=this.elements;return A[0]=t,A[4]=e,A[8]=i,A[12]=r,A[1]=s,A[5]=o,A[9]=a,A[13]=l,A[2]=c,A[6]=u,A[10]=d,A[14]=f,A[3]=h,A[7]=p,A[11]=m,A[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Zi).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,r=1/xx.setFromMatrixColumn(t,0).length(),s=1/xx.setFromMatrixColumn(t,1).length(),o=1/xx.setFromMatrixColumn(t,2).length();return e[0]=i[0]*r,e[1]=i[1]*r,e[2]=i[2]*r,e[3]=0,e[4]=i[4]*s,e[5]=i[5]*s,e[6]=i[6]*s,e[7]=0,e[8]=i[8]*o,e[9]=i[9]*o,e[10]=i[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,r=t.y,s=t.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===t.order){const f=o*u,h=o*d,p=a*u,m=a*d;e[0]=l*u,e[4]=-l*d,e[8]=c,e[1]=h+p*c,e[5]=f-m*c,e[9]=-a*l,e[2]=m-f*c,e[6]=p+h*c,e[10]=o*l}else if("YXZ"===t.order){const f=l*u,h=l*d,p=c*u,m=c*d;e[0]=f+m*a,e[4]=p*a-h,e[8]=o*c,e[1]=o*d,e[5]=o*u,e[9]=-a,e[2]=h*a-p,e[6]=m+f*a,e[10]=o*l}else if("ZXY"===t.order){const f=l*u,h=l*d,p=c*u,m=c*d;e[0]=f-m*a,e[4]=-o*d,e[8]=p+h*a,e[1]=h+p*a,e[5]=o*u,e[9]=m-f*a,e[2]=-o*c,e[6]=a,e[10]=o*l}else if("ZYX"===t.order){const f=o*u,h=o*d,p=a*u,m=a*d;e[0]=l*u,e[4]=p*c-h,e[8]=f*c+m,e[1]=l*d,e[5]=m*c+f,e[9]=h*c-p,e[2]=-c,e[6]=a*l,e[10]=o*l}else if("YZX"===t.order){const f=o*l,h=o*c,p=a*l,m=a*c;e[0]=l*u,e[4]=m-f*d,e[8]=p*d+h,e[1]=d,e[5]=o*u,e[9]=-a*u,e[2]=-c*u,e[6]=h*d+p,e[10]=f-m*d}else if("XZY"===t.order){const f=o*l,h=o*c,p=a*l,m=a*c;e[0]=l*u,e[4]=-d,e[8]=c*u,e[1]=f*d+m,e[5]=o*u,e[9]=h*d-p,e[2]=p*d-h,e[6]=a*u,e[10]=m*d+f}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(T$e,t,N$e)}lookAt(t,e,i){const r=this.elements;return mh.subVectors(t,e),0===mh.lengthSq()&&(mh.z=1),mh.normalize(),$v.crossVectors(i,mh),0===$v.lengthSq()&&(1===Math.abs(i.z)?mh.x+=1e-4:mh.z+=1e-4,mh.normalize(),$v.crossVectors(i,mh)),$v.normalize(),yO.crossVectors(mh,$v),r[0]=$v.x,r[4]=yO.x,r[8]=mh.x,r[1]=$v.y,r[5]=yO.y,r[9]=mh.y,r[2]=$v.z,r[6]=yO.z,r[10]=mh.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,r=e.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],f=i[9],h=i[13],p=i[2],m=i[6],g=i[10],A=i[14],_=i[3],v=i[7],b=i[11],w=i[15],y=r[0],C=r[4],D=r[8],S=r[12],T=r[1],M=r[5],F=r[9],L=r[13],U=r[2],z=r[6],O=r[10],G=r[14],j=r[3],J=r[7],le=r[11],ye=r[15];return s[0]=o*y+a*T+l*U+c*j,s[4]=o*C+a*M+l*z+c*J,s[8]=o*D+a*F+l*O+c*le,s[12]=o*S+a*L+l*G+c*ye,s[1]=u*y+d*T+f*U+h*j,s[5]=u*C+d*M+f*z+h*J,s[9]=u*D+d*F+f*O+h*le,s[13]=u*S+d*L+f*G+h*ye,s[2]=p*y+m*T+g*U+A*j,s[6]=p*C+m*M+g*z+A*J,s[10]=p*D+m*F+g*O+A*le,s[14]=p*S+m*L+g*G+A*ye,s[3]=_*y+v*T+b*U+w*j,s[7]=_*C+v*M+b*z+w*J,s[11]=_*D+v*F+b*O+w*le,s[15]=_*S+v*L+b*G+w*ye,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],r=t[8],s=t[12],o=t[1],a=t[5],l=t[9],c=t[13],u=t[2],d=t[6],f=t[10],h=t[14];return t[3]*(+s*l*d-r*c*d-s*a*f+i*c*f+r*a*h-i*l*h)+t[7]*(+e*l*h-e*c*f+s*o*f-r*o*h+r*c*u-s*l*u)+t[11]*(+e*c*d-e*a*h-s*o*d+i*o*h+s*a*u-i*c*u)+t[15]*(-r*a*u-e*l*d+e*a*f+r*o*d-i*o*f+i*l*u)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const r=this.elements;return t.isVector3?(r[12]=t.x,r[13]=t.y,r[14]=t.z):(r[12]=t,r[13]=e,r[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],r=t[2],s=t[3],o=t[4],a=t[5],l=t[6],c=t[7],u=t[8],d=t[9],f=t[10],h=t[11],p=t[12],m=t[13],g=t[14],A=t[15],_=d*g*c-m*f*c+m*l*h-a*g*h-d*l*A+a*f*A,v=p*f*c-u*g*c-p*l*h+o*g*h+u*l*A-o*f*A,b=u*m*c-p*d*c+p*a*h-o*m*h-u*a*A+o*d*A,w=p*d*l-u*m*l-p*a*f+o*m*f+u*a*g-o*d*g,y=e*_+i*v+r*b+s*w;if(0===y)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const C=1/y;return t[0]=_*C,t[1]=(m*f*s-d*g*s-m*r*h+i*g*h+d*r*A-i*f*A)*C,t[2]=(a*g*s-m*l*s+m*r*c-i*g*c-a*r*A+i*l*A)*C,t[3]=(d*l*s-a*f*s-d*r*c+i*f*c+a*r*h-i*l*h)*C,t[4]=v*C,t[5]=(u*g*s-p*f*s+p*r*h-e*g*h-u*r*A+e*f*A)*C,t[6]=(p*l*s-o*g*s-p*r*c+e*g*c+o*r*A-e*l*A)*C,t[7]=(o*f*s-u*l*s+u*r*c-e*f*c-o*r*h+e*l*h)*C,t[8]=b*C,t[9]=(p*d*s-u*m*s-p*i*h+e*m*h+u*i*A-e*d*A)*C,t[10]=(o*m*s-p*a*s+p*i*c-e*m*c-o*i*A+e*a*A)*C,t[11]=(u*a*s-o*d*s-u*i*c+e*d*c+o*i*h-e*a*h)*C,t[12]=w*C,t[13]=(u*m*r-p*d*r+p*i*f-e*m*f-u*i*g+e*d*g)*C,t[14]=(p*a*r-o*m*r-p*i*l+e*m*l+o*i*g-e*a*g)*C,t[15]=(o*d*r-u*a*r+u*i*l-e*d*l-o*i*f+e*a*f)*C,this}scale(t){const e=this.elements,i=t.x,r=t.y,s=t.z;return e[0]*=i,e[4]*=r,e[8]*=s,e[1]*=i,e[5]*=r,e[9]*=s,e[2]*=i,e[6]*=r,e[10]*=s,e[3]*=i,e[7]*=r,e[11]*=s,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),r=Math.sin(e),s=1-i,o=t.x,a=t.y,l=t.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,r,s,o){return this.set(1,i,s,0,t,1,o,0,e,r,1,0,0,0,0,1),this}compose(t,e,i){const r=this.elements,s=e._x,o=e._y,a=e._z,l=e._w,c=s+s,u=o+o,d=a+a,f=s*c,h=s*u,p=s*d,m=o*u,g=o*d,A=a*d,_=l*c,v=l*u,b=l*d,w=i.x,y=i.y,C=i.z;return r[0]=(1-(m+A))*w,r[1]=(h+b)*w,r[2]=(p-v)*w,r[3]=0,r[4]=(h-b)*y,r[5]=(1-(f+A))*y,r[6]=(g+_)*y,r[7]=0,r[8]=(p+v)*C,r[9]=(g-_)*C,r[10]=(1-(f+m))*C,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}decompose(t,e,i){const r=this.elements;let s=xx.set(r[0],r[1],r[2]).length();const o=xx.set(r[4],r[5],r[6]).length(),a=xx.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),t.x=r[12],t.y=r[13],t.z=r[14],mp.copy(this);const c=1/s,u=1/o,d=1/a;return mp.elements[0]*=c,mp.elements[1]*=c,mp.elements[2]*=c,mp.elements[4]*=u,mp.elements[5]*=u,mp.elements[6]*=u,mp.elements[8]*=d,mp.elements[9]*=d,mp.elements[10]*=d,e.setFromRotationMatrix(mp),i.x=s,i.y=o,i.z=a,this}makePerspective(t,e,i,r,s,o,a=Mm){const l=this.elements,c=2*s/(e-t),u=2*s/(i-r),d=(e+t)/(e-t),f=(i+r)/(i-r);let h,p;if(a===Mm)h=-(o+s)/(o-s),p=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);h=-o/(o-s),p=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(t,e,i,r,s,o,a=Mm){const l=this.elements,c=1/(e-t),u=1/(i-r),d=1/(o-s),f=(e+t)*c,h=(i+r)*u;let p,m;if(a===Mm)p=(o+s)*d,m=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=s*d,m=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=m,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let r=0;r<16;r++)if(e[r]!==i[r])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const xx=new Re,mp=new Zi,T$e=new Re(0,0,0),N$e=new Re(1,1,1),$v=new Re,yO=new Re,mh=new Re,oce=new Zi,ace=new Du;let $A=(()=>{class n{constructor(e=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,s=this._order){return this._x=e,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const s=e.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],f=s[2],h=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(hr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-hr(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(hr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-hr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(hr(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-hr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return oce.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oce,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return ace.setFromEuler(this),this.setFromQuaternion(ace,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class m7{constructor(){this.mask=1}set(t){this.mask=1<<t>>>0}enable(t){this.mask|=1<<t}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t}disable(t){this.mask&=~(1<<t)}disableAll(){this.mask=0}test(t){return!!(this.mask&t.mask)}isEnabled(t){return!!(this.mask&1<<t)}}let I$e=0;const lce=new Re,Cx=new Du,KA=new Zi,wO=new Re,nM=new Re,B$e=new Re,F$e=new Du,cce=new Re(1,0,0),uce=new Re(0,1,0),dce=new Re(0,0,1),hce={type:"added"},P$e={type:"removed"},Sx={type:"childadded",child:null},A7={type:"childremoved",child:null};let Yo=(()=>{class n extends QA{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:I$e++}),this.uuid=ph(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const e=new Re,i=new $A,r=new Du,s=new Re(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new Zi},normalMatrix:{value:new xr}}),this.matrix=new Zi,this.matrixWorld=new Zi,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new m7,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return Cx.setFromAxisAngle(e,i),this.quaternion.multiply(Cx),this}rotateOnWorldAxis(e,i){return Cx.setFromAxisAngle(e,i),this.quaternion.premultiply(Cx),this}rotateX(e){return this.rotateOnAxis(cce,e)}rotateY(e){return this.rotateOnAxis(uce,e)}rotateZ(e){return this.rotateOnAxis(dce,e)}translateOnAxis(e,i){return lce.copy(e).applyQuaternion(this.quaternion),this.position.add(lce.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(cce,e)}translateY(e){return this.translateOnAxis(uce,e)}translateZ(e){return this.translateOnAxis(dce,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(KA.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?wO.copy(e):wO.set(e,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),nM.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?KA.lookAt(nM,wO,this.up):KA.lookAt(wO,nM,this.up),this.quaternion.setFromRotationMatrix(KA),s&&(KA.extractRotation(s.matrixWorld),Cx.setFromRotationMatrix(KA),this.quaternion.premultiply(Cx.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hce),Sx.child=e,this.dispatchEvent(Sx),Sx.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return-1!==i&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(P$e),A7.child=e,this.dispatchEvent(A7),A7.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),KA.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),KA.multiply(e.parent.matrixWorld)),e.applyMatrix4(KA),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hce),Sx.child=e,this.dispatchEvent(Sx),Sx.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(e,i);if(void 0!==a)return a}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nM,e,B$e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(nM,F$e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;null!==i&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateMatrixWorld(e)}updateWorldMatrix(e,i){const r=this.parent;if(!0===e&&null!==r&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++)s[o].updateWorldMatrix(!1,!0)}}toJSON(e){const i=void 0===e||"string"==typeof e,r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.visibility=this._visibility,s.active=this._active,s.bounds=this._bounds.map(l=>({boxInitialized:l.boxInitialized,boxMin:l.box.min.toArray(),boxMax:l.box.max.toArray(),sphereInitialized:l.sphereInitialized,sphereRadius:l.sphere.radius,sphereCenter:l.sphere.center.toArray()})),s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.geometryCount=this._geometryCount,s.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(s.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(s.boundingSphere={center:s.boundingSphere.center.toArray(),radius:s.boundingSphere.radius}),null!==this.boundingBox&&(s.boundingBox={min:s.boundingBox.min.toArray(),max:s.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(e.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(e.shapes,c[u]);else o(e.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(e.materials,this.material[c]));s.material=l}else s.material=o(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(e.animations,this.animations[l]))}if(i){const l=a(e.geometries),c=a(e.materials),u=a(e.textures),d=a(e.images),f=a(e.shapes),h=a(e.skeletons),p=a(e.animations),m=a(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),p.length>0&&(r.animations=p),m.length>0&&(r.nodes=m)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(e){return(new this.constructor).copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===i)for(let r=0;r<e.children.length;r++)this.add(e.children[r].clone());return this}}return n.DEFAULT_UP=new Re(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Ap=new Re,XA=new Re,g7=new Re,YA=new Re,Ex=new Re,Dx=new Re,fce=new Re,v7=new Re,_7=new Re,b7=new Re,y7=new Os,w7=new Os,x7=new Os;class Ah{constructor(t=new Re,e=new Re,i=new Re){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,r){r.subVectors(i,e),Ap.subVectors(t,e),r.cross(Ap);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(t,e,i,r,s){Ap.subVectors(r,e),XA.subVectors(i,e),g7.subVectors(t,e);const o=Ap.dot(Ap),a=Ap.dot(XA),l=Ap.dot(g7),c=XA.dot(XA),u=XA.dot(g7),d=o*c-a*a;if(0===d)return s.set(0,0,0),null;const f=1/d,h=(c*l-a*u)*f,p=(o*u-a*l)*f;return s.set(1-h-p,p,h)}static containsPoint(t,e,i,r){return null!==this.getBarycoord(t,e,i,r,YA)&&YA.x>=0&&YA.y>=0&&YA.x+YA.y<=1}static getInterpolation(t,e,i,r,s,o,a,l){return null===this.getBarycoord(t,e,i,r,YA)?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,YA.x),l.addScaledVector(o,YA.y),l.addScaledVector(a,YA.z),l)}static getInterpolatedAttribute(t,e,i,r,s,o){return y7.setScalar(0),w7.setScalar(0),x7.setScalar(0),y7.fromBufferAttribute(t,e),w7.fromBufferAttribute(t,i),x7.fromBufferAttribute(t,r),o.setScalar(0),o.addScaledVector(y7,s.x),o.addScaledVector(w7,s.y),o.addScaledVector(x7,s.z),o}static isFrontFacing(t,e,i,r){return Ap.subVectors(i,e),XA.subVectors(t,e),Ap.cross(XA).dot(r)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,r){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[r]),this}setFromAttributeAndIndices(t,e,i,r){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,r),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Ap.subVectors(this.c,this.b),XA.subVectors(this.a,this.b),.5*Ap.cross(XA).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Ah.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Ah.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,r,s){return Ah.getInterpolation(t,this.a,this.b,this.c,e,i,r,s)}containsPoint(t){return Ah.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Ah.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,r=this.b,s=this.c;let o,a;Ex.subVectors(r,i),Dx.subVectors(s,i),v7.subVectors(t,i);const l=Ex.dot(v7),c=Dx.dot(v7);if(l<=0&&c<=0)return e.copy(i);_7.subVectors(t,r);const u=Ex.dot(_7),d=Dx.dot(_7);if(u>=0&&d<=u)return e.copy(r);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return o=l/(l-u),e.copy(i).addScaledVector(Ex,o);b7.subVectors(t,s);const h=Ex.dot(b7),p=Dx.dot(b7);if(p>=0&&h<=p)return e.copy(s);const m=h*c-l*p;if(m<=0&&c>=0&&p<=0)return a=c/(c-p),e.copy(i).addScaledVector(Dx,a);const g=u*p-h*d;if(g<=0&&d-u>=0&&h-p>=0)return fce.subVectors(s,r),a=(d-u)/(d-u+(h-p)),e.copy(r).addScaledVector(fce,a);const A=1/(g+m+f);return o=m*A,a=f*A,e.copy(i).addScaledVector(Ex,o).addScaledVector(Dx,a)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const pce={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Kv={h:0,s:0,l:0},xO={h:0,s:0,l:0};function C7(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+6*(t-n)*e:e<.5?t:e<2/3?n+6*(t-n)*(2/3-e):n}class Jn{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(void 0===e&&void 0===i){const r=t;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=fh){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,Ds.toWorkingColorSpace(this,e),this}setRGB(t,e,i,r=Ds.workingColorSpace){return this.r=t,this.g=e,this.b=i,Ds.toWorkingColorSpace(this,r),this}setHSL(t,e,i,r=Ds.workingColorSpace){if(t=function r7(n,t){return(n%t+t)%t}(t,1),e=hr(e,0,1),i=hr(i,0,1),0===e)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+e):i+e-i*e,o=2*i-s;this.r=C7(o,s,t+1/3),this.g=C7(o,s,t),this.b=C7(o,s,t-1/3)}return Ds.toWorkingColorSpace(this,r),this}setStyle(t,e=fh){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(t)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,e);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,e);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(t)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,e);if(6===o)return this.setHex(parseInt(s,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=fh){const i=pce[t.toLowerCase()];return void 0!==i?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=GA(t.r),this.g=GA(t.g),this.b=GA(t.b),this}copyLinearToSRGB(t){return this.r=Ax(t.r),this.g=Ax(t.g),this.b=Ax(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=fh){return Ds.fromWorkingColorSpace(Zc.copy(this),t),65536*Math.round(hr(255*Zc.r,0,255))+256*Math.round(hr(255*Zc.g,0,255))+Math.round(hr(255*Zc.b,0,255))}getHexString(t=fh){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=Ds.workingColorSpace){Ds.fromWorkingColorSpace(Zc.copy(this),e);const i=Zc.r,r=Zc.g,s=Zc.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4}l/=6}return t.h=l,t.s=c,t.l=u,t}getRGB(t,e=Ds.workingColorSpace){return Ds.fromWorkingColorSpace(Zc.copy(this),e),t.r=Zc.r,t.g=Zc.g,t.b=Zc.b,t}getStyle(t=fh){Ds.fromWorkingColorSpace(Zc.copy(this),t);const e=Zc.r,i=Zc.g,r=Zc.b;return t!==fh?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*e)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(t,e,i){return this.getHSL(Kv),this.setHSL(Kv.h+t,Kv.s+e,Kv.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Kv),t.getHSL(xO);const i=ZD(Kv.h,xO.h,e),r=ZD(Kv.s,xO.s,e),s=ZD(Kv.l,xO.l,e);return this.setHSL(i,r,s),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,r=this.b,s=t.elements;return this.r=s[0]*e+s[3]*i+s[6]*r,this.g=s[1]*e+s[4]*i+s[7]*r,this.b=s[2]*e+s[5]*i+s[8]*r,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Zc=new Jn;Jn.NAMES=pce;let O$e=0;class Tu extends QA{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:O$e++}),this.uuid=ph(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Jn(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=hx,this.stencilZFail=hx,this.stencilZPass=hx,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const r=this[e];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[e]=i:console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`)}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(i.dispersion=this.dispersion),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapRotation&&(i.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==hx&&(i.stencilFail=this.stencilFail),this.stencilZFail!==hx&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==hx&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),e){const s=r(t.textures),o=r(t.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const r=e.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=e[s].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class ZA extends Tu{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Jn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new $A,this.combine=ZP,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const yl=new Re,CO=new Yt;class Bo{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=i,this.usage=35044,this.updateRanges=[],this.gpuType=hh,this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[t+r]=e.array[i+r];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)CO.fromBufferAttribute(this,e),CO.applyMatrix3(t),this.setXY(e,CO.x,CO.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)yl.fromBufferAttribute(this,e),yl.applyMatrix3(t),this.setXYZ(e,yl.x,yl.y,yl.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)yl.fromBufferAttribute(this,e),yl.applyMatrix4(t),this.setXYZ(e,yl.x,yl.y,yl.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)yl.fromBufferAttribute(this,e),yl.applyNormalMatrix(t),this.setXYZ(e,yl.x,yl.y,yl.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)yl.fromBufferAttribute(this,e),yl.transformDirection(t),this.setXYZ(e,yl.x,yl.y,yl.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Eu(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=wr(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Eu(e,this.array)),e}setX(t,e){return this.normalized&&(e=wr(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Eu(e,this.array)),e}setY(t,e){return this.normalized&&(e=wr(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Eu(e,this.array)),e}setZ(t,e){return this.normalized&&(e=wr(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Eu(e,this.array)),e}setW(t,e){return this.normalized&&(e=wr(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=wr(e,this.array),i=wr(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,r){return t*=this.itemSize,this.normalized&&(e=wr(e,this.array),i=wr(i,this.array),r=wr(r,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this}setXYZW(t,e,i,r,s){return t*=this.itemSize,this.normalized&&(e=wr(e,this.array),i=wr(i,this.array),r=wr(r,this.array),s=wr(s,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=r,this.array[t+3]=s,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),35044!==this.usage&&(t.usage=this.usage),t}}class mce extends Bo{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class Ace extends Bo{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class mi extends Bo{constructor(t,e,i){super(new Float32Array(t),e,i)}}let k$e=0;const cf=new Zi,S7=new Yo,Mx=new Re,gh=new pd,rM=new pd,uc=new Re;class Pr extends QA{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:k$e++}),this.uuid=ph(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(tce(t)?Ace:mce)(t,1):t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new xr).getNormalMatrix(t);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return cf.makeRotationFromQuaternion(t),this.applyMatrix4(cf),this}rotateX(t){return cf.makeRotationX(t),this.applyMatrix4(cf),this}rotateY(t){return cf.makeRotationY(t),this.applyMatrix4(cf),this}rotateZ(t){return cf.makeRotationZ(t),this.applyMatrix4(cf),this}translate(t,e,i){return cf.makeTranslation(t,e,i),this.applyMatrix4(cf),this}scale(t,e,i){return cf.makeScale(t,e,i),this.applyMatrix4(cf),this}lookAt(t){return S7.lookAt(t),S7.updateMatrix(),this.applyMatrix4(S7.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Mx).negate(),this.translate(Mx.x,Mx.y,Mx.z),this}setFromPoints(t){const e=this.getAttribute("position");if(void 0===e){const i=[];for(let r=0,s=t.length;r<s;r++){const o=t[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new mi(i,3))}else{const i=Math.min(t.length,e.count);for(let r=0;r<i;r++){const s=t[r];e.setXYZ(r,s.x,s.y,s.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new pd);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),void this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,r=e.length;i<r;i++)gh.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(uc.addVectors(this.boundingBox.min,gh.min),this.boundingBox.expandByPoint(uc),uc.addVectors(this.boundingBox.max,gh.max),this.boundingBox.expandByPoint(uc)):(this.boundingBox.expandByPoint(gh.min),this.boundingBox.expandByPoint(gh.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Mu);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),void this.boundingSphere.set(new Re,1/0);if(t){const i=this.boundingSphere.center;if(gh.setFromBufferAttribute(t),e)for(let s=0,o=e.length;s<o;s++)rM.setFromBufferAttribute(e[s]),this.morphTargetsRelative?(uc.addVectors(gh.min,rM.min),gh.expandByPoint(uc),uc.addVectors(gh.max,rM.max),gh.expandByPoint(uc)):(gh.expandByPoint(rM.min),gh.expandByPoint(rM.max));gh.getCenter(i);let r=0;for(let s=0,o=t.count;s<o;s++)uc.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(uc));if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)uc.fromBufferAttribute(a,c),l&&(Mx.fromBufferAttribute(t,c),uc.add(Mx)),r=Math.max(r,i.distanceToSquared(uc))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.position,r=e.normal,s=e.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Bo(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let D=0;D<i.count;D++)a[D]=new Re,l[D]=new Re;const c=new Re,u=new Re,d=new Re,f=new Yt,h=new Yt,p=new Yt,m=new Re,g=new Re;function A(D,S,T){c.fromBufferAttribute(i,D),u.fromBufferAttribute(i,S),d.fromBufferAttribute(i,T),f.fromBufferAttribute(s,D),h.fromBufferAttribute(s,S),p.fromBufferAttribute(s,T),u.sub(c),d.sub(c),h.sub(f),p.sub(f);const M=1/(h.x*p.y-p.x*h.y);isFinite(M)&&(m.copy(u).multiplyScalar(p.y).addScaledVector(d,-h.y).multiplyScalar(M),g.copy(d).multiplyScalar(h.x).addScaledVector(u,-p.x).multiplyScalar(M),a[D].add(m),a[S].add(m),a[T].add(m),l[D].add(g),l[S].add(g),l[T].add(g))}let _=this.groups;0===_.length&&(_=[{start:0,count:t.count}]);for(let D=0,S=_.length;D<S;++D){const T=_[D],M=T.start;for(let L=M,U=M+T.count;L<U;L+=3)A(t.getX(L+0),t.getX(L+1),t.getX(L+2))}const v=new Re,b=new Re,w=new Re,y=new Re;function C(D){w.fromBufferAttribute(r,D),y.copy(w);const S=a[D];v.copy(S),v.sub(w.multiplyScalar(w.dot(S))).normalize(),b.crossVectors(y,S);const M=b.dot(l[D])<0?-1:1;o.setXYZW(D,v.x,v.y,v.z,M)}for(let D=0,S=_.length;D<S;++D){const T=_[D],M=T.start;for(let L=M,U=M+T.count;L<U;L+=3)C(t.getX(L+0)),C(t.getX(L+1)),C(t.getX(L+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new Bo(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let f=0,h=i.count;f<h;f++)i.setXYZ(f,0,0,0);const r=new Re,s=new Re,o=new Re,a=new Re,l=new Re,c=new Re,u=new Re,d=new Re;if(t)for(let f=0,h=t.count;f<h;f+=3){const p=t.getX(f+0),m=t.getX(f+1),g=t.getX(f+2);r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,m),o.fromBufferAttribute(e,g),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,g),a.add(u),l.add(u),c.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let f=0,h=e.count;f<h;f+=3)r.fromBufferAttribute(e,f+0),s.fromBufferAttribute(e,f+1),o.fromBufferAttribute(e,f+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(f+0,u.x,u.y,u.z),i.setXYZ(f+1,u.x,u.y,u.z),i.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)uc.fromBufferAttribute(t,e),uc.normalize(),t.setXYZ(e,uc.x,uc.y,uc.z)}toNonIndexed(){function t(a,l){const c=a.array,u=a.itemSize,d=a.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let m=0,g=l.length;m<g;m++){h=a.isInterleavedBufferAttribute?l[m]*a.data.stride+a.offset:l[m]*u;for(let A=0;A<u;A++)f[p++]=c[h++]}return new Bo(f,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Pr,i=this.index.array,r=this.attributes;for(const a in r){const c=t(r[a],i);e.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=t(c[u],i);l.push(h)}e.morphAttributes[a]=l}e.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];e.addGroup(c.start,c.count,c.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(t[c]=l[c]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const l in i)t.data.attributes[l]=i[l].toJSON(t.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++)u.push(c[d].toJSON(t.data));u.length>0&&(r[l]=u,s=!0)}s&&(t.data.morphAttributes=r,t.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(t.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),t}clone(){return(new this.constructor).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const r=t.attributes;for(const c in r)this.setAttribute(c,r[c].clone(e));const s=t.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(e));this.morphAttributes[c]=u}this.morphTargetsRelative=t.morphTargetsRelative;const o=t.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=t.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=t.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gce=new Zi,Sb=new wx,SO=new Mu,vce=new Re,EO=new Re,DO=new Re,MO=new Re,E7=new Re,TO=new Re,_ce=new Re,NO=new Re;class Ja extends Yo{constructor(t=new Pr,e=new ZA){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const r=e[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(t,e){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;e.fromBufferAttribute(i.attributes.position,t);const a=this.morphTargetInfluences;if(s&&a){TO.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l];0!==u&&(E7.fromBufferAttribute(s[l],t),TO.addScaledVector(o?E7:E7.sub(e),u))}e.add(TO)}return e}raycast(t,e){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),SO.copy(i.boundingSphere),SO.applyMatrix4(s),Sb.copy(t.ray).recast(t.near),(!1!==SO.containsPoint(Sb.origin)||!(null===Sb.intersectSphere(SO,vce)||Sb.origin.distanceToSquared(vce)>(t.far-t.near)**2))&&(gce.copy(s).invert(),Sb.copy(t.ray).applyMatrix4(gce),(null===i.boundingBox||!1!==Sb.intersectsBox(i.boundingBox))&&this._computeIntersections(t,e,Sb)))}_computeIntersections(t,e,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,h=s.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,m=f.length;p<m;p++){const g=f[p],A=o[g.materialIndex];for(let b=Math.max(g.start,h.start),w=Math.min(a.count,Math.min(g.start+g.count,h.start+h.count));b<w;b+=3)r=IO(this,A,t,i,c,u,d,a.getX(b),a.getX(b+1),a.getX(b+2)),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,h.start),A=Math.min(a.count,h.start+h.count);g<A;g+=3)r=IO(this,o,t,i,c,u,d,a.getX(g),a.getX(g+1),a.getX(g+2)),r&&(r.faceIndex=Math.floor(g/3),e.push(r));else if(void 0!==l)if(Array.isArray(o))for(let p=0,m=f.length;p<m;p++){const g=f[p],A=o[g.materialIndex];for(let b=Math.max(g.start,h.start),w=Math.min(l.count,Math.min(g.start+g.count,h.start+h.count));b<w;b+=3)r=IO(this,A,t,i,c,u,d,b,b+1,b+2),r&&(r.faceIndex=Math.floor(b/3),r.face.materialIndex=g.materialIndex,e.push(r))}else for(let g=Math.max(0,h.start),A=Math.min(l.count,h.start+h.count);g<A;g+=3)r=IO(this,o,t,i,c,u,d,g,g+1,g+2),r&&(r.faceIndex=Math.floor(g/3),e.push(r))}}function IO(n,t,e,i,r,s,o,a,l,c){n.getVertexPosition(a,EO),n.getVertexPosition(l,DO),n.getVertexPosition(c,MO);const u=function L$e(n,t,e,i,r,s,o,a){let l;if(l=1===t.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===t.side,a),null===l)return null;NO.copy(a),NO.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(NO);return c<e.near||c>e.far?null:{distance:c,point:NO.clone(),object:n}}(n,t,e,i,EO,DO,MO,_ce);if(u){const d=new Re;Ah.getBarycoord(_ce,EO,DO,MO,d),r&&(u.uv=Ah.getInterpolatedAttribute(r,a,l,c,d,new Yt)),s&&(u.uv1=Ah.getInterpolatedAttribute(s,a,l,c,d,new Yt)),o&&(u.normal=Ah.getInterpolatedAttribute(o,a,l,c,d,new Re),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new Re,materialIndex:0};Ah.getNormal(EO,DO,MO,f.normal),u.face=f,u.barycoord=d}return u}class Tx extends Pr{constructor(t=1,e=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let f=0,h=0;function p(m,g,A,_,v,b,w,y,C,D,S){const T=b/C,M=w/D,F=b/2,L=w/2,U=y/2,z=C+1,O=D+1;let G=0,j=0;const J=new Re;for(let le=0;le<O;le++){const ye=le*M-L;for(let R=0;R<z;R++)J[m]=(R*T-F)*_,J[g]=ye*v,J[A]=U,c.push(J.x,J.y,J.z),J[m]=0,J[g]=0,J[A]=y>0?1:-1,u.push(J.x,J.y,J.z),d.push(R/C),d.push(1-le/D),G+=1}for(let le=0;le<D;le++)for(let ye=0;ye<C;ye++){const X=f+ye+z*(le+1),H=f+(ye+1)+z*(le+1),ae=f+(ye+1)+z*le;l.push(f+ye+z*le,X,ae),l.push(X,H,ae),j+=6}a.addGroup(h,j,S),h+=j,f+=G}p("z","y","x",-1,-1,i,e,t,o,s,0),p("z","y","x",1,-1,i,e,-t,o,s,1),p("x","z","y",1,1,t,i,e,r,o,2),p("x","z","y",1,-1,t,i,-e,r,o,3),p("x","y","z",1,-1,t,e,i,r,s,4),p("x","y","z",-1,-1,t,e,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new mi(c,3)),this.setAttribute("normal",new mi(u,3)),this.setAttribute("uv",new mi(d,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Tx(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function Nx(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const r=n[e][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=r.clone():t[e][i]=Array.isArray(r)?r.slice():r}}return t}function Nu(n){const t={};for(let e=0;e<n.length;e++){const i=Nx(n[e]);for(const r in i)t[r]=i[r]}return t}function bce(n){const t=n.getRenderTarget();return null===t?n.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:Ds.workingColorSpace}const H$e={clone:Nx,merge:Nu};class Tm extends Tu{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Nx(t.uniforms),this.uniformsGroups=function U$e(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;e.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(t).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class D7 extends Yo{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Zi,this.projectionMatrix=new Zi,this.projectionMatrixInverse=new Zi,this.coordinateSystem=Mm}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Xv=new Re,yce=new Yt,wce=new Yt;class Dc extends D7{constructor(t=50,e=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*fx*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*wb*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*fx*Math.atan(Math.tan(.5*wb*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Xv.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Xv.x,Xv.y).multiplyScalar(-t/Xv.z),Xv.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Xv.x,Xv.y).multiplyScalar(-t/Xv.z)}getViewSize(t,e){return this.getViewBounds(t,yce,wce),e.subVectors(wce,yce)}setViewOffset(t,e,i,r,s,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*wb*this.fov)/this.zoom,i=2*e,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,e-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=t*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}class Q$e extends Yo{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Dc(-90,1,t,e);r.layers=this.layers,this.add(r);const s=new Dc(-90,1,t,e);s.layers=this.layers,this.add(s);const o=new Dc(-90,1,t,e);o.layers=this.layers,this.add(o);const a=new Dc(-90,1,t,e);a.layers=this.layers,this.add(a);const l=new Dc(-90,1,t,e);l.layers=this.layers,this.add(l);const c=new Dc(-90,1,t,e);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,r,s,o,a,l]=e;for(const c of e)this.remove(c);if(t===Mm)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==t)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of e)this.add(c),c.updateMatrixWorld()}update(t,e){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=t.getRenderTarget(),f=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),p=t.xr.enabled;t.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,r),t.render(e,s),t.setRenderTarget(i,1,r),t.render(e,o),t.setRenderTarget(i,2,r),t.render(e,a),t.setRenderTarget(i,3,r),t.render(e,l),t.setRenderTarget(i,4,r),t.render(e,c),i.texture.generateMipmaps=m,t.setRenderTarget(i,5,r),t.render(e,u),t.setRenderTarget(d,f,h),t.xr.enabled=p,i.texture.needsPMREMUpdate=!0}}class BO extends fd{constructor(t,e,i,r,s,o,a,l,c,u){super(t=void 0!==t?t:[],e=void 0!==e?e:zv,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class G$e extends jA{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1};this.texture=new BO([i,i,i,i,i,i],e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:cc}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new Tx(5,5,5),s=new Tm({name:"CubemapFromEquirect",uniforms:Nx(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=e;const o=new Ja(r,s),a=e.minFilter;return e.minFilter===VA&&(e.minFilter=cc),new Q$e(1,10,this).update(t,o),e.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(t,e,i,r){const s=t.getRenderTarget();for(let o=0;o<6;o++)t.setRenderTarget(this,o),t.clear(e,i,r);t.setRenderTarget(s)}}class xce extends Yo{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new $A,this.environmentIntensity=1,this.environmentRotation=new $A,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}const O7=new Re,Z$e=new Re,J$e=new xr;class Yv{constructor(t=new Re(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,r){return this.normal.set(t,e,i),this.constant=r,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const r=O7.subVectors(i,e).cross(Z$e.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(O7),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const s=-(t.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:e.copy(t.start).addScaledVector(i,s)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||J$e.getNormalMatrix(t),r=this.coplanarPoint(O7).applyMatrix4(t),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Eb=new Mu,UO=new Re;class HO{constructor(t=new Yv,e=new Yv,i=new Yv,r=new Yv,s=new Yv,o=new Yv){this.planes=[t,e,i,r,s,o]}set(t,e,i,r,s,o){const a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=Mm){const i=this.planes,r=t.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],f=r[7],h=r[8],p=r[9],m=r[10],g=r[11],A=r[12],_=r[13],v=r[14],b=r[15];if(i[0].setComponents(l-s,f-c,g-h,b-A).normalize(),i[1].setComponents(l+s,f+c,g+h,b+A).normalize(),i[2].setComponents(l+o,f+u,g+p,b+_).normalize(),i[3].setComponents(l-o,f-u,g-p,b-_).normalize(),i[4].setComponents(l-a,f-d,g-m,b-v).normalize(),e===Mm)i[5].setComponents(l+a,f+d,g+m,b+v).normalize();else{if(2001!==e)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);i[5].setComponents(a,d,m,v).normalize()}return this}intersectsObject(t){if(void 0!==t.boundingSphere)null===t.boundingSphere&&t.computeBoundingSphere(),Eb.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere(),Eb.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere(Eb)}intersectsSprite(t){return Eb.center.set(0,0,0),Eb.radius=.7071067811865476,Eb.applyMatrix4(t.matrixWorld),this.intersectsSphere(Eb)}intersectsSphere(t){const e=this.planes,i=t.center,r=-t.radius;for(let s=0;s<6;s++)if(e[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const r=e[i];if(UO.x=r.normal.x>0?t.max.x:t.min.x,UO.y=r.normal.y>0?t.max.y:t.min.y,UO.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(UO)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}class fM extends Yo{constructor(){super(),this.isGroup=!0,this.type="Group"}}class qce extends fd{constructor(t,e,i,r,s,o,a,l,c,u=ax){if(u!==ax&&u!==lx)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===ax&&(i=Qv),void 0===i&&u===lx&&(i=ox),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:t,height:e},this.magFilter=void 0!==a?a:Xc,this.minFilter=void 0!==l?l:Xc,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return null!==this.compareFunction&&(e.compareFunction=this.compareFunction),e}}class Nb extends Pr{constructor(t=1,e=1,i=1,r=32,s=1,o=!1,a=0,l=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],d=[],f=[],h=[];let p=0;const m=[],g=i/2;let A=0;function v(b){const w=p,y=new Yt,C=new Re;let D=0;const S=!0===b?t:e,T=!0===b?1:-1;for(let F=1;F<=r;F++)d.push(0,g*T,0),f.push(0,T,0),h.push(.5,.5),p++;const M=p;for(let F=0;F<=r;F++){const U=F/r*l+a,z=Math.cos(U),O=Math.sin(U);C.x=S*O,C.y=g*T,C.z=S*z,d.push(C.x,C.y,C.z),f.push(0,T,0),y.x=.5*z+.5,y.y=.5*O*T+.5,h.push(y.x,y.y),p++}for(let F=0;F<r;F++){const L=w+F,U=M+F;!0===b?u.push(U,U+1,L):u.push(U+1,U,L),D+=3}c.addGroup(A,D,!0===b?1:2),A+=D}(function _(){const b=new Re,w=new Re;let y=0;const C=(e-t)/i;for(let D=0;D<=s;D++){const S=[],T=D/s,M=T*(e-t)+t;for(let F=0;F<=r;F++){const L=F/r,U=L*l+a,z=Math.sin(U),O=Math.cos(U);w.x=M*z,w.y=-T*i+g,w.z=M*O,d.push(w.x,w.y,w.z),b.set(z,C,O).normalize(),f.push(b.x,b.y,b.z),h.push(L,1-T),S.push(p++)}m.push(S)}for(let D=0;D<r;D++)for(let S=0;S<s;S++){const M=m[S+1][D],F=m[S+1][D+1],L=m[S][D+1];(t>0||0!==S)&&(u.push(m[S][D],M,L),y+=3),(e>0||S!==s-1)&&(u.push(M,F,L),y+=3)}c.addGroup(A,y,0),A+=y})(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(u),this.setAttribute("position",new mi(d,3)),this.setAttribute("normal",new mi(f,3)),this.setAttribute("uv",new mi(h,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Nb(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class _M extends Pr{constructor(t=1,e=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:r};const s=t/2,o=e/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=t/a,f=e/l,h=[],p=[],m=[],g=[];for(let A=0;A<u;A++){const _=A*f-o;for(let v=0;v<c;v++)p.push(v*d-s,-_,0),m.push(0,0,1),g.push(v/a),g.push(1-A/l)}for(let A=0;A<l;A++)for(let _=0;_<a;_++){const b=_+c*(A+1),w=_+1+c*(A+1),y=_+1+c*A;h.push(_+c*A,b,y),h.push(b,w,y)}this.setIndex(h),this.setAttribute("position",new mi(p,3)),this.setAttribute("normal",new mi(m,3)),this.setAttribute("uv",new mi(g,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new _M(t.width,t.height,t.widthSegments,t.heightSegments)}}class lue extends Tu{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class cue extends Tu{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function Fb(n,t,e){return!n||!e&&n.constructor===t?n:"number"==typeof t.BYTES_PER_ELEMENT?new t(n):Array.prototype.slice.call(n)}class aR{constructor(t,e,i,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,r=e[i],s=e[i-1];e:{t:{let o;n:{r:if(!(t<r)){for(let a=i+2;;){if(void 0===r){if(t<s)break r;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=e[++i],t<r)break t}o=e.length;break n}if(t>=s)break e;{const a=e[1];t<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=e[--i-1],t>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;t<e[a]?o=a:i=a+1}if(r=e[i],s=e[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,t,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=t*r;for(let o=0;o!==r;++o)e[o]=i[s+o];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class eXe extends aR{constructor(t,e,i,r){super(t,e,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(t,e,i){const r=this.parameterPositions;let s=t-2,o=t+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=t,a=2*e-i;break;case 2402:s=r.length-2,a=e+r[s]-r[s+1];break;default:s=t,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=t,l=2*i-e;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=t-1,l=e}const c=.5*(i-e),u=this.valueSize;this._weightPrev=c/(e-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(i-e)/(r-e),m=p*p,g=m*p,A=-f*g+2*f*m-f*p,_=(1+f)*g+(-1.5-2*f)*m+(-.5+f)*p+1,v=(-1-h)*g+(1.5+h)*m+.5*p,b=h*g-h*m;for(let w=0;w!==a;++w)s[w]=A*o[u+w]+_*o[c+w]+v*o[l+w]+b*o[d+w];return s}}class hue extends aR{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=t*a,c=l-a,u=(i-e)/(r-e),d=1-u;for(let f=0;f!==a;++f)s[f]=o[c+f]*d+o[l+f]*u;return s}}class tXe extends aR{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t){return this.copySampleValue_(t-1)}}class Im{constructor(t,e,i,r){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Fb(e,this.TimeBufferType),this.values=Fb(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Fb(t.times,Array),values:Fb(t.values,Array)};const r=t.getInterpolation();r!==t.DefaultInterpolation&&(i.interpolation=r)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new tXe(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new hue(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new eXe(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let i=0,r=e.length;i!==r;++i)e[i]*=t}return this}trim(t,e){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<t;)++s;for(;-1!==o&&i[o]>e;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),t=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),t=!1;break}o=l}if(void 0!==r&&function uue(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),s=t.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=t[a];if(c!==t[a+1]&&(1!==a||c!==t[0]))if(r)l=!0;else{const d=a*i,f=d-i,h=d+i;for(let p=0;p!==i;++p){const m=e[d+p];if(m!==e[f+p]||m!==e[h+p]){l=!0;break}}}if(l){if(a!==o){t[o]=t[a];const d=a*i,f=o*i;for(let h=0;h!==i;++h)e[f+h]=e[d+h]}++o}}if(s>0){t[o]=t[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)e[l+c]=e[a+c];++o}return o!==t.length?(this.times=t.slice(0,o),this.values=e.slice(0,o*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),r=new(0,this.constructor)(this.name,t,e);return r.createInterpolant=this.createInterpolant,r}}Im.prototype.TimeBufferType=Float32Array,Im.prototype.ValueBufferType=Float32Array,Im.prototype.DefaultInterpolation=2301;class Vx extends Im{constructor(t,e,i){super(t,e,i)}}Vx.prototype.ValueTypeName="bool",Vx.prototype.ValueBufferType=Array,Vx.prototype.DefaultInterpolation=2300,Vx.prototype.InterpolantFactoryMethodLinear=void 0,Vx.prototype.InterpolantFactoryMethodSmooth=void 0;(class fue extends Im{}).prototype.ValueTypeName="color";(class lR extends Im{}).prototype.ValueTypeName="number";class nXe extends aR{constructor(t,e,i,r){super(t,e,i,r)}interpolate_(t,e,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-e)/(r-e);let c=t*a;for(let u=c+a;c!==u;c+=4)Du.slerpFlat(s,0,o,c-a,o,c,l);return s}}class cR extends Im{InterpolantFactoryMethodLinear(t){return new nXe(this.times,this.values,this.getValueSize(),t)}}cR.prototype.ValueTypeName="quaternion",cR.prototype.InterpolantFactoryMethodSmooth=void 0;class zx extends Im{constructor(t,e,i){super(t,e,i)}}zx.prototype.ValueTypeName="string",zx.prototype.ValueBufferType=Array,zx.prototype.DefaultInterpolation=2300,zx.prototype.InterpolantFactoryMethodLinear=void 0,zx.prototype.InterpolantFactoryMethodSmooth=void 0;(class uR extends Im{}).prototype.ValueTypeName="vector",Error;class Pb extends Yo{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new Jn(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(e.object.target=this.target.uuid),e}}const uQ=new Zi,mue=new Re,Aue=new Re;class dQ{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Yt(512,512),this.map=null,this.mapPass=null,this.matrix=new Zi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new HO,this._frameExtents=new Yt(1,1),this._viewportCount=1,this._viewports=[new Os(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;mue.setFromMatrixPosition(t.matrixWorld),e.position.copy(mue),Aue.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(Aue),e.updateMatrixWorld(),uQ.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(uQ),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(uQ)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 1!==this.intensity&&(t.intensity=this.intensity),0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class fQ extends D7{constructor(t=-1,e=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-t,o=i+t,a=r+e,l=r-e;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}class hXe extends dQ{constructor(){super(new fQ(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class vue extends Pb{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yo.DEFAULT_UP),this.updateMatrix(),this.target=new Yo,this.shadow=new hXe}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class _ue extends Pb{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class _Xe extends Dc{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t}}const mQ="\\[\\]\\.:\\/",SXe=new RegExp("["+mQ+"]","g"),AQ="[^"+mQ+"]",EXe="[^"+mQ.replace("\\.","")+"]",IXe=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",AQ)+/(WCOD+)?/.source.replace("WCOD",EXe)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",AQ)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",AQ)+"$"),BXe=["material","materials","bones","map"];class FXe{constructor(t,e,i){const r=i||Zo.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)}getValue(t,e){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}let Zo=(()=>{class n{constructor(e,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,r){return e&&e.isAnimationObjectGroup?new n.Composite(e,i,r):new n(e,i,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(SXe,"")}static parseTrackName(e){const i=IXe.exec(e);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==BXe.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,i){if(void 0===i||""===i||"."===i||-1===i||i===e.name||i===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(i);if(void 0!==r)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)e[i++]=r[s]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(e||(e=n.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===u){u=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);e=e.material.map;break;default:if(void 0===e[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[r]}if(void 0!==u){if(void 0===e[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[u]}}const a=e[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",e);let l=this.Versioning.None;this.targetObject=e,!0===e.isMaterial?l=this.Versioning.NeedsUpdate:!0===e.isObject3D&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[o]&&(o=e.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=FXe,n})();Zo.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Zo.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Zo.prototype.GetterByBindingType=[Zo.prototype._getValue_direct,Zo.prototype._getValue_array,Zo.prototype._getValue_arrayElement,Zo.prototype._getValue_toArray],Zo.prototype.SetterByBindingTypeAndVersioning=[[Zo.prototype._setValue_direct,Zo.prototype._setValue_direct_setNeedsUpdate,Zo.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Zo.prototype._setValue_array,Zo.prototype._setValue_array_setNeedsUpdate,Zo.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Zo.prototype._setValue_arrayElement,Zo.prototype._setValue_arrayElement_setNeedsUpdate,Zo.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Zo.prototype._setValue_fromArray,Zo.prototype._setValue_fromArray_setNeedsUpdate,Zo.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Bue{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=hr(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(hr(e/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}}class LXe extends QA{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function bQ(n,t,e,i){const r=function zXe(n){switch(n){case zA:case Vle:return{byteLength:1,components:1};case XD:case zle:case YD:return{byteLength:2,components:1};case Cz:case Sz:return{byteLength:2,components:4};case Qv:case xz:case hh:return{byteLength:4,components:1};case Qle:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}(i);switch(e){case Gle:case qle:return n*t;case Wle:return n*t*2;case Ez:case rO:return n*t/r.components*r.byteLength;case $le:case Dz:return n*t*2/r.components*r.byteLength;case jle:return n*t*3/r.components*r.byteLength;case hd:case Mz:return n*t*4/r.components*r.byteLength;case sO:case oO:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case aO:case lO:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Nz:case Bz:return Math.max(n,16)*Math.max(t,8)/4;case Tz:case Iz:return Math.max(n,8)*Math.max(t,8)/2;case Fz:case Pz:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Oz:case Rz:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case kz:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case Lz:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Uz:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Hz:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case Vz:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case zz:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case Qz:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case Gz:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case jz:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case qz:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case Wz:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case $z:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case Kz:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case cO:case Xz:case Yz:return Math.ceil(n/4)*Math.ceil(t/4)*16;case Kle:case Zz:return Math.ceil(n/4)*Math.ceil(t/4)*8;case Jz:case e7:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"172"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="172");const Que={type:"change"},yQ={type:"start"},Gue={type:"end"},bR=new wx,jue=new Yv,QXe=Math.cos(70*v$e_DEG2RAD),Rl=new Re,vd=2*Math.PI,wQ=1e-6;class GXe extends LXe{constructor(t,e=null){super(t,e),this.state=-1,this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2},this.touches={ONE:0,TWO:2},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Re,this._lastQuaternion=new Du,this._lastTargetPosition=new Re,this._quat=(new Du).setFromUnitVectors(t.up,new Re(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new Bue,this._sphericalDelta=new Bue,this._scale=1,this._panOffset=new Re,this._rotateStart=new Yt,this._rotateEnd=new Yt,this._rotateDelta=new Yt,this._panStart=new Yt,this._panEnd=new Yt,this._panDelta=new Yt,this._dollyStart=new Yt,this._dollyEnd=new Yt,this._dollyDelta=new Yt,this._dollyDirection=new Re,this._mouse=new Yt,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=qXe.bind(this),this._onPointerDown=jXe.bind(this),this._onPointerUp=WXe.bind(this),this._onContextMenu=eYe.bind(this),this._onMouseWheel=XXe.bind(this),this._onKeyDown=YXe.bind(this),this._onTouchStart=ZXe.bind(this),this._onTouchMove=JXe.bind(this),this._onMouseDown=$Xe.bind(this),this._onMouseMove=KXe.bind(this),this._interceptControlDown=tYe.bind(this),this._interceptControlUp=nYe.bind(this),null!==this.domElement&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(t){t.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=t}stopListenToKeyEvents(){null!==this._domElementKeyEvents&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(Que),this.update(),this.state=-1}update(t=null){const e=this.object.position;Rl.copy(e).sub(this.target),Rl.applyQuaternion(this._quat),this._spherical.setFromVector3(Rl),this.autoRotate&&-1===this.state&&this._rotateLeft(this._getAutoRotationAngle(t)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=vd:i>Math.PI&&(i-=vd),r<-Math.PI?r+=vd:r>Math.PI&&(r-=vd),this._spherical.theta=i<=r?Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),!0===this.enableDamping?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(Rl.setFromSpherical(this._spherical),Rl.applyQuaternion(this._quatInverse),e.copy(this.target).add(Rl),this.object.lookAt(this.target),!0===this.enableDamping?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=Rl.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Re(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Re(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=Rl.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;null!==o&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(bR.origin.copy(this.object.position),bR.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(bR.direction))<QXe?this.object.lookAt(this.target):(jue.setFromNormalAndCoplanarPoint(this.object.up,this.target),bR.intersectPlane(jue,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,!!(s||this._lastPosition.distanceToSquared(this.object.position)>wQ||8*(1-this._lastQuaternion.dot(this.object.quaternion))>wQ||this._lastTargetPosition.distanceToSquared(this.target)>wQ)&&(this.dispatchEvent(Que),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0)}_getAutoRotationAngle(t){return null!==t?vd/60*this.autoRotateSpeed*t:vd/60/60*this.autoRotateSpeed}_getZoomScale(t){const e=Math.abs(.01*t);return Math.pow(.95,this.zoomSpeed*e)}_rotateLeft(t){this._sphericalDelta.theta-=t}_rotateUp(t){this._sphericalDelta.phi-=t}_panLeft(t,e){Rl.setFromMatrixColumn(e,0),Rl.multiplyScalar(-t),this._panOffset.add(Rl)}_panUp(t,e){!0===this.screenSpacePanning?Rl.setFromMatrixColumn(e,1):(Rl.setFromMatrixColumn(e,0),Rl.crossVectors(this.object.up,Rl)),Rl.multiplyScalar(t),this._panOffset.add(Rl)}_pan(t,e){const i=this.domElement;if(this.object.isPerspectiveCamera){Rl.copy(this.object.position).sub(this.target);let s=Rl.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*t*s/i.clientHeight,this.object.matrix),this._panUp(2*e*s/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(t*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(t){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(t,e){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),s=e-i.top,a=i.height;this._mouse.x=(t-i.left)/i.width*2-1,this._mouse.y=-s/a*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(t){return Math.max(this.minDistance,Math.min(this.maxDistance,t))}_handleMouseDownRotate(t){this._rotateStart.set(t.clientX,t.clientY)}_handleMouseDownDolly(t){this._updateZoomParameters(t.clientX,t.clientX),this._dollyStart.set(t.clientX,t.clientY)}_handleMouseDownPan(t){this._panStart.set(t.clientX,t.clientY)}_handleMouseMoveRotate(t){this._rotateEnd.set(t.clientX,t.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(vd*this._rotateDelta.x/e.clientHeight),this._rotateUp(vd*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(t){this._dollyEnd.set(t.clientX,t.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(t){this._panEnd.set(t.clientX,t.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(t){this._updateZoomParameters(t.clientX,t.clientY),t.deltaY<0?this._dollyIn(this._getZoomScale(t.deltaY)):t.deltaY>0&&this._dollyOut(this._getZoomScale(t.deltaY)),this.update()}_handleKeyDown(t){let e=!1;switch(t.code){case this.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(vd*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),e=!0;break;case this.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateUp(-vd*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),e=!0;break;case this.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(vd*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),e=!0;break;case this.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?this.enableRotate&&this._rotateLeft(-vd*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),this.update())}_handleTouchStartRotate(t){if(1===this._pointers.length)this._rotateStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t);this._rotateStart.set(.5*(t.pageX+e.x),.5*(t.pageY+e.y))}}_handleTouchStartPan(t){if(1===this._pointers.length)this._panStart.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t);this._panStart.set(.5*(t.pageX+e.x),.5*(t.pageY+e.y))}}_handleTouchStartDolly(t){const e=this._getSecondPointerPosition(t),i=t.pageX-e.x,r=t.pageY-e.y,s=Math.sqrt(i*i+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enablePan&&this._handleTouchStartPan(t)}_handleTouchStartDollyRotate(t){this.enableZoom&&this._handleTouchStartDolly(t),this.enableRotate&&this._handleTouchStartRotate(t)}_handleTouchMoveRotate(t){if(1==this._pointers.length)this._rotateEnd.set(t.pageX,t.pageY);else{const i=this._getSecondPointerPosition(t);this._rotateEnd.set(.5*(t.pageX+i.x),.5*(t.pageY+i.y))}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const e=this.domElement;this._rotateLeft(vd*this._rotateDelta.x/e.clientHeight),this._rotateUp(vd*this._rotateDelta.y/e.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(t){if(1===this._pointers.length)this._panEnd.set(t.pageX,t.pageY);else{const e=this._getSecondPointerPosition(t);this._panEnd.set(.5*(t.pageX+e.x),.5*(t.pageY+e.y))}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(t){const e=this._getSecondPointerPosition(t),i=t.pageX-e.x,r=t.pageY-e.y,s=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd),this._updateZoomParameters(.5*(t.pageX+e.x),.5*(t.pageY+e.y))}_handleTouchMoveDollyPan(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enablePan&&this._handleTouchMovePan(t)}_handleTouchMoveDollyRotate(t){this.enableZoom&&this._handleTouchMoveDolly(t),this.enableRotate&&this._handleTouchMoveRotate(t)}_addPointer(t){this._pointers.push(t.pointerId)}_removePointer(t){delete this._pointerPositions[t.pointerId];for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return void this._pointers.splice(e,1)}_isTrackingPointer(t){for(let e=0;e<this._pointers.length;e++)if(this._pointers[e]==t.pointerId)return!0;return!1}_trackPointer(t){let e=this._pointerPositions[t.pointerId];void 0===e&&(e=new Yt,this._pointerPositions[t.pointerId]=e),e.set(t.pageX,t.pageY)}_getSecondPointerPosition(t){return this._pointerPositions[t.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0]]}_customWheelEvent(t){const i={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(t.deltaMode){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100}return t.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function jXe(n){!1!==this.enabled&&(0===this._pointers.length&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),"touch"===n.pointerType?this._onTouchStart(n):this._onMouseDown(n)))}function qXe(n){!1!==this.enabled&&("touch"===n.pointerType?this._onTouchMove(n):this._onMouseMove(n))}function WXe(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(Gue),this.state=-1;break;case 1:const t=this._pointers[0],e=this._pointerPositions[t];this._onTouchStart({pointerId:t,pageX:e.x,pageY:e.y})}}function $Xe(n){let t;switch(n.button){case 0:t=this.mouseButtons.LEFT;break;case 1:t=this.mouseButtons.MIDDLE;break;case 2:t=this.mouseButtons.RIGHT;break;default:t=-1}switch(t){case 1:if(!1===this.enableZoom)return;this._handleMouseDownDolly(n),this.state=1;break;case 0:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}else{if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}break;case 2:if(n.ctrlKey||n.metaKey||n.shiftKey){if(!1===this.enableRotate)return;this._handleMouseDownRotate(n),this.state=0}else{if(!1===this.enablePan)return;this._handleMouseDownPan(n),this.state=2}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(yQ)}function KXe(n){switch(this.state){case 0:if(!1===this.enableRotate)return;this._handleMouseMoveRotate(n);break;case 1:if(!1===this.enableZoom)return;this._handleMouseMoveDolly(n);break;case 2:if(!1===this.enablePan)return;this._handleMouseMovePan(n)}}function XXe(n){!1===this.enabled||!1===this.enableZoom||-1!==this.state||(n.preventDefault(),this.dispatchEvent(yQ),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(Gue))}function YXe(n){!1!==this.enabled&&this._handleKeyDown(n)}function ZXe(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case 0:if(!1===this.enableRotate)return;this._handleTouchStartRotate(n),this.state=3;break;case 1:if(!1===this.enablePan)return;this._handleTouchStartPan(n),this.state=4;break;default:this.state=-1}break;case 2:switch(this.touches.TWO){case 2:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchStartDollyPan(n),this.state=5;break;case 3:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchStartDollyRotate(n),this.state=6;break;default:this.state=-1}break;default:this.state=-1}-1!==this.state&&this.dispatchEvent(yQ)}function JXe(n){switch(this._trackPointer(n),this.state){case 3:if(!1===this.enableRotate)return;this._handleTouchMoveRotate(n),this.update();break;case 4:if(!1===this.enablePan)return;this._handleTouchMovePan(n),this.update();break;case 5:if(!1===this.enableZoom&&!1===this.enablePan)return;this._handleTouchMoveDollyPan(n),this.update();break;case 6:if(!1===this.enableZoom&&!1===this.enableRotate)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}}function eYe(n){!1!==this.enabled&&n.preventDefault()}function tYe(n){"Control"===n.key&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function nYe(n){"Control"===n.key&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function que(){let n=null,t=!1,e=null,i=null;function r(s,o){e(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==t&&null!==e&&(i=n.requestAnimationFrame(r),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(s){e=s},setContext:function(s){n=s}}}function iYe(n){const t=new WeakMap;return{get:function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),t.get(a)},remove:function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=t.get(a);l&&(n.deleteBuffer(l.buffer),t.delete(a))},update:function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=t.get(a);return void((!u||u.version<a.version)&&t.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version}))}const c=t.get(a);if(void 0===c)t.set(a,function e(a,l){const c=a.array,u=a.usage,d=c.byteLength,f=n.createBuffer();let h;if(n.bindBuffer(l,f),n.bufferData(l,c,u),a.onUploadCallback(),c instanceof Float32Array)h=n.FLOAT;else if(c instanceof Uint16Array)h=a.isFloat16BufferAttribute?n.HALF_FLOAT:n.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=n.SHORT;else if(c instanceof Uint32Array)h=n.UNSIGNED_INT;else if(c instanceof Int32Array)h=n.INT;else if(c instanceof Int8Array)h=n.BYTE;else if(c instanceof Uint8Array)h=n.UNSIGNED_BYTE;else{if(!(c instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);h=n.UNSIGNED_BYTE}return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");(function i(a,l,c){const u=l.array,d=l.updateRanges;if(n.bindBuffer(c,a),0===d.length)n.bufferSubData(c,0,u);else{d.sort((h,p)=>h.start-p.start);let f=0;for(let h=1;h<d.length;h++){const p=d[f],m=d[h];m.start<=p.start+p.count+1?p.count=Math.max(p.count,m.start+m.count-p.start):(++f,d[f]=m)}d.length=f+1;for(let h=0,p=d.length;h<p;h++){const m=d[h];n.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()})(c.buffer,a,l),c.version=a.version}}}}const Or={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE\n\t\temissiveColor = sRGBTransferEOTF( emissiveColor );\n\t#endif\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferEOTF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;\nconst float Inv255 = 1. / 255.;\nconst vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );\nconst vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );\nconst vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );\nconst vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );\nvec4 packDepthToRGBA( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec4( 0., 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec4( 1., 1., 1., 1. );\n\tfloat vuf;\n\tfloat af = modf( v * PackFactors.a, vuf );\n\tfloat bf = modf( vuf * ShiftRight8, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );\n}\nvec3 packDepthToRGB( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec3( 0., 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec3( 1., 1., 1. );\n\tfloat vuf;\n\tfloat bf = modf( v * PackFactors.b, vuf );\n\tfloat gf = modf( vuf * ShiftRight8, vuf );\n\treturn vec3( vuf * Inv255, gf * PackUpscale, bf );\n}\nvec2 packDepthToRG( const in float v ) {\n\tif( v <= 0.0 )\n\t\treturn vec2( 0., 0. );\n\tif( v >= 1.0 )\n\t\treturn vec2( 1., 1. );\n\tfloat vuf;\n\tfloat gf = modf( v * 256., vuf );\n\treturn vec2( vuf * Inv255, gf );\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors4 );\n}\nfloat unpackRGBToDepth( const in vec3 v ) {\n\treturn dot( v, UnpackFactors3 );\n}\nfloat unpackRGToDepth( const in vec2 v ) {\n\treturn v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;\n}\nvec4 pack2HalfToRGBA( const in vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( const in vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 CineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t#else\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#elif DEPTH_PACKING == 3202\n\t\tgl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );\n\t#elif DEPTH_PACKING == 3203\n\t\tgl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix[ 3 ];\n\tvec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Un={common:{diffuse:{value:new Jn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new xr},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new xr}},envmap:{envMap:{value:null},envMapRotation:{value:new xr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new xr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new xr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new xr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new xr},normalScale:{value:new Yt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new xr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new xr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new xr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new xr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Jn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Jn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0},uvTransform:{value:new xr}},sprite:{diffuse:{value:new Jn(16777215)},opacity:{value:1},center:{value:new Yt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new xr},alphaMap:{value:null},alphaMapTransform:{value:new xr},alphaTest:{value:0}}},Bm={basic:{uniforms:Nu([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.fog]),vertexShader:Or.meshbasic_vert,fragmentShader:Or.meshbasic_frag},lambert:{uniforms:Nu([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.fog,Un.lights,{emissive:{value:new Jn(0)}}]),vertexShader:Or.meshlambert_vert,fragmentShader:Or.meshlambert_frag},phong:{uniforms:Nu([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.fog,Un.lights,{emissive:{value:new Jn(0)},specular:{value:new Jn(1118481)},shininess:{value:30}}]),vertexShader:Or.meshphong_vert,fragmentShader:Or.meshphong_frag},standard:{uniforms:Nu([Un.common,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.roughnessmap,Un.metalnessmap,Un.fog,Un.lights,{emissive:{value:new Jn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag},toon:{uniforms:Nu([Un.common,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.gradientmap,Un.fog,Un.lights,{emissive:{value:new Jn(0)}}]),vertexShader:Or.meshtoon_vert,fragmentShader:Or.meshtoon_frag},matcap:{uniforms:Nu([Un.common,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.fog,{matcap:{value:null}}]),vertexShader:Or.meshmatcap_vert,fragmentShader:Or.meshmatcap_frag},points:{uniforms:Nu([Un.points,Un.fog]),vertexShader:Or.points_vert,fragmentShader:Or.points_frag},dashed:{uniforms:Nu([Un.common,Un.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Or.linedashed_vert,fragmentShader:Or.linedashed_frag},depth:{uniforms:Nu([Un.common,Un.displacementmap]),vertexShader:Or.depth_vert,fragmentShader:Or.depth_frag},normal:{uniforms:Nu([Un.common,Un.bumpmap,Un.normalmap,Un.displacementmap,{opacity:{value:1}}]),vertexShader:Or.meshnormal_vert,fragmentShader:Or.meshnormal_frag},sprite:{uniforms:Nu([Un.sprite,Un.fog]),vertexShader:Or.sprite_vert,fragmentShader:Or.sprite_frag},background:{uniforms:{uvTransform:{value:new xr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Or.background_vert,fragmentShader:Or.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new xr}},vertexShader:Or.backgroundCube_vert,fragmentShader:Or.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Or.cube_vert,fragmentShader:Or.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Or.equirect_vert,fragmentShader:Or.equirect_frag},distanceRGBA:{uniforms:Nu([Un.common,Un.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Or.distanceRGBA_vert,fragmentShader:Or.distanceRGBA_frag},shadow:{uniforms:Nu([Un.lights,Un.fog,{color:{value:new Jn(0)},opacity:{value:1}}]),vertexShader:Or.shadow_vert,fragmentShader:Or.shadow_frag}};Bm.physical={uniforms:Nu([Bm.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new xr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new xr},clearcoatNormalScale:{value:new Yt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new xr},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new xr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new xr},sheen:{value:0},sheenColor:{value:new Jn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new xr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new xr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new xr},transmissionSamplerSize:{value:new Yt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new xr},attenuationDistance:{value:0},attenuationColor:{value:new Jn(0)},specularColor:{value:new Jn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new xr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new xr},anisotropyVector:{value:new Yt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new xr}}]),vertexShader:Or.meshphysical_vert,fragmentShader:Or.meshphysical_frag};const yR={r:0,b:0,g:0},Hb=new $A,iJe=new Zi;function rJe(n,t,e,i,r,s,o){const a=new Jn(0);let c,u,l=!0===s?0:1,d=null,f=0,h=null;function p(v){let b=!0===v.isScene?v.background:null;return b&&b.isTexture&&(b=(v.backgroundBlurriness>0?e:t).get(b)),b}function A(v,b){v.getRGB(yR,bce(n)),i.buffers.color.setClear(yR.r,yR.g,yR.b,b,o)}return{getClearColor:function(){return a},setClearColor:function(v,b=1){a.set(v),l=b,A(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,A(a,l)},render:function m(v){let b=!1;const w=p(v);null===w?A(a,l):w&&w.isColor&&(A(w,1),b=!0);const y=n.xr.getEnvironmentBlendMode();"additive"===y?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===y&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||b)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))},addToRenderList:function g(v,b){const w=p(b);w&&(w.isCubeTexture||w.mapping===$D)?(void 0===u&&(u=new Ja(new Tx(1,1,1),new Tm({name:"BackgroundCubeMaterial",uniforms:Nx(Bm.backgroundCube.uniforms),vertexShader:Bm.backgroundCube.vertexShader,fragmentShader:Bm.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(y,C,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Hb.copy(b.backgroundRotation),Hb.x*=-1,Hb.y*=-1,Hb.z*=-1,w.isCubeTexture&&!1===w.isRenderTargetTexture&&(Hb.y*=-1,Hb.z*=-1),u.material.uniforms.envMap.value=w,u.material.uniforms.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(iJe.makeRotationFromEuler(Hb)),u.material.toneMapped=Ds.getTransfer(w.colorSpace)!==vo,(d!==w||f!==w.version||h!==n.toneMapping)&&(u.material.needsUpdate=!0,d=w,f=w.version,h=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):w&&w.isTexture&&(void 0===c&&(c=new Ja(new _M(2,2),new Tm({name:"BackgroundMaterial",uniforms:Nx(Bm.background.uniforms),vertexShader:Bm.background.vertexShader,fragmentShader:Bm.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Ds.getTransfer(w.colorSpace)!==vo,!0===w.matrixAutoUpdate&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||f!==w.version||h!==n.toneMapping)&&(c.material.needsUpdate=!0,d=w,f=w.version,h=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))},dispose:function _(){void 0!==u&&(u.geometry.dispose(),u.material.dispose()),void 0!==c&&(c.geometry.dispose(),c.material.dispose())}}}function sJe(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=f(null);let s=r,o=!1;function c(T){return n.bindVertexArray(T)}function u(T){return n.deleteVertexArray(T)}function f(T){const M=[],F=[],L=[];for(let U=0;U<e;U++)M[U]=0,F[U]=0,L[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:M,enabledAttributes:F,attributeDivisors:L,object:T,attributes:{},index:null}}function m(){const T=s.newAttributes;for(let M=0,F=T.length;M<F;M++)T[M]=0}function g(T){A(T,0)}function A(T,M){const L=s.enabledAttributes,U=s.attributeDivisors;s.newAttributes[T]=1,0===L[T]&&(n.enableVertexAttribArray(T),L[T]=1),U[T]!==M&&(n.vertexAttribDivisor(T,M),U[T]=M)}function _(){const T=s.newAttributes,M=s.enabledAttributes;for(let F=0,L=M.length;F<L;F++)M[F]!==T[F]&&(n.disableVertexAttribArray(F),M[F]=0)}function v(T,M,F,L,U,z,O){!0===O?n.vertexAttribIPointer(T,M,F,U,z):n.vertexAttribPointer(T,M,F,L,U,z)}function D(){S(),o=!0,s!==r&&(s=r,c(s.object))}function S(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:function a(T,M,F,L,U){let z=!1;const O=function d(T,M,F){const L=!0===F.wireframe;let U=i[T.id];void 0===U&&(U={},i[T.id]=U);let z=U[M.id];void 0===z&&(z={},U[M.id]=z);let O=z[L];return void 0===O&&(O=f(function l(){return n.createVertexArray()}()),z[L]=O),O}(L,F,M);s!==O&&(s=O,c(s.object)),z=function h(T,M,F,L){const U=s.attributes,z=M.attributes;let O=0;const G=F.getAttributes();for(const j in G)if(G[j].location>=0){const le=U[j];let ye=z[j];if(void 0===ye&&("instanceMatrix"===j&&T.instanceMatrix&&(ye=T.instanceMatrix),"instanceColor"===j&&T.instanceColor&&(ye=T.instanceColor)),void 0===le||le.attribute!==ye||ye&&le.data!==ye.data)return!0;O++}return s.attributesNum!==O||s.index!==L}(T,L,F,U),z&&function p(T,M,F,L){const U={},z=M.attributes;let O=0;const G=F.getAttributes();for(const j in G)if(G[j].location>=0){let le=z[j];void 0===le&&("instanceMatrix"===j&&T.instanceMatrix&&(le=T.instanceMatrix),"instanceColor"===j&&T.instanceColor&&(le=T.instanceColor));const ye={};ye.attribute=le,le&&le.data&&(ye.data=le.data),U[j]=ye,O++}s.attributes=U,s.attributesNum=O,s.index=L}(T,L,F,U),null!==U&&t.update(U,n.ELEMENT_ARRAY_BUFFER),(z||o)&&(o=!1,function b(T,M,F,L){m();const U=L.attributes,z=F.getAttributes(),O=M.defaultAttributeValues;for(const G in z){const j=z[G];if(j.location>=0){let J=U[G];if(void 0===J&&("instanceMatrix"===G&&T.instanceMatrix&&(J=T.instanceMatrix),"instanceColor"===G&&T.instanceColor&&(J=T.instanceColor)),void 0!==J){const le=J.normalized,ye=J.itemSize,R=t.get(J);if(void 0===R)continue;const X=R.buffer,H=R.type,ae=R.bytesPerElement,de=H===n.INT||H===n.UNSIGNED_INT||J.gpuType===xz;if(J.isInterleavedBufferAttribute){const he=J.data,ee=he.stride,ie=J.offset;if(he.isInstancedInterleavedBuffer){for(let ge=0;ge<j.locationSize;ge++)A(j.location+ge,he.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===L._maxInstanceCount&&(L._maxInstanceCount=he.meshPerAttribute*he.count)}else for(let ge=0;ge<j.locationSize;ge++)g(j.location+ge);n.bindBuffer(n.ARRAY_BUFFER,X);for(let ge=0;ge<j.locationSize;ge++)v(j.location+ge,ye/j.locationSize,H,le,ee*ae,(ie+ye/j.locationSize*ge)*ae,de)}else{if(J.isInstancedBufferAttribute){for(let he=0;he<j.locationSize;he++)A(j.location+he,J.meshPerAttribute);!0!==T.isInstancedMesh&&void 0===L._maxInstanceCount&&(L._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let he=0;he<j.locationSize;he++)g(j.location+he);n.bindBuffer(n.ARRAY_BUFFER,X);for(let he=0;he<j.locationSize;he++)v(j.location+he,ye/j.locationSize,H,le,ye*ae,ye/j.locationSize*he*ae,de)}}else if(void 0!==O){const le=O[G];if(void 0!==le)switch(le.length){case 2:n.vertexAttrib2fv(j.location,le);break;case 3:n.vertexAttrib3fv(j.location,le);break;case 4:n.vertexAttrib4fv(j.location,le);break;default:n.vertexAttrib1fv(j.location,le)}}}}_()}(T,M,F,L),null!==U&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(U).buffer))},reset:D,resetDefaultState:S,dispose:function w(){D();for(const T in i){const M=i[T];for(const F in M){const L=M[F];for(const U in L)u(L[U].object),delete L[U];delete M[F]}delete i[T]}},releaseStatesOfGeometry:function y(T){if(void 0===i[T.id])return;const M=i[T.id];for(const F in M){const L=M[F];for(const U in L)u(L[U].object),delete L[U];delete M[F]}delete i[T.id]},releaseStatesOfProgram:function C(T){for(const M in i){const F=i[M];if(void 0===F[T.id])continue;const L=F[T.id];for(const U in L)u(L[U].object),delete L[U];delete F[T.id]}},initAttributes:m,enableAttribute:g,disableUnusedAttributes:_}}function oJe(n,t,e){let i;function o(c,u,d){0!==d&&(n.drawArraysInstanced(i,c,u,d),e.update(u,i,d))}this.setMode=function r(c){i=c},this.render=function s(c,u){n.drawArrays(i,c,u),e.update(u,i,1)},this.renderInstances=o,this.renderMultiDraw=function a(c,u,d){if(0===d)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let h=0;for(let p=0;p<d;p++)h+=u[p];e.update(h,i,1)},this.renderMultiDrawInstances=function l(c,u,d,f){if(0===d)return;const h=t.get("WEBGL_multi_draw");if(null===h)for(let p=0;p<c.length;p++)o(c[p],u[p],f[p]);else{h.multiDrawArraysInstancedWEBGL(i,c,0,u,0,f,0,d);let p=0;for(let m=0;m<d;m++)p+=u[m]*f[m];e.update(p,i,1)}}}function aJe(n,t,e,i){let r;function l(C){if("highp"===C){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";C="mediump"}return"mediump"===C&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=void 0!==e.precision?e.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=!0===e.logarithmicDepthBuffer,f=!0===e.reverseDepthBuffer&&t.has("EXT_clip_control"),h=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function s(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){const C=t.get("EXT_texture_filter_anisotropic");r=n.getParameter(C.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:l,textureFormatReadable:function o(C){return!(C!==hd&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))},textureTypeReadable:function a(C){const D=C===YD&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(C!==zA&&i.convert(C)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&C!==hh&&!D)},precision:c,logarithmicDepthBuffer:d,reverseDepthBuffer:f,maxTextures:h,maxVertexTextures:p,maxTextureSize:n.getParameter(n.MAX_TEXTURE_SIZE),maxCubemapSize:n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:n.getParameter(n.MAX_VERTEX_ATTRIBS),maxVertexUniforms:n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:n.getParameter(n.MAX_VARYING_VECTORS),maxFragmentUniforms:n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:p>0,maxSamples:n.getParameter(n.MAX_SAMPLES)}}function lJe(n){const t=this;let e=null,i=0,r=!1,s=!1;const o=new Yv,a=new xr,l={value:null,needsUpdate:!1};function u(d,f,h,p){const m=null!==d?d.length:0;let g=null;if(0!==m){if(g=l.value,!0!==p||null===g){const A=h+4*m,_=f.matrixWorldInverse;a.getNormalMatrix(_),(null===g||g.length<A)&&(g=new Float32Array(A));for(let v=0,b=h;v!==m;++v,b+=4)o.copy(d[v]).applyMatrix4(_,a),o.normal.toArray(g,b),g[b+3]=o.constant}l.value=g,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,g}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=0!==d.length||f||0!==i||r;return r=f,i=d.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){e=u(d,f,0)},this.setState=function(d,f,h){const p=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,A=n.get(d);if(!r||null===p||0===p.length||s&&!g)s?u(null):function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}();else{const _=s?0:i,v=4*_;let b=A.clippingState||null;l.value=b,b=u(p,f,v,h);for(let w=0;w!==v;++w)b[w]=e[w];A.clippingState=b,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}}}function cJe(n){let t=new WeakMap;function e(o,a){return 303===a?o.mapping=zv:304===a&&(o.mapping=bb),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=t.get(a);void 0!==l&&(t.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture){const a=o.mapping;if(303===a||304===a){if(t.has(o))return e(t.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new G$e(l.height);return c.fromEquirectangularTexture(n,o),t.set(o,c),o.addEventListener("dispose",r),e(c.texture,o.mapping)}return null}}}return o},dispose:function s(){t=new WeakMap}}}const Wue=[.125,.215,.35,.446,.526,.582],xQ=new fQ,$ue=new Jn;let CQ=null,SQ=0,EQ=0,DQ=!1;const zb=(1+Math.sqrt(5))/2,Gx=1/zb,Kue=[new Re(-zb,Gx,0),new Re(zb,Gx,0),new Re(-Gx,0,zb),new Re(Gx,0,zb),new Re(0,zb,-Gx),new Re(0,zb,Gx),new Re(-1,1,-1),new Re(1,1,-1),new Re(-1,1,1),new Re(1,1,1)];class Xue{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,r=100){CQ=this._renderer.getRenderTarget(),SQ=this._renderer.getActiveCubeFace(),EQ=this._renderer.getActiveMipmapLevel(),DQ=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(t,i,r,s),e>0&&this._blur(s,0,0,e),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Jue(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Zue(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(CQ,SQ,EQ),this._renderer.xr.enabled=DQ,t.scissorTest=!1,wR(t,0,0,t.width,t.height)}_fromTexture(t,e){this._setSize(t.mapping===zv||t.mapping===bb?0===t.image.length?16:t.image[0].width||t.image[0].image.width:t.image.width/4),CQ=this._renderer.getRenderTarget(),SQ=this._renderer.getActiveCubeFace(),EQ=this._renderer.getActiveMipmapLevel(),DQ=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:cc,minFilter:cc,generateMipmaps:!1,type:YD,format:hd,colorSpace:dx,depthBuffer:!1},r=Yue(t,e,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Yue(t,e,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function uJe(n){const t=[],e=[],i=[];let r=n;const s=n-4+1+Wue.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);e.push(a);let l=1/a;o>n-4?l=Wue[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,p=6,m=3,g=2,A=1,_=new Float32Array(m*p*h),v=new Float32Array(g*p*h),b=new Float32Array(A*p*h);for(let y=0;y<h;y++){const C=y%3*2/3-1,D=y>2?0:-1;_.set([C,D,0,C+2/3,D,0,C+2/3,D+1,0,C,D,0,C+2/3,D+1,0,C,D+1,0],m*p*y),v.set(f,g*p*y),b.set([y,y,y,y,y,y],A*p*y)}const w=new Pr;w.setAttribute("position",new Bo(_,m)),w.setAttribute("uv",new Bo(v,g)),w.setAttribute("faceIndex",new Bo(b,A)),t.push(w),r>4&&r--}return{lodPlanes:t,sizeLods:e,sigmas:i}}(s)),this._blurMaterial=function dJe(n,t,e){const i=new Float32Array(20),r=new Re(0,1,0);return new Tm({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,t,e)}return r}_compileMaterial(t){const e=new Ja(this._lodPlanes[0],t);this._renderer.compile(e,xQ)}_sceneToCubeUV(t,e,i,r){const a=new Dc(90,1,e,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,f=u.toneMapping;u.getClearColor($ue),u.toneMapping=Vv,u.autoClear=!1;const h=new ZA({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new Ja(new Tx,h);let m=!1;const g=t.background;g?g.isColor&&(h.color.copy(g),t.background=null,m=!0):(h.color.copy($ue),m=!0);for(let A=0;A<6;A++){const _=A%3;0===_?(a.up.set(0,l[A],0),a.lookAt(c[A],0,0)):1===_?(a.up.set(0,0,l[A]),a.lookAt(0,c[A],0)):(a.up.set(0,l[A],0),a.lookAt(0,0,c[A]));const v=this._cubeSize;wR(r,_*v,A>2?v:0,v,v),u.setRenderTarget(r),m&&u.render(p,a),u.render(t,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=d,t.background=g}_textureToCubeUV(t,e){const i=this._renderer,r=t.mapping===zv||t.mapping===bb;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Jue()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===t.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Zue());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ja(this._lodPlanes[0],s);s.uniforms.envMap.value=t;const l=this._cubeSize;wR(e,0,0,3*l,2*l),i.setRenderTarget(e),i.render(o,xQ)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]);this._blur(t,s-1,s,o,Kue[(r-s-1)%Kue.length])}e.autoClear=i}_blur(t,e,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(t,o,e,i,r,"latitudinal",s),this._halfBlur(o,t,i,i,r,"longitudinal",s)}_halfBlur(t,e,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new Ja(this._lodPlanes[r],c),f=c.uniforms,h=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/39,m=s/p,g=isFinite(s)?1+Math.floor(3*m):20;g>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to 20`);const A=[];let _=0;for(let C=0;C<20;++C){const D=C/m,S=Math.exp(-D*D/2);A.push(S),0===C?_+=S:C<g&&(_+=2*S)}for(let C=0;C<A.length;C++)A[C]=A[C]/_;f.envMap.value=t.texture,f.samples.value=g,f.weights.value=A,f.latitudinal.value="latitudinal"===o,a&&(f.poleAxis.value=a);const{_lodMax:v}=this;f.dTheta.value=p,f.mipInt.value=v-i;const b=this._sizeLods[r];wR(e,3*b*(r>v-4?r-v+4:0),4*(this._cubeSize-b),3*b,2*b),l.setRenderTarget(e),l.render(d,xQ)}}function Yue(n,t,e){const i=new jA(n,t,e);return i.texture.mapping=$D,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function wR(n,t,e,i,r){n.viewport.set(t,e,i,r),n.scissor.set(t,e,i,r)}function Zue(){return new Tm({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Jue(){return new Tm({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hJe(n){let t=new WeakMap,e=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=t.get(l);void 0!==c&&(t.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=l===zv||l===bb;if(c||u){let d=t.get(a);if(a.isRenderTargetTexture&&a.pmremVersion!==(void 0!==d?d.texture.pmremVersion:0))return null===e&&(e=new Xue(n)),d=c?e.fromEquirectangular(a,d):e.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,t.set(a,d),d.texture;if(void 0!==d)return d.texture;{const h=a.image;return c&&h&&h.height>0||u&&h&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(h)?(null===e&&(e=new Xue(n)),d=c?e.fromEquirectangular(a):e.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,t.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a},dispose:function o(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function fJe(n){const t={};function e(i){if(void 0!==t[i])return t[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return t[i]=r,r}return{has:function(i){return null!==e(i)},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const r=e(i);return null===r&&mx("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function pJe(n,t,e,i){const r={},s=new WeakMap;function o(d){const f=d.target;null!==f.index&&t.remove(f.index);for(const p in f.attributes)t.remove(f.attributes[p]);f.removeEventListener("dispose",o),delete r[f.id];const h=s.get(f);h&&(t.remove(h),s.delete(f)),i.releaseStatesOfGeometry(f),!0===f.isInstancedBufferGeometry&&delete f._maxInstanceCount,e.memory.geometries--}function c(d){const f=[],h=d.index,p=d.attributes.position;let m=0;if(null!==h){const _=h.array;m=h.version;for(let v=0,b=_.length;v<b;v+=3){const w=_[v+0],y=_[v+1],C=_[v+2];f.push(w,y,y,C,C,w)}}else{if(void 0===p)return;m=p.version;for(let v=0,b=p.array.length/3-1;v<b;v+=3){const w=v+0,y=v+1,C=v+2;f.push(w,y,y,C,C,w)}}const g=new(tce(f)?Ace:mce)(f,1);g.version=m;const A=s.get(d);A&&t.remove(A),s.set(d,g)}return{get:function a(d,f){return!0===r[f.id]||(f.addEventListener("dispose",o),r[f.id]=!0,e.memory.geometries++),f},update:function l(d){const f=d.attributes;for(const h in f)t.update(f[h],n.ARRAY_BUFFER)},getWireframeAttribute:function u(d){const f=s.get(d);if(f){const h=d.index;null!==h&&f.version<h.version&&c(d)}else c(d);return s.get(d)}}}function mJe(n,t,e){let i,s,o;function c(f,h,p){0!==p&&(n.drawElementsInstanced(i,h,s,f*o,p),e.update(h,i,p))}this.setMode=function r(f){i=f},this.setIndex=function a(f){s=f.type,o=f.bytesPerElement},this.render=function l(f,h){n.drawElements(i,h,s,f*o),e.update(h,i,1)},this.renderInstances=c,this.renderMultiDraw=function u(f,h,p){if(0===p)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,h,0,s,f,0,p);let g=0;for(let A=0;A<p;A++)g+=h[A];e.update(g,i,1)},this.renderMultiDrawInstances=function d(f,h,p,m){if(0===p)return;const g=t.get("WEBGL_multi_draw");if(null===g)for(let A=0;A<f.length;A++)c(f[A]/o,h[A],m[A]);else{g.multiDrawElementsInstancedWEBGL(i,h,0,s,f,0,m,0,p);let A=0;for(let _=0;_<p;_++)A+=h[_]*m[_];e.update(A,i,1)}}}function AJe(n){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function r(){e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function i(s,o,a){switch(e.calls++,o){case n.TRIANGLES:e.triangles+=a*(s/3);break;case n.LINES:e.lines+=a*(s/2);break;case n.LINE_STRIP:e.lines+=a*(s-1);break;case n.LINE_LOOP:e.lines+=a*s;break;case n.POINTS:e.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function gJe(n,t,e){const i=new WeakMap,r=new Os;return{update:function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=void 0!==u?u.length:0;let f=i.get(a);if(void 0===f||f.count!==d){let S=function(){C.dispose(),i.delete(a),a.removeEventListener("dispose",S)};void 0!==f&&f.texture.dispose();const h=void 0!==a.morphAttributes.position,p=void 0!==a.morphAttributes.normal,m=void 0!==a.morphAttributes.color,g=a.morphAttributes.position||[],A=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let v=0;!0===h&&(v=1),!0===p&&(v=2),!0===m&&(v=3);let b=a.attributes.position.count*v,w=1;b>t.maxTextureSize&&(w=Math.ceil(b/t.maxTextureSize),b=t.maxTextureSize);const y=new Float32Array(b*w*4*d),C=new mO(y,b,w,d);C.type=hh,C.needsUpdate=!0;const D=4*v;for(let T=0;T<d;T++){const M=g[T],F=A[T],L=_[T],U=b*w*4*T;for(let z=0;z<M.count;z++){const O=z*D;!0===h&&(r.fromBufferAttribute(M,z),y[U+O+0]=r.x,y[U+O+1]=r.y,y[U+O+2]=r.z,y[U+O+3]=0),!0===p&&(r.fromBufferAttribute(F,z),y[U+O+4]=r.x,y[U+O+5]=r.y,y[U+O+6]=r.z,y[U+O+7]=0),!0===m&&(r.fromBufferAttribute(L,z),y[U+O+8]=r.x,y[U+O+9]=r.y,y[U+O+10]=r.z,y[U+O+11]=4===L.itemSize?r.w:1)}}f={count:d,texture:C,size:new Yt(b,w)},i.set(a,f),a.addEventListener("dispose",S)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,e);else{let h=0;for(let m=0;m<c.length;m++)h+=c[m];const p=a.morphTargetsRelative?1:1-h;l.getUniforms().setValue(n,"morphTargetBaseInfluence",p),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",f.texture,e),l.getUniforms().setValue(n,"morphTargetsTextureSize",f.size)}}}function vJe(n,t,e,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),e.remove(c.instanceMatrix),null!==c.instanceColor&&e.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,d=t.get(l,l.geometry);if(r.get(d)!==c&&(t.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),r.get(l)!==c&&(e.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&e.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;r.get(f)!==c&&(f.update(),r.set(f,c))}return d},dispose:function o(){r=new WeakMap}}}const ede=new fd,tde=new qce(1,1),nde=new mO,ide=new l7,rde=new BO,sde=[],ode=[],ade=new Float32Array(16),lde=new Float32Array(9),cde=new Float32Array(4);function jx(n,t,e){const i=n[0];if(i<=0||i>0)return n;const r=t*e;let s=sde[r];if(void 0===s&&(s=new Float32Array(r),sde[r]=s),0!==t){i.toArray(s,0);for(let o=1,a=0;o!==t;++o)a+=e,n[o].toArray(s,a)}return s}function kl(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function Ll(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function xR(n,t){let e=ode[t];void 0===e&&(e=new Int32Array(t),ode[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function _Je(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function bJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(kl(e,t))return;n.uniform2fv(this.addr,t),Ll(e,t)}}function yJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(kl(e,t))return;n.uniform3fv(this.addr,t),Ll(e,t)}}function wJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(kl(e,t))return;n.uniform4fv(this.addr,t),Ll(e,t)}}function xJe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(kl(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),Ll(e,t)}else{if(kl(e,i))return;cde.set(i),n.uniformMatrix2fv(this.addr,!1,cde),Ll(e,i)}}function CJe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(kl(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),Ll(e,t)}else{if(kl(e,i))return;lde.set(i),n.uniformMatrix3fv(this.addr,!1,lde),Ll(e,i)}}function SJe(n,t){const e=this.cache,i=t.elements;if(void 0===i){if(kl(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),Ll(e,t)}else{if(kl(e,i))return;ade.set(i),n.uniformMatrix4fv(this.addr,!1,ade),Ll(e,i)}}function EJe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function DJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(kl(e,t))return;n.uniform2iv(this.addr,t),Ll(e,t)}}function MJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(kl(e,t))return;n.uniform3iv(this.addr,t),Ll(e,t)}}function TJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(kl(e,t))return;n.uniform4iv(this.addr,t),Ll(e,t)}}function NJe(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function IJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(kl(e,t))return;n.uniform2uiv(this.addr,t),Ll(e,t)}}function BJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(kl(e,t))return;n.uniform3uiv(this.addr,t),Ll(e,t)}}function FJe(n,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(kl(e,t))return;n.uniform4uiv(this.addr,t),Ll(e,t)}}function PJe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();let s;i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),this.type===n.SAMPLER_2D_SHADOW?(tde.compareFunction=515,s=tde):s=ede,e.setTexture2D(t||s,r)}function OJe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture3D(t||ide,r)}function RJe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTextureCube(t||rde,r)}function kJe(n,t,e){const i=this.cache,r=e.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),e.setTexture2DArray(t||nde,r)}function UJe(n,t){n.uniform1fv(this.addr,t)}function HJe(n,t){const e=jx(t,this.size,2);n.uniform2fv(this.addr,e)}function VJe(n,t){const e=jx(t,this.size,3);n.uniform3fv(this.addr,e)}function zJe(n,t){const e=jx(t,this.size,4);n.uniform4fv(this.addr,e)}function QJe(n,t){const e=jx(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function GJe(n,t){const e=jx(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function jJe(n,t){const e=jx(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function qJe(n,t){n.uniform1iv(this.addr,t)}function WJe(n,t){n.uniform2iv(this.addr,t)}function $Je(n,t){n.uniform3iv(this.addr,t)}function KJe(n,t){n.uniform4iv(this.addr,t)}function XJe(n,t){n.uniform1uiv(this.addr,t)}function YJe(n,t){n.uniform2uiv(this.addr,t)}function ZJe(n,t){n.uniform3uiv(this.addr,t)}function JJe(n,t){n.uniform4uiv(this.addr,t)}function eet(n,t,e){const i=this.cache,r=t.length,s=xR(e,r);kl(i,s)||(n.uniform1iv(this.addr,s),Ll(i,s));for(let o=0;o!==r;++o)e.setTexture2D(t[o]||ede,s[o])}function tet(n,t,e){const i=this.cache,r=t.length,s=xR(e,r);kl(i,s)||(n.uniform1iv(this.addr,s),Ll(i,s));for(let o=0;o!==r;++o)e.setTexture3D(t[o]||ide,s[o])}function net(n,t,e){const i=this.cache,r=t.length,s=xR(e,r);kl(i,s)||(n.uniform1iv(this.addr,s),Ll(i,s));for(let o=0;o!==r;++o)e.setTextureCube(t[o]||rde,s[o])}function iet(n,t,e){const i=this.cache,r=t.length,s=xR(e,r);kl(i,s)||(n.uniform1iv(this.addr,s),Ll(i,s));for(let o=0;o!==r;++o)e.setTexture2DArray(t[o]||nde,s[o])}class set{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=function LJe(n){switch(n){case 5126:return _Je;case 35664:return bJe;case 35665:return yJe;case 35666:return wJe;case 35674:return xJe;case 35675:return CJe;case 35676:return SJe;case 5124:case 35670:return EJe;case 35667:case 35671:return DJe;case 35668:case 35672:return MJe;case 35669:case 35673:return TJe;case 5125:return NJe;case 36294:return IJe;case 36295:return BJe;case 36296:return FJe;case 35678:case 36198:case 36298:case 36306:case 35682:return PJe;case 35679:case 36299:case 36307:return OJe;case 35680:case 36300:case 36308:case 36293:return RJe;case 36289:case 36303:case 36311:case 36292:return kJe}}(e.type)}}class oet{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=function ret(n){switch(n){case 5126:return UJe;case 35664:return HJe;case 35665:return VJe;case 35666:return zJe;case 35674:return QJe;case 35675:return GJe;case 35676:return jJe;case 5124:case 35670:return qJe;case 35667:case 35671:return WJe;case 35668:case 35672:return $Je;case 35669:case 35673:return KJe;case 5125:return XJe;case 36294:return YJe;case 36295:return ZJe;case 36296:return JJe;case 35678:case 36198:case 36298:case 36306:case 35682:return eet;case 35679:case 36299:case 36307:return tet;case 35680:case 36300:case 36308:case 36293:return net;case 36289:case 36303:case 36311:case 36292:return iet}}(e.type)}}class aet{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(t,e[a.id],i)}}}const TQ=/(\w+)(\])?(\[|\.)?/g;function ude(n,t){n.seq.push(t),n.map[t.id]=t}function cet(n,t,e){const i=n.name,r=i.length;for(TQ.lastIndex=0;;){const s=TQ.exec(i);let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&TQ.lastIndex+2===r){ude(e,void 0===c?new set(a,n,t):new oet(a,n,t));break}{let d=e.map[a];void 0===d&&(d=new aet(a),ude(e,d)),e=d}}}class CR{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=t.getActiveUniform(e,r);cet(s,t.getUniformLocation(e,s.name),this)}}setValue(t,e,i,r){const s=this.map[e];void 0!==s&&s.setValue(t,i,r)}setOptional(t,e,i){const r=e[i];void 0!==r&&this.setValue(t,i,r)}static upload(t,e,i,r){for(let s=0,o=e.length;s!==o;++s){const a=e[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(t,l.value,r)}}static seqWithValue(t,e){const i=[];for(let r=0,s=t.length;r!==s;++r){const o=t[r];o.id in e&&i.push(o)}return i}}function dde(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const uet=37297;let det=0;const hde=new xr;function fde(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),r=n.getShaderInfoLog(t).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return e.toUpperCase()+"\n\n"+r+"\n\n"+function het(n,t){const e=n.split("\n"),i=[],r=Math.max(t-6,0),s=Math.min(t+6,e.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===t?">":" "} ${a}: ${e[o]}`)}return i.join("\n")}(n.getShaderSource(t),o)}return r}function pet(n,t){const e=function fet(n){Ds._getMatrix(hde,Ds.workingColorSpace,n);const t=`mat3( ${hde.elements.map(e=>e.toFixed(4))} )`;switch(Ds.getTransfer(n)){case hO:return[t,"LinearTransferOETF"];case vo:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}(t);return[`vec4 ${n}( vec4 value ) {`,`\treturn ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join("\n")}function met(n,t){let e;switch(t){case OWe:e="Linear";break;case RWe:e="Reinhard";break;case kWe:e="Cineon";break;case LWe:e="ACESFilmic";break;case HWe:e="AgX";break;case VWe:e="Neutral";break;case UWe:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const SR=new Re;function yM(n){return""!==n}function pde(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function mde(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const bet=/^[ \t]*#include +<([\w\d./]+)>/gm;function NQ(n){return n.replace(bet,wet)}const yet=new Map;function wet(n,t){let e=Or[t];if(void 0===e){const i=yet.get(t);if(void 0===i)throw new Error("Can not resolve #include <"+t+">");e=Or[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i)}return NQ(e)}const xet=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Ade(n){return n.replace(xet,Cet)}function Cet(n,t,e,i){let r="";for(let s=parseInt(t);s<parseInt(e);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function gde(n){let t=`precision ${n.precision} float;\n\tprecision ${n.precision} int;\n\tprecision ${n.precision} sampler2D;\n\tprecision ${n.precision} samplerCube;\n\tprecision ${n.precision} sampler3D;\n\tprecision ${n.precision} sampler2DArray;\n\tprecision ${n.precision} sampler2DShadow;\n\tprecision ${n.precision} samplerCubeShadow;\n\tprecision ${n.precision} sampler2DArrayShadow;\n\tprecision ${n.precision} isampler2D;\n\tprecision ${n.precision} isampler3D;\n\tprecision ${n.precision} isamplerCube;\n\tprecision ${n.precision} isampler2DArray;\n\tprecision ${n.precision} usampler2D;\n\tprecision ${n.precision} usampler3D;\n\tprecision ${n.precision} usamplerCube;\n\tprecision ${n.precision} usampler2DArray;\n\t`;return"highp"===n.precision?t+="\n#define HIGH_PRECISION":"mediump"===n.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(t+="\n#define LOW_PRECISION"),t}function Iet(n,t,e,i){const r=n.getContext(),s=e.defines;let o=e.vertexShader,a=e.fragmentShader;const l=function Eet(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Ole?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===pWe?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===UA&&(t="SHADOWMAP_TYPE_VSM"),t}(e),c=function Det(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case zv:case bb:t="ENVMAP_TYPE_CUBE";break;case $D:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),u=function Met(n){let t="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===bb&&(t="ENVMAP_MODE_REFRACTION"),t}(e),d=function Tet(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ZP:t="ENVMAP_BLENDING_MULTIPLY";break;case FWe:t="ENVMAP_BLENDING_MIX";break;case PWe:t="ENVMAP_BLENDING_ADD"}return t}(e),f=function Net(n){const t=n.envMapCubeUVHeight;if(null===t)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),112)),texelHeight:i,maxMip:e}}(e),h=function get(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(yM).join("\n")}(e),p=function vet(n){const t=[];for(const e in n){const i=n[e];!1!==i&&t.push("#define "+e+" "+i)}return t.join("\n")}(s),m=r.createProgram();let g,A,_=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(g=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(yM).join("\n"),g.length>0&&(g+="\n"),A=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p].filter(yM).join("\n"),A.length>0&&(A+="\n")):(g=[gde(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+u:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(yM).join("\n"),A=[gde(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,p,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+c:"",e.envMap?"#define "+u:"",e.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&!1===e.flatShading?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+l:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Vv?"#define TONE_MAPPING":"",e.toneMapping!==Vv?Or.tonemapping_pars_fragment:"",e.toneMapping!==Vv?met("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",Or.colorspace_pars_fragment,pet("linearToOutputTexel",e.outputColorSpace),(Ds.getLuminanceCoefficients(SR),["float luminance( const in vec3 rgb ) {",`\tconst vec3 weights = vec3( ${SR.x.toFixed(4)}, ${SR.y.toFixed(4)}, ${SR.z.toFixed(4)} );`,"\treturn dot( weights, rgb );","}"].join("\n")),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(yM).join("\n")),o=NQ(o),o=pde(o,e),o=mde(o,e),a=NQ(a),a=pde(a,e),a=mde(a,e),o=Ade(o),a=Ade(a),!0!==e.isRawShaderMaterial&&(_="#version 300 es\n",g=[h,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,A=["#define varying in",e.glslVersion===Jle?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===Jle?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+A);const b=_+A+a,w=dde(r,r.VERTEX_SHADER,_+g+o),y=dde(r,r.FRAGMENT_SHADER,b);function C(M){if(n.debug.checkShaderErrors){const F=r.getProgramInfoLog(m).trim(),L=r.getShaderInfoLog(w).trim(),U=r.getShaderInfoLog(y).trim();let z=!0,O=!0;if(!1===r.getProgramParameter(m,r.LINK_STATUS))if(z=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,m,w,y);else{const G=fde(r,w,"vertex"),j=fde(r,y,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+"\n\nMaterial Name: "+M.name+"\nMaterial Type: "+M.type+"\n\nProgram Info Log: "+F+"\n"+G+"\n"+j)}else""!==F?console.warn("THREE.WebGLProgram: Program Info Log:",F):(""===L||""===U)&&(O=!1);O&&(M.diagnostics={runnable:z,programLog:F,vertexShader:{log:L,prefix:g},fragmentShader:{log:U,prefix:A}})}r.deleteShader(w),r.deleteShader(y),D=new CR(r,m),S=function _et(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(t,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),e[o]={type:s.type,location:n.getAttribLocation(t,o),locationSize:a}}return e}(r,m)}let D,S;r.attachShader(m,w),r.attachShader(m,y),void 0!==e.index0AttributeName?r.bindAttribLocation(m,0,e.index0AttributeName):!0===e.morphTargets&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m),this.getUniforms=function(){return void 0===D&&C(this),D},this.getAttributes=function(){return void 0===S&&C(this),S};let T=!1===e.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===T&&(T=r.getProgramParameter(m,uet)),T},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=det++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=y,this}let Bet=0;class Fet{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const i=t.fragmentShader,r=this._getShaderStage(t.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(t);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return void 0===i&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return void 0===i&&(i=new Pet(t),e.set(t,i)),i}}class Pet{constructor(t){this.id=Bet++,this.code=t,this.usedTimes=0}}function Oet(n,t,e,i,r,s,o){const a=new m7,l=new Fet,c=new Set,u=[],d=r.logarithmicDepthBuffer,f=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(S){return c.add(S),0===S?"uv":`uv${S}`}return{getParameters:function g(S,T,M,F,L){const U=F.fog,z=L.geometry,G=(S.isMeshStandardMaterial?e:t).get(S.envMap||(S.isMeshStandardMaterial?F.environment:null)),j=G&&G.mapping===$D?G.image.height:null,J=p[S.type];null!==S.precision&&(h=r.getMaxPrecision(S.precision),h!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",h,"instead."));const le=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,ye=void 0!==le?le.length:0;let X,H,ae,de,R=0;if(void 0!==z.morphAttributes.position&&(R=1),void 0!==z.morphAttributes.normal&&(R=2),void 0!==z.morphAttributes.color&&(R=3),J){const kr=Bm[J];X=kr.vertexShader,H=kr.fragmentShader}else X=S.vertexShader,H=S.fragmentShader,l.update(S),ae=l.getVertexShaderID(S),de=l.getFragmentShaderID(S);const he=n.getRenderTarget(),ee=n.state.buffers.depth.getReversed(),ie=!0===L.isInstancedMesh,ge=!0===L.isBatchedMesh,Ce=!!S.map,Ne=!!G,se=!!S.aoMap,Oe=!!S.lightMap,fe=!!S.bumpMap,at=!!S.normalMap,Ge=!!S.displacementMap,$e=!!S.emissiveMap,re=!!S.metalnessMap,K=!!S.roughnessMap,W=S.anisotropy>0,we=S.clearcoat>0,Ve=S.iridescence>0,Qe=S.sheen>0,pt=S.transmission>0,Bt=W&&!!S.anisotropyMap,yt=we&&!!S.clearcoatMap,Mn=we&&!!S.clearcoatNormalMap,rt=we&&!!S.clearcoatRoughnessMap,Sn=Ve&&!!S.iridescenceMap,En=Ve&&!!S.iridescenceThicknessMap,ei=Qe&&!!S.sheenColorMap,Kt=Qe&&!!S.sheenRoughnessMap,ni=!!S.specularMap,Y=!!S.specularColorMap,Fe=!!S.specularIntensityMap,Ee=pt&&!!S.transmissionMap,Ze=pt&&!!S.thicknessMap,mt=!!S.alphaMap,Wn=!!S.extensions;let Xs=Vv;S.toneMapped&&(null===he||!0===he.isXRRenderTarget)&&(Xs=n.toneMapping);const bs={shaderID:J,shaderType:S.type,shaderName:S.name,vertexShader:X,fragmentShader:H,defines:S.defines,customVertexShaderID:ae,customFragmentShaderID:de,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:h,batching:ge,batchingColor:ge&&null!==L._colorsTexture,instancing:ie,instancingColor:ie&&null!==L.instanceColor,instancingMorph:ie&&null!==L.morphTexture,supportsVertexTextures:f,outputColorSpace:null===he?n.outputColorSpace:!0===he.isXRRenderTarget?he.texture.colorSpace:dx,alphaToCoverage:!!S.alphaToCoverage,map:Ce,matcap:!!S.matcap,envMap:Ne,envMapMode:Ne&&G.mapping,envMapCubeUVHeight:j,aoMap:se,lightMap:Oe,bumpMap:fe,normalMap:at,displacementMap:f&&Ge,emissiveMap:$e,normalMapObjectSpace:at&&1===S.normalMapType,normalMapTangentSpace:at&&0===S.normalMapType,metalnessMap:re,roughnessMap:K,anisotropy:W,anisotropyMap:Bt,clearcoat:we,clearcoatMap:yt,clearcoatNormalMap:Mn,clearcoatRoughnessMap:rt,dispersion:S.dispersion>0,iridescence:Ve,iridescenceMap:Sn,iridescenceThicknessMap:En,sheen:Qe,sheenColorMap:ei,sheenRoughnessMap:Kt,specularMap:ni,specularColorMap:Y,specularIntensityMap:Fe,transmission:pt,transmissionMap:Ee,thicknessMap:Ze,gradientMap:!!S.gradientMap,opaque:!1===S.transparent&&1===S.blending&&!1===S.alphaToCoverage,alphaMap:mt,alphaTest:S.alphaTest>0,alphaHash:!!S.alphaHash,combine:S.combine,mapUv:Ce&&m(S.map.channel),aoMapUv:se&&m(S.aoMap.channel),lightMapUv:Oe&&m(S.lightMap.channel),bumpMapUv:fe&&m(S.bumpMap.channel),normalMapUv:at&&m(S.normalMap.channel),displacementMapUv:Ge&&m(S.displacementMap.channel),emissiveMapUv:$e&&m(S.emissiveMap.channel),metalnessMapUv:re&&m(S.metalnessMap.channel),roughnessMapUv:K&&m(S.roughnessMap.channel),anisotropyMapUv:Bt&&m(S.anisotropyMap.channel),clearcoatMapUv:yt&&m(S.clearcoatMap.channel),clearcoatNormalMapUv:Mn&&m(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:rt&&m(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Sn&&m(S.iridescenceMap.channel),iridescenceThicknessMapUv:En&&m(S.iridescenceThicknessMap.channel),sheenColorMapUv:ei&&m(S.sheenColorMap.channel),sheenRoughnessMapUv:Kt&&m(S.sheenRoughnessMap.channel),specularMapUv:ni&&m(S.specularMap.channel),specularColorMapUv:Y&&m(S.specularColorMap.channel),specularIntensityMapUv:Fe&&m(S.specularIntensityMap.channel),transmissionMapUv:Ee&&m(S.transmissionMap.channel),thicknessMapUv:Ze&&m(S.thicknessMap.channel),alphaMapUv:mt&&m(S.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(at||W),vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!z.attributes.color&&4===z.attributes.color.itemSize,pointsUvs:!0===L.isPoints&&!!z.attributes.uv&&(Ce||mt),fog:!!U,useFog:!0===S.fog,fogExp2:!!U&&U.isFogExp2,flatShading:!0===S.flatShading,sizeAttenuation:!0===S.sizeAttenuation,logarithmicDepthBuffer:d,reverseDepthBuffer:ee,skinning:!0===L.isSkinnedMesh,morphTargets:void 0!==z.morphAttributes.position,morphNormals:void 0!==z.morphAttributes.normal,morphColors:void 0!==z.morphAttributes.color,morphTargetsCount:ye,morphTextureStride:R,numDirLights:T.directional.length,numPointLights:T.point.length,numSpotLights:T.spot.length,numSpotLightMaps:T.spotLightMap.length,numRectAreaLights:T.rectArea.length,numHemiLights:T.hemi.length,numDirLightShadows:T.directionalShadowMap.length,numPointLightShadows:T.pointShadowMap.length,numSpotLightShadows:T.spotShadowMap.length,numSpotLightShadowsWithMaps:T.numSpotLightShadowsWithMaps,numLightProbes:T.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&M.length>0,shadowMapType:n.shadowMap.type,toneMapping:Xs,decodeVideoTexture:Ce&&!0===S.map.isVideoTexture&&Ds.getTransfer(S.map.colorSpace)===vo,decodeVideoTextureEmissive:$e&&!0===S.emissiveMap.isVideoTexture&&Ds.getTransfer(S.emissiveMap.colorSpace)===vo,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionClipCullDistance:Wn&&!0===S.extensions.clipCullDistance&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Wn&&!0===S.extensions.multiDraw||ge)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:S.customProgramCacheKey()};return bs.vertexUv1s=c.has(1),bs.vertexUv2s=c.has(2),bs.vertexUv3s=c.has(3),c.clear(),bs},getProgramCacheKey:function A(S){const T=[];if(S.shaderID?T.push(S.shaderID):(T.push(S.customVertexShaderID),T.push(S.customFragmentShaderID)),void 0!==S.defines)for(const M in S.defines)T.push(M),T.push(S.defines[M]);return!1===S.isRawShaderMaterial&&(function _(S,T){S.push(T.precision),S.push(T.outputColorSpace),S.push(T.envMapMode),S.push(T.envMapCubeUVHeight),S.push(T.mapUv),S.push(T.alphaMapUv),S.push(T.lightMapUv),S.push(T.aoMapUv),S.push(T.bumpMapUv),S.push(T.normalMapUv),S.push(T.displacementMapUv),S.push(T.emissiveMapUv),S.push(T.metalnessMapUv),S.push(T.roughnessMapUv),S.push(T.anisotropyMapUv),S.push(T.clearcoatMapUv),S.push(T.clearcoatNormalMapUv),S.push(T.clearcoatRoughnessMapUv),S.push(T.iridescenceMapUv),S.push(T.iridescenceThicknessMapUv),S.push(T.sheenColorMapUv),S.push(T.sheenRoughnessMapUv),S.push(T.specularMapUv),S.push(T.specularColorMapUv),S.push(T.specularIntensityMapUv),S.push(T.transmissionMapUv),S.push(T.thicknessMapUv),S.push(T.combine),S.push(T.fogExp2),S.push(T.sizeAttenuation),S.push(T.morphTargetsCount),S.push(T.morphAttributeCount),S.push(T.numDirLights),S.push(T.numPointLights),S.push(T.numSpotLights),S.push(T.numSpotLightMaps),S.push(T.numHemiLights),S.push(T.numRectAreaLights),S.push(T.numDirLightShadows),S.push(T.numPointLightShadows),S.push(T.numSpotLightShadows),S.push(T.numSpotLightShadowsWithMaps),S.push(T.numLightProbes),S.push(T.shadowMapType),S.push(T.toneMapping),S.push(T.numClippingPlanes),S.push(T.numClipIntersection),S.push(T.depthPacking)}(T,S),function v(S,T){a.disableAll(),T.supportsVertexTextures&&a.enable(0),T.instancing&&a.enable(1),T.instancingColor&&a.enable(2),T.instancingMorph&&a.enable(3),T.matcap&&a.enable(4),T.envMap&&a.enable(5),T.normalMapObjectSpace&&a.enable(6),T.normalMapTangentSpace&&a.enable(7),T.clearcoat&&a.enable(8),T.iridescence&&a.enable(9),T.alphaTest&&a.enable(10),T.vertexColors&&a.enable(11),T.vertexAlphas&&a.enable(12),T.vertexUv1s&&a.enable(13),T.vertexUv2s&&a.enable(14),T.vertexUv3s&&a.enable(15),T.vertexTangents&&a.enable(16),T.anisotropy&&a.enable(17),T.alphaHash&&a.enable(18),T.batching&&a.enable(19),T.dispersion&&a.enable(20),T.batchingColor&&a.enable(21),S.push(a.mask),a.disableAll(),T.fog&&a.enable(0),T.useFog&&a.enable(1),T.flatShading&&a.enable(2),T.logarithmicDepthBuffer&&a.enable(3),T.reverseDepthBuffer&&a.enable(4),T.skinning&&a.enable(5),T.morphTargets&&a.enable(6),T.morphNormals&&a.enable(7),T.morphColors&&a.enable(8),T.premultipliedAlpha&&a.enable(9),T.shadowMapEnabled&&a.enable(10),T.doubleSided&&a.enable(11),T.flipSided&&a.enable(12),T.useDepthPacking&&a.enable(13),T.dithering&&a.enable(14),T.transmission&&a.enable(15),T.sheen&&a.enable(16),T.opaque&&a.enable(17),T.pointsUvs&&a.enable(18),T.decodeVideoTexture&&a.enable(19),T.decodeVideoTextureEmissive&&a.enable(20),T.alphaToCoverage&&a.enable(21),S.push(a.mask)}(T,S),T.push(n.outputColorSpace)),T.push(S.customProgramCacheKey),T.join()},getUniforms:function b(S){const T=p[S.type];let M;return M=T?H$e.clone(Bm[T].uniforms):S.uniforms,M},acquireProgram:function w(S,T){let M;for(let F=0,L=u.length;F<L;F++){const U=u[F];if(U.cacheKey===T){M=U,++M.usedTimes;break}}return void 0===M&&(M=new Iet(n,T,S,s),u.push(M)),M},releaseProgram:function y(S){if(0==--S.usedTimes){const T=u.indexOf(S);u[T]=u[u.length-1],u.pop(),S.destroy()}},releaseShaderCache:function C(S){l.remove(S)},programs:u,dispose:function D(){l.dispose()}}}function Ret(){let n=new WeakMap;return{has:function t(o){return n.has(o)},get:function e(o){let a=n.get(o);return void 0===a&&(a={},n.set(o,a)),a},remove:function i(o){n.delete(o)},update:function r(o,a,l){n.get(o)[a]=l},dispose:function s(){n=new WeakMap}}}function ket(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function vde(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function _de(){const n=[];let t=0;const e=[],i=[],r=[];function o(d,f,h,p,m,g){let A=n[t];return void 0===A?(A={id:d.id,object:d,geometry:f,material:h,groupOrder:p,renderOrder:d.renderOrder,z:m,group:g},n[t]=A):(A.id=d.id,A.object=d,A.geometry=f,A.material=h,A.groupOrder=p,A.renderOrder=d.renderOrder,A.z=m,A.group=g),t++,A}return{opaque:e,transmissive:i,transparent:r,init:function s(){t=0,e.length=0,i.length=0,r.length=0},push:function a(d,f,h,p,m,g){const A=o(d,f,h,p,m,g);h.transmission>0?i.push(A):!0===h.transparent?r.push(A):e.push(A)},unshift:function l(d,f,h,p,m,g){const A=o(d,f,h,p,m,g);h.transmission>0?i.unshift(A):!0===h.transparent?r.unshift(A):e.unshift(A)},finish:function u(){for(let d=t,f=n.length;d<f;d++){const h=n[d];if(null===h.id)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}},sort:function c(d,f){e.length>1&&e.sort(d||ket),i.length>1&&i.sort(f||vde),r.length>1&&r.sort(f||vde)}}}function Let(){let n=new WeakMap;return{get:function t(i,r){const s=n.get(i);let o;return void 0===s?(o=new _de,n.set(i,[o])):r>=s.length?(o=new _de,s.push(o)):o=s[r],o},dispose:function e(){n=new WeakMap}}}function Uet(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new Re,color:new Jn};break;case"SpotLight":e={position:new Re,direction:new Re,color:new Jn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Re,color:new Jn,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Re,skyColor:new Jn,groundColor:new Jn};break;case"RectAreaLight":e={color:new Jn,position:new Re,halfWidth:new Re,halfHeight:new Re}}return n[t.id]=e,e}}}let Vet=0;function zet(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function Qet(n){const t=new Uet,e=function Het(){const n={};return{get:function(t){if(void 0!==n[t.id])return n[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Yt,shadowCameraNear:1,shadowCameraFar:1e3}}return n[t.id]=e,e}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Re);const r=new Re,s=new Zi,o=new Zi;return{setup:function a(c){let u=0,d=0,f=0;for(let S=0;S<9;S++)i.probe[S].set(0,0,0);let h=0,p=0,m=0,g=0,A=0,_=0,v=0,b=0,w=0,y=0,C=0;c.sort(zet);for(let S=0,T=c.length;S<T;S++){const M=c[S],F=M.color,L=M.intensity,U=M.distance,z=M.shadow&&M.shadow.map?M.shadow.map.texture:null;if(M.isAmbientLight)u+=F.r*L,d+=F.g*L,f+=F.b*L;else if(M.isLightProbe){for(let O=0;O<9;O++)i.probe[O].addScaledVector(M.sh.coefficients[O],L);C++}else if(M.isDirectionalLight){const O=t.get(M);if(O.color.copy(M.color).multiplyScalar(M.intensity),M.castShadow){const G=M.shadow,j=e.get(M);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.directionalShadow[h]=j,i.directionalShadowMap[h]=z,i.directionalShadowMatrix[h]=M.shadow.matrix,_++}i.directional[h]=O,h++}else if(M.isSpotLight){const O=t.get(M);O.position.setFromMatrixPosition(M.matrixWorld),O.color.copy(F).multiplyScalar(L),O.distance=U,O.coneCos=Math.cos(M.angle),O.penumbraCos=Math.cos(M.angle*(1-M.penumbra)),O.decay=M.decay,i.spot[m]=O;const G=M.shadow;if(M.map&&(i.spotLightMap[w]=M.map,w++,G.updateMatrices(M),M.castShadow&&y++),i.spotLightMatrix[m]=G.matrix,M.castShadow){const j=e.get(M);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.spotShadow[m]=j,i.spotShadowMap[m]=z,b++}m++}else if(M.isRectAreaLight){const O=t.get(M);O.color.copy(F).multiplyScalar(L),O.halfWidth.set(.5*M.width,0,0),O.halfHeight.set(0,.5*M.height,0),i.rectArea[g]=O,g++}else if(M.isPointLight){const O=t.get(M);if(O.color.copy(M.color).multiplyScalar(M.intensity),O.distance=M.distance,O.decay=M.decay,M.castShadow){const G=M.shadow,j=e.get(M);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,j.shadowCameraNear=G.camera.near,j.shadowCameraFar=G.camera.far,i.pointShadow[p]=j,i.pointShadowMap[p]=z,i.pointShadowMatrix[p]=M.shadow.matrix,v++}i.point[p]=O,p++}else if(M.isHemisphereLight){const O=t.get(M);O.skyColor.copy(M.color).multiplyScalar(L),O.groundColor.copy(M.groundColor).multiplyScalar(L),i.hemi[A]=O,A++}}g>0&&(!0===n.has("OES_texture_float_linear")?(i.rectAreaLTC1=Un.LTC_FLOAT_1,i.rectAreaLTC2=Un.LTC_FLOAT_2):(i.rectAreaLTC1=Un.LTC_HALF_1,i.rectAreaLTC2=Un.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=f;const D=i.hash;(D.directionalLength!==h||D.pointLength!==p||D.spotLength!==m||D.rectAreaLength!==g||D.hemiLength!==A||D.numDirectionalShadows!==_||D.numPointShadows!==v||D.numSpotShadows!==b||D.numSpotMaps!==w||D.numLightProbes!==C)&&(i.directional.length=h,i.spot.length=m,i.rectArea.length=g,i.point.length=p,i.hemi.length=A,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=v,i.pointShadowMap.length=v,i.spotShadow.length=b,i.spotShadowMap.length=b,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=v,i.spotLightMatrix.length=b+w-y,i.spotLightMap.length=w,i.numSpotLightShadowsWithMaps=y,i.numLightProbes=C,D.directionalLength=h,D.pointLength=p,D.spotLength=m,D.rectAreaLength=g,D.hemiLength=A,D.numDirectionalShadows=_,D.numPointShadows=v,D.numSpotShadows=b,D.numSpotMaps=w,D.numLightProbes=C,i.version=Vet++)},setupView:function l(c,u){let d=0,f=0,h=0,p=0,m=0;const g=u.matrixWorldInverse;for(let A=0,_=c.length;A<_;A++){const v=c[A];if(v.isDirectionalLight){const b=i.directional[d];b.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(g),d++}else if(v.isSpotLight){const b=i.spot[h];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(g),b.direction.setFromMatrixPosition(v.matrixWorld),r.setFromMatrixPosition(v.target.matrixWorld),b.direction.sub(r),b.direction.transformDirection(g),h++}else if(v.isRectAreaLight){const b=i.rectArea[p];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(g),o.identity(),s.copy(v.matrixWorld),s.premultiply(g),o.extractRotation(s),b.halfWidth.set(.5*v.width,0,0),b.halfHeight.set(0,.5*v.height,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),p++}else if(v.isPointLight){const b=i.point[f];b.position.setFromMatrixPosition(v.matrixWorld),b.position.applyMatrix4(g),f++}else if(v.isHemisphereLight){const b=i.hemi[m];b.direction.setFromMatrixPosition(v.matrixWorld),b.direction.transformDirection(g),m++}}},state:i}}function bde(n){const t=new Qet(n),e=[],i=[],c={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function r(u){c.camera=u,e.length=0,i.length=0},state:c,setupLights:function a(){t.setup(e)},setupLightsView:function l(u){t.setupView(e,u)},pushLight:function s(u){e.push(u)},pushShadow:function o(u){i.push(u)}}}function Get(n){let t=new WeakMap;return{get:function e(r,s=0){const o=t.get(r);let a;return void 0===o?(a=new bde(n),t.set(r,[a])):s>=o.length?(a=new bde(n),o.push(a)):a=o[s],a},dispose:function i(){t=new WeakMap}}}function Wet(n,t,e){let i=new HO;const r=new Yt,s=new Yt,o=new Os,a=new lue({depthPacking:3201}),l=new cue,c={},u=e.maxTextureSize,d={0:1,1:0,2:2},f=new Tm({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Yt},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new Pr;p.setAttribute("position",new Bo(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ja(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ole;let A=this.type;function _(y,C){const D=t.update(m);f.defines.VSM_SAMPLES!==y.blurSamples&&(f.defines.VSM_SAMPLES=y.blurSamples,h.defines.VSM_SAMPLES=y.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),null===y.mapPass&&(y.mapPass=new jA(r.x,r.y)),f.uniforms.shadow_pass.value=y.map.texture,f.uniforms.resolution.value=y.mapSize,f.uniforms.radius.value=y.radius,n.setRenderTarget(y.mapPass),n.clear(),n.renderBufferDirect(C,null,D,f,m,null),h.uniforms.shadow_pass.value=y.mapPass.texture,h.uniforms.resolution.value=y.mapSize,h.uniforms.radius.value=y.radius,n.setRenderTarget(y.map),n.clear(),n.renderBufferDirect(C,null,D,h,m,null)}function v(y,C,D,S){let T=null;const M=!0===D.isPointLight?y.customDistanceMaterial:y.customDepthMaterial;if(void 0!==M)T=M;else if(T=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===C.clipShadows&&Array.isArray(C.clippingPlanes)&&0!==C.clippingPlanes.length||C.displacementMap&&0!==C.displacementScale||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const F=T.uuid,L=C.uuid;let U=c[F];void 0===U&&(U={},c[F]=U);let z=U[L];void 0===z&&(z=T.clone(),U[L]=z,C.addEventListener("dispose",w)),T=z}return T.visible=C.visible,T.wireframe=C.wireframe,T.side=S===UA?null!==C.shadowSide?C.shadowSide:C.side:null!==C.shadowSide?C.shadowSide:d[C.side],T.alphaMap=C.alphaMap,T.alphaTest=C.alphaTest,T.map=C.map,T.clipShadows=C.clipShadows,T.clippingPlanes=C.clippingPlanes,T.clipIntersection=C.clipIntersection,T.displacementMap=C.displacementMap,T.displacementScale=C.displacementScale,T.displacementBias=C.displacementBias,T.wireframeLinewidth=C.wireframeLinewidth,T.linewidth=C.linewidth,!0===D.isPointLight&&!0===T.isMeshDistanceMaterial&&(n.properties.get(T).light=D),T}function b(y,C,D,S,T){if(!1===y.visible)return;if(y.layers.test(C.layers)&&(y.isMesh||y.isLine||y.isPoints)&&(y.castShadow||y.receiveShadow&&T===UA)&&(!y.frustumCulled||i.intersectsObject(y))){y.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,y.matrixWorld);const L=t.update(y),U=y.material;if(Array.isArray(U)){const z=L.groups;for(let O=0,G=z.length;O<G;O++){const j=z[O],J=U[j.materialIndex];if(J&&J.visible){const le=v(y,J,S,T);y.onBeforeShadow(n,y,C,D,L,le,j),n.renderBufferDirect(D,null,L,le,y,j),y.onAfterShadow(n,y,C,D,L,le,j)}}}else if(U.visible){const z=v(y,U,S,T);y.onBeforeShadow(n,y,C,D,L,z,null),n.renderBufferDirect(D,null,L,z,y,null),y.onAfterShadow(n,y,C,D,L,z,null)}}const F=y.children;for(let L=0,U=F.length;L<U;L++)b(F[L],C,D,S,T)}function w(y){y.target.removeEventListener("dispose",w);for(const D in c){const S=c[D],T=y.target.uuid;T in S&&(S[T].dispose(),delete S[T])}}this.render=function(y,C,D){if(!1===g.enabled||!1===g.autoUpdate&&!1===g.needsUpdate||0===y.length)return;const S=n.getRenderTarget(),T=n.getActiveCubeFace(),M=n.getActiveMipmapLevel(),F=n.state;F.setBlending(0),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const L=A!==UA&&this.type===UA,U=A===UA&&this.type!==UA;for(let z=0,O=y.length;z<O;z++){const G=y[z],j=G.shadow;if(void 0===j){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(!1===j.autoUpdate&&!1===j.needsUpdate)continue;r.copy(j.mapSize);const J=j.getFrameExtents();if(r.multiply(J),s.copy(j.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/J.x),r.x=s.x*J.x,j.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/J.y),r.y=s.y*J.y,j.mapSize.y=s.y)),null===j.map||!0===L||!0===U){const ye=this.type!==UA?{minFilter:Xc,magFilter:Xc}:{};null!==j.map&&j.map.dispose(),j.map=new jA(r.x,r.y,ye),j.map.texture.name=G.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const le=j.getViewportCount();for(let ye=0;ye<le;ye++){const R=j.getViewport(ye);o.set(s.x*R.x,s.y*R.y,s.x*R.z,s.y*R.w),F.viewport(o),j.updateMatrices(G,ye),i=j.getFrustum(),b(C,D,j.camera,G,this.type)}!0!==j.isPointLightShadow&&this.type===UA&&_(j,D),j.needsUpdate=!1}A=this.type,g.needsUpdate=!1,n.setRenderTarget(S,T,M)}}const $et={0:1,2:6,4:7,3:5,1:0,6:2,7:4,5:3};function Ket(n,t){const s=new function e(){let Ee=!1;const Ze=new Os;let it=null;const mt=new Os(0,0,0,0);return{setMask:function(on){it!==on&&!Ee&&(n.colorMask(on,on,on,on),it=on)},setLocked:function(on){Ee=on},setClear:function(on,Xt,Wn,Xs,bs){!0===bs&&(on*=Xs,Xt*=Xs,Wn*=Xs),Ze.set(on,Xt,Wn,Xs),!1===mt.equals(Ze)&&(n.clearColor(on,Xt,Wn,Xs),mt.copy(Ze))},reset:function(){Ee=!1,it=null,mt.set(-1,0,0,0)}}},o=new function i(){let Ee=!1,Ze=!1,it=null,mt=null,on=null;return{setReversed:function(Xt){if(Ze!==Xt){const Wn=t.get("EXT_clip_control");Wn.clipControlEXT(Wn.LOWER_LEFT_EXT,Ze?Wn.ZERO_TO_ONE_EXT:Wn.NEGATIVE_ONE_TO_ONE_EXT);const Xs=on;on=null,this.setClear(Xs)}Ze=Xt},getReversed:function(){return Ze},setTest:function(Xt){Xt?he(n.DEPTH_TEST):ee(n.DEPTH_TEST)},setMask:function(Xt){it!==Xt&&!Ee&&(n.depthMask(Xt),it=Xt)},setFunc:function(Xt){if(Ze&&(Xt=$et[Xt]),mt!==Xt){switch(Xt){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}mt=Xt}},setLocked:function(Xt){Ee=Xt},setClear:function(Xt){on!==Xt&&(Ze&&(Xt=1-Xt),n.clearDepth(Xt),on=Xt)},reset:function(){Ee=!1,it=null,mt=null,on=null,Ze=!1}}},a=new function r(){let Ee=!1,Ze=null,it=null,mt=null,on=null,Xt=null,Wn=null,Xs=null,bs=null;return{setTest:function(kr){Ee||(kr?he(n.STENCIL_TEST):ee(n.STENCIL_TEST))},setMask:function(kr){Ze!==kr&&!Ee&&(n.stencilMask(kr),Ze=kr)},setFunc:function(kr,Pa,Ai){(it!==kr||mt!==Pa||on!==Ai)&&(n.stencilFunc(kr,Pa,Ai),it=kr,mt=Pa,on=Ai)},setOp:function(kr,Pa,Ai){(Xt!==kr||Wn!==Pa||Xs!==Ai)&&(n.stencilOp(kr,Pa,Ai),Xt=kr,Wn=Pa,Xs=Ai)},setLocked:function(kr){Ee=kr},setClear:function(kr){bs!==kr&&(n.clearStencil(kr),bs=kr)},reset:function(){Ee=!1,Ze=null,it=null,mt=null,on=null,Xt=null,Wn=null,Xs=null,bs=null}}},l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],p=null,m=!1,g=null,A=null,_=null,v=null,b=null,w=null,y=null,C=new Jn(0,0,0),D=0,S=!1,T=null,M=null,F=null,L=null,U=null;const z=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,G=0;const j=n.getParameter(n.VERSION);-1!==j.indexOf("WebGL")?(G=parseFloat(/^WebGL (\d)/.exec(j)[1]),O=G>=1):-1!==j.indexOf("OpenGL ES")&&(G=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),O=G>=2);let J=null,le={};const ye=n.getParameter(n.SCISSOR_BOX),R=n.getParameter(n.VIEWPORT),X=(new Os).fromArray(ye),H=(new Os).fromArray(R);function ae(Ee,Ze,it,mt){const on=new Uint8Array(4),Xt=n.createTexture();n.bindTexture(Ee,Xt),n.texParameteri(Ee,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Ee,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Wn=0;Wn<it;Wn++)Ee===n.TEXTURE_3D||Ee===n.TEXTURE_2D_ARRAY?n.texImage3D(Ze,0,n.RGBA,1,1,mt,0,n.RGBA,n.UNSIGNED_BYTE,on):n.texImage2D(Ze+Wn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,on);return Xt}const de={};function he(Ee){!0!==u[Ee]&&(n.enable(Ee),u[Ee]=!0)}function ee(Ee){!1!==u[Ee]&&(n.disable(Ee),u[Ee]=!1)}de[n.TEXTURE_2D]=ae(n.TEXTURE_2D,n.TEXTURE_2D,1),de[n.TEXTURE_CUBE_MAP]=ae(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),de[n.TEXTURE_2D_ARRAY]=ae(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),de[n.TEXTURE_3D]=ae(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),he(n.DEPTH_TEST),o.setFunc(3),fe(!1),at(1),he(n.CULL_FACE),se(0);const ve={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};ve[103]=n.MIN,ve[104]=n.MAX;const Ne={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function se(Ee,Ze,it,mt,on,Xt,Wn,Xs,bs,kr){if(0!==Ee){if(!1===m&&(he(n.BLEND),m=!0),5===Ee)on=on||Ze,Xt=Xt||it,Wn=Wn||mt,(Ze!==A||on!==b)&&(n.blendEquationSeparate(ve[Ze],ve[on]),A=Ze,b=on),(it!==_||mt!==v||Xt!==w||Wn!==y)&&(n.blendFuncSeparate(Ne[it],Ne[mt],Ne[Xt],Ne[Wn]),_=it,v=mt,w=Xt,y=Wn),(!1===Xs.equals(C)||bs!==D)&&(n.blendColor(Xs.r,Xs.g,Xs.b,bs),C.copy(Xs),D=bs),g=Ee,S=!1;else if(Ee!==g||kr!==S){if((100!==A||100!==b)&&(n.blendEquation(n.FUNC_ADD),A=100,b=100),kr)switch(Ee){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee)}else switch(Ee){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Ee)}_=null,v=null,w=null,y=null,C.set(0,0,0),D=0,g=Ee,S=kr}}else!0===m&&(ee(n.BLEND),m=!1)}function fe(Ee){T!==Ee&&(n.frontFace(Ee?n.CW:n.CCW),T=Ee)}function at(Ee){0!==Ee?(he(n.CULL_FACE),Ee!==M&&n.cullFace(1===Ee?n.BACK:2===Ee?n.FRONT:n.FRONT_AND_BACK)):ee(n.CULL_FACE),M=Ee}function $e(Ee,Ze,it){Ee?(he(n.POLYGON_OFFSET_FILL),(L!==Ze||U!==it)&&(n.polygonOffset(Ze,it),L=Ze,U=it)):ee(n.POLYGON_OFFSET_FILL)}return{buffers:{color:s,depth:o,stencil:a},enable:he,disable:ee,bindFramebuffer:function ie(Ee,Ze){return d[Ee]!==Ze&&(n.bindFramebuffer(Ee,Ze),d[Ee]=Ze,Ee===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=Ze),Ee===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=Ze),!0)},drawBuffers:function ge(Ee,Ze){let it=h,mt=!1;if(Ee){it=f.get(Ze),void 0===it&&(it=[],f.set(Ze,it));const on=Ee.textures;if(it.length!==on.length||it[0]!==n.COLOR_ATTACHMENT0){for(let Xt=0,Wn=on.length;Xt<Wn;Xt++)it[Xt]=n.COLOR_ATTACHMENT0+Xt;it.length=on.length,mt=!0}}else it[0]!==n.BACK&&(it[0]=n.BACK,mt=!0);mt&&n.drawBuffers(it)},useProgram:function Ce(Ee){return p!==Ee&&(n.useProgram(Ee),p=Ee,!0)},setBlending:se,setMaterial:function Oe(Ee,Ze){2===Ee.side?ee(n.CULL_FACE):he(n.CULL_FACE);let it=1===Ee.side;Ze&&(it=!it),fe(it),1===Ee.blending&&!1===Ee.transparent?se(0):se(Ee.blending,Ee.blendEquation,Ee.blendSrc,Ee.blendDst,Ee.blendEquationAlpha,Ee.blendSrcAlpha,Ee.blendDstAlpha,Ee.blendColor,Ee.blendAlpha,Ee.premultipliedAlpha),o.setFunc(Ee.depthFunc),o.setTest(Ee.depthTest),o.setMask(Ee.depthWrite),s.setMask(Ee.colorWrite);const mt=Ee.stencilWrite;a.setTest(mt),mt&&(a.setMask(Ee.stencilWriteMask),a.setFunc(Ee.stencilFunc,Ee.stencilRef,Ee.stencilFuncMask),a.setOp(Ee.stencilFail,Ee.stencilZFail,Ee.stencilZPass)),$e(Ee.polygonOffset,Ee.polygonOffsetFactor,Ee.polygonOffsetUnits),!0===Ee.alphaToCoverage?he(n.SAMPLE_ALPHA_TO_COVERAGE):ee(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:fe,setCullFace:at,setLineWidth:function Ge(Ee){Ee!==F&&(O&&n.lineWidth(Ee),F=Ee)},setPolygonOffset:$e,setScissorTest:function re(Ee){Ee?he(n.SCISSOR_TEST):ee(n.SCISSOR_TEST)},activeTexture:function K(Ee){void 0===Ee&&(Ee=n.TEXTURE0+z-1),J!==Ee&&(n.activeTexture(Ee),J=Ee)},bindTexture:function W(Ee,Ze,it){void 0===it&&(it=null===J?n.TEXTURE0+z-1:J);let mt=le[it];void 0===mt&&(mt={type:void 0,texture:void 0},le[it]=mt),(mt.type!==Ee||mt.texture!==Ze)&&(J!==it&&(n.activeTexture(it),J=it),n.bindTexture(Ee,Ze||de[Ee]),mt.type=Ee,mt.texture=Ze)},unbindTexture:function we(){const Ee=le[J];void 0!==Ee&&void 0!==Ee.type&&(n.bindTexture(Ee.type,null),Ee.type=void 0,Ee.texture=void 0)},compressedTexImage2D:function ke(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexImage3D:function Ve(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texImage2D:function Sn(){try{n.texImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texImage3D:function En(){try{n.texImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},updateUBOMapping:function ni(Ee,Ze){let it=c.get(Ze);void 0===it&&(it=new WeakMap,c.set(Ze,it));let mt=it.get(Ee);void 0===mt&&(mt=n.getUniformBlockIndex(Ze,Ee.name),it.set(Ee,mt))},uniformBlockBinding:function Y(Ee,Ze){const mt=c.get(Ze).get(Ee);l.get(Ze)!==mt&&(n.uniformBlockBinding(Ze,mt,Ee.__bindingPointIndex),l.set(Ze,mt))},texStorage2D:function Mn(){try{n.texStorage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texStorage3D:function rt(){try{n.texStorage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texSubImage2D:function Qe(){try{n.texSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},texSubImage3D:function pt(){try{n.texSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexSubImage2D:function Bt(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},compressedTexSubImage3D:function yt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Ee){console.error("THREE.WebGLState:",Ee)}},scissor:function ei(Ee){!1===X.equals(Ee)&&(n.scissor(Ee.x,Ee.y,Ee.z,Ee.w),X.copy(Ee))},viewport:function Kt(Ee){!1===H.equals(Ee)&&(n.viewport(Ee.x,Ee.y,Ee.z,Ee.w),H.copy(Ee))},reset:function Fe(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},J=null,le={},d={},f=new WeakMap,h=[],p=null,m=!1,g=null,A=null,_=null,v=null,b=null,w=null,y=null,C=new Jn(0,0,0),D=0,S=!1,T=null,M=null,F=null,L=null,U=null,X.set(0,0,n.canvas.width,n.canvas.height),H.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}}}function Xet(n,t,e,i,r,s,o){const a=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),c=new Yt,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function p(K,W){return h?new OffscreenCanvas(K,W):JD("canvas")}function m(K,W,we){let ke=1;const Ve=re(K);if((Ve.width>we||Ve.height>we)&&(ke=we/Math.max(Ve.width,Ve.height)),ke<1){if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap||typeof VideoFrame<"u"&&K instanceof VideoFrame){const Qe=Math.floor(ke*Ve.width),pt=Math.floor(ke*Ve.height);void 0===d&&(d=p(Qe,pt));const Bt=W?p(Qe,pt):d;return Bt.width=Qe,Bt.height=pt,Bt.getContext("2d").drawImage(K,0,0,Qe,pt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Qe+"x"+pt+")."),Bt}return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),K}return K}function g(K){return K.generateMipmaps}function A(K){n.generateMipmap(K)}function _(K){return K.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:K.isWebGL3DRenderTarget?n.TEXTURE_3D:K.isWebGLArrayRenderTarget||K.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function v(K,W,we,ke,Ve=!1){if(null!==K){if(void 0!==n[K])return n[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let Qe=W;if(W===n.RED&&(we===n.FLOAT&&(Qe=n.R32F),we===n.HALF_FLOAT&&(Qe=n.R16F),we===n.UNSIGNED_BYTE&&(Qe=n.R8)),W===n.RED_INTEGER&&(we===n.UNSIGNED_BYTE&&(Qe=n.R8UI),we===n.UNSIGNED_SHORT&&(Qe=n.R16UI),we===n.UNSIGNED_INT&&(Qe=n.R32UI),we===n.BYTE&&(Qe=n.R8I),we===n.SHORT&&(Qe=n.R16I),we===n.INT&&(Qe=n.R32I)),W===n.RG&&(we===n.FLOAT&&(Qe=n.RG32F),we===n.HALF_FLOAT&&(Qe=n.RG16F),we===n.UNSIGNED_BYTE&&(Qe=n.RG8)),W===n.RG_INTEGER&&(we===n.UNSIGNED_BYTE&&(Qe=n.RG8UI),we===n.UNSIGNED_SHORT&&(Qe=n.RG16UI),we===n.UNSIGNED_INT&&(Qe=n.RG32UI),we===n.BYTE&&(Qe=n.RG8I),we===n.SHORT&&(Qe=n.RG16I),we===n.INT&&(Qe=n.RG32I)),W===n.RGB_INTEGER&&(we===n.UNSIGNED_BYTE&&(Qe=n.RGB8UI),we===n.UNSIGNED_SHORT&&(Qe=n.RGB16UI),we===n.UNSIGNED_INT&&(Qe=n.RGB32UI),we===n.BYTE&&(Qe=n.RGB8I),we===n.SHORT&&(Qe=n.RGB16I),we===n.INT&&(Qe=n.RGB32I)),W===n.RGBA_INTEGER&&(we===n.UNSIGNED_BYTE&&(Qe=n.RGBA8UI),we===n.UNSIGNED_SHORT&&(Qe=n.RGBA16UI),we===n.UNSIGNED_INT&&(Qe=n.RGBA32UI),we===n.BYTE&&(Qe=n.RGBA8I),we===n.SHORT&&(Qe=n.RGBA16I),we===n.INT&&(Qe=n.RGBA32I)),W===n.RGB&&we===n.UNSIGNED_INT_5_9_9_9_REV&&(Qe=n.RGB9_E5),W===n.RGBA){const pt=Ve?hO:Ds.getTransfer(ke);we===n.FLOAT&&(Qe=n.RGBA32F),we===n.HALF_FLOAT&&(Qe=n.RGBA16F),we===n.UNSIGNED_BYTE&&(Qe=pt===vo?n.SRGB8_ALPHA8:n.RGBA8),we===n.UNSIGNED_SHORT_4_4_4_4&&(Qe=n.RGBA4),we===n.UNSIGNED_SHORT_5_5_5_1&&(Qe=n.RGB5_A1)}return(Qe===n.R16F||Qe===n.R32F||Qe===n.RG16F||Qe===n.RG32F||Qe===n.RGBA16F||Qe===n.RGBA32F)&&t.get("EXT_color_buffer_float"),Qe}function b(K,W){let we;return K?null===W||W===Qv||W===ox?we=n.DEPTH24_STENCIL8:W===hh?we=n.DEPTH32F_STENCIL8:W===XD&&(we=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):null===W||W===Qv||W===ox?we=n.DEPTH_COMPONENT24:W===hh?we=n.DEPTH_COMPONENT32F:W===XD&&(we=n.DEPTH_COMPONENT16),we}function w(K,W){return!0===g(K)||K.isFramebufferTexture&&K.minFilter!==Xc&&K.minFilter!==cc?Math.log2(Math.max(W.width,W.height))+1:void 0!==K.mipmaps&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?W.mipmaps.length:1}function y(K){const W=K.target;W.removeEventListener("dispose",y),function D(K){const W=i.get(K);if(void 0===W.__webglInit)return;const we=K.source,ke=f.get(we);if(ke){const Ve=ke[W.__cacheKey];Ve.usedTimes--,0===Ve.usedTimes&&S(K),0===Object.keys(ke).length&&f.delete(we)}i.remove(K)}(W),W.isVideoTexture&&u.delete(W)}function C(K){const W=K.target;W.removeEventListener("dispose",C),function T(K){const W=i.get(K);if(K.depthTexture&&(K.depthTexture.dispose(),i.remove(K.depthTexture)),K.isWebGLCubeRenderTarget)for(let ke=0;ke<6;ke++){if(Array.isArray(W.__webglFramebuffer[ke]))for(let Ve=0;Ve<W.__webglFramebuffer[ke].length;Ve++)n.deleteFramebuffer(W.__webglFramebuffer[ke][Ve]);else n.deleteFramebuffer(W.__webglFramebuffer[ke]);W.__webglDepthbuffer&&n.deleteRenderbuffer(W.__webglDepthbuffer[ke])}else{if(Array.isArray(W.__webglFramebuffer))for(let ke=0;ke<W.__webglFramebuffer.length;ke++)n.deleteFramebuffer(W.__webglFramebuffer[ke]);else n.deleteFramebuffer(W.__webglFramebuffer);if(W.__webglDepthbuffer&&n.deleteRenderbuffer(W.__webglDepthbuffer),W.__webglMultisampledFramebuffer&&n.deleteFramebuffer(W.__webglMultisampledFramebuffer),W.__webglColorRenderbuffer)for(let ke=0;ke<W.__webglColorRenderbuffer.length;ke++)W.__webglColorRenderbuffer[ke]&&n.deleteRenderbuffer(W.__webglColorRenderbuffer[ke]);W.__webglDepthRenderbuffer&&n.deleteRenderbuffer(W.__webglDepthRenderbuffer)}const we=K.textures;for(let ke=0,Ve=we.length;ke<Ve;ke++){const Qe=i.get(we[ke]);Qe.__webglTexture&&(n.deleteTexture(Qe.__webglTexture),o.memory.textures--),i.remove(we[ke])}i.remove(K)}(W)}function S(K){const W=i.get(K);n.deleteTexture(W.__webglTexture),delete f.get(K.source)[W.__cacheKey],o.memory.textures--}let M=0;function z(K,W){const we=i.get(K);if(K.isVideoTexture&&function Ge(K){const W=o.render.frame;u.get(K)!==W&&(u.set(K,W),K.update())}(K),!1===K.isRenderTargetTexture&&K.version>0&&we.__version!==K.version){const ke=K.image;if(null===ke)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ke.complete)return void H(we,K,W);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.bindTexture(n.TEXTURE_2D,we.__webglTexture,n.TEXTURE0+W)}const J={1e3:n.REPEAT,[fp]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},le={[Xc]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[cc]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[VA]:n.LINEAR_MIPMAP_LINEAR},ye={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function R(K,W){if(W.type===hh&&!1===t.has("OES_texture_float_linear")&&(W.magFilter===cc||1007===W.magFilter||1005===W.magFilter||W.magFilter===VA||W.minFilter===cc||1007===W.minFilter||1005===W.minFilter||W.minFilter===VA)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(K,n.TEXTURE_WRAP_S,J[W.wrapS]),n.texParameteri(K,n.TEXTURE_WRAP_T,J[W.wrapT]),(K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY)&&n.texParameteri(K,n.TEXTURE_WRAP_R,J[W.wrapR]),n.texParameteri(K,n.TEXTURE_MAG_FILTER,le[W.magFilter]),n.texParameteri(K,n.TEXTURE_MIN_FILTER,le[W.minFilter]),W.compareFunction&&(n.texParameteri(K,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(K,n.TEXTURE_COMPARE_FUNC,ye[W.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(W.magFilter===Xc||1005!==W.minFilter&&W.minFilter!==VA||W.type===hh&&!1===t.has("OES_texture_float_linear"))return;if(W.anisotropy>1||i.get(W).__currentAnisotropy){const we=t.get("EXT_texture_filter_anisotropic");n.texParameterf(K,we.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,r.getMaxAnisotropy())),i.get(W).__currentAnisotropy=W.anisotropy}}}function X(K,W){let we=!1;void 0===K.__webglInit&&(K.__webglInit=!0,W.addEventListener("dispose",y));const ke=W.source;let Ve=f.get(ke);void 0===Ve&&(Ve={},f.set(ke,Ve));const Qe=function U(K){const W=[];return W.push(K.wrapS),W.push(K.wrapT),W.push(K.wrapR||0),W.push(K.magFilter),W.push(K.minFilter),W.push(K.anisotropy),W.push(K.internalFormat),W.push(K.format),W.push(K.type),W.push(K.generateMipmaps),W.push(K.premultiplyAlpha),W.push(K.flipY),W.push(K.unpackAlignment),W.push(K.colorSpace),W.join()}(W);if(Qe!==K.__cacheKey){void 0===Ve[Qe]&&(Ve[Qe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,we=!0),Ve[Qe].usedTimes++;const pt=Ve[K.__cacheKey];void 0!==pt&&(Ve[K.__cacheKey].usedTimes--,0===pt.usedTimes&&S(W)),K.__cacheKey=Qe,K.__webglTexture=Ve[Qe].texture}return we}function H(K,W,we){let ke=n.TEXTURE_2D;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(ke=n.TEXTURE_2D_ARRAY),W.isData3DTexture&&(ke=n.TEXTURE_3D);const Ve=X(K,W),Qe=W.source;e.bindTexture(ke,K.__webglTexture,n.TEXTURE0+we);const pt=i.get(Qe);if(Qe.version!==pt.__version||!0===Ve){e.activeTexture(n.TEXTURE0+we);const Bt=Ds.getPrimaries(Ds.workingColorSpace),yt=""===W.colorSpace?null:Ds.getPrimaries(W.colorSpace),Mn=""===W.colorSpace||Bt===yt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mn);let rt=m(W.image,!1,r.maxTextureSize);rt=$e(W,rt);const Sn=s.convert(W.format,W.colorSpace),En=s.convert(W.type);let Kt,ei=v(W.internalFormat,Sn,En,W.colorSpace,W.isVideoTexture);R(ke,W);const ni=W.mipmaps,Y=!0!==W.isVideoTexture,Fe=void 0===pt.__version||!0===Ve,Ee=Qe.dataReady,Ze=w(W,rt);if(W.isDepthTexture)ei=b(W.format===lx,W.type),Fe&&(Y?e.texStorage2D(n.TEXTURE_2D,1,ei,rt.width,rt.height):e.texImage2D(n.TEXTURE_2D,0,ei,rt.width,rt.height,0,Sn,En,null));else if(W.isDataTexture)if(ni.length>0){Y&&Fe&&e.texStorage2D(n.TEXTURE_2D,Ze,ei,ni[0].width,ni[0].height);for(let it=0,mt=ni.length;it<mt;it++)Kt=ni[it],Y?Ee&&e.texSubImage2D(n.TEXTURE_2D,it,0,0,Kt.width,Kt.height,Sn,En,Kt.data):e.texImage2D(n.TEXTURE_2D,it,ei,Kt.width,Kt.height,0,Sn,En,Kt.data);W.generateMipmaps=!1}else Y?(Fe&&e.texStorage2D(n.TEXTURE_2D,Ze,ei,rt.width,rt.height),Ee&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,rt.width,rt.height,Sn,En,rt.data)):e.texImage2D(n.TEXTURE_2D,0,ei,rt.width,rt.height,0,Sn,En,rt.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){Y&&Fe&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,ei,ni[0].width,ni[0].height,rt.depth);for(let it=0,mt=ni.length;it<mt;it++)if(Kt=ni[it],W.format!==hd)if(null!==Sn)if(Y){if(Ee)if(W.layerUpdates.size>0){const on=bQ(Kt.width,Kt.height,W.format,W.type);for(const Xt of W.layerUpdates){const Wn=Kt.data.subarray(Xt*on/Kt.data.BYTES_PER_ELEMENT,(Xt+1)*on/Kt.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,Xt,Kt.width,Kt.height,1,Sn,Wn)}W.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,0,Kt.width,Kt.height,rt.depth,Sn,Kt.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,it,ei,Kt.width,Kt.height,rt.depth,0,Kt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Y?Ee&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,it,0,0,0,Kt.width,Kt.height,rt.depth,Sn,En,Kt.data):e.texImage3D(n.TEXTURE_2D_ARRAY,it,ei,Kt.width,Kt.height,rt.depth,0,Sn,En,Kt.data)}else{Y&&Fe&&e.texStorage2D(n.TEXTURE_2D,Ze,ei,ni[0].width,ni[0].height);for(let it=0,mt=ni.length;it<mt;it++)Kt=ni[it],W.format!==hd?null!==Sn?Y?Ee&&e.compressedTexSubImage2D(n.TEXTURE_2D,it,0,0,Kt.width,Kt.height,Sn,Kt.data):e.compressedTexImage2D(n.TEXTURE_2D,it,ei,Kt.width,Kt.height,0,Kt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Y?Ee&&e.texSubImage2D(n.TEXTURE_2D,it,0,0,Kt.width,Kt.height,Sn,En,Kt.data):e.texImage2D(n.TEXTURE_2D,it,ei,Kt.width,Kt.height,0,Sn,En,Kt.data)}else if(W.isDataArrayTexture)if(Y){if(Fe&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Ze,ei,rt.width,rt.height,rt.depth),Ee)if(W.layerUpdates.size>0){const it=bQ(rt.width,rt.height,W.format,W.type);for(const mt of W.layerUpdates){const on=rt.data.subarray(mt*it/rt.data.BYTES_PER_ELEMENT,(mt+1)*it/rt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,mt,rt.width,rt.height,1,Sn,En,on)}W.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,rt.width,rt.height,rt.depth,Sn,En,rt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,ei,rt.width,rt.height,rt.depth,0,Sn,En,rt.data);else if(W.isData3DTexture)Y?(Fe&&e.texStorage3D(n.TEXTURE_3D,Ze,ei,rt.width,rt.height,rt.depth),Ee&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,rt.width,rt.height,rt.depth,Sn,En,rt.data)):e.texImage3D(n.TEXTURE_3D,0,ei,rt.width,rt.height,rt.depth,0,Sn,En,rt.data);else if(W.isFramebufferTexture){if(Fe)if(Y)e.texStorage2D(n.TEXTURE_2D,Ze,ei,rt.width,rt.height);else{let it=rt.width,mt=rt.height;for(let on=0;on<Ze;on++)e.texImage2D(n.TEXTURE_2D,on,ei,it,mt,0,Sn,En,null),it>>=1,mt>>=1}}else if(ni.length>0){if(Y&&Fe){const it=re(ni[0]);e.texStorage2D(n.TEXTURE_2D,Ze,ei,it.width,it.height)}for(let it=0,mt=ni.length;it<mt;it++)Kt=ni[it],Y?Ee&&e.texSubImage2D(n.TEXTURE_2D,it,0,0,Sn,En,Kt):e.texImage2D(n.TEXTURE_2D,it,ei,Sn,En,Kt);W.generateMipmaps=!1}else if(Y){if(Fe){const it=re(rt);e.texStorage2D(n.TEXTURE_2D,Ze,ei,it.width,it.height)}Ee&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Sn,En,rt)}else e.texImage2D(n.TEXTURE_2D,0,ei,Sn,En,rt);g(W)&&A(ke),pt.__version=Qe.version,W.onUpdate&&W.onUpdate(W)}K.__version=W.version}function de(K,W,we,ke,Ve,Qe){const pt=s.convert(we.format,we.colorSpace),Bt=s.convert(we.type),yt=v(we.internalFormat,pt,Bt,we.colorSpace),Mn=i.get(W),rt=i.get(we);if(rt.__renderTarget=W,!Mn.__hasExternalTextures){const Sn=Math.max(1,W.width>>Qe),En=Math.max(1,W.height>>Qe);Ve===n.TEXTURE_3D||Ve===n.TEXTURE_2D_ARRAY?e.texImage3D(Ve,Qe,yt,Sn,En,W.depth,0,pt,Bt,null):e.texImage2D(Ve,Qe,yt,Sn,En,0,pt,Bt,null)}e.bindFramebuffer(n.FRAMEBUFFER,K),at(W)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ke,Ve,rt.__webglTexture,0,fe(W)):(Ve===n.TEXTURE_2D||Ve>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ke,Ve,rt.__webglTexture,Qe),e.bindFramebuffer(n.FRAMEBUFFER,null)}function he(K,W,we){if(n.bindRenderbuffer(n.RENDERBUFFER,K),W.depthBuffer){const ke=W.depthTexture,Qe=b(W.stencilBuffer,ke&&ke.isDepthTexture?ke.type:null),pt=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Bt=fe(W);at(W)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Bt,Qe,W.width,W.height):we?n.renderbufferStorageMultisample(n.RENDERBUFFER,Bt,Qe,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,Qe,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,pt,n.RENDERBUFFER,K)}else{const ke=W.textures;for(let Ve=0;Ve<ke.length;Ve++){const Qe=ke[Ve],pt=s.convert(Qe.format,Qe.colorSpace),Bt=s.convert(Qe.type),yt=v(Qe.internalFormat,pt,Bt,Qe.colorSpace),Mn=fe(W);we&&!1===at(W)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Mn,yt,W.width,W.height):at(W)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Mn,yt,W.width,W.height):n.renderbufferStorage(n.RENDERBUFFER,yt,W.width,W.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ie(K){const W=i.get(K),we=!0===K.isWebGLCubeRenderTarget;if(W.__boundDepthTexture!==K.depthTexture){const ke=K.depthTexture;if(W.__depthDisposeCallback&&W.__depthDisposeCallback(),ke){const Ve=()=>{delete W.__boundDepthTexture,delete W.__depthDisposeCallback,ke.removeEventListener("dispose",Ve)};ke.addEventListener("dispose",Ve),W.__depthDisposeCallback=Ve}W.__boundDepthTexture=ke}if(K.depthTexture&&!W.__autoAllocateDepthBuffer){if(we)throw new Error("target.depthTexture not supported in Cube render targets");!function ee(K,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,K),!W.depthTexture||!W.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const ke=i.get(W.depthTexture);ke.__renderTarget=W,(!ke.__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),z(W.depthTexture,0);const Ve=ke.__webglTexture,Qe=fe(W);if(W.depthTexture.format===ax)at(W)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ve,0,Qe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ve,0);else{if(W.depthTexture.format!==lx)throw new Error("Unknown depthTexture format");at(W)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ve,0,Qe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ve,0)}}(W.__webglFramebuffer,K)}else if(we){W.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)if(e.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer[ke]),void 0===W.__webglDepthbuffer[ke])W.__webglDepthbuffer[ke]=n.createRenderbuffer(),he(W.__webglDepthbuffer[ke],K,!1);else{const Ve=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Qe=W.__webglDepthbuffer[ke];n.bindRenderbuffer(n.RENDERBUFFER,Qe),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ve,n.RENDERBUFFER,Qe)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,W.__webglFramebuffer),void 0===W.__webglDepthbuffer)W.__webglDepthbuffer=n.createRenderbuffer(),he(W.__webglDepthbuffer,K,!1);else{const ke=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ve=W.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ve),n.framebufferRenderbuffer(n.FRAMEBUFFER,ke,n.RENDERBUFFER,Ve)}e.bindFramebuffer(n.FRAMEBUFFER,null)}const Ne=[],se=[];function fe(K){return Math.min(r.maxSamples,K.samples)}function at(K){const W=i.get(K);return K.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==W.__useRenderToTexture}function $e(K,W){const we=K.colorSpace,ke=K.format,Ve=K.type;return!0===K.isCompressedTexture||!0===K.isVideoTexture||we!==dx&&""!==we&&(Ds.getTransfer(we)===vo?(ke!==hd||Ve!==zA)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",we)),W}function re(K){return typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement?(c.width=K.naturalWidth||K.width,c.height=K.naturalHeight||K.height):typeof VideoFrame<"u"&&K instanceof VideoFrame?(c.width=K.displayWidth,c.height=K.displayHeight):(c.width=K.width,c.height=K.height),c}this.allocateTextureUnit=function L(){const K=M;return K>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+r.maxTextures),M+=1,K},this.resetTextureUnits=function F(){M=0},this.setTexture2D=z,this.setTexture2DArray=function O(K,W){const we=i.get(K);K.version>0&&we.__version!==K.version?H(we,K,W):e.bindTexture(n.TEXTURE_2D_ARRAY,we.__webglTexture,n.TEXTURE0+W)},this.setTexture3D=function G(K,W){const we=i.get(K);K.version>0&&we.__version!==K.version?H(we,K,W):e.bindTexture(n.TEXTURE_3D,we.__webglTexture,n.TEXTURE0+W)},this.setTextureCube=function j(K,W){const we=i.get(K);K.version>0&&we.__version!==K.version?function ae(K,W,we){if(6!==W.image.length)return;const ke=X(K,W),Ve=W.source;e.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture,n.TEXTURE0+we);const Qe=i.get(Ve);if(Ve.version!==Qe.__version||!0===ke){e.activeTexture(n.TEXTURE0+we);const pt=Ds.getPrimaries(Ds.workingColorSpace),Bt=""===W.colorSpace?null:Ds.getPrimaries(W.colorSpace),yt=""===W.colorSpace||pt===Bt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,W.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,W.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,yt);const Mn=W.isCompressedTexture||W.image[0].isCompressedTexture,rt=W.image[0]&&W.image[0].isDataTexture,Sn=[];for(let mt=0;mt<6;mt++)Sn[mt]=Mn||rt?rt?W.image[mt].image:W.image[mt]:m(W.image[mt],!0,r.maxCubemapSize),Sn[mt]=$e(W,Sn[mt]);const En=Sn[0],ei=s.convert(W.format,W.colorSpace),Kt=s.convert(W.type),ni=v(W.internalFormat,ei,Kt,W.colorSpace),Y=!0!==W.isVideoTexture,Fe=void 0===Qe.__version||!0===ke,Ee=Ve.dataReady;let it,Ze=w(W,En);if(R(n.TEXTURE_CUBE_MAP,W),Mn){Y&&Fe&&e.texStorage2D(n.TEXTURE_CUBE_MAP,Ze,ni,En.width,En.height);for(let mt=0;mt<6;mt++){it=Sn[mt].mipmaps;for(let on=0;on<it.length;on++){const Xt=it[on];W.format!==hd?null!==ei?Y?Ee&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on,0,0,Xt.width,Xt.height,ei,Xt.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on,ni,Xt.width,Xt.height,0,Xt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Y?Ee&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on,0,0,Xt.width,Xt.height,ei,Kt,Xt.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on,ni,Xt.width,Xt.height,0,ei,Kt,Xt.data)}}}else{if(it=W.mipmaps,Y&&Fe){it.length>0&&Ze++;const mt=re(Sn[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,Ze,ni,mt.width,mt.height)}for(let mt=0;mt<6;mt++)if(rt){Y?Ee&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,Sn[mt].width,Sn[mt].height,ei,Kt,Sn[mt].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,ni,Sn[mt].width,Sn[mt].height,0,ei,Kt,Sn[mt].data);for(let on=0;on<it.length;on++){const Wn=it[on].image[mt].image;Y?Ee&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on+1,0,0,Wn.width,Wn.height,ei,Kt,Wn.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on+1,ni,Wn.width,Wn.height,0,ei,Kt,Wn.data)}}else{Y?Ee&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,0,0,ei,Kt,Sn[mt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,0,ni,ei,Kt,Sn[mt]);for(let on=0;on<it.length;on++){const Xt=it[on];Y?Ee&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on+1,0,0,ei,Kt,Xt.image[mt]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+mt,on+1,ni,ei,Kt,Xt.image[mt])}}}g(W)&&A(n.TEXTURE_CUBE_MAP),Qe.__version=Ve.version,W.onUpdate&&W.onUpdate(W)}K.__version=W.version}(we,K,W):e.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture,n.TEXTURE0+W)},this.rebindTextures=function ge(K,W,we){const ke=i.get(K);void 0!==W&&de(ke.__webglFramebuffer,K,K.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==we&&ie(K)},this.setupRenderTarget=function Ce(K){const W=K.texture,we=i.get(K),ke=i.get(W);K.addEventListener("dispose",C);const Ve=K.textures,Qe=!0===K.isWebGLCubeRenderTarget,pt=Ve.length>1;if(pt||(void 0===ke.__webglTexture&&(ke.__webglTexture=n.createTexture()),ke.__version=W.version,o.memory.textures++),Qe){we.__webglFramebuffer=[];for(let Bt=0;Bt<6;Bt++)if(W.mipmaps&&W.mipmaps.length>0){we.__webglFramebuffer[Bt]=[];for(let yt=0;yt<W.mipmaps.length;yt++)we.__webglFramebuffer[Bt][yt]=n.createFramebuffer()}else we.__webglFramebuffer[Bt]=n.createFramebuffer()}else{if(W.mipmaps&&W.mipmaps.length>0){we.__webglFramebuffer=[];for(let Bt=0;Bt<W.mipmaps.length;Bt++)we.__webglFramebuffer[Bt]=n.createFramebuffer()}else we.__webglFramebuffer=n.createFramebuffer();if(pt)for(let Bt=0,yt=Ve.length;Bt<yt;Bt++){const Mn=i.get(Ve[Bt]);void 0===Mn.__webglTexture&&(Mn.__webglTexture=n.createTexture(),o.memory.textures++)}if(K.samples>0&&!1===at(K)){we.__webglMultisampledFramebuffer=n.createFramebuffer(),we.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,we.__webglMultisampledFramebuffer);for(let Bt=0;Bt<Ve.length;Bt++){const yt=Ve[Bt];we.__webglColorRenderbuffer[Bt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,we.__webglColorRenderbuffer[Bt]);const Mn=s.convert(yt.format,yt.colorSpace),rt=s.convert(yt.type),Sn=v(yt.internalFormat,Mn,rt,yt.colorSpace,!0===K.isXRRenderTarget),En=fe(K);n.renderbufferStorageMultisample(n.RENDERBUFFER,En,Sn,K.width,K.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Bt,n.RENDERBUFFER,we.__webglColorRenderbuffer[Bt])}n.bindRenderbuffer(n.RENDERBUFFER,null),K.depthBuffer&&(we.__webglDepthRenderbuffer=n.createRenderbuffer(),he(we.__webglDepthRenderbuffer,K,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Qe){e.bindTexture(n.TEXTURE_CUBE_MAP,ke.__webglTexture),R(n.TEXTURE_CUBE_MAP,W);for(let Bt=0;Bt<6;Bt++)if(W.mipmaps&&W.mipmaps.length>0)for(let yt=0;yt<W.mipmaps.length;yt++)de(we.__webglFramebuffer[Bt][yt],K,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Bt,yt);else de(we.__webglFramebuffer[Bt],K,W,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Bt,0);g(W)&&A(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(pt){for(let Bt=0,yt=Ve.length;Bt<yt;Bt++){const Mn=Ve[Bt],rt=i.get(Mn);e.bindTexture(n.TEXTURE_2D,rt.__webglTexture),R(n.TEXTURE_2D,Mn),de(we.__webglFramebuffer,K,Mn,n.COLOR_ATTACHMENT0+Bt,n.TEXTURE_2D,0),g(Mn)&&A(n.TEXTURE_2D)}e.unbindTexture()}else{let Bt=n.TEXTURE_2D;if((K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(Bt=K.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(Bt,ke.__webglTexture),R(Bt,W),W.mipmaps&&W.mipmaps.length>0)for(let yt=0;yt<W.mipmaps.length;yt++)de(we.__webglFramebuffer[yt],K,W,n.COLOR_ATTACHMENT0,Bt,yt);else de(we.__webglFramebuffer,K,W,n.COLOR_ATTACHMENT0,Bt,0);g(W)&&A(Bt),e.unbindTexture()}K.depthBuffer&&ie(K)},this.updateRenderTargetMipmap=function ve(K){const W=K.textures;for(let we=0,ke=W.length;we<ke;we++){const Ve=W[we];if(g(Ve)){const Qe=_(K),pt=i.get(Ve).__webglTexture;e.bindTexture(Qe,pt),A(Qe),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function Oe(K){if(K.samples>0)if(!1===at(K)){const W=K.textures,we=K.width,ke=K.height;let Ve=n.COLOR_BUFFER_BIT;const Qe=K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,pt=i.get(K),Bt=W.length>1;if(Bt)for(let yt=0;yt<W.length;yt++)e.bindFramebuffer(n.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,pt.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,pt.__webglFramebuffer);for(let yt=0;yt<W.length;yt++){if(K.resolveDepthBuffer&&(K.depthBuffer&&(Ve|=n.DEPTH_BUFFER_BIT),K.stencilBuffer&&K.resolveStencilBuffer&&(Ve|=n.STENCIL_BUFFER_BIT)),Bt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,pt.__webglColorRenderbuffer[yt]);const Mn=i.get(W[yt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Mn,0)}n.blitFramebuffer(0,0,we,ke,0,0,we,ke,Ve,n.NEAREST),!0===l&&(Ne.length=0,se.length=0,Ne.push(n.COLOR_ATTACHMENT0+yt),K.depthBuffer&&!1===K.resolveDepthBuffer&&(Ne.push(Qe),se.push(Qe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,se)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Ne))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Bt)for(let yt=0;yt<W.length;yt++){e.bindFramebuffer(n.FRAMEBUFFER,pt.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.RENDERBUFFER,pt.__webglColorRenderbuffer[yt]);const Mn=i.get(W[yt]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,pt.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+yt,n.TEXTURE_2D,Mn,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,pt.__webglMultisampledFramebuffer)}else K.depthBuffer&&!1===K.resolveDepthBuffer&&l&&n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[K.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT])},this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=de,this.useMultisampledRTT=at}function Yet(n,t){return{convert:function e(i,r=""){let s;const o=Ds.getTransfer(r);if(i===zA)return n.UNSIGNED_BYTE;if(i===Cz)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Sz)return n.UNSIGNED_SHORT_5_5_5_1;if(i===Qle)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===Vle)return n.BYTE;if(i===zle)return n.SHORT;if(i===XD)return n.UNSIGNED_SHORT;if(i===xz)return n.INT;if(i===Qv)return n.UNSIGNED_INT;if(i===hh)return n.FLOAT;if(i===YD)return n.HALF_FLOAT;if(i===Gle)return n.ALPHA;if(i===jle)return n.RGB;if(i===hd)return n.RGBA;if(i===qle)return n.LUMINANCE;if(i===Wle)return n.LUMINANCE_ALPHA;if(i===ax)return n.DEPTH_COMPONENT;if(i===lx)return n.DEPTH_STENCIL;if(i===Ez)return n.RED;if(i===rO)return n.RED_INTEGER;if(i===$le)return n.RG;if(i===Dz)return n.RG_INTEGER;if(i===Mz)return n.RGBA_INTEGER;if(i===sO||i===oO||i===aO||i===lO)if(o===vo){if(s=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===s)return null;if(i===sO)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===oO)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===aO)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===lO)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(s=t.get("WEBGL_compressed_texture_s3tc"),null===s)return null;if(i===sO)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===oO)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===aO)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===lO)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(i===Tz||i===Nz||i===Iz||i===Bz){if(s=t.get("WEBGL_compressed_texture_pvrtc"),null===s)return null;if(i===Tz)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Nz)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Iz)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Bz)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(i===Fz||i===Pz||i===Oz){if(s=t.get("WEBGL_compressed_texture_etc"),null===s)return null;if(i===Fz||i===Pz)return o===vo?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Oz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}if(i===Rz||i===kz||i===Lz||i===Uz||i===Hz||i===Vz||i===zz||i===Qz||i===Gz||i===jz||i===qz||i===Wz||i===$z||i===Kz){if(s=t.get("WEBGL_compressed_texture_astc"),null===s)return null;if(i===Rz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===kz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Lz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Uz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Hz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Vz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===zz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Qz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Gz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===jz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===qz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Wz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===$z)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Kz)return o===vo?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}if(i===cO||i===Xz||i===Yz){if(s=t.get("EXT_texture_compression_bptc"),null===s)return null;if(i===cO)return o===vo?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Xz)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Yz)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(i===Kle||i===Zz||i===Jz||i===e7){if(s=t.get("EXT_texture_compression_rgtc"),null===s)return null;if(i===cO)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Zz)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Jz)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===e7)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return i===ox?n.UNSIGNED_INT_24_8:void 0!==n[i]?n[i]:null}}}const Zet={type:"move"};class IQ{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new fM,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new fM,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new fM,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState){if(c&&t.hand){o=!0;for(const m of t.hand.values()){const g=e.getJointPose(m,i),A=this._getHandJoint(c,m);null!==g&&(A.matrix.fromArray(g.transform.matrix),A.matrix.decompose(A.position,A.rotation,A.scale),A.matrixWorldNeedsUpdate=!0,A.jointRadius=g.radius),A.visible=null!==g}const f=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==l&&t.gripSpace&&(s=e.getPose(t.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=e.getPose(t.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Zet)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(t,e){if(void 0===t.joints[e.jointName]){const i=new fM;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class ttt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(null===this.texture){const r=new fd;t.properties.get(r).__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(t){if(null!==this.texture&&null===this.mesh){const e=t.cameras[0].viewport,i=new Tm({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new Ja(new _M(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ntt extends QA{constructor(t,e){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,p=null;const m=new ttt,g=e.getContextAttributes();let A=null,_=null;const v=[],b=[],w=new Yt;let y=null;const C=new Dc;C.viewport=new Os;const D=new Dc;D.viewport=new Os;const S=[C,D],T=new _Xe;let M=null,F=null;function L(H){const ae=b.indexOf(H.inputSource);if(-1===ae)return;const de=v[ae];void 0!==de&&(de.update(H.inputSource,H.frame,c||o),de.dispatchEvent({type:H.type,data:H.inputSource}))}function U(){r.removeEventListener("select",L),r.removeEventListener("selectstart",L),r.removeEventListener("selectend",L),r.removeEventListener("squeeze",L),r.removeEventListener("squeezestart",L),r.removeEventListener("squeezeend",L),r.removeEventListener("end",U),r.removeEventListener("inputsourceschange",z);for(let H=0;H<v.length;H++){const ae=b[H];null!==ae&&(b[H]=null,v[H].disconnect(ae))}M=null,F=null,m.reset(),t.setRenderTarget(A),h=null,f=null,d=null,r=null,_=null,X.stop(),i.isPresenting=!1,t.setPixelRatio(y),t.setSize(w.width,w.height,!1),i.dispatchEvent({type:"sessionend"})}function z(H){for(let ae=0;ae<H.removed.length;ae++){const de=H.removed[ae],he=b.indexOf(de);he>=0&&(b[he]=null,v[he].disconnect(de))}for(let ae=0;ae<H.added.length;ae++){const de=H.added[ae];let he=b.indexOf(de);if(-1===he){for(let ie=0;ie<v.length;ie++){if(ie>=b.length){b.push(de),he=ie;break}if(null===b[ie]){b[ie]=de,he=ie;break}}if(-1===he)break}const ee=v[he];ee&&ee.connect(de)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(H){let ae=v[H];return void 0===ae&&(ae=new IQ,v[H]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(H){let ae=v[H];return void 0===ae&&(ae=new IQ,v[H]=ae),ae.getGripSpace()},this.getHand=function(H){let ae=v[H];return void 0===ae&&(ae=new IQ,v[H]=ae),ae.getHandSpace()},this.setFramebufferScaleFactor=function(H){s=H,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(H){a=H,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(H){c=H},this.getBaseLayer=function(){return null!==f?f:h},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var H=(0,Tt.A)(function*(ae){if(r=ae,null!==r){if(A=t.getRenderTarget(),r.addEventListener("select",L),r.addEventListener("selectstart",L),r.addEventListener("selectend",L),r.addEventListener("squeeze",L),r.addEventListener("squeezestart",L),r.addEventListener("squeezeend",L),r.addEventListener("end",U),r.addEventListener("inputsourceschange",z),!0!==g.xrCompatible&&(yield e.makeXRCompatible()),y=t.getPixelRatio(),t.getSize(w),void 0!==r.enabledFeatures&&r.enabledFeatures.includes("layers")){let he=null,ee=null,ie=null;g.depth&&(ie=g.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,he=g.stencil?lx:ax,ee=g.stencil?ox:Qv);const ge={colorFormat:e.RGBA8,depthFormat:ie,scaleFactor:s};d=new XRWebGLBinding(r,e),f=d.createProjectionLayer(ge),r.updateRenderState({layers:[f]}),t.setPixelRatio(1),t.setSize(f.textureWidth,f.textureHeight,!1),_=new jA(f.textureWidth,f.textureHeight,{format:hd,type:zA,depthTexture:new qce(f.textureWidth,f.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,he),stencilBuffer:g.stencil,colorSpace:t.outputColorSpace,samples:g.antialias?4:0,resolveDepthBuffer:!1===f.ignoreDepthValues})}else h=new XRWebGLLayer(r,e,{antialias:g.antialias,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:h}),t.setPixelRatio(1),t.setSize(h.framebufferWidth,h.framebufferHeight,!1),_=new jA(h.framebufferWidth,h.framebufferHeight,{format:hd,type:zA,colorSpace:t.outputColorSpace,stencilBuffer:g.stencil});_.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),X.setContext(r),X.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(ae){return H.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};const O=new Re,G=new Re;function J(H,ae){null===ae?H.matrixWorld.copy(H.matrix):H.matrixWorld.multiplyMatrices(ae.matrixWorld,H.matrix),H.matrixWorldInverse.copy(H.matrixWorld).invert()}this.updateCamera=function(H){if(null===r)return;let ae=H.near,de=H.far;null!==m.texture&&(m.depthNear>0&&(ae=m.depthNear),m.depthFar>0&&(de=m.depthFar)),T.near=D.near=C.near=ae,T.far=D.far=C.far=de,(M!==T.near||F!==T.far)&&(r.updateRenderState({depthNear:T.near,depthFar:T.far}),M=T.near,F=T.far),C.layers.mask=2|H.layers.mask,D.layers.mask=4|H.layers.mask,T.layers.mask=C.layers.mask|D.layers.mask;const he=H.parent,ee=T.cameras;J(T,he);for(let ie=0;ie<ee.length;ie++)J(ee[ie],he);2===ee.length?function j(H,ae,de){O.setFromMatrixPosition(ae.matrixWorld),G.setFromMatrixPosition(de.matrixWorld);const he=O.distanceTo(G),ee=ae.projectionMatrix.elements,ie=de.projectionMatrix.elements,ge=ee[14]/(ee[10]-1),Ce=ee[14]/(ee[10]+1),ve=(ee[9]+1)/ee[5],Ne=(ee[9]-1)/ee[5],se=(ee[8]-1)/ee[0],Oe=(ie[8]+1)/ie[0],fe=ge*se,at=ge*Oe,Ge=he/(-se+Oe),$e=Ge*-se;if(ae.matrixWorld.decompose(H.position,H.quaternion,H.scale),H.translateX($e),H.translateZ(Ge),H.matrixWorld.compose(H.position,H.quaternion,H.scale),H.matrixWorldInverse.copy(H.matrixWorld).invert(),-1===ee[10])H.projectionMatrix.copy(ae.projectionMatrix),H.projectionMatrixInverse.copy(ae.projectionMatrixInverse);else{const re=ge+Ge,K=Ce+Ge;H.projectionMatrix.makePerspective(fe-$e,at+(he-$e),ve*Ce/K*re,Ne*Ce/K*re,re,K),H.projectionMatrixInverse.copy(H.projectionMatrix).invert()}}(T,C,D):T.projectionMatrix.copy(C.projectionMatrix),function le(H,ae,de){null===de?H.matrix.copy(ae.matrixWorld):(H.matrix.copy(de.matrixWorld),H.matrix.invert(),H.matrix.multiply(ae.matrixWorld)),H.matrix.decompose(H.position,H.quaternion,H.scale),H.updateMatrixWorld(!0),H.projectionMatrix.copy(ae.projectionMatrix),H.projectionMatrixInverse.copy(ae.projectionMatrixInverse),H.isPerspectiveCamera&&(H.fov=2*fx*Math.atan(1/H.projectionMatrix.elements[5]),H.zoom=1)}(H,T,he)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==f||null!==h)return l},this.setFoveation=function(H){l=H,null!==f&&(f.fixedFoveation=H),null!==h&&void 0!==h.fixedFoveation&&(h.fixedFoveation=H)},this.hasDepthSensing=function(){return null!==m.texture},this.getDepthSensingMesh=function(){return m.getMesh(T)};let ye=null;const X=new que;X.setAnimationLoop(function R(H,ae){if(u=ae.getViewerPose(c||o),p=ae,null!==u){const de=u.views;null!==h&&(t.setRenderTargetFramebuffer(_,h.framebuffer),t.setRenderTarget(_));let he=!1;de.length!==T.cameras.length&&(T.cameras.length=0,he=!0);for(let ie=0;ie<de.length;ie++){const ge=de[ie];let Ce=null;if(null!==h)Ce=h.getViewport(ge);else{const Ne=d.getViewSubImage(f,ge);Ce=Ne.viewport,0===ie&&(t.setRenderTargetTextures(_,Ne.colorTexture,f.ignoreDepthValues?void 0:Ne.depthStencilTexture),t.setRenderTarget(_))}let ve=S[ie];void 0===ve&&(ve=new Dc,ve.layers.enable(ie),ve.viewport=new Os,S[ie]=ve),ve.matrix.fromArray(ge.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(ge.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(Ce.x,Ce.y,Ce.width,Ce.height),0===ie&&(T.matrix.copy(ve.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===he&&T.cameras.push(ve)}const ee=r.enabledFeatures;if(ee&&ee.includes("depth-sensing")){const ie=d.getDepthInformation(de[0]);ie&&ie.isValid&&ie.texture&&m.init(t,ie,r.renderState)}}for(let de=0;de<v.length;de++){const he=b[de],ee=v[de];null!==he&&void 0!==ee&&ee.update(he,ae,c||o)}ye&&ye(H,ae),ae.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:ae}),p=null}),this.setAnimationLoop=function(H){ye=H},this.dispose=function(){}}}const Qb=new $A,itt=new Zi;function rtt(n,t){function e(g,A){!0===g.matrixAutoUpdate&&g.updateMatrix(),A.value.copy(g.matrix)}function s(g,A){g.opacity.value=A.opacity,A.color&&g.diffuse.value.copy(A.color),A.emissive&&g.emissive.value.copy(A.emissive).multiplyScalar(A.emissiveIntensity),A.map&&(g.map.value=A.map,e(A.map,g.mapTransform)),A.alphaMap&&(g.alphaMap.value=A.alphaMap,e(A.alphaMap,g.alphaMapTransform)),A.bumpMap&&(g.bumpMap.value=A.bumpMap,e(A.bumpMap,g.bumpMapTransform),g.bumpScale.value=A.bumpScale,1===A.side&&(g.bumpScale.value*=-1)),A.normalMap&&(g.normalMap.value=A.normalMap,e(A.normalMap,g.normalMapTransform),g.normalScale.value.copy(A.normalScale),1===A.side&&g.normalScale.value.negate()),A.displacementMap&&(g.displacementMap.value=A.displacementMap,e(A.displacementMap,g.displacementMapTransform),g.displacementScale.value=A.displacementScale,g.displacementBias.value=A.displacementBias),A.emissiveMap&&(g.emissiveMap.value=A.emissiveMap,e(A.emissiveMap,g.emissiveMapTransform)),A.specularMap&&(g.specularMap.value=A.specularMap,e(A.specularMap,g.specularMapTransform)),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest);const _=t.get(A),v=_.envMap,b=_.envMapRotation;v&&(g.envMap.value=v,Qb.copy(b),Qb.x*=-1,Qb.y*=-1,Qb.z*=-1,v.isCubeTexture&&!1===v.isRenderTargetTexture&&(Qb.y*=-1,Qb.z*=-1),g.envMapRotation.value.setFromMatrix4(itt.makeRotationFromEuler(Qb)),g.flipEnvMap.value=v.isCubeTexture&&!1===v.isRenderTargetTexture?-1:1,g.reflectivity.value=A.reflectivity,g.ior.value=A.ior,g.refractionRatio.value=A.refractionRatio),A.lightMap&&(g.lightMap.value=A.lightMap,g.lightMapIntensity.value=A.lightMapIntensity,e(A.lightMap,g.lightMapTransform)),A.aoMap&&(g.aoMap.value=A.aoMap,g.aoMapIntensity.value=A.aoMapIntensity,e(A.aoMap,g.aoMapTransform))}return{refreshFogUniforms:function i(g,A){A.color.getRGB(g.fogColor.value,bce(n)),A.isFog?(g.fogNear.value=A.near,g.fogFar.value=A.far):A.isFogExp2&&(g.fogDensity.value=A.density)},refreshMaterialUniforms:function r(g,A,_,v,b){A.isMeshBasicMaterial||A.isMeshLambertMaterial?s(g,A):A.isMeshToonMaterial?(s(g,A),function d(g,A){A.gradientMap&&(g.gradientMap.value=A.gradientMap)}(g,A)):A.isMeshPhongMaterial?(s(g,A),function u(g,A){g.specular.value.copy(A.specular),g.shininess.value=Math.max(A.shininess,1e-4)}(g,A)):A.isMeshStandardMaterial?(s(g,A),function f(g,A){g.metalness.value=A.metalness,A.metalnessMap&&(g.metalnessMap.value=A.metalnessMap,e(A.metalnessMap,g.metalnessMapTransform)),g.roughness.value=A.roughness,A.roughnessMap&&(g.roughnessMap.value=A.roughnessMap,e(A.roughnessMap,g.roughnessMapTransform)),A.envMap&&(g.envMapIntensity.value=A.envMapIntensity)}(g,A),A.isMeshPhysicalMaterial&&function h(g,A,_){g.ior.value=A.ior,A.sheen>0&&(g.sheenColor.value.copy(A.sheenColor).multiplyScalar(A.sheen),g.sheenRoughness.value=A.sheenRoughness,A.sheenColorMap&&(g.sheenColorMap.value=A.sheenColorMap,e(A.sheenColorMap,g.sheenColorMapTransform)),A.sheenRoughnessMap&&(g.sheenRoughnessMap.value=A.sheenRoughnessMap,e(A.sheenRoughnessMap,g.sheenRoughnessMapTransform))),A.clearcoat>0&&(g.clearcoat.value=A.clearcoat,g.clearcoatRoughness.value=A.clearcoatRoughness,A.clearcoatMap&&(g.clearcoatMap.value=A.clearcoatMap,e(A.clearcoatMap,g.clearcoatMapTransform)),A.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=A.clearcoatRoughnessMap,e(A.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),A.clearcoatNormalMap&&(g.clearcoatNormalMap.value=A.clearcoatNormalMap,e(A.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(A.clearcoatNormalScale),1===A.side&&g.clearcoatNormalScale.value.negate())),A.dispersion>0&&(g.dispersion.value=A.dispersion),A.iridescence>0&&(g.iridescence.value=A.iridescence,g.iridescenceIOR.value=A.iridescenceIOR,g.iridescenceThicknessMinimum.value=A.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=A.iridescenceThicknessRange[1],A.iridescenceMap&&(g.iridescenceMap.value=A.iridescenceMap,e(A.iridescenceMap,g.iridescenceMapTransform)),A.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=A.iridescenceThicknessMap,e(A.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),A.transmission>0&&(g.transmission.value=A.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),A.transmissionMap&&(g.transmissionMap.value=A.transmissionMap,e(A.transmissionMap,g.transmissionMapTransform)),g.thickness.value=A.thickness,A.thicknessMap&&(g.thicknessMap.value=A.thicknessMap,e(A.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=A.attenuationDistance,g.attenuationColor.value.copy(A.attenuationColor)),A.anisotropy>0&&(g.anisotropyVector.value.set(A.anisotropy*Math.cos(A.anisotropyRotation),A.anisotropy*Math.sin(A.anisotropyRotation)),A.anisotropyMap&&(g.anisotropyMap.value=A.anisotropyMap,e(A.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=A.specularIntensity,g.specularColor.value.copy(A.specularColor),A.specularColorMap&&(g.specularColorMap.value=A.specularColorMap,e(A.specularColorMap,g.specularColorMapTransform)),A.specularIntensityMap&&(g.specularIntensityMap.value=A.specularIntensityMap,e(A.specularIntensityMap,g.specularIntensityMapTransform))}(g,A,b)):A.isMeshMatcapMaterial?(s(g,A),function p(g,A){A.matcap&&(g.matcap.value=A.matcap)}(g,A)):A.isMeshDepthMaterial?s(g,A):A.isMeshDistanceMaterial?(s(g,A),function m(g,A){const _=t.get(A).light;g.referencePosition.value.setFromMatrixPosition(_.matrixWorld),g.nearDistance.value=_.shadow.camera.near,g.farDistance.value=_.shadow.camera.far}(g,A)):A.isMeshNormalMaterial?s(g,A):A.isLineBasicMaterial?(function o(g,A){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity,A.map&&(g.map.value=A.map,e(A.map,g.mapTransform))}(g,A),A.isLineDashedMaterial&&function a(g,A){g.dashSize.value=A.dashSize,g.totalSize.value=A.dashSize+A.gapSize,g.scale.value=A.scale}(g,A)):A.isPointsMaterial?function l(g,A,_,v){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity,g.size.value=A.size*_,g.scale.value=.5*v,A.map&&(g.map.value=A.map,e(A.map,g.uvTransform)),A.alphaMap&&(g.alphaMap.value=A.alphaMap,e(A.alphaMap,g.alphaMapTransform)),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest)}(g,A,_,v):A.isSpriteMaterial?function c(g,A){g.diffuse.value.copy(A.color),g.opacity.value=A.opacity,g.rotation.value=A.rotation,A.map&&(g.map.value=A.map,e(A.map,g.mapTransform)),A.alphaMap&&(g.alphaMap.value=A.alphaMap,e(A.alphaMap,g.alphaMapTransform)),A.alphaTest>0&&(g.alphaTest.value=A.alphaTest)}(g,A):A.isShadowMaterial?(g.color.value.copy(A.color),g.opacity.value=A.opacity):A.isShaderMaterial&&(A.uniformsNeedUpdate=!1)}}}function stt(n,t,e,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function h(_,v,b,w){const y=_.value,C=v+"_"+b;if(void 0===w[C])return w[C]="number"==typeof y||"boolean"==typeof y?y:y.clone(),!0;{const D=w[C];if("number"==typeof y||"boolean"==typeof y){if(D!==y)return w[C]=y,!0}else if(!1===D.equals(y))return D.copy(y),!0}return!1}function m(_){const v={boundary:0,storage:0};return"number"==typeof _||"boolean"==typeof _?(v.boundary=4,v.storage=4):_.isVector2?(v.boundary=8,v.storage=8):_.isVector3||_.isColor?(v.boundary=16,v.storage=12):_.isVector4?(v.boundary=16,v.storage=16):_.isMatrix3?(v.boundary=48,v.storage=48):_.isMatrix4?(v.boundary=64,v.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),v}function g(_){const v=_.target;v.removeEventListener("dispose",g);const b=o.indexOf(v.__bindingPointIndex);o.splice(b,1),n.deleteBuffer(r[v.id]),delete r[v.id],delete s[v.id]}return{bind:function l(_,v){i.uniformBlockBinding(_,v.program)},update:function c(_,v){let b=r[_.id];void 0===b&&(function p(_){const v=_.uniforms;let b=0;for(let C=0,D=v.length;C<D;C++){const S=Array.isArray(v[C])?v[C]:[v[C]];for(let T=0,M=S.length;T<M;T++){const F=S[T],L=Array.isArray(F.value)?F.value:[F.value];for(let U=0,z=L.length;U<z;U++){const G=m(L[U]),j=b%16,J=j%G.boundary,le=j+J;b+=J,0!==le&&16-le<G.storage&&(b+=16-le),F.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=b,b+=G.storage}}}const y=b%16;y>0&&(b+=16-y),_.__size=b,_.__cache={}}(_),b=function u(_){const v=function d(){for(let _=0;_<a;_++)if(-1===o.indexOf(_))return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();_.__bindingPointIndex=v;const b=n.createBuffer(),w=_.__size,y=_.usage;return n.bindBuffer(n.UNIFORM_BUFFER,b),n.bufferData(n.UNIFORM_BUFFER,w,y),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,v,b),b}(_),r[_.id]=b,_.addEventListener("dispose",g)),i.updateUBOMapping(_,v.program);const y=t.render.frame;s[_.id]!==y&&(function f(_){const b=_.uniforms,w=_.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[_.id]);for(let y=0,C=b.length;y<C;y++){const D=Array.isArray(b[y])?b[y]:[b[y]];for(let S=0,T=D.length;S<T;S++){const M=D[S];if(!0===h(M,y,S,w)){const F=M.__offset,L=Array.isArray(M.value)?M.value:[M.value];let U=0;for(let z=0;z<L.length;z++){const O=L[z],G=m(O);"number"==typeof O||"boolean"==typeof O?(M.__data[0]=O,n.bufferSubData(n.UNIFORM_BUFFER,F+U,M.__data)):O.isMatrix3?(M.__data[0]=O.elements[0],M.__data[1]=O.elements[1],M.__data[2]=O.elements[2],M.__data[3]=0,M.__data[4]=O.elements[3],M.__data[5]=O.elements[4],M.__data[6]=O.elements[5],M.__data[7]=0,M.__data[8]=O.elements[6],M.__data[9]=O.elements[7],M.__data[10]=O.elements[8],M.__data[11]=0):(O.toArray(M.__data,U),U+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,F,M.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(_),s[_.id]=y)},dispose:function A(){for(const _ in r)n.deleteBuffer(r[_]);o=[],r={},s={}}}}class ott{constructor(t={}){const{canvas:e=b$e(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reverseDepthBuffer:f=!1}=t;let h;if(this.isWebGLRenderer=!0,null!==i){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=i.getContextAttributes().alpha}else h=o;const p=new Uint32Array(4),m=new Int32Array(4);let g=null,A=null;const _=[],v=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fh,this.toneMapping=Vv,this.toneMappingExposure=1;const b=this;let w=!1,y=0,C=0,D=null,S=-1,T=null;const M=new Os,F=new Os;let L=null;const U=new Jn(0);let z=0,O=e.width,G=e.height,j=1,J=null,le=null;const ye=new Os(0,0,O,G),R=new Os(0,0,O,G);let X=!1;const H=new HO;let ae=!1,de=!1;this.transmissionResolutionScale=1;const he=new Zi,ee=new Zi,ie=new Re,ge=new Os,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ve=!1;function Ne(){return null===D?j:1}let fe,at,Ge,$e,re,K,W,we,ke,Ve,Qe,pt,Bt,yt,Mn,rt,Sn,En,ei,Kt,ni,Y,Fe,Ee,se=i;function Oe(Te,nt){return e.getContext(Te,nt)}try{const Te={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in e&&e.setAttribute("data-engine","three.js r172"),e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",on,!1),e.addEventListener("webglcontextcreationerror",Xt,!1),null===se){const nt="webgl2";if(se=Oe(nt,Te),null===se)throw Oe(nt)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}function Ze(){fe=new fJe(se),fe.init(),Y=new Yet(se,fe),at=new aJe(se,fe,t,Y),Ge=new Ket(se,fe),at.reverseDepthBuffer&&f&&Ge.buffers.depth.setReversed(!0),$e=new AJe(se),re=new Ret,K=new Xet(se,fe,Ge,re,at,Y,$e),W=new cJe(b),we=new hJe(b),ke=new iYe(se),Fe=new sJe(se,ke),Ve=new pJe(se,ke,$e,Fe),Qe=new vJe(se,Ve,ke,$e),ei=new gJe(se,at,K),rt=new lJe(re),pt=new Oet(b,W,we,fe,at,Fe,rt),Bt=new rtt(b,re),yt=new Let,Mn=new Get(fe),En=new rJe(b,W,we,Ge,Qe,h,l),Sn=new Wet(b,Qe,at),Ee=new stt(se,$e,at,Ge),Kt=new oJe(se,fe,$e),ni=new mJe(se,fe,$e),$e.programs=pt.programs,b.capabilities=at,b.extensions=fe,b.properties=re,b.renderLists=yt,b.shadowMap=Sn,b.state=Ge,b.info=$e}Ze();const it=new ntt(b,se);function mt(Te){Te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function on(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const Te=$e.autoReset,nt=Sn.enabled,bt=Sn.autoUpdate,wt=Sn.needsUpdate,ot=Sn.type;Ze(),$e.autoReset=Te,Sn.enabled=nt,Sn.autoUpdate=bt,Sn.needsUpdate=wt,Sn.type=ot}function Xt(Te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Te.statusMessage)}function Wn(Te){const nt=Te.target;nt.removeEventListener("dispose",Wn),function Xs(Te){(function bs(Te){const nt=re.get(Te).programs;void 0!==nt&&(nt.forEach(function(bt){pt.releaseProgram(bt)}),Te.isShaderMaterial&&pt.releaseShaderCache(Te))})(Te),re.remove(Te)}(nt)}function kr(Te,nt,bt){!0===Te.transparent&&2===Te.side&&!1===Te.forceSinglePass?(Te.side=1,Te.needsUpdate=!0,au(Te,nt,bt),Te.side=0,Te.needsUpdate=!0,au(Te,nt,bt),Te.side=2):au(Te,nt,bt)}this.xr=it,this.getContext=function(){return se},this.getContextAttributes=function(){return se.getContextAttributes()},this.forceContextLoss=function(){const Te=fe.get("WEBGL_lose_context");Te&&Te.loseContext()},this.forceContextRestore=function(){const Te=fe.get("WEBGL_lose_context");Te&&Te.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(Te){void 0!==Te&&(j=Te,this.setSize(O,G,!1))},this.getSize=function(Te){return Te.set(O,G)},this.setSize=function(Te,nt,bt=!0){it.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(O=Te,G=nt,e.width=Math.floor(Te*j),e.height=Math.floor(nt*j),!0===bt&&(e.style.width=Te+"px",e.style.height=nt+"px"),this.setViewport(0,0,Te,nt))},this.getDrawingBufferSize=function(Te){return Te.set(O*j,G*j).floor()},this.setDrawingBufferSize=function(Te,nt,bt){O=Te,G=nt,j=bt,e.width=Math.floor(Te*bt),e.height=Math.floor(nt*bt),this.setViewport(0,0,Te,nt)},this.getCurrentViewport=function(Te){return Te.copy(M)},this.getViewport=function(Te){return Te.copy(ye)},this.setViewport=function(Te,nt,bt,wt){Te.isVector4?ye.set(Te.x,Te.y,Te.z,Te.w):ye.set(Te,nt,bt,wt),Ge.viewport(M.copy(ye).multiplyScalar(j).round())},this.getScissor=function(Te){return Te.copy(R)},this.setScissor=function(Te,nt,bt,wt){Te.isVector4?R.set(Te.x,Te.y,Te.z,Te.w):R.set(Te,nt,bt,wt),Ge.scissor(F.copy(R).multiplyScalar(j).round())},this.getScissorTest=function(){return X},this.setScissorTest=function(Te){Ge.setScissorTest(X=Te)},this.setOpaqueSort=function(Te){J=Te},this.setTransparentSort=function(Te){le=Te},this.getClearColor=function(Te){return Te.copy(En.getClearColor())},this.setClearColor=function(){En.setClearColor.apply(En,arguments)},this.getClearAlpha=function(){return En.getClearAlpha()},this.setClearAlpha=function(){En.setClearAlpha.apply(En,arguments)},this.clear=function(Te=!0,nt=!0,bt=!0){let wt=0;if(Te){let ot=!1;if(null!==D){const hn=D.texture.format;ot=hn===Mz||hn===Dz||hn===rO}if(ot){const hn=D.texture.type,Bn=hn===zA||hn===Qv||hn===XD||hn===ox||hn===Cz||hn===Sz,ii=En.getClearColor(),Kn=En.getClearAlpha(),qi=ii.r,Wi=ii.g,Si=ii.b;Bn?(p[0]=qi,p[1]=Wi,p[2]=Si,p[3]=Kn,se.clearBufferuiv(se.COLOR,0,p)):(m[0]=qi,m[1]=Wi,m[2]=Si,m[3]=Kn,se.clearBufferiv(se.COLOR,0,m))}else wt|=se.COLOR_BUFFER_BIT}nt&&(wt|=se.DEPTH_BUFFER_BIT),bt&&(wt|=se.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),se.clear(wt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",on,!1),e.removeEventListener("webglcontextcreationerror",Xt,!1),En.dispose(),yt.dispose(),Mn.dispose(),re.dispose(),W.dispose(),we.dispose(),Qe.dispose(),Fe.dispose(),Ee.dispose(),pt.dispose(),it.dispose(),it.removeEventListener("sessionstart",Sd),it.removeEventListener("sessionend",wh),Oa.stop()},this.renderBufferDirect=function(Te,nt,bt,wt,ot,hn){null===nt&&(nt=Ce);const Bn=ot.isMesh&&ot.matrixWorld.determinant()<0,ii=function xf(Te,nt,bt,wt,ot){!0!==nt.isScene&&(nt=Ce),K.resetTextureUnits();const hn=nt.fog,ii=null===D?b.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:dx,Kn=(wt.isMeshStandardMaterial?we:W).get(wt.envMap||(wt.isMeshStandardMaterial?nt.environment:null)),qi=!0===wt.vertexColors&&!!bt.attributes.color&&4===bt.attributes.color.itemSize,Wi=!!bt.attributes.tangent&&(!!wt.normalMap||wt.anisotropy>0),Si=!!bt.morphAttributes.position,Er=!!bt.morphAttributes.normal,Ms=!!bt.morphAttributes.color;let lr=Vv;wt.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(lr=b.toneMapping);const Po=bt.morphAttributes.position||bt.morphAttributes.normal||bt.morphAttributes.color,es=void 0!==Po?Po.length:0,wi=re.get(wt),va=A.state.lights;!0!==ae||!0!==de&&Te===T||rt.setState(wt,Te,Te===T&&wt.id===S);let ys=!1;wt.version===wi.__version?(wi.needsLights&&wi.lightsStateVersion!==va.state.version||wi.outputColorSpace!==ii||ot.isBatchedMesh&&!1===wi.batching||!ot.isBatchedMesh&&!0===wi.batching||ot.isBatchedMesh&&!0===wi.batchingColor&&null===ot.colorTexture||ot.isBatchedMesh&&!1===wi.batchingColor&&null!==ot.colorTexture||ot.isInstancedMesh&&!1===wi.instancing||!ot.isInstancedMesh&&!0===wi.instancing||ot.isSkinnedMesh&&!1===wi.skinning||!ot.isSkinnedMesh&&!0===wi.skinning||ot.isInstancedMesh&&!0===wi.instancingColor&&null===ot.instanceColor||ot.isInstancedMesh&&!1===wi.instancingColor&&null!==ot.instanceColor||ot.isInstancedMesh&&!0===wi.instancingMorph&&null===ot.morphTexture||ot.isInstancedMesh&&!1===wi.instancingMorph&&null!==ot.morphTexture||wi.envMap!==Kn||!0===wt.fog&&wi.fog!==hn||void 0!==wi.numClippingPlanes&&(wi.numClippingPlanes!==rt.numPlanes||wi.numIntersection!==rt.numIntersection)||wi.vertexAlphas!==qi||wi.vertexTangents!==Wi||wi.morphTargets!==Si||wi.morphNormals!==Er||wi.morphColors!==Ms||wi.toneMapping!==lr||wi.morphTargetsCount!==es)&&(ys=!0):(ys=!0,wi.__version=wt.version);let _a=wi.currentProgram;!0===ys&&(_a=au(wt,nt,ot));let xh=!1,wo=!1,Dp=!1;const ao=_a.getUniforms(),lu=wi.uniforms;if(Ge.useProgram(_a.program)&&(xh=!0,wo=!0,Dp=!0),wt.id!==S&&(S=wt.id,wo=!0),xh||T!==Te){Ge.buffers.depth.getReversed()?(he.copy(Te.projectionMatrix),function w$e(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}(he),function x$e(n){const t=n.elements;-1===t[11]?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=1-t[14])}(he),ao.setValue(se,"projectionMatrix",he)):ao.setValue(se,"projectionMatrix",Te.projectionMatrix),ao.setValue(se,"viewMatrix",Te.matrixWorldInverse);const ql=ao.map.cameraPosition;void 0!==ql&&ql.setValue(se,ie.setFromMatrixPosition(Te.matrixWorld)),at.logarithmicDepthBuffer&&ao.setValue(se,"logDepthBufFC",2/(Math.log(Te.far+1)/Math.LN2)),(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial)&&ao.setValue(se,"isOrthographic",!0===Te.isOrthographicCamera),T!==Te&&(T=Te,wo=!0,Dp=!0)}if(ot.isSkinnedMesh){ao.setOptional(se,ot,"bindMatrix"),ao.setOptional(se,ot,"bindMatrixInverse");const jl=ot.skeleton;jl&&(null===jl.boneTexture&&jl.computeBoneTexture(),ao.setValue(se,"boneTexture",jl.boneTexture,K))}ot.isBatchedMesh&&(ao.setOptional(se,ot,"batchingTexture"),ao.setValue(se,"batchingTexture",ot._matricesTexture,K),ao.setOptional(se,ot,"batchingIdTexture"),ao.setValue(se,"batchingIdTexture",ot._indirectTexture,K),ao.setOptional(se,ot,"batchingColorTexture"),null!==ot._colorsTexture&&ao.setValue(se,"batchingColorTexture",ot._colorsTexture,K));const Bc=bt.morphAttributes;if((void 0!==Bc.position||void 0!==Bc.normal||void 0!==Bc.color)&&ei.update(ot,bt,_a),(wo||wi.receiveShadow!==ot.receiveShadow)&&(wi.receiveShadow=ot.receiveShadow,ao.setValue(se,"receiveShadow",ot.receiveShadow)),wt.isMeshGouraudMaterial&&null!==wt.envMap&&(lu.envMap.value=Kn,lu.flipEnvMap.value=Kn.isCubeTexture&&!1===Kn.isRenderTargetTexture?-1:1),wt.isMeshStandardMaterial&&null===wt.envMap&&null!==nt.environment&&(lu.envMapIntensity.value=nt.environmentIntensity),wo&&(ao.setValue(se,"toneMappingExposure",b.toneMappingExposure),wi.needsLights&&function Md(Te,nt){Te.ambientLightColor.needsUpdate=nt,Te.lightProbe.needsUpdate=nt,Te.directionalLights.needsUpdate=nt,Te.directionalLightShadows.needsUpdate=nt,Te.pointLights.needsUpdate=nt,Te.pointLightShadows.needsUpdate=nt,Te.spotLights.needsUpdate=nt,Te.spotLightShadows.needsUpdate=nt,Te.rectAreaLights.needsUpdate=nt,Te.hemisphereLights.needsUpdate=nt}(lu,Dp),hn&&!0===wt.fog&&Bt.refreshFogUniforms(lu,hn),Bt.refreshMaterialUniforms(lu,wt,j,G,A.state.transmissionRenderTarget[Te.id]),CR.upload(se,Ed(wi),lu,K)),wt.isShaderMaterial&&!0===wt.uniformsNeedUpdate&&(CR.upload(se,Ed(wi),lu,K),wt.uniformsNeedUpdate=!1),wt.isSpriteMaterial&&ao.setValue(se,"center",ot.center),ao.setValue(se,"modelViewMatrix",ot.modelViewMatrix),ao.setValue(se,"normalMatrix",ot.normalMatrix),ao.setValue(se,"modelMatrix",ot.matrixWorld),wt.isShaderMaterial||wt.isRawShaderMaterial){const jl=wt.uniformsGroups;for(let ql=0,ly=jl.length;ql<ly;ql++){const Ch=jl[ql];Ee.update(Ch,_a),Ee.bind(Ch,_a)}}return _a}(Te,nt,bt,wt,ot);Ge.setMaterial(wt,Bn);let Kn=bt.index,qi=1;if(!0===wt.wireframe){if(Kn=Ve.getWireframeAttribute(bt),void 0===Kn)return;qi=2}const Wi=bt.drawRange,Si=bt.attributes.position;let Er=Wi.start*qi,Ms=(Wi.start+Wi.count)*qi;null!==hn&&(Er=Math.max(Er,hn.start*qi),Ms=Math.min(Ms,(hn.start+hn.count)*qi)),null!==Kn?(Er=Math.max(Er,0),Ms=Math.min(Ms,Kn.count)):null!=Si&&(Er=Math.max(Er,0),Ms=Math.min(Ms,Si.count));const lr=Ms-Er;if(lr<0||lr===1/0)return;Fe.setup(ot,wt,ii,bt,Kn);let Po,es=Kt;if(null!==Kn&&(Po=ke.get(Kn),es=ni,es.setIndex(Po)),ot.isMesh)!0===wt.wireframe?(Ge.setLineWidth(wt.wireframeLinewidth*Ne()),es.setMode(se.LINES)):es.setMode(se.TRIANGLES);else if(ot.isLine){let wi=wt.linewidth;void 0===wi&&(wi=1),Ge.setLineWidth(wi*Ne()),es.setMode(ot.isLineSegments?se.LINES:ot.isLineLoop?se.LINE_LOOP:se.LINE_STRIP)}else ot.isPoints?es.setMode(se.POINTS):ot.isSprite&&es.setMode(se.TRIANGLES);if(ot.isBatchedMesh)if(null!==ot._multiDrawInstances)es.renderMultiDrawInstances(ot._multiDrawStarts,ot._multiDrawCounts,ot._multiDrawCount,ot._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))es.renderMultiDraw(ot._multiDrawStarts,ot._multiDrawCounts,ot._multiDrawCount);else{const wi=ot._multiDrawStarts,va=ot._multiDrawCounts,ys=ot._multiDrawCount,_a=Kn?ke.get(Kn).bytesPerElement:1,xh=re.get(wt).currentProgram.getUniforms();for(let wo=0;wo<ys;wo++)xh.setValue(se,"_gl_DrawID",wo),es.render(wi[wo]/_a,va[wo])}else if(ot.isInstancedMesh)es.renderInstances(Er,lr,ot.count);else if(bt.isInstancedBufferGeometry){const va=Math.min(bt.instanceCount,void 0!==bt._maxInstanceCount?bt._maxInstanceCount:1/0);es.renderInstances(Er,lr,va)}else es.render(Er,lr)},this.compile=function(Te,nt,bt=null){null===bt&&(bt=Te),A=Mn.get(bt),A.init(nt),v.push(A),bt.traverseVisible(function(ot){ot.isLight&&ot.layers.test(nt.layers)&&(A.pushLight(ot),ot.castShadow&&A.pushShadow(ot))}),Te!==bt&&Te.traverseVisible(function(ot){ot.isLight&&ot.layers.test(nt.layers)&&(A.pushLight(ot),ot.castShadow&&A.pushShadow(ot))}),A.setupLights();const wt=new Set;return Te.traverse(function(ot){if(!(ot.isMesh||ot.isPoints||ot.isLine||ot.isSprite))return;const hn=ot.material;if(hn)if(Array.isArray(hn))for(let Bn=0;Bn<hn.length;Bn++){const ii=hn[Bn];kr(ii,bt,ot),wt.add(ii)}else kr(hn,bt,ot),wt.add(hn)}),v.pop(),A=null,wt},this.compileAsync=function(Te,nt,bt=null){const wt=this.compile(Te,nt,bt);return new Promise(ot=>{function hn(){wt.forEach(function(Bn){re.get(Bn).currentProgram.isReady()&&wt.delete(Bn)}),0!==wt.size?setTimeout(hn,10):ot(Te)}null!==fe.get("KHR_parallel_shader_compile")?hn():setTimeout(hn,10)})};let Pa=null;function Sd(){Oa.stop()}function wh(){Oa.start()}const Oa=new que;function Aa(Te,nt,bt,wt){if(!1===Te.visible)return;if(Te.layers.test(nt.layers))if(Te.isGroup)bt=Te.renderOrder;else if(Te.isLOD)!0===Te.autoUpdate&&Te.update(nt);else if(Te.isLight)A.pushLight(Te),Te.castShadow&&A.pushShadow(Te);else if(Te.isSprite){if(!Te.frustumCulled||H.intersectsSprite(Te)){wt&&ge.setFromMatrixPosition(Te.matrixWorld).applyMatrix4(ee);const Bn=Qe.update(Te),ii=Te.material;ii.visible&&g.push(Te,Bn,ii,bt,ge.z,null)}}else if((Te.isMesh||Te.isLine||Te.isPoints)&&(!Te.frustumCulled||H.intersectsObject(Te))){const Bn=Qe.update(Te),ii=Te.material;if(wt&&(void 0!==Te.boundingSphere?(null===Te.boundingSphere&&Te.computeBoundingSphere(),ge.copy(Te.boundingSphere.center)):(null===Bn.boundingSphere&&Bn.computeBoundingSphere(),ge.copy(Bn.boundingSphere.center)),ge.applyMatrix4(Te.matrixWorld).applyMatrix4(ee)),Array.isArray(ii)){const Kn=Bn.groups;for(let qi=0,Wi=Kn.length;qi<Wi;qi++){const Si=Kn[qi],Er=ii[Si.materialIndex];Er&&Er.visible&&g.push(Te,Bn,Er,bt,ge.z,Si)}}else ii.visible&&g.push(Te,Bn,ii,bt,ge.z,null)}const hn=Te.children;for(let Bn=0,ii=hn.length;Bn<ii;Bn++)Aa(hn[Bn],nt,bt,wt)}function ga(Te,nt,bt,wt){const ot=Te.opaque,hn=Te.transmissive,Bn=Te.transparent;A.setupLightsView(bt),!0===ae&&rt.setGlobalState(b.clippingPlanes,bt),wt&&Ge.viewport(M.copy(wt)),ot.length>0&&Ep(ot,nt,bt),hn.length>0&&Ep(hn,nt,bt),Bn.length>0&&Ep(Bn,nt,bt),Ge.buffers.depth.setTest(!0),Ge.buffers.depth.setMask(!0),Ge.buffers.color.setMask(!0),Ge.setPolygonOffset(!1)}function ou(Te,nt,bt,wt){if(null!==(!0===bt.isScene?bt.overrideMaterial:null))return;void 0===A.state.transmissionRenderTarget[wt.id]&&(A.state.transmissionRenderTarget[wt.id]=new jA(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?YD:zA,minFilter:VA,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ds.workingColorSpace}));const hn=A.state.transmissionRenderTarget[wt.id],Bn=wt.viewport||M;hn.setSize(Bn.z*b.transmissionResolutionScale,Bn.w*b.transmissionResolutionScale);const ii=b.getRenderTarget();b.setRenderTarget(hn),b.getClearColor(U),z=b.getClearAlpha(),z<1&&b.setClearColor(16777215,.5),b.clear(),ve&&En.render(bt);const Kn=b.toneMapping;b.toneMapping=Vv;const qi=wt.viewport;if(void 0!==wt.viewport&&(wt.viewport=void 0),A.setupLightsView(wt),!0===ae&&rt.setGlobalState(b.clippingPlanes,wt),Ep(Te,bt,wt),K.updateMultisampleRenderTarget(hn),K.updateRenderTargetMipmap(hn),!1===fe.has("WEBGL_multisampled_render_to_texture")){let Wi=!1;for(let Si=0,Er=nt.length;Si<Er;Si++){const Ms=nt[Si],lr=Ms.object,Po=Ms.geometry,es=Ms.material,wi=Ms.group;if(2===es.side&&lr.layers.test(wt.layers)){const va=es.side;es.side=1,es.needsUpdate=!0,wf(lr,bt,wt,Po,es,wi),es.side=va,es.needsUpdate=!0,Wi=!0}}!0===Wi&&(K.updateMultisampleRenderTarget(hn),K.updateRenderTargetMipmap(hn))}b.setRenderTarget(ii),b.setClearColor(U,z),void 0!==qi&&(wt.viewport=qi),b.toneMapping=Kn}function Ep(Te,nt,bt){const wt=!0===nt.isScene?nt.overrideMaterial:null;for(let ot=0,hn=Te.length;ot<hn;ot++){const Bn=Te[ot],ii=Bn.object,Kn=Bn.geometry,qi=null===wt?Bn.material:wt,Wi=Bn.group;ii.layers.test(bt.layers)&&wf(ii,nt,bt,Kn,qi,Wi)}}function wf(Te,nt,bt,wt,ot,hn){Te.onBeforeRender(b,nt,bt,wt,ot,hn),Te.modelViewMatrix.multiplyMatrices(bt.matrixWorldInverse,Te.matrixWorld),Te.normalMatrix.getNormalMatrix(Te.modelViewMatrix),ot.onBeforeRender(b,nt,bt,wt,Te,hn),!0===ot.transparent&&2===ot.side&&!1===ot.forceSinglePass?(ot.side=1,ot.needsUpdate=!0,b.renderBufferDirect(bt,nt,wt,ot,Te,hn),ot.side=0,ot.needsUpdate=!0,b.renderBufferDirect(bt,nt,wt,ot,Te,hn),ot.side=2):b.renderBufferDirect(bt,nt,wt,ot,Te,hn),Te.onAfterRender(b,nt,bt,wt,ot,hn)}function au(Te,nt,bt){!0!==nt.isScene&&(nt=Ce);const wt=re.get(Te),ot=A.state.lights,Bn=ot.state.version,ii=pt.getParameters(Te,ot.state,A.state.shadowsArray,nt,bt),Kn=pt.getProgramCacheKey(ii);let qi=wt.programs;wt.environment=Te.isMeshStandardMaterial?nt.environment:null,wt.fog=nt.fog,wt.envMap=(Te.isMeshStandardMaterial?we:W).get(Te.envMap||wt.environment),wt.envMapRotation=null!==wt.environment&&null===Te.envMap?nt.environmentRotation:Te.envMapRotation,void 0===qi&&(Te.addEventListener("dispose",Wn),qi=new Map,wt.programs=qi);let Wi=qi.get(Kn);if(void 0!==Wi){if(wt.currentProgram===Wi&&wt.lightsStateVersion===Bn)return Dd(Te,ii),Wi}else ii.uniforms=pt.getUniforms(Te),Te.onBeforeCompile(ii,b),Wi=pt.acquireProgram(ii,Kn),qi.set(Kn,Wi),wt.uniforms=ii.uniforms;const Si=wt.uniforms;return(!Te.isShaderMaterial&&!Te.isRawShaderMaterial||!0===Te.clipping)&&(Si.clippingPlanes=rt.uniform),Dd(Te,ii),wt.needsLights=function Cf(Te){return Te.isMeshLambertMaterial||Te.isMeshToonMaterial||Te.isMeshPhongMaterial||Te.isMeshStandardMaterial||Te.isShadowMaterial||Te.isShaderMaterial&&!0===Te.lights}(Te),wt.lightsStateVersion=Bn,wt.needsLights&&(Si.ambientLightColor.value=ot.state.ambient,Si.lightProbe.value=ot.state.probe,Si.directionalLights.value=ot.state.directional,Si.directionalLightShadows.value=ot.state.directionalShadow,Si.spotLights.value=ot.state.spot,Si.spotLightShadows.value=ot.state.spotShadow,Si.rectAreaLights.value=ot.state.rectArea,Si.ltc_1.value=ot.state.rectAreaLTC1,Si.ltc_2.value=ot.state.rectAreaLTC2,Si.pointLights.value=ot.state.point,Si.pointLightShadows.value=ot.state.pointShadow,Si.hemisphereLights.value=ot.state.hemi,Si.directionalShadowMap.value=ot.state.directionalShadowMap,Si.directionalShadowMatrix.value=ot.state.directionalShadowMatrix,Si.spotShadowMap.value=ot.state.spotShadowMap,Si.spotLightMatrix.value=ot.state.spotLightMatrix,Si.spotLightMap.value=ot.state.spotLightMap,Si.pointShadowMap.value=ot.state.pointShadowMap,Si.pointShadowMatrix.value=ot.state.pointShadowMatrix),wt.currentProgram=Wi,wt.uniformsList=null,Wi}function Ed(Te){if(null===Te.uniformsList){const nt=Te.currentProgram.getUniforms();Te.uniformsList=CR.seqWithValue(nt.seq,Te.uniforms)}return Te.uniformsList}function Dd(Te,nt){const bt=re.get(Te);bt.outputColorSpace=nt.outputColorSpace,bt.batching=nt.batching,bt.batchingColor=nt.batchingColor,bt.instancing=nt.instancing,bt.instancingColor=nt.instancingColor,bt.instancingMorph=nt.instancingMorph,bt.skinning=nt.skinning,bt.morphTargets=nt.morphTargets,bt.morphNormals=nt.morphNormals,bt.morphColors=nt.morphColors,bt.morphTargetsCount=nt.morphTargetsCount,bt.numClippingPlanes=nt.numClippingPlanes,bt.numIntersection=nt.numClipIntersection,bt.vertexAlphas=nt.vertexAlphas,bt.vertexTangents=nt.vertexTangents,bt.toneMapping=nt.toneMapping}Oa.setAnimationLoop(function Ai(Te){Pa&&Pa(Te)}),typeof self<"u"&&Oa.setContext(self),this.setAnimationLoop=function(Te){Pa=Te,it.setAnimationLoop(Te),null===Te?Oa.stop():Oa.start()},it.addEventListener("sessionstart",Sd),it.addEventListener("sessionend",wh),this.render=function(Te,nt){if(void 0!==nt&&!0!==nt.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===w)return;if(!0===Te.matrixWorldAutoUpdate&&Te.updateMatrixWorld(),null===nt.parent&&!0===nt.matrixWorldAutoUpdate&&nt.updateMatrixWorld(),!0===it.enabled&&!0===it.isPresenting&&(!0===it.cameraAutoUpdate&&it.updateCamera(nt),nt=it.getCamera()),!0===Te.isScene&&Te.onBeforeRender(b,Te,nt,D),A=Mn.get(Te,v.length),A.init(nt),v.push(A),ee.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),H.setFromProjectionMatrix(ee),de=this.localClippingEnabled,ae=rt.init(this.clippingPlanes,de),g=yt.get(Te,_.length),g.init(),_.push(g),!0===it.enabled&&!0===it.isPresenting){const hn=b.xr.getDepthSensingMesh();null!==hn&&Aa(hn,nt,-1/0,b.sortObjects)}Aa(Te,nt,0,b.sortObjects),g.finish(),!0===b.sortObjects&&g.sort(J,le),ve=!1===it.enabled||!1===it.isPresenting||!1===it.hasDepthSensing(),ve&&En.addToRenderList(g,Te),this.info.render.frame++,!0===ae&&rt.beginShadows(),Sn.render(A.state.shadowsArray,Te,nt),!0===ae&&rt.endShadows(),!0===this.info.autoReset&&this.info.reset();const wt=g.opaque,ot=g.transmissive;if(A.setupLights(),nt.isArrayCamera){const hn=nt.cameras;if(ot.length>0)for(let Bn=0,ii=hn.length;Bn<ii;Bn++)ou(wt,ot,Te,hn[Bn]);ve&&En.render(Te);for(let Bn=0,ii=hn.length;Bn<ii;Bn++){const Kn=hn[Bn];ga(g,Te,Kn,Kn.viewport)}}else ot.length>0&&ou(wt,ot,Te,nt),ve&&En.render(Te),ga(g,Te,nt);null!==D&&0===C&&(K.updateMultisampleRenderTarget(D),K.updateRenderTargetMipmap(D)),!0===Te.isScene&&Te.onAfterRender(b,Te,nt),Fe.resetDefaultState(),S=-1,T=null,v.pop(),v.length>0?(A=v[v.length-1],!0===ae&&rt.setGlobalState(b.clippingPlanes,A.state.camera)):A=null,_.pop(),g=_.length>0?_[_.length-1]:null},this.getActiveCubeFace=function(){return y},this.getActiveMipmapLevel=function(){return C},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(Te,nt,bt){re.get(Te.texture).__webglTexture=nt,re.get(Te.depthTexture).__webglTexture=bt;const wt=re.get(Te);wt.__hasExternalTextures=!0,wt.__autoAllocateDepthBuffer=void 0===bt,wt.__autoAllocateDepthBuffer||!0===fe.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),wt.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(Te,nt){const bt=re.get(Te);bt.__webglFramebuffer=nt,bt.__useDefaultFramebuffer=void 0===nt};const mg=se.createFramebuffer();this.setRenderTarget=function(Te,nt=0,bt=0){D=Te,y=nt,C=bt;let wt=!0,ot=null,hn=!1,Bn=!1;if(Te){const Kn=re.get(Te);if(void 0!==Kn.__useDefaultFramebuffer)Ge.bindFramebuffer(se.FRAMEBUFFER,null),wt=!1;else if(void 0===Kn.__webglFramebuffer)K.setupRenderTarget(Te);else if(Kn.__hasExternalTextures)K.rebindTextures(Te,re.get(Te.texture).__webglTexture,re.get(Te.depthTexture).__webglTexture);else if(Te.depthBuffer){const Si=Te.depthTexture;if(Kn.__boundDepthTexture!==Si){if(null!==Si&&re.has(Si)&&(Te.width!==Si.image.width||Te.height!==Si.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");K.setupDepthRenderbuffer(Te)}}const qi=Te.texture;(qi.isData3DTexture||qi.isDataArrayTexture||qi.isCompressedArrayTexture)&&(Bn=!0);const Wi=re.get(Te).__webglFramebuffer;Te.isWebGLCubeRenderTarget?(ot=Array.isArray(Wi[nt])?Wi[nt][bt]:Wi[nt],hn=!0):ot=Te.samples>0&&!1===K.useMultisampledRTT(Te)?re.get(Te).__webglMultisampledFramebuffer:Array.isArray(Wi)?Wi[bt]:Wi,M.copy(Te.viewport),F.copy(Te.scissor),L=Te.scissorTest}else M.copy(ye).multiplyScalar(j).floor(),F.copy(R).multiplyScalar(j).floor(),L=X;if(0!==bt&&(ot=mg),Ge.bindFramebuffer(se.FRAMEBUFFER,ot)&&wt&&Ge.drawBuffers(Te,ot),Ge.viewport(M),Ge.scissor(F),Ge.setScissorTest(L),hn){const Kn=re.get(Te.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_CUBE_MAP_POSITIVE_X+nt,Kn.__webglTexture,bt)}else if(Bn){const Kn=re.get(Te.texture);se.framebufferTextureLayer(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,Kn.__webglTexture,bt,nt)}else if(null!==Te&&0!==bt){const Kn=re.get(Te.texture);se.framebufferTexture2D(se.FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,Kn.__webglTexture,bt)}S=-1},this.readRenderTargetPixels=function(Te,nt,bt,wt,ot,hn,Bn){if(!Te||!Te.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ii=re.get(Te).__webglFramebuffer;if(Te.isWebGLCubeRenderTarget&&void 0!==Bn&&(ii=ii[Bn]),ii){Ge.bindFramebuffer(se.FRAMEBUFFER,ii);try{const Kn=Te.texture,qi=Kn.format,Wi=Kn.type;if(!at.textureFormatReadable(qi))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!at.textureTypeReadable(Wi))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");nt>=0&&nt<=Te.width-wt&&bt>=0&&bt<=Te.height-ot&&se.readPixels(nt,bt,wt,ot,Y.convert(qi),Y.convert(Wi),hn)}finally{const Kn=null!==D?re.get(D).__webglFramebuffer:null;Ge.bindFramebuffer(se.FRAMEBUFFER,Kn)}}},this.readRenderTargetPixelsAsync=function(){var Te=(0,Tt.A)(function*(nt,bt,wt,ot,hn,Bn,ii){if(!nt||!nt.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Kn=re.get(nt).__webglFramebuffer;if(nt.isWebGLCubeRenderTarget&&void 0!==ii&&(Kn=Kn[ii]),Kn){const qi=nt.texture,Wi=qi.format,Si=qi.type;if(!at.textureFormatReadable(Wi))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!at.textureTypeReadable(Si))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(bt>=0&&bt<=nt.width-ot&&wt>=0&&wt<=nt.height-hn){Ge.bindFramebuffer(se.FRAMEBUFFER,Kn);const Er=se.createBuffer();se.bindBuffer(se.PIXEL_PACK_BUFFER,Er),se.bufferData(se.PIXEL_PACK_BUFFER,Bn.byteLength,se.STREAM_READ),se.readPixels(bt,wt,ot,hn,Y.convert(Wi),Y.convert(Si),0);const Ms=null!==D?re.get(D).__webglFramebuffer:null;Ge.bindFramebuffer(se.FRAMEBUFFER,Ms);const lr=se.fenceSync(se.SYNC_GPU_COMMANDS_COMPLETE,0);return se.flush(),yield function y$e(n,t,e){return new Promise(function(i,r){setTimeout(function s(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,e);break;default:i()}},e)})}(se,lr,4),se.bindBuffer(se.PIXEL_PACK_BUFFER,Er),se.getBufferSubData(se.PIXEL_PACK_BUFFER,0,Bn),se.deleteBuffer(Er),se.deleteSync(lr),Bn}throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}});return function(nt,bt,wt,ot,hn,Bn,ii){return Te.apply(this,arguments)}}(),this.copyFramebufferToTexture=function(Te,nt=null,bt=0){!0!==Te.isTexture&&(mx("WebGLRenderer: copyFramebufferToTexture function signature has changed."),nt=arguments[0]||null,Te=arguments[1]);const wt=Math.pow(2,-bt),ot=Math.floor(Te.image.width*wt),hn=Math.floor(Te.image.height*wt),Bn=null!==nt?nt.x:0,ii=null!==nt?nt.y:0;K.setTexture2D(Te,0),se.copyTexSubImage2D(se.TEXTURE_2D,bt,0,0,Bn,ii,ot,hn),Ge.unbindTexture()};const b_=se.createFramebuffer(),y_=se.createFramebuffer();this.copyTextureToTexture=function(Te,nt,bt=null,wt=null,ot=0,hn=null){let Bn,ii,Kn,qi,Wi,Si,Er,Ms,lr;!0!==Te.isTexture&&(mx("WebGLRenderer: copyTextureToTexture function signature has changed."),wt=arguments[0]||null,Te=arguments[1],nt=arguments[2],hn=arguments[3]||0,bt=null),null===hn&&(0!==ot?(mx("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),hn=ot,ot=0):hn=0);const Po=Te.isCompressedTexture?Te.mipmaps[hn]:Te.image;if(null!==bt)Bn=bt.max.x-bt.min.x,ii=bt.max.y-bt.min.y,Kn=bt.isBox3?bt.max.z-bt.min.z:1,qi=bt.min.x,Wi=bt.min.y,Si=bt.isBox3?bt.min.z:0;else{const Bc=Math.pow(2,-ot);Bn=Math.floor(Po.width*Bc),ii=Math.floor(Po.height*Bc),Kn=Te.isDataArrayTexture?Po.depth:Te.isData3DTexture?Math.floor(Po.depth*Bc):1,qi=0,Wi=0,Si=0}null!==wt?(Er=wt.x,Ms=wt.y,lr=wt.z):(Er=0,Ms=0,lr=0);const es=Y.convert(nt.format),wi=Y.convert(nt.type);let va;nt.isData3DTexture?(K.setTexture3D(nt,0),va=se.TEXTURE_3D):nt.isDataArrayTexture||nt.isCompressedArrayTexture?(K.setTexture2DArray(nt,0),va=se.TEXTURE_2D_ARRAY):(K.setTexture2D(nt,0),va=se.TEXTURE_2D),se.pixelStorei(se.UNPACK_FLIP_Y_WEBGL,nt.flipY),se.pixelStorei(se.UNPACK_PREMULTIPLY_ALPHA_WEBGL,nt.premultiplyAlpha),se.pixelStorei(se.UNPACK_ALIGNMENT,nt.unpackAlignment);const ys=se.getParameter(se.UNPACK_ROW_LENGTH),_a=se.getParameter(se.UNPACK_IMAGE_HEIGHT),xh=se.getParameter(se.UNPACK_SKIP_PIXELS),wo=se.getParameter(se.UNPACK_SKIP_ROWS),Dp=se.getParameter(se.UNPACK_SKIP_IMAGES);se.pixelStorei(se.UNPACK_ROW_LENGTH,Po.width),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,Po.height),se.pixelStorei(se.UNPACK_SKIP_PIXELS,qi),se.pixelStorei(se.UNPACK_SKIP_ROWS,Wi),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Si);const ao=Te.isDataArrayTexture||Te.isData3DTexture,lu=nt.isDataArrayTexture||nt.isData3DTexture;if(Te.isDepthTexture){const Bc=re.get(Te),jl=re.get(nt),ql=re.get(Bc.__renderTarget),ly=re.get(jl.__renderTarget);Ge.bindFramebuffer(se.READ_FRAMEBUFFER,ql.__webglFramebuffer),Ge.bindFramebuffer(se.DRAW_FRAMEBUFFER,ly.__webglFramebuffer);for(let Ch=0;Ch<Kn;Ch++)ao&&(se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,re.get(Te).__webglTexture,ot,Si+Ch),se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,re.get(nt).__webglTexture,hn,lr+Ch)),se.blitFramebuffer(qi,Wi,Bn,ii,Er,Ms,Bn,ii,se.DEPTH_BUFFER_BIT,se.NEAREST);Ge.bindFramebuffer(se.READ_FRAMEBUFFER,null),Ge.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else if(0!==ot||Te.isRenderTargetTexture||re.has(Te)){const Bc=re.get(Te),jl=re.get(nt);Ge.bindFramebuffer(se.READ_FRAMEBUFFER,b_),Ge.bindFramebuffer(se.DRAW_FRAMEBUFFER,y_);for(let ql=0;ql<Kn;ql++)ao?se.framebufferTextureLayer(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,Bc.__webglTexture,ot,Si+ql):se.framebufferTexture2D(se.READ_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,Bc.__webglTexture,ot),lu?se.framebufferTextureLayer(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,jl.__webglTexture,hn,lr+ql):se.framebufferTexture2D(se.DRAW_FRAMEBUFFER,se.COLOR_ATTACHMENT0,se.TEXTURE_2D,jl.__webglTexture,hn),0!==ot?se.blitFramebuffer(qi,Wi,Bn,ii,Er,Ms,Bn,ii,se.COLOR_BUFFER_BIT,se.NEAREST):lu?se.copyTexSubImage3D(va,hn,Er,Ms,lr+ql,qi,Wi,Bn,ii):se.copyTexSubImage2D(va,hn,Er,Ms,qi,Wi,Bn,ii);Ge.bindFramebuffer(se.READ_FRAMEBUFFER,null),Ge.bindFramebuffer(se.DRAW_FRAMEBUFFER,null)}else lu?Te.isDataTexture||Te.isData3DTexture?se.texSubImage3D(va,hn,Er,Ms,lr,Bn,ii,Kn,es,wi,Po.data):nt.isCompressedArrayTexture?se.compressedTexSubImage3D(va,hn,Er,Ms,lr,Bn,ii,Kn,es,Po.data):se.texSubImage3D(va,hn,Er,Ms,lr,Bn,ii,Kn,es,wi,Po):Te.isDataTexture?se.texSubImage2D(se.TEXTURE_2D,hn,Er,Ms,Bn,ii,es,wi,Po.data):Te.isCompressedTexture?se.compressedTexSubImage2D(se.TEXTURE_2D,hn,Er,Ms,Po.width,Po.height,es,Po.data):se.texSubImage2D(se.TEXTURE_2D,hn,Er,Ms,Bn,ii,es,wi,Po);se.pixelStorei(se.UNPACK_ROW_LENGTH,ys),se.pixelStorei(se.UNPACK_IMAGE_HEIGHT,_a),se.pixelStorei(se.UNPACK_SKIP_PIXELS,xh),se.pixelStorei(se.UNPACK_SKIP_ROWS,wo),se.pixelStorei(se.UNPACK_SKIP_IMAGES,Dp),0===hn&&nt.generateMipmaps&&se.generateMipmap(va),Ge.unbindTexture()},this.copyTextureToTexture3D=function(Te,nt,bt=null,wt=null,ot=0){return!0!==Te.isTexture&&(mx("WebGLRenderer: copyTextureToTexture3D function signature has changed."),bt=arguments[0]||null,wt=arguments[1]||null,Te=arguments[2],nt=arguments[3],ot=arguments[4]||0),mx('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(Te,nt,bt,wt,ot)},this.initRenderTarget=function(Te){void 0===re.get(Te).__webglFramebuffer&&K.setupRenderTarget(Te)},this.initTexture=function(Te){Te.isCubeTexture?K.setTextureCube(Te,0):Te.isData3DTexture?K.setTexture3D(Te,0):Te.isDataArrayTexture||Te.isCompressedArrayTexture?K.setTexture2DArray(Te,0):K.setTexture2D(Te,0),Ge.unbindTexture()},this.resetState=function(){y=0,C=0,D=null,Ge.reset(),Fe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Mm}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorspace=Ds._getDrawingBufferColorSpace(t),e.unpackColorSpace=Ds._getUnpackColorSpace()}}var qx=Me(724);const att=["rendererContainer"],ltt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});let ctt=(()=>{class n extends yr{constructor(e,i,r,s){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.disks=[],this.towers=[],this.numDisks=3,this.moves=[],this.currentMove=0,this.isAnimating=!1,this.animationFrameId=null}ngOnInit(){}ngAfterViewInit(){this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.animate()}restart(){this.resetGame()}initScene(){this.scene=new xce,this.camera=new Dc(75,this.rendererContainer.nativeElement.offsetWidth/this.rendererContainer.nativeElement.offsetHeight,.1,1e3),this.renderer=new ott({antialias:!0}),this.renderer.setSize(this.rendererContainer.nativeElement.offsetWidth,this.rendererContainer.nativeElement.offsetHeight),this.rendererContainer.nativeElement.appendChild(this.renderer.domElement),this.controls=new GXe(this.camera,this.renderer.domElement),this.camera.position.set(10,10,10),this.controls.update();const e=new _ue(4210752);this.scene.add(e);const i=new vue(16777215,.5);i.position.set(1,1,1).normalize(),this.scene.add(i)}createTowers(){const e=new Nb(.5,.5,5,32),i=new ZA({color:8421504});for(let r=0;r<3;r++){const s=new Ja(e,i);s.position.set(4*r-4,2.5,0),this.towers.push(s),this.scene.add(s)}}createDisks(){for(let e=0;e<this.numDisks;e++){const i=new Nb(1-.1*e,1-.1*e,.5,32),r=new ZA({color:(new Jn).setHSL(e/this.numDisks,1,.5)}),s=new Ja(i,r);s.position.set(-4,.5*e+.25,0),this.disks.push(s),this.scene.add(s)}}solveHanoi(e,i,r,s){e>0&&(this.solveHanoi(e-1,i,s,r),this.moves.push({from:i,to:r}),this.solveHanoi(e-1,s,r,i))}animateMove(){if(this.currentMove<this.moves.length&&!this.isAnimating){this.isAnimating=!0;const e=this.moves[this.currentMove],i=this.disks.filter(r=>Math.abs(r.position.x-this.towers[e.from].position.x)<.1).sort((r,s)=>s.position.y-r.position.y);if(i.length>0){const r=i[0],a=.5*this.disks.filter(l=>Math.abs(l.position.x-this.towers[e.to].position.x)<.1).length+.25;new qx.Tween(r.position).to({y:r.position.y+3},500).onComplete(()=>{new qx.Tween(r.position).to({x:this.towers[e.to].position.x},500).onComplete(()=>{new qx.Tween(r.position).to({y:a},500).onComplete(()=>{this.currentMove++,this.isAnimating=!1}).start()}).start()}).start()}else this.currentMove++,this.isAnimating=!1}}animate(){requestAnimationFrame(this.animate.bind(this)),qx.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)}resetGame(){this.animationFrameId&&cancelAnimationFrame(this.animationFrameId),qx.removeAll(),this.cleanupScene(),this.currentMove=0,this.isAnimating=!1,this.moves=[],this.initScene(),this.createTowers(),this.createDisks(),this.solveHanoi(this.numDisks,0,2,1),this.startAnimation()}cleanupScene(){if(this.disks.forEach(e=>{this.scene.remove(e),e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(i=>i.dispose()):e.material.dispose())}),this.disks=[],this.towers.forEach(e=>{this.scene.remove(e),e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach(i=>i.dispose()):e.material.dispose())}),this.towers=[],this.renderer){this.renderer.dispose(),this.renderer.forceContextLoss();const e=this.renderer.domElement.getContext("webgl");e&&e.getExtension("WEBGL_lose_context")?.loseContext(),this.renderer.domElement&&this.rendererContainer?.nativeElement&&this.rendererContainer.nativeElement.removeChild(this.renderer.domElement)}this.controls&&this.controls.dispose()}startAnimation(){const e=()=>{this.animationFrameId=requestAnimationFrame(e),qx.update(),this.controls.update(),this.currentMove<this.moves.length&&this.animateMove(),this.renderer.render(this.scene,this.camera)};e()}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-game-hanoi3d"]],viewQuery:function(i,r){if(1&i&&Tn(att,5),2&i){let s;Ut(s=Ht())&&(r.rendererContainer=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_GAMES_HANOI_3D"}]),mn],decls:13,vars:3,consts:[["rendererContainer",""],["align","center"],[2,"width","300px","height","300px"],[1,"reset-button",3,"click"],[1,"fas","fa-redo"],["align","right"],[3,"routerLink","queryParams"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1),Ye(1,"app-base-reference")(2,"hr")(3,"div",2,0)(5,"hr"),q(6,"button",3),ct("click",function(){return $t(s),Gt(r.restart())}),Ye(7,"i",4),pe(8," Restart Game "),$(),Ye(9,"hr"),q(10,"div",5)(11,"a",6),pe(12,"[Back to Menu]"),$()()()}2&i&&(te(11),Se("routerLink","/PageUrlList")("queryParams",Us(2,ltt)))},dependencies:[rs,yr],styles:["#canvas-container[_ngcontent-%COMP%]{width:300px;height:300px}"]})}}return n})(),utt=(()=>{class n extends Y0{constructor(e,i){super(),this.http=e,this._configService=i}_GetSudoku_NodeJS(){let e=`${this._configService.getConfigValue("baseUrlNodeJs")}Sudoku_Generate_NodeJS`;return this.http.get(e,this.HTTPOptions_JSON)}_GetSudoku_CPP(){let e=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/Sudoku_Generate_CPP`;return this.http.get(e,this.HTTPOptions_Text)}_SolveSudoku_CPP(e){let i=`${this._configService.getConfigValue("baseUrlNetCoreCPPEntry")}api/Algorithm/Sudoku_Solve_CPP?p_matrix=${e}`;return this.http.get(i,this.HTTPOptions_Text)}_SolveSudoku_NodeJS(e){let i=`${this._configService.getConfigValue("baseUrlNodeJs")}Sudoku_Solve_NodeJS?p_matrix=${e}`;return this.http.get(i,this.HTTPOptions_Text)}uploadSudoku(e){const i=new FormData;i.append("file",e);let r=`${this._configService.getConfigValue("baseUrlNetCore")}demos/Sudoku_Upload_File`;const s=new W0("POST",r,i,{reportProgress:!0,responseType:"text"});return this.http.request(s)}static{this.\u0275fac=function(i){return new(i||n)(dt(oh),dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const dtt=["_languajeList"],htt=["_SourceList"],ftt=["_fileUpload"],ptt=["_sudoku_board"],mtt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"}),Att=n=>({width:n});function gtt(n,t){if(1&n&&(q(0,"td")(1,"div",30),pe(2),$()()),2&n){const e=t.$implicit,i=t.index,r=lt().index;te(),Se("className",i>=3&&i<=5&&r>=0&&r<3||!(i>=3&&i<=5)&&r>=3&&r<=5||i>=3&&i<=5&&r>5&&r<=8?"sudoku-cell_bright":"sudoku-cell_dark"),te(),An(e)}}function vtt(n,t){if(1&n&&(q(0,"tr"),ht(1,gtt,3,2,"td",6),$()),2&n){const e=t.$implicit;te(),Se("ngForOf",e)}}function _tt(n,t){if(1&n&&(q(0,"option",31),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function btt(n,t){if(1&n&&(q(0,"option",31),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function ytt(n,t){if(1&n&&(q(0,"div",32)(1,"div",33),pe(2),$()()),2&n){const e=lt();te(),Se("ngStyle",Fl(3,Att,e.progress+"%")),$i("aria-valuenow",e.progress),te(),di(" ",e.progress,"% ")}}function wtt(n,t){if(1&n&&(q(0,"div",34),pe(1),$()),2&n){const e=lt();te(),An(e.status_message())}}function xtt(n,t){if(1&n){const e=Bi();q(0,"span",23),pe(1," | "),q(2,"input",35),ct("click",function(){return $t(e),Gt(lt()._GetPdf())}),$()()}if(2&n){const e=lt();te(2),Se("disabled","[...Generating PDF...]"==e.status_message())}}let Ctt=(()=>{class n extends yr{constructor(e,i,r,s,o,a,l){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.formBuilder=o,this.pdfEngine=a,this._sudokuService=l,this.board=[],this.tituloListadoLenguajes="Choose Backend",this.btnGenerateCaption="[GENERATE]",this.btnSolveCaption="[SOLVE]",this.tituloGenerarDesde="Genereate From",this._fileUploadDivHidden=!0,this.sudokuSolved=!0,this._sudokuGenerated="",this.progress=0,this.downloadLink="",this.rf_searchForm=this.formBuilder.group({})}ngAfterViewInit(){}ngOnInit(){this.queryParams(),this.__generateSourceList=new Array,this.__generateSourceList.push(new MA(0,"(CHOOSE OPTION...)",!1)),this.__generateSourceList.push(new MA(1,"[File]",!1)),this.__generateSourceList.push(new MA(2,"[Backend]",!0))}queryParams(){this.route.queryParams.subscribe(e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__languajeList.push(new br(1,"(.NET Core/C++)",!0,"CPP")),this.__languajeList.push(new br(2,"(Node.js)",!1,"JS"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__languajeList.length;r++)this.__languajeList[r]._shortName==i&&(this.__languajeList[r]._selected=!0);else this.__languajeList[1]._selected=!0})}_fileUploadDivHiddenChanged(){this._fileUploadDivHidden=1!=this._sourceList.nativeElement.options.selectedIndex,this.status_message.set("")}GenerateFromBackend(){let e;switch(this.status_message.set("[...generating...]"),this._languajeList.nativeElement.options.selectedIndex){case 1:e=this._sudokuService._GetSudoku_CPP();break;case 2:e=this._sudokuService._GetSudoku_NodeJS();break;default:return}this.sudokuSolved=!1,this.btnGenerateCaption="[...generating...]",e.subscribe({next:s=>{this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[],c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}this.status_message.set("[Generated correctly]")},error:s=>{console.error("[SUDOKU - GENERATE] - (ERROR) : "+JSON.stringify(s.message)),this.btnGenerateCaption="[GENERATE]",this.status_message.set("An error occurred")},complete:()=>{this.btnGenerateCaption="[GENERATE]"}})}selectFile(e){this.selectedFiles=e.target.files}upload(){if(this.selectedFiles){const e=this.selectedFiles.item(0);e&&(this.progress=0,this.status_message.set("[...generating...]"),this.sudokuSolved=!1,this.btnGenerateCaption="[...generating...]",this.currentFile=e,this._sudokuService.uploadSudoku(this.currentFile).subscribe({next:i=>{if(i.type===np.UploadProgress)this.progress=Math.round(100*i.loaded/i.total);else if(i instanceof fm){this.status_message.set("[Generated correctly]");let r=i.body;r=r.replaceAll('"',""),r=r.replace(/\\r/g,""),r=r.replace(/\\n/g,""),this._sudokuGenerated=r,r=r.replaceAll("[",""),r=r.replaceAll("]",""),r=r.replaceAll("},","|"),r=r.replaceAll("{",""),r=r.replaceAll("}","");let s=r.split("|");this.board=[];for(let o=0;o<9;o++){const a=[],l=s[o].split(",");for(let c=0;c<9;c++)a.push(parseInt(l[c]));this.board.push(a)}}},error:i=>{console.error("[SUDOKU - GENERATE  FROM FILE] -  (ERROR)"),console.error(i),this.progress=0,i.error&&i.error.message?this.status_message=i.error.message:this.status_message.set("unable to load file"),this.currentFile=void 0,this.btnGenerateCaption="[GENERATE]"},complete:()=>{this.btnGenerateCaption="[GENERATE]",this.selectedFiles=void 0,this.currentFile=void 0}}))}else this.status_message.set("\xa8Please select a file.")}_GetSudoku(){switch(this._sourceList.nativeElement.options.selectedIndex){case 1:this.upload();break;case 2:this.GenerateFromBackend();break;default:return}}_SolveSudoku(){let e;switch(this.sudokuSolved=!0,this.btnSolveCaption="[...solving...]",this.status_message.set("[...solving...]"),this._languajeList.nativeElement.options.selectedIndex){case 1:e=this._sudokuService._SolveSudoku_CPP(this._sudokuGenerated);break;case 2:e=this._sudokuService._SolveSudoku_NodeJS(this._sudokuGenerated);break;default:return}e.subscribe({next:s=>{this.status_message.set("[Solved correctly]"),this._sudokuGenerated=s;let o=(s=(s=(s=(s=(s=s.replaceAll("[","")).replaceAll("]","")).replaceAll("},","|")).replaceAll("{","")).replaceAll("}","")).split("|");this.board=[];for(let a=0;a<9;a++){const l=[],c=o[a].split(",");for(let u=0;u<9;u++)l.push(parseInt(c[u]));this.board.push(l)}},error:s=>{console.error("[SUDOKU - SOLVE] - (ERROR) : "+JSON.stringify(s.message)),this.status_message.set("An error occurred")},complete:()=>{this.btnSolveCaption="[SOLVE]",this.selectedFiles=void 0,this.currentFile=void 0,this.rf_searchForm.reset()}})}_GetPdf(){let i="SUDOKU_BOARD_"+(this.sudokuSolved?"SOLVED":"STARTED"),r="";this.status_message.set("[... Generating PDF file ...]"),this.pdfEngine._GetPDF(this.pageTitle,this._sudoku_board,this._sudoku_board,i).subscribe({next:s=>{r=s},error:s=>{this.status_message.set("An error occurred : "+s.message)},complete:()=>{this.status_message.set("PDF file generated correctly")}})}submitForm(e){}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(jB),oe(CD),oe(utt))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-sudoku"]],viewQuery:function(i,r){if(1&i&&(Tn(dtt,5),Tn(htt,5),Tn(ftt,5),Tn(ptt,5)),2&i){let s;Ut(s=Ht())&&(r._languajeList=s.first),Ut(s=Ht())&&(r._sourceList=s.first),Ut(s=Ht())&&(r._fileUpload=s.first),Ut(s=Ht())&&(r._sudoku_board=s.first)}},features:[Ln([{provide:ra,useValue:cse}]),mn],decls:52,vars:17,consts:[["_sudoku_board",""],["_SourceList",""],["_languajeList",""],["_fileUpload",""],[1,"content"],[1,"sudoku-board"],[4,"ngFor","ngForOf"],[3,"ngSubmit","formGroup"],["id","SourceListDiv","align","left",1,"form-group"],["for","SourceList"],["id","tituloListadoLenguajes"],["id","SourceList","name","SourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["id","LangListDiv","align","left",1,"form-group"],["for","LanguajeList"],["id","LanguageList","name","LanguajeList"],["align","left",1,"fileUpload",3,"hidden"],["href","./assets/sudoku.txt","target","_blank","download","sudoku.txt"],[1,"col-12"],[1,"btn","btn-default","p-0"],["type","file","name","_fileUpload",3,"change"],["id","resetFile","type","reset"],["class","progress my-3",4,"ngIf"],["align","left"],["class","alert alert-secondary","role","alert",4,"ngIf"],["id","GetSudoku","type","button",1,"btn","btn-primary",3,"click","value","disabled"],["id","SolveSudoku","type","submit",1,"btn","btn-success",3,"value","disabled"],["align","left",4,"ngIf"],["align","right"],[3,"routerLink","queryParams"],[3,"className"],[3,"value","selected"],[1,"progress","my-3"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-info","progress-bar-striped",3,"ngStyle"],["role","alert",1,"alert","alert-secondary"],["type","button","name","btnGeneratePdf","value","[GENERATE PDF]",1,"btn","btn-secondary",3,"click","disabled"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",4),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",5,0)(5,"table")(6,"tbody"),ht(7,vtt,2,1,"tr",6),$()()(),Ye(8,"hr"),q(9,"form",7),ct("ngSubmit",function(){return $t(s),Gt(r._SolveSudoku())}),q(10,"div",8)(11,"label",9)(12,"span",10),pe(13),$()(),q(14,"select",11,1),ct("change",function(){return $t(s),Gt(r._fileUploadDivHiddenChanged())}),ht(16,_tt,2,3,"option",12),$()(),q(17,"div",13)(18,"label",14)(19,"span",10),pe(20),$()(),q(21,"select",15,2),ht(23,btt,2,3,"option",12),$()(),Ye(24,"hr"),q(25,"form")(26,"div",16)(27,"a",17),pe(28,"[Download Template]"),$(),Ye(29,"hr"),q(30,"div",18)(31,"label",19)(32,"input",20,3),ct("change",function(a){return $t(s),Gt(r.selectFile(a))}),$()(),pe(34," | "),q(35,"button",21),pe(36,"[RESET]"),$()(),Ye(37,"hr"),ht(38,ytt,3,5,"div",22),$()(),Ye(39,"hr"),q(40,"div",23),ht(41,wtt,2,1,"div",24),$(),Ye(42,"hr"),q(43,"div",23)(44,"input",25),ct("click",function(){return $t(s),Gt(r._GetSudoku())}),$(),pe(45," | "),Ye(46,"input",26),ht(47,xtt,3,1,"span",27),$()(),Ye(48,"hr"),q(49,"div",28)(50,"a",29),pe(51,"[Back to Menu]"),$()()()}2&i&&(te(7),Se("ngForOf",r.board),te(2),Se("formGroup",r.rf_searchForm),te(4),An(r.tituloGenerarDesde),te(3),Se("ngForOf",r.__generateSourceList),te(4),An(r.tituloListadoLenguajes),te(3),Se("ngForOf",r.__languajeList),te(3),Se("hidden",r._fileUploadDivHidden),te(12),Se("ngIf",r.currentFile),te(3),Se("ngIf",r.status_message()),te(3),Se("value",r.btnGenerateCaption)("disabled","[...generating...]"==r.btnGenerateCaption||"[...solving...]"==r.btnSolveCaption),te(2),Se("value",r.btnSolveCaption)("disabled","[...solving...]"==r.btnSolveCaption||"[...generating...]"==r.btnGenerateCaption||1==r.sudokuSolved),te(),Se("ngIf",r.board.length>0),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(16,mtt)))},dependencies:[Ma,pa,JI,Yh,wu,xu,Kh,od,lw,rs,yr],styles:[".sudoku-board[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:auto;height:auto;border:1px solid black}.sudoku-cell_bright[_ngcontent-%COMP%]{text-align:center;font-size:20px;color:#0ff}.sudoku-cell_dark[_ngcontent-%COMP%]{text-align:center;font-size:20px;background-color:#ccc}.fileUpload[_ngcontent-%COMP%]{padding:1em;background-color:#ccc}a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{color:#007bff}table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function BQ(n=0,t=l2){return n<0&&(n=0),c2(n,n,t)}const Stt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});function Ett(n,t){if(1&n&&Ye(0,"div",13),2&n){const e=t.$implicit;rm("background-color",e),oi("filled",e)}}function Dtt(n,t){if(1&n&&(q(0,"div",11),ht(1,Ett,1,4,"div",12),$()),2&n){const e=t.$implicit;te(),Se("ngForOf",e)}}function Mtt(n,t){if(1&n){const e=Bi();q(0,"button",8),ct("click",function(){return $t(e),Gt(lt().startGame())}),pe(1),$()}if(2&n){const e=lt();te(),di(" ",e.gameOver?"Play Again":"Start Game"," ")}}function Ttt(n,t){if(1&n){const e=Bi();q(0,"div",14)(1,"button",15),ct("click",function(){return $t(e),Gt(lt().moveLeft())}),pe(2,"\u2190"),$(),q(3,"button",15),ct("click",function(){return $t(e),Gt(lt().moveRight())}),pe(4,"\u2192"),$(),q(5,"button",8),ct("click",function(){return $t(e),Gt(lt().rotate())}),pe(6,"Rotate"),$(),q(7,"button",8),ct("click",function(){return $t(e),Gt(lt().drop())}),pe(8,"Drop"),$()()}}let Ntt=(()=>{class n extends yr{constructor(e,i,r,s,o){super(i,o,r,s,bl),this.pageRestartService=e,this.configService=i,this.route=r,this.speechService=s,this.backendService=o,this.BOARD_WIDTH=10,this.BOARD_HEIGHT=20,this.TICK_INTERVAL=1e3,this.board=[],this.displayBoard=[],this.currentPiece=[],this.currentColor="",this.score=0,this.isPlaying=!1,this.gameOver=!1,this.isMobile=!1,this.TETROMINOS={I:{shape:[[1,1,1,1]],color:"#00f0f0"},O:{shape:[[1,1],[1,1]],color:"#f0f000"},T:{shape:[[0,1,0],[1,1,1]],color:"#a000f0"},S:{shape:[[0,1,1],[1,1,0]],color:"#00f000"},Z:{shape:[[1,1,0],[0,1,1]],color:"#f00000"},J:{shape:[[1,0,0],[1,1,1]],color:"#0000f0"},L:{shape:[[0,0,1],[1,1,1]],color:"#f0a000"}}}restart(){this.pageRestartService.reloadPage()}ngOnInit(){this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.initBoard()}handleKeyboardEvent(e){if(this.isPlaying&&!this.gameOver)switch(e.key){case"ArrowLeft":this.moveLeft();break;case"ArrowRight":this.moveRight();break;case"ArrowUp":this.rotate();break;case"ArrowDown":this.moveDown();break;case" ":this.drop()}}initBoard(){this.board=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill("")),this.displayBoard=Array(this.BOARD_HEIGHT).fill(null).map(()=>Array(this.BOARD_WIDTH).fill(""))}startGame(){this.gameLoop$&&this.gameLoop$.unsubscribe(),this.initBoard(),this.score=0,this.gameOver=!1,this.isPlaying=!0,this.spawnPiece(),this.gameLoop$=BQ(this.TICK_INTERVAL).subscribe(()=>{this.gameOver||this.moveDown()})}spawnPiece(){const e=Object.keys(this.TETROMINOS),i=e[Math.floor(Math.random()*e.length)],r=this.TETROMINOS[i];this.currentPiece=r.shape.flatMap((s,o)=>s.map((a,l)=>a?{x:l+Math.floor(this.BOARD_WIDTH/2)-1,y:o}:null)).filter(s=>null!==s),this.currentColor=r.color,this.checkCollision()&&(this.gameOver=!0,this.isPlaying=!1,this.gameLoop$&&this.gameLoop$.unsubscribe()),this.updateDisplayBoard()}moveLeft(){const e=this.currentPiece.map(i=>({...i,x:i.x-1}));this.isValidMove(e)&&(this.currentPiece=e,this.updateDisplayBoard())}moveRight(){const e=this.currentPiece.map(i=>({...i,x:i.x+1}));this.isValidMove(e)&&(this.currentPiece=e,this.updateDisplayBoard())}moveDown(){const e=this.currentPiece.map(i=>({...i,y:i.y+1}));this.isValidMove(e)?(this.currentPiece=e,this.updateDisplayBoard()):(this.lockPiece(),this.clearLines(),this.spawnPiece())}drop(){for(;this.isValidMove(this.currentPiece.map(e=>({...e,y:e.y+1})));)this.currentPiece=this.currentPiece.map(e=>({...e,y:e.y+1}));this.updateDisplayBoard(),this.lockPiece(),this.clearLines(),this.spawnPiece()}rotate(){if(!this.currentPiece.length)return;const e=this.currentPiece[1],i=this.currentPiece.map(r=>({x:e.x-(r.y-e.y),y:e.y+(r.x-e.x)}));this.isValidMove(i)&&(this.currentPiece=i,this.updateDisplayBoard())}isValidMove(e){return e.every(i=>i.x>=0&&i.x<this.BOARD_WIDTH&&i.y>=0&&i.y<this.BOARD_HEIGHT&&!this.board[i.y]?.[i.x])}checkCollision(){return!this.isValidMove(this.currentPiece)}updateDisplayBoard(){this.displayBoard=this.board.map(e=>[...e]),this.currentPiece.forEach(e=>{e.y>=0&&e.y<this.BOARD_HEIGHT&&(this.displayBoard[e.y][e.x]=this.currentColor)})}lockPiece(){this.currentPiece.forEach(e=>{e.y>=0&&e.y<this.BOARD_HEIGHT&&(this.board[e.y][e.x]=this.currentColor)}),this.updateDisplayBoard()}clearLines(){let e=0;for(let i=this.BOARD_HEIGHT-1;i>=0;i--)this.board[i].every(r=>""!==r)&&(this.board.splice(i,1),this.board.unshift(Array(this.BOARD_WIDTH).fill("")),e++,i++);e>0&&(this.score+=100*Math.pow(2,e-1)),this.updateDisplayBoard()}ngOnDestroy(){this.gameLoop$&&this.gameLoop$.unsubscribe()}static{this.\u0275fac=function(i){return new(i||n)(oe(Itt),oe(Hi),oe(Wr),oe(vs),oe($r))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-game-tetris"]],hostBindings:function(i,r){1&i&&ct("keydown",function(o){return r.handleKeyboardEvent(o)},0,_q)},features:[Ln([{provide:ra,useValue:"PAGE_GAMES_TETRIS"}]),mn],decls:18,vars:9,consts:[["align","center"],[1,"game-container"],[1,"game-board"],["class","row",4,"ngFor","ngForOf"],[1,"controls"],[1,"score"],[3,"click",4,"ngIf"],["class","mobile-controls",4,"ngIf"],[3,"click"],["align","right"],[3,"routerLink","queryParams"],[1,"row"],["class","cell",3,"filled","backgroundColor",4,"ngFor","ngForOf"],[1,"cell"],[1,"mobile-controls"],[2,"font-size","x-large",3,"click"]],template:function(i,r){1&i&&(q(0,"div",0),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",1)(4,"div",2),ht(5,Dtt,2,1,"div",3),$(),q(6,"div",4)(7,"div",5),pe(8),$(),ht(9,Mtt,2,1,"button",6)(10,Ttt,9,0,"div",7),$()(),Ye(11,"hr"),q(12,"button",8),ct("click",function(){return r.restart()}),pe(13,"[RESTART]"),$(),Ye(14,"hr"),q(15,"div",9)(16,"a",10),pe(17,"[Back to Menu]"),$()()()),2&i&&(te(3),oi("game-over",r.gameOver),te(2),Se("ngForOf",r.displayBoard),te(3),di("Score: ",r.score,""),te(),Se("ngIf",!r.isPlaying||r.gameOver),te(),Se("ngIf",r.isMobile),te(6),Se("routerLink","/PageUrlList")("queryParams",Us(8,Stt)))},dependencies:[Ma,pa,rs,yr],styles:[".game-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px}.game-board[_ngcontent-%COMP%]{border:2px solid #333;background:#f0f0f0}.row[_ngcontent-%COMP%]{display:flex}.cell[_ngcontent-%COMP%]{width:25px;height:25px;border:1px solid #ccc}.cell.filled[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2)}.controls[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score[_ngcontent-%COMP%]{font-size:24px;margin-bottom:10px}button[_ngcontent-%COMP%]{padding:10px 20px;margin:5px;cursor:pointer}.mobile-controls[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:20px}.game-over[_ngcontent-%COMP%]   .game-board[_ngcontent-%COMP%]{opacity:.5}@media (max-width: 600px){.cell[_ngcontent-%COMP%]{width:20px;height:20px}}"]})}}return n})(),Itt=(()=>{class n{constructor(e){this.router=e}reloadPage(){window.location.reload()}reloadCurrentRoute(){var e=this;return(0,Tt.A)(function*(){const i=e.router.url;return yield e.router.navigateByUrl("/",{skipLocationChange:!0}),e.router.navigateByUrl(i)})()}reloadWithQueryParamsRefresh(){const e=window.location.href;window.location.href=e}static{this.\u0275fac=function(i){return new(i||n)(dt(Cu))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Btt=(()=>{class n{constructor(e){this.http=e,this.apiUrl=`${this.getConfigValue("baseUrlNetCoreCPPEntry")}api/tetris`,this.autoPlaySub=null,this.gameCreated=!1,this.handleError=i=>{const r=i.error?.error||i.message||"Unknown error";return console.error("\u274c Tetris API Error:",r),cm(()=>new Error(r))}}getConfigValue(e){return JSON.parse(JSON.stringify(eo.externalConfig))[e]}createGame(){return this.http.post(`${this.apiUrl}/create`,{}).pipe($s(()=>{this.gameCreated=!0,console.log("\u2705 Game instance created")}),oc(this.handleError))}destroyGame(){return this.gameCreated=!1,this.http.post(`${this.apiUrl}/destroy`,{}).pipe(oc(this.handleError))}reset(){return this.gameCreated?this.http.post(`${this.apiUrl}/reset`,{}).pipe(oc(this.handleError)):this.createGame()}step(){return this.gameCreated?this.http.post(`${this.apiUrl}/step`,{}).pipe(oc(this.handleError)):cm(()=>new Error("Game not created. Call createGame() first."))}getState(){return this.gameCreated?this.http.get(`${this.apiUrl}/state`).pipe(oc(e=>(console.warn("\u26a0\ufe0f State fetch failed:",e),Yn(null)))):Yn(null)}trainAI(e="tetris_weights.txt",i=20){return this.http.post(`${this.apiUrl}/train`,{weightsFile:e,generations:i}).pipe($s(()=>console.log("\u2705 AI training complete")),oc(this.handleError))}loadAI(e){return this.gameCreated?this.http.post(`${this.apiUrl}/load-ai`,{weightsFile:e}).pipe(oc(this.handleError)):cm(()=>new Error("Game not created."))}getAIWeights(){return this.http.get(`${this.apiUrl}/ai-weights`).pipe(oc(this.handleError))}setAIWeights(e){return this.gameCreated?this.http.post(`${this.apiUrl}/ai-weights`,e).pipe(oc(this.handleError)):cm(()=>new Error("Game not created."))}toggleAutoPlay(){return this.gameCreated?this.http.post(`${this.apiUrl}/toggle-auto-play`,{}).pipe(oc(this.handleError)):cm(()=>new Error("Game not created."))}startAutoPlay(){this.autoPlaySub||!this.gameCreated||(this.autoPlaySub=BQ(100).subscribe(()=>{this.step().subscribe({error:e=>console.error("Auto-play error:",e)})}))}stopAutoPlay(){this.autoPlaySub&&(this.autoPlaySub.unsubscribe(),this.autoPlaySub=null)}isAutoPlaying(){return null!==this.autoPlaySub}isGameCreated(){return this.gameCreated}getStateWithPreview(){return this.gameCreated?this.http.get(`${this.apiUrl}/state-with-preview`).pipe(oc(e=>(console.warn("\u26a0\ufe0f State with preview fetch failed:",e),Yn(null)))):Yn(null)}static{this.\u0275fac=function(i){return new(i||n)(dt(oh))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Ftt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});function Ptt(n,t){1&n&&Ye(0,"div",22)}function Ott(n,t){if(1&n&&(q(0,"div",20),ht(1,Ptt,1,0,"div",21),$()),2&n){const e=t.$implicit;te(),Se("ngIf",0!==e)}}function Rtt(n,t){if(1&n&&(q(0,"div",18),ht(1,Ott,2,1,"div",19),$()),2&n){const e=lt(3);te(),Se("ngForOf",e.state.boardMatrix[0])}}function ktt(n,t){if(1&n&&Ye(0,"div",25),2&n){const e=t.$implicit,i=t.index,r=lt().index;oi("empty",0===e)("piece-1",1===e)("piece-2",2===e)("piece-3",3===e)("piece-4",4===e)("piece-5",5===e)("piece-6",6===e)("piece-7",7===e),Se("title","Cell ("+i+","+r+") = "+e)}}function Ltt(n,t){if(1&n&&(q(0,"div",23),ht(1,ktt,1,17,"div",24),$()),2&n){const e=t.$implicit;te(),Se("ngForOf",e)}}function Utt(n,t){if(1&n&&(q(0,"div",15),ht(1,Rtt,2,1,"div",16)(2,Ltt,2,1,"div",17),$()),2&n){const e=lt(2);te(),Se("ngIf",!e.state.gameOver),te(),Se("ngForOf",e.state.boardMatrix)}}function Htt(n,t){1&n&&(q(0,"h3",26),pe(1,"GAME OVER"),$())}function Vtt(n,t){if(1&n){const e=Bi();q(0,"div",5)(1,"div",6),ht(2,Utt,3,2,"div",7),q(3,"div",8)(4,"button",9),ct("click",function(){return $t(e),Gt(lt().reset())}),pe(5,"Reset"),$(),q(6,"button",9),ct("click",function(){return $t(e),Gt(lt().toggleAutoPlay())}),pe(7),$()(),q(8,"div",10)(9,"h3"),pe(10),$(),q(11,"h3"),pe(12),$(),q(13,"h3"),pe(14),$(),q(15,"h3"),pe(16),$(),ht(17,Htt,2,0,"h3",11),$()(),q(18,"div",12)(19,"h3"),pe(20,"AI Configuration"),$(),q(21,"button",9),ct("click",function(){return $t(e),Gt(lt().trainAI())}),pe(22,"Train New AI"),$(),q(23,"button",9),ct("click",function(){return $t(e),Gt(lt().loadAIWeights())}),pe(24,"Refresh Weights"),$(),q(25,"div",13)(26,"label"),pe(27,"Lines Weight: "),q(28,"input",14),Mo("ngModelChange",function(r){$t(e);const s=lt();return Vo(s.aiWeights.linesWeight,r)||(s.aiWeights.linesWeight=r),Gt(r)}),$()(),q(29,"label"),pe(30,"Height Weight: "),q(31,"input",14),Mo("ngModelChange",function(r){$t(e);const s=lt();return Vo(s.aiWeights.heightWeight,r)||(s.aiWeights.heightWeight=r),Gt(r)}),$()(),q(32,"label"),pe(33,"Holes Weight: "),q(34,"input",14),Mo("ngModelChange",function(r){$t(e);const s=lt();return Vo(s.aiWeights.holesWeight,r)||(s.aiWeights.holesWeight=r),Gt(r)}),$()(),q(35,"label"),pe(36,"Bumpiness Weight: "),q(37,"input",14),Mo("ngModelChange",function(r){$t(e);const s=lt();return Vo(s.aiWeights.bumpinessWeight,r)||(s.aiWeights.bumpinessWeight=r),Gt(r)}),$()(),q(38,"button",9),ct("click",function(){return $t(e),Gt(lt().updateAIWeights())}),pe(39,"Update Weights"),$()()()()}if(2&n){const e=lt();te(2),Se("ngIf",e.state.boardMatrix.length>0),te(5),di(" ",e.tetrisService.isAutoPlaying()?"Stop":"Start"," Auto-Play "),te(3),di("Score: ",e.state.score,""),te(2),di("Lines: ",e.state.lines,""),te(2),di("Level: ",e.state.level,""),te(2),di("Next: ",e.getPieceName(e.state.nextPiece),""),te(),Se("ngIf",e.state.gameOver),te(11),Do("ngModel",e.aiWeights.linesWeight),te(3),Do("ngModel",e.aiWeights.heightWeight),te(3),Do("ngModel",e.aiWeights.holesWeight),te(3),Do("ngModel",e.aiWeights.bumpinessWeight)}}function ztt(n,t){if(1&n){const e=Bi();q(0,"button",9),ct("click",function(){return $t(e),Gt(lt(2).initializeGame())}),pe(1," Retry Initialization "),$()}}function Qtt(n,t){1&n&&(q(0,"p",31),pe(1," \u26a0\ufe0f If this persists, check the console (F12) and ensure TensorFlowAppCPP.dll is in the API directory (same folder as your ASP.NET .exe). "),$())}function Gtt(n,t){if(1&n&&(q(0,"div",27)(1,"h2"),pe(2,"\u{1f3ae} Initializing Tetris AI..."),$(),q(3,"p"),pe(4,"Please wait while we load the game engine."),$(),Ye(5,"div",28),ht(6,ztt,2,0,"button",29)(7,Qtt,2,0,"p",30),$()),2&n){const e=lt();te(6),Se("ngIf",!e.initializationAttempted),te(),Se("ngIf",e.initializationAttempted)}}let jtt=(()=>{class n extends yr{constructor(e,i,r,s,o,a,l){super(r,a,s,o,bl),this.http=e,this.cd=i,this.configService=r,this.route=s,this.speechService=o,this.backendService=a,this.tetrisService=l,this.state={score:0,lines:0,level:1,nextPiece:0,gameOver:!1,boardMatrix:Array(20).fill(null).map(()=>Array(10).fill(0))},this.aiWeights={linesWeight:0,heightWeight:0,holesWeight:0,bumpinessWeight:0},this.statePolling=null,this.initializationAttempted=!1}ngOnInit(){this.initializeGame()}ngOnDestroy(){this.stopPolling(),this.tetrisService.stopAutoPlay(),this.tetrisService.isGameCreated()&&this.tetrisService.destroyGame().subscribe()}initializeGame(){this.initializationAttempted||(this.initializationAttempted=!0,this.tetrisService.reset().subscribe({next:e=>{console.log("\u{1f3ae} Initializing Tetris game..."),this.tetrisService.createGame().pipe($s(()=>{console.log("\u2705 Game created, starting state polling"),this.startPolling(),this.loadAIWeights()}),oc(i=>(console.error("\u274c Failed to create game:",i),alert(`Failed to initialize game: ${i.message}. Check console (F12) and ensure DLL is in the API directory.`),[]))).subscribe()},error:e=>console.error("Reset failed:",e)}))}showPreviewBeforeDrop(){this.tetrisService.getStateWithPreview().subscribe(e=>{e&&(this.state=e,this.cd.detectChanges(),setTimeout(()=>{this.tetrisService.step().subscribe(()=>{this.tetrisService.getState().subscribe(i=>{i&&(this.state=i)})})},500))})}startPolling(){this.statePolling||(this.statePolling=BQ(100).subscribe(()=>{this.tetrisService.getStateWithPreview().pipe($s(e=>{e&&console.log("\u{1f4ca} State received:",{score:e.score,lines:e.lines,boardHeight:e.boardMatrix.length,boardWidth:e.boardMatrix[0]?.length,sampleValue:e.boardMatrix[0]?.[0],nextPiece:e.nextPiece})})).subscribe(e=>{e&&e.boardMatrix&&e.boardMatrix.length>0&&(this.state=e)})}))}stopPolling(){this.statePolling&&(this.statePolling.unsubscribe(),this.statePolling=null)}step(){this.tetrisService.step().subscribe({error:e=>console.error("Step failed:",e)})}reset(){this.tetrisService.reset().subscribe({error:e=>console.error("Reset failed:",e)})}toggleAutoPlay(){this.tetrisService.isGameCreated()?this.tetrisService.isAutoPlaying()?this.tetrisService.stopAutoPlay():this.tetrisService.startAutoPlay():alert("Game not initialized. Please wait...")}trainAI(){console.log("\u{1f916} Starting AI training..."),this.tetrisService.trainAI().subscribe(()=>{alert("\u2705 AI training completed!"),this.loadAIWeights()})}loadAIWeights(){this.tetrisService.getAIWeights().subscribe(e=>{this.aiWeights=e,console.log("\u{1f4ca} AI weights loaded:",e)})}updateAIWeights(){this.tetrisService.setAIWeights(this.aiWeights).subscribe(()=>{console.log("\u2705 Weights updated")})}getCellClass(e){return 0===e?"empty":`occupied piece-${e}`}getPieceName(e){return["","I","O","T","S","Z","J","L"][e]||"?"}isGameReady(){return this.tetrisService.isGameCreated()&&this.state.boardMatrix.length>0}static{this.\u0275fac=function(i){return new(i||n)(oe(oh),oe(fa),oe(Hi),oe(Wr),oe(vs),oe($r),oe(Btt))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-game-tetris-ai"]],features:[Ln([{provide:ra,useValue:"PAGE_GAMES_TETRIS_AI"}]),mn],decls:10,vars:5,consts:[["loadingTemplate",""],["align","center"],["class","tetris-container",4,"ngIf","ngIfElse"],["align","right"],[3,"routerLink","queryParams"],[1,"tetris-container"],[1,"board-section"],["class","board",4,"ngIf"],[1,"controls"],[3,"click"],[1,"info"],["class","game-over",4,"ngIf"],[1,"ai-section"],[1,"weights"],["type","number","step","0.1",3,"ngModelChange","ngModel"],[1,"board"],["class","preview-row",4,"ngIf"],["class","row",4,"ngFor","ngForOf"],[1,"preview-row"],["class","cell preview",4,"ngFor","ngForOf"],[1,"cell","preview"],["class","preview-piece",4,"ngIf"],[1,"preview-piece"],[1,"row"],["class","cell",3,"empty","piece-1","piece-2","piece-3","piece-4","piece-5","piece-6","piece-7","title",4,"ngFor","ngForOf"],[1,"cell",3,"title"],[1,"game-over"],[1,"loading-container"],[1,"spinner"],[3,"click",4,"ngIf"],["class","error",4,"ngIf"],[1,"error"]],template:function(i,r){if(1&i&&(q(0,"div",1),Ye(1,"app-base-reference")(2,"hr"),ht(3,Vtt,40,11,"div",2)(4,Gtt,8,2,"ng-template",null,0,zc),Ye(6,"hr"),q(7,"div",3)(8,"a",4),pe(9,"[Back to Menu]"),$()()()),2&i){const s=ha(5);te(3),Se("ngIf",r.isGameReady())("ngIfElse",s),te(5),Se("routerLink","/PageUrlList")("queryParams",Us(4,Ftt))}},dependencies:[Ma,pa,sd,aw,$h,Xh,rs,yr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box}.tetris-container[_ngcontent-%COMP%]{display:flex;gap:30px;padding:20px;font-family:Courier New,monospace;min-height:100vh;background:#1a1a1a;color:#0ff}.board-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.preview-row[_ngcontent-%COMP%]{display:flex;height:20px;margin-bottom:5px;border:2px dashed #0ff;background:#00ffff1a;padding:2px}.cell.preview[_ngcontent-%COMP%]{width:20px;height:20px;border:1px dashed #333;background:transparent;transition:background-color .15s ease}.preview-piece[_ngcontent-%COMP%]{background-color:#ffffffb3!important;width:100%;height:100%;animation:_ngcontent-%COMP%_pulse 1s infinite;border-radius:2px}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:.4;transform:scale(.9)}50%{opacity:1;transform:scale(1)}}.board[_ngcontent-%COMP%]{border:3px solid #444;padding:5px;background:#000;display:inline-block;box-shadow:0 0 20px #00ffff4d;min-width:210px;min-height:420px}.row[_ngcontent-%COMP%]{display:flex;height:20px;min-height:20px}.cell[_ngcontent-%COMP%]{width:20px;height:20px;min-width:20px;min-height:20px;border:1px solid #222;flex-shrink:0;display:block}.empty[_ngcontent-%COMP%]{background-color:#111!important}.piece-1[_ngcontent-%COMP%]{background-color:#0ff!important}.piece-2[_ngcontent-%COMP%]{background-color:#ff0!important}.piece-3[_ngcontent-%COMP%]{background-color:#f0f!important}.piece-4[_ngcontent-%COMP%]{background-color:#0f0!important}.piece-5[_ngcontent-%COMP%]{background-color:red!important}.piece-6[_ngcontent-%COMP%]{background-color:#00f!important}.piece-7[_ngcontent-%COMP%]{background-color:#f90!important}.controls[_ngcontent-%COMP%]{margin-top:30px;display:flex;gap:10px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;font-weight:700;background:#333;color:#0ff;border:2px solid #0ff;cursor:pointer;transition:all .3s}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#0ff;color:#000}.info[_ngcontent-%COMP%]{margin-top:20px;background:#222;padding:15px;border-radius:5px;min-width:200px}.info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:5px 0;color:#0ff}.game-over[_ngcontent-%COMP%]{color:red!important;font-size:24px;margin-top:20px!important;animation:_ngcontent-%COMP%_blink 1s infinite}@keyframes _ngcontent-%COMP%_blink{50%{opacity:.5}}.ai-section[_ngcontent-%COMP%]{display:none!important;border-left:2px solid #444;padding-left:30px;color:#0f0}.ai-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0}.weights[_ngcontent-%COMP%]{margin-top:20px}.weights[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin:10px 0;color:#0ff}.weights[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80px;margin-left:10px;background:#111;color:#0ff;border:1px solid #0ff;padding:5px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #333;border-top-color:#0ff;border-radius:50%;animation:spin 1s linear infinite;margin:20px auto}"]})}}return n})(),yde=(()=>{class n{constructor(){this.value=null,this.clickEvent=new Cn}onClick(){this.clickEvent.emit()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-square"]],inputs:{value:"value"},outputs:{clickEvent:"clickEvent"},standalone:!0,features:[qr],decls:2,vars:1,consts:[[1,"square",3,"click"]],template:function(i,r){1&i&&(q(0,"button",0),ct("click",function(){return r.onClick()}),pe(1),$()),2&i&&(te(),An(null==r.value?"_":r.value))},dependencies:[gA],styles:[".square[_ngcontent-%COMP%]{width:50px;height:50px}"]})}}return n})(),qtt=(()=>{class n{constructor(){this.COMPUTER=1,this.HUMAN=2,this.COMPUTERMOVE="O",this.HUMANMOVE="X",this.SIDE=3,this.boardSurface=this.SIDE*this.SIDE,this.whoseTurn=this.HUMAN,this.moveIndex=0,this.board=[],this.winner=null,this.squares=Array(this.boardSurface).fill(null),this.message=hA(""),this.initialise()}initialise(){this.squares=[],this.squares=Array(9).fill(null),this.board=[];for(let e=0;e<this.SIDE;e++){const i=[];for(let r=0;r<this.SIDE;r++)i.push(null);this.board.push(i)}this.winner=null,this.moveIndex=0,this.message.set("")}declareWinner(e){e==this.COMPUTER?(this.message.set("[COMPUTER WON]"),this.winner=this.COMPUTERMOVE):(this.message.set("[PLAYER WON]"),this.winner=this.HUMANMOVE)}rowCrossed(e){for(let i=0;i<this.SIDE;i++)if(e[i][0]==e[i][1]&&e[i][1]==e[i][2]&&null!=e[i][0])return!0;return!1}columnCrossed(e){for(let i=0;i<this.SIDE;i++)if(e[0][i]==e[1][i]&&e[1][i]==e[2][i]&&null!=e[0][i])return!0;return!1}diagonalCrossed(e){return e[0][0]==e[1][1]&&e[1][1]==e[2][2]&&null!=e[0][0]||e[0][2]==e[1][1]&&e[1][1]==e[2][0]&&null!=e[0][2]}gameOver(e){return this.rowCrossed(e)||this.columnCrossed(e)||this.diagonalCrossed(e)}minimax(e,i,r){let s=0,o=0;if(1==this.gameOver(e)){if(1==r)return-1;if(0==r)return 1}if(i<9){if(1==r){o=-999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==e[a][l]&&(e[a][l]=this.COMPUTERMOVE,s=this.minimax(e,i+1,!1),e[a][l]=null,s>o&&(o=s));return o}o=999;for(let a=0;a<this.SIDE;a++)for(let l=0;l<this.SIDE;l++)null==e[a][l]&&(e[a][l]=this.HUMANMOVE,s=this.minimax(e,i+1,!0),e[a][l]=null,s<o&&(o=s));return o}return 0}bestMove(e,i){let r=-1,s=-1,o=0,a=-999;for(let l=0;l<this.SIDE;l++)for(let c=0;c<this.SIDE;c++)null==e[l][c]&&(e[l][c]=this.COMPUTERMOVE,o=this.minimax(e,i+1,!1),e[l][c]=null,o>a&&(a=o,r=l,s=c));return 3*r+s}doPlay(e,i,r){this.whoseTurn=e;let s=0;switch(e){case this.COMPUTER:s=Math.abs(this.bestMove(this.board,this.moveIndex));break;case this.HUMAN:s=r}let o=Math.floor(s/this.SIDE),a=Math.floor(s%this.SIDE);this.board[o][a]=i,this.squares[s]=i,this.moveIndex++}_declareWinner(){let e=0==this.gameOver(this.board);return 0==(e&&this.moveIndex!=this.boardSurface)&&(e&&this.moveIndex==this.boardSurface?(this.message.set("[DRAW]"),this.winner=null):this.declareWinner(this.whoseTurn),!0)}makeHumanMove(e){this.doPlay(this.HUMAN,this.HUMANMOVE,e)}makeComputerMove(){this.doPlay(this.COMPUTER,this.COMPUTERMOVE,0)}makeMove(e){this.squares[e]||this.winner||(this.makeHumanMove(e),0==this._declareWinner()&&(this.makeComputerMove(),this._declareWinner()))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Wtt=["_SourceList"],wde=()=>[0,1,2];function $tt(n,t){if(1&n){const e=Bi();q(0,"app-square",15),ct("clickEvent",function(){const r=$t(e).$implicit,s=lt().$implicit;return Gt(lt(2).makeMove(3*s+r))}),$()}if(2&n){const e=t.$implicit,i=lt().$implicit;Se("value",lt(2).ticTacToeEngine.squares[3*i+e])}}function Ktt(n,t){1&n&&(q(0,"div",13),ht(1,$tt,1,1,"app-square",14),$()),2&n&&(te(),Se("ngForOf",Us(1,wde)))}function Xtt(n,t){1&n&&(q(0,"div",11),ht(1,Ktt,2,2,"div",12),$()),2&n&&(te(),Se("ngForOf",Us(1,wde)))}function Ytt(n,t){if(1&n&&(q(0,"option",16),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function Ztt(n,t){if(1&n&&(q(0,"div",17)(1,"b"),pe(2),$()()),2&n){const e=lt();te(2),An(e.ticTacToeEngine.message())}}let xde=(()=>{class n{constructor(e,i){this.ticTacToeEngine=e,this.speechService=i,this.tituloSource="\xbfWho Starts?",this.IsNewGame=!1,this.showBoard=!1,dv(()=>{this.ticTacToeEngine.message()&&this.speechService.speakTextCustom(this.ticTacToeEngine.message())})}ngOnInit(){this.__SourceList=new Array,this.__SourceList.push(new MA(0,"(CHOOSE OPTION...)",!1)),this.__SourceList.push(new MA(this.ticTacToeEngine.COMPUTER,"[Computer]",!0)),this.__SourceList.push(new MA(this.ticTacToeEngine.HUMAN,"[Player]",!1)),this.ticTacToeEngine.initialise()}ngAfterViewInit(){this._sourceList.nativeElement.options.selectedIndex=1}_tituloSourceChanged(){}makeMove(e){this.ticTacToeEngine.makeMove(e)}newGame(){this.ticTacToeEngine.initialise(),this.IsNewGame=!0,this.showBoard=!1}startGame(){this._sourceList.nativeElement.options[this._sourceList.nativeElement.options.selectedIndex].value==this.ticTacToeEngine.COMPUTER&&this.ticTacToeEngine.makeComputerMove(),this.IsNewGame=!1,this.showBoard=!0}static{this.\u0275fac=function(i){return new(i||n)(oe(qtt),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-board"]],viewQuery:function(i,r){if(1&i&&Tn(Wtt,5),2&i){let s;Ut(s=Ht())&&(r._sourceList=s.first)}},standalone:!0,features:[qr],decls:19,vars:7,consts:[["_SourceList",""],["class","tictactoe-board","align","center",4,"ngIf"],["id","SourceListDiv","align","center",1,"form-group"],["id","tituloSource"],["for","_SourceList"],["id","_SourceList","name","_SourceList",3,"change","disabled"],[3,"value","selected",4,"ngFor","ngForOf"],["align","center",1,"form-group"],["type","button","value","[New]",1,"btn","btn-primary",3,"click","disabled"],["type","button","value","[Start]",1,"btn","btn-success",3,"click","disabled"],["class","alert alert-secondary","role","alert",4,"ngIf"],["align","center",1,"tictactoe-board"],["class","board-row",4,"ngFor","ngForOf"],[1,"board-row"],[3,"value","clickEvent",4,"ngFor","ngForOf"],[3,"clickEvent","value"],[3,"value","selected"],["role","alert",1,"alert","alert-secondary"]],template:function(i,r){if(1&i){const s=Bi();ht(0,Xtt,2,2,"div",1),Ye(1,"hr"),q(2,"form")(3,"div",2)(4,"span",3),pe(5),$(),Ye(6,"label",4),pe(7," | "),q(8,"select",5,0),ct("change",function(){return $t(s),Gt(r._tituloSourceChanged())}),ht(10,Ytt,2,3,"option",6),$()(),Ye(11,"hr"),q(12,"div",7)(13,"input",8),ct("click",function(){return $t(s),Gt(r.newGame())}),$(),pe(14," | "),q(15,"input",9),ct("click",function(){return $t(s),Gt(r.startGame())}),$()(),Ye(16,"hr"),q(17,"div",7),ht(18,Ztt,3,1,"div",10),$()()}2&i&&(Se("ngIf",r.showBoard),te(5),An(r.tituloSource),te(3),Se("disabled",0==r.IsNewGame),te(2),Se("ngForOf",r.__SourceList),te(3),Se("disabled",1==r.IsNewGame),te(2),Se("disabled",0==r.IsNewGame),te(3),Se("ngIf",r.ticTacToeEngine.message()))},dependencies:[yde,gA,Ma,pa],styles:[".tictactoe-board[_ngcontent-%COMP%]{width:auto;height:auto;border:1px solid black}"]})}}return n})();const Jtt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});let ent=(()=>{class n extends yr{constructor(e,i,r,s){super(e,s,i,r,bl),this.configService=e,this.route=i,this.speechService=r,this.backendService=s}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe(Wr),oe(vs),oe($r))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-game-tictactoe"]],features:[Ln([{provide:ra,useValue:"PAGE_GAMES_TIC_TAC_TOE"}]),mn],decls:7,vars:3,consts:[[1,"content"],["align","right"],[3,"routerLink","queryParams"]],template:function(i,r){1&i&&(q(0,"div",0),Ye(1,"app-base-reference")(2,"app-board")(3,"hr"),q(4,"div",1)(5,"a",2),pe(6,"[Back to Menu]"),$()()()),2&i&&(te(5),Se("routerLink","/PageUrlList")("queryParams",Us(2,Jtt)))},dependencies:[xde,rs,yr]})}}return n})();const tnt=()=>({pageName:"PAGE_DEMOS_GAMES_INDEX"});function nnt(n,t){if(1&n&&(q(0,"option",14),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function int(n,t){if(1&n){const e=Bi();q(0,"label"),pe(1," Creativity: "),q(2,"input",15),ct("input",function(r){return $t(e),Gt(lt().onTempChange(r))}),$(),pe(3),$()}if(2&n){const e=lt();te(2),Se("value",e.temperature),te(),di(" ",e.temperature.toFixed(1)," ")}}function rnt(n,t){if(1&n&&(q(0,"div",16),pe(1),$()),2&n){const e=lt();te(),di(" \u26a0\ufe0f ",e.error," ")}}function snt(n,t){1&n&&(q(0,"div",17),pe(1," \u{1f9e0} AI is generating a game... "),$())}function ont(n,t){if(1&n&&(q(0,"div"),pe(1),$()),2&n){const e=t.$implicit,i=t.index,r=lt(2);Wf(r.getCellClass(e,i)),te(),di(" ",r.getCellSymbol(e)," ")}}function ant(n,t){if(1&n&&(q(0,"div",18),ht(1,ont,2,4,"div",19),$()),2&n){const e=lt();te(),Se("ngForOf",e.gameHistory[e.currentStep])}}function lnt(n,t){if(1&n&&(q(0,"div",20)(1,"p")(2,"strong"),pe(3),$()(),q(4,"p")(5,"strong"),pe(6),$()()()),2&n){const e=lt();te(3),SI("Step ",e.currentStep," / ",e.gameHistory.length-1,""),te(3),An(e.winner)}}let cnt=(()=>{class n extends yr{constructor(e,i,r,s){super(e,s,i,r,bl),this.configService=e,this.route=i,this.speechService=r,this.backendService=s,this.gameHistory=[],this.currentStep=0,this.winner="In Progress",this.loading=!0,this.error="",this.aiMode=3,this.temperature=1.5}ngOnInit(){this.queryParams()}queryParams(){this.route.queryParams.subscribe({next:e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,"(.NET Core/C++ -> Expert        ) ",!0,"CPP")),this.__languajeList.push(new br(1,"(.NET Core/C++ -> Creative      ) ",!1,"CPP")),this.__languajeList.push(new br(2,"(.NET Core/C++ -> Min Max       ) ",!1,"CPP")),this.__languajeList.push(new br(3,"(.NET Core/C++ -> Random Player ) ",!1,"CPP")),this.__languajeList.push(new br(4,"(.NET Core/C++ -> Tensorflow    ) ",!1,"PY"));let i=e.langName?e.langName:"";if(""!==i){console.log(` LangName : ${i}`);for(var r=0;r<this.__languajeList.length;r++)if(this.__languajeList[r]._shortName==i){this.__languajeList[r]._selected=!0,this.aiMode=this.__languajeList[r]._index;break}}else this.aiMode=0;this.loadGame()},complete:()=>{}})}getConfigValue(e){return JSON.parse(JSON.stringify(eo.externalConfig))[e]}loadGame(){this.loading=!0,this.error="",this.currentStep=0,this.winner="In Progress",this.animationInterval&&clearInterval(this.animationInterval);const e=`${this.getConfigValue("baseUrlNetCoreCPPEntry")}api/tictactoe/play?aiMode=${this.aiMode}&temperature=${this.temperature}`;console.log(` aiMode : ${this.aiMode}`),console.log(` url    : ${e}`),fetch(e).then(i=>{if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return i.json()}).then(i=>{this.gameHistory=i.history,this.loading=!1,this.animateGame()}).catch(i=>{this.error="Failed to load game: "+i.message,this.loading=!1,console.error("Fetch error:",i)})}animateGame(){this.currentStep=0,this.winner="In Progress",this.animationInterval=setInterval(()=>{this.currentStep<this.gameHistory.length-1?(this.currentStep++,this.getCurrentWinner()):clearInterval(this.animationInterval)},800)}getCellSymbol(e){return 1===e?"X":-1===e?"O":""}getCellClass(e,i){let r="cell ";return 1===e&&(r+="x-cell"),-1===e&&(r+="o-cell"),0===e&&(r+="empty-cell"),r}onReplay(){this.loadGame()}onAiModeChange(e){const i=e.target;i instanceof HTMLSelectElement&&(this.aiMode=Number(i.value))}onTempChange(e){const i=e.target;i&&(this.temperature=parseFloat(i.value))}getCurrentWinner(){const i=this.gameHistory[this.currentStep],r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[s,o,a]of r)if(0!==i[s]&&i[s]===i[o]&&i[o]===i[a])return this.winner="Winner : "+(1===i[s]?"X":"O"),this.status_message.set(this.winner),this.winner;return i.every(s=>0!==s)?(this.winner="Winner: Draw",this.status_message.set(this.winner),this.winner):this.winner}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe(Wr),oe(vs),oe($r))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-tic-tac-toe-board-ai"]],features:[Ln([{provide:ra,useValue:"PAGE_GAMES_TIC_TAC_TOE_AI"}]),mn],decls:23,vars:11,consts:[["_languajeList",""],[1,"content"],[1,"game-container"],[1,"controls"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"button_tictactoe",3,"click","disabled"],["class","error",4,"ngIf"],["class","loading",4,"ngIf"],["align","center","class","board",4,"ngIf"],["class","game-info",4,"ngIf"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],["type","range","min","0.1","max","2.0","step","0.1",3,"input","value"],[1,"error"],[1,"loading"],["align","center",1,"board"],[3,"class",4,"ngFor","ngForOf"],[1,"game-info"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",2)(4,"div",3)(5,"label"),pe(6," AI Style: "),q(7,"select",4,0),ct("change",function(a){return $t(s),Gt(r.onAiModeChange(a))}),ht(9,nnt,2,3,"option",5),$()(),Ye(10,"br"),ht(11,int,4,2,"label",6),Ye(12,"br"),q(13,"button",7),ct("click",function(){return $t(s),Gt(r.loadGame())}),pe(14),$()(),ht(15,rnt,2,1,"div",8)(16,snt,2,0,"div",9)(17,ant,2,1,"div",10)(18,lnt,7,3,"div",11),$(),Ye(19,"hr"),q(20,"div",12)(21,"a",13),pe(22,"[Back to Menu]"),$()()()}2&i&&(te(9),Se("ngForOf",r.__languajeList),te(2),Se("ngIf",1===r.aiMode),te(2),Se("disabled",r.loading),te(),di(" ",r.loading?"Loading...":"\u{1f501} Replay Game"," "),te(),Se("ngIf",r.error),te(),Se("ngIf",r.loading),te(),Se("ngIf",!r.loading&&!r.error),te(),Se("ngIf",!r.loading&&r.gameHistory.length>0),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(10,tnt)))},dependencies:[Ma,pa,wu,xu,rs,yr],styles:[".game-container[_ngcontent-%COMP%]{display:flex;font-size:x-small;flex-direction:column;align-items:center;justify-content:flex-start;padding:2rem;margin:0 auto;max-width:600px;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1.5rem}.controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;margin-bottom:1.5rem;width:100%}.controls[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:14px}.board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,70px);grid-template-rows:repeat(3,70px);gap:2px;margin:20px auto;background-color:#ccc;padding:5px;border-radius:8px;box-shadow:0 4px 12px #00000026;width:-moz-fit-content;width:fit-content}.cell[_ngcontent-%COMP%]{width:70px;height:70px;border:2px solid #999;display:flex;align-items:center;justify-content:center;font-size:36px;font-weight:700;cursor:default;transition:all .2s ease;background-color:#fff;-webkit-user-select:none;user-select:none}.x-cell[_ngcontent-%COMP%]{background-color:#bbdefb;color:#1565c0}.o-cell[_ngcontent-%COMP%]{background-color:#f8bbd0;color:#c62828}.empty-cell[_ngcontent-%COMP%]{background-color:#f0f0f0;color:#ddd}.button_tictactoe[_ngcontent-%COMP%]{margin-top:1rem;padding:10px 20px;font-size:16px;font-weight:700;cursor:pointer;background-color:#43a047;color:#fff;border:none;border-radius:6px;box-shadow:0 2px 4px #0003;transition:background-color .2s}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#388e3c}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}@media (max-width: 480px){.board[_ngcontent-%COMP%]{grid-template-columns:repeat(3,50px);grid-template-rows:repeat(3,50px);gap:1px;padding:4px}.cell[_ngcontent-%COMP%]{width:50px;height:50px;font-size:28px}h2[_ngcontent-%COMP%]{font-size:1.5rem}}.game-info[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.1rem;color:#333;font-weight:500}.error[_ngcontent-%COMP%], .loading[_ngcontent-%COMP%]{margin:1rem 0;font-weight:700;color:#d32f2f}.loading[_ngcontent-%COMP%]{color:#555;font-style:italic}"]})}}return n})();const Fm=Object.create(null);Fm.open="0",Fm.close="1",Fm.ping="2",Fm.pong="3",Fm.message="4",Fm.upgrade="5",Fm.noop="6";const ER=Object.create(null);Object.keys(Fm).forEach(n=>{ER[Fm[n]]=n});const FQ={type:"error",data:"parser error"},Cde="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Sde="function"==typeof ArrayBuffer,Ede=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,PQ=({type:n,data:t},e,i)=>Cde&&t instanceof Blob?e?i(t):Dde(t,i):Sde&&(t instanceof ArrayBuffer||Ede(t))?e?i(t):Dde(new Blob([t]),i):i(Fm[n]+(t||"")),Dde=(n,t)=>{const e=new FileReader;return e.onload=function(){const i=e.result.split(",")[1];t("b"+(i||""))},e.readAsDataURL(n)};function Mde(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let OQ;const wM=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<64;n++)wM["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(n)]=n;const hnt="function"==typeof ArrayBuffer,RQ=(n,t)=>{if("string"!=typeof n)return{type:"message",data:Tde(n,t)};const e=n.charAt(0);return"b"===e?{type:"message",data:fnt(n.substring(1),t)}:ER[e]?n.length>1?{type:ER[e],data:n.substring(1)}:{type:ER[e]}:FQ},fnt=(n,t)=>{if(hnt){const e=(n=>{let i,s,o,a,l,t=.75*n.length,e=n.length,r=0;"="===n[n.length-1]&&(t--,"="===n[n.length-2]&&t--);const c=new ArrayBuffer(t),u=new Uint8Array(c);for(i=0;i<e;i+=4)s=wM[n.charCodeAt(i)],o=wM[n.charCodeAt(i+1)],a=wM[n.charCodeAt(i+2)],l=wM[n.charCodeAt(i+3)],u[r++]=s<<2|o>>4,u[r++]=(15&o)<<4|a>>2,u[r++]=(3&a)<<6|63&l;return c})(n);return Tde(e,t)}return{base64:!0,data:n}},Tde=(n,t)=>"blob"===t?n instanceof Blob?n:new Blob([n]):n instanceof ArrayBuffer?n:n.buffer;let kQ;function DR(n){return n.reduce((t,e)=>t+e.length,0)}function MR(n,t){if(n[0].length===t)return n.shift();const e=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)e[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),e}function wl(n){if(n)return function vnt(n){for(var t in wl.prototype)n[t]=wl.prototype[t];return n}(n)}wl.prototype.on=wl.prototype.addEventListener=function(n,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(t),this},wl.prototype.once=function(n,t){function e(){this.off(n,e),t.apply(this,arguments)}return e.fn=t,this.on(n,e),this},wl.prototype.off=wl.prototype.removeListener=wl.prototype.removeAllListeners=wl.prototype.removeEventListener=function(n,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var e=this._callbacks["$"+n];if(!e)return this;if(1==arguments.length)return delete this._callbacks["$"+n],this;for(var i,r=0;r<e.length;r++)if((i=e[r])===t||i.fn===t){e.splice(r,1);break}return 0===e.length&&delete this._callbacks["$"+n],this},wl.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),e=this._callbacks["$"+n],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(e){i=0;for(var r=(e=e.slice(0)).length;i<r;++i)e[i].apply(this,t)}return this},wl.prototype.emitReserved=wl.prototype.emit,wl.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},wl.prototype.hasListeners=function(n){return!!this.listeners(n).length};const TR="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),df=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Bde(n,...t){return t.reduce((e,i)=>(n.hasOwnProperty(i)&&(e[i]=n[i]),e),{})}const bnt=df.setTimeout,ynt=df.clearTimeout;function NR(n,t){t.useNativeTimers?(n.setTimeoutFn=bnt.bind(df),n.clearTimeoutFn=ynt.bind(df)):(n.setTimeoutFn=df.setTimeout.bind(df),n.clearTimeoutFn=df.clearTimeout.bind(df))}function xnt(n){return"string"==typeof n?function Cnt(n){let t=0,e=0;for(let i=0,r=n.length;i<r;i++)t=n.charCodeAt(i),t<128?e+=1:t<2048?e+=2:t<55296||t>=57344?e+=3:(i++,e+=4);return e}(n):Math.ceil(1.33*(n.byteLength||n.size))}function Fde(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Dnt extends Error{constructor(t,e,i){super(t),this.description=e,this.context=i,this.type="TransportError"}}class LQ extends wl{constructor(t){super(),this.writable=!1,NR(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,e,i){return super.emitReserved("error",new Dnt(t,e,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const e=RQ(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,e={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(e)}_hostname(){const t=this.opts.hostname;return-1===t.indexOf(":")?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&443!==Number(this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(t){const e=function Snt(n){let t="";for(let e in n)n.hasOwnProperty(e)&&(t.length&&(t+="&"),t+=encodeURIComponent(e)+"="+encodeURIComponent(n[e]));return t}(t);return e.length?"?"+e:""}}class Mnt extends LQ{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||e()})),this.writable||(i++,this.once("drain",function(){--i||e()}))}else e()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){((n,t)=>{const e=n.split("\x1e"),i=[];for(let r=0;r<e.length;r++){const s=RQ(e[r],t);if(i.push(s),"error"===s.type)break}return i})(t,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((n,t)=>{const e=n.length,i=new Array(e);let r=0;n.forEach((s,o)=>{PQ(s,!1,a=>{i[o]=a,++r===e&&t(i.join("\x1e"))})})})(t,e=>{this.doWrite(e,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",e=this.query||{};return!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=Fde()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.createUri(t,e)}}let Pde=!1;try{Pde=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Tnt=Pde;function Nnt(){}class Int extends Mnt{constructor(t){if(super(t),typeof location<"u"){const e="https:"===location.protocol;let i=location.port;i||(i=e?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||i!==t.port}}doWrite(t,e){const i=this.request({method:"POST",data:t});i.on("success",e),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(e,i)=>{this.onError("xhr poll error",e,i)}),this.pollXhr=t}}let IR=(()=>{class n extends wl{constructor(e,i,r){super(),this.createRequest=e,NR(this,r),this._opts=r,this._method=r.method||"GET",this._uri=i,this._data=void 0!==r.data?r.data:null,this._create()}_create(){var e;const i=Bde(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;3===r.readyState&&(null===(s=this._opts.cookieJar)||void 0===s||s.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?this._onLoad():this.setTimeoutFn(()=>{this._onError("number"==typeof r.status?r.status:0)},0))},r.send(this._data)}catch(s){return void this.setTimeoutFn(()=>{this._onError(s)},0)}typeof document<"u"&&(this._index=n.requestsCount++,n.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||null===this._xhr)){if(this._xhr.onreadystatechange=Nnt,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete n.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return n.requestsCount=0,n.requests={},n})();function Ode(){for(let n in IR.requests)IR.requests.hasOwnProperty(n)&&IR.requests[n].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",Ode):"function"==typeof addEventListener&&addEventListener("onpagehide"in df?"pagehide":"unload",Ode,!1));const Bnt=function(){const n=Rde({xdomain:!1});return n&&null!==n.responseType}();function Rde(n){const t=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Tnt))return new XMLHttpRequest}catch{}if(!t)try{return new(df[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}const kde=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Pnt extends LQ{get name(){return"websocket"}doOpen(){const t=this.uri(),e=this.opts.protocols,i=kde?{}:Bde(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,e,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const i=t[e],r=e===t.length-1;PQ(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}r&&TR(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",e=this.query||{};return this.opts.timestampRequests&&(e[this.opts.timestampParam]=Fde()),this.supportsBinary||(e.b64=1),this.createUri(t,e)}}const UQ=df.WebSocket||df.MozWebSocket,knt={websocket:class Ont extends Pnt{createSocket(t,e,i){return kde?new UQ(t,e,i):e?new UQ(t,e):new UQ(t)}doWrite(t,e){this.ws.send(e)}},webtransport:class Rnt extends LQ{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const e=function gnt(n,t){kQ||(kQ=new TextDecoder);const e=[];let i=0,r=-1,s=!1;return new TransformStream({transform(o,a){for(e.push(o);;){if(0===i){if(DR(e)<1)break;const l=MR(e,1);s=!(128&~l[0]),r=127&l[0],i=r<126?3:126===r?1:2}else if(1===i){if(DR(e)<2)break;const l=MR(e,2);r=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(DR(e)<8)break;const l=MR(e,8),c=new DataView(l.buffer,l.byteOffset,l.length),u=c.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(FQ);break}r=u*Math.pow(2,32)+c.getUint32(4),i=3}else{if(DR(e)<r)break;const l=MR(e,r);a.enqueue(RQ(s?l:kQ.decode(l),t)),i=0}if(0===r||r>n){a.enqueue(FQ);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=t.readable.pipeThrough(e).getReader(),r=function Ant(){return new TransformStream({transform(n,t){!function unt(n,t){Cde&&n.data instanceof Blob?n.data.arrayBuffer().then(Mde).then(t):Sde&&(n.data instanceof ArrayBuffer||Ede(n.data))?t(Mde(n.data)):PQ(n,!1,e=>{OQ||(OQ=new TextEncoder),t(OQ.encode(e))})}(n,e=>{const i=e.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}n.data&&"string"!=typeof n.data&&(r[0]|=128),t.enqueue(r),t.enqueue(e)})}})}();r.readable.pipeTo(t.writable),this._writer=r.writable.getWriter();const s=()=>{i.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const r=e===t.length-1;this._writer.write(t[e]).then(()=>{r&&TR(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;null===(t=this._transport)||void 0===t||t.close()}},polling:class Fnt extends Int{constructor(t){super(t),this.supportsBinary=Bnt&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new IR(Rde,this.uri(),t)}}},Lnt=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Unt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function HQ(n){if(n.length>8e3)throw"URI too long";const t=n,e=n.indexOf("["),i=n.indexOf("]");-1!=e&&-1!=i&&(n=n.substring(0,e)+n.substring(e,i).replace(/:/g,";")+n.substring(i,n.length));let r=Lnt.exec(n||""),s={},o=14;for(;o--;)s[Unt[o]]=r[o]||"";return-1!=e&&-1!=i&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=function Hnt(n,t){const i=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.slice(0,1)||0===t.length)&&i.splice(0,1),"/"==t.slice(-1)&&i.splice(i.length-1,1),i}(0,s.path),s.queryKey=function Vnt(n,t){const e={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(e[r]=s)}),e}(0,s.query),s}const VQ="function"==typeof addEventListener&&"function"==typeof removeEventListener,BR=[];VQ&&addEventListener("offline",()=>{BR.forEach(n=>n())},!1);let zQ=(()=>{class n extends wl{constructor(e,i){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"==typeof e&&(i=e,e=null),e){const r=HQ(e);i.hostname=r.host,i.secure="https"===r.protocol||"wss"===r.protocol,i.port=r.port,r.query&&(i.query=r.query)}else i.host&&(i.hostname=HQ(i.host).host);NR(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ent(n){let t={},e=n.split("&");for(let i=0,r=e.length;i<r;i++){let s=e[i].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}(this.opts.query)),VQ&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},BR.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=e,this.id&&(i.sid=this.id);const r=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);const e=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(e);i.open(),this.setTransport(i)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=e.data,this._onError(i);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(i+=xnt(s)),r>0&&i>this._maxPayload)return this.writeBuffer.slice(0,r);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,TR(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,i,r){return this._sendPacket("message",e,i,r),this}send(e,i,r){return this._sendPacket("message",e,i,r),this}_sendPacket(e,i,r,s){if("function"==typeof i&&(s=i,i=void 0),"function"==typeof r&&(s=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const o={type:e,data:i,options:r};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),s&&this.once("flush",s),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),e()},r=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,i){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),VQ&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=BR.indexOf(this._offlineEventListener);-1!==r&&BR.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,i),this.writeBuffer=[],this._prevBufferLen=0}}}return n.protocol=4,n})();class znt extends zQ{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let e=this.createTransport(t),i=!1;zQ.priorWebsocketSuccess=!1;const r=()=>{i||(e.send([{type:"ping",data:"probe"}]),e.once("packet",d=>{if(!i)if("pong"===d.type&&"probe"===d.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;zQ.priorWebsocketSuccess="websocket"===e.name,this.transport.pause(()=>{i||"closed"!==this.readyState&&(u(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=e.name,this.emitReserved("upgradeError",f)}}))};function s(){i||(i=!0,u(),e.close(),e=null)}const o=d=>{const f=new Error("probe error: "+d);f.transport=e.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(d){e&&d.name!==e.name&&s()}const u=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};e.once("open",r),e.once("error",o),e.once("close",a),this.once("close",l),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{i||e.open()},200):e.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const e=[];for(let i=0;i<t.length;i++)~this.transports.indexOf(t[i])&&e.push(t[i]);return e}}class Lde extends znt{constructor(t,e={}){const i="object"==typeof t?t:e;(!i.transports||i.transports&&"string"==typeof i.transports[0])&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>knt[r]).filter(r=>!!r)),super(t,i)}}const Gnt="function"==typeof ArrayBuffer,jnt=n=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,Ude=Object.prototype.toString,qnt="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Ude.call(Blob),Wnt="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===Ude.call(File);function QQ(n){return Gnt&&(n instanceof ArrayBuffer||jnt(n))||qnt&&n instanceof Blob||Wnt&&n instanceof File}function FR(n,t){if(!n||"object"!=typeof n)return!1;if(Array.isArray(n)){for(let e=0,i=n.length;e<i;e++)if(FR(n[e]))return!0;return!1}if(QQ(n))return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return FR(n.toJSON(),!0);for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&FR(n[e]))return!0;return!1}function $nt(n){const t=[],i=n;return i.data=GQ(n.data,t),i.attachments=t.length,{packet:i,buffers:t}}function GQ(n,t){if(!n)return n;if(QQ(n)){const e={_placeholder:!0,num:t.length};return t.push(n),e}if(Array.isArray(n)){const e=new Array(n.length);for(let i=0;i<n.length;i++)e[i]=GQ(n[i],t);return e}if("object"==typeof n&&!(n instanceof Date)){const e={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=GQ(n[i],t));return e}return n}function Knt(n,t){return n.data=jQ(n.data,t),delete n.attachments,n}function jQ(n,t){if(!n)return n;if(n&&!0===n._placeholder){if("number"==typeof n.num&&n.num>=0&&n.num<t.length)return t[n.num];throw new Error("illegal attachments")}if(Array.isArray(n))for(let e=0;e<n.length;e++)n[e]=jQ(n[e],t);else if("object"==typeof n)for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(n[e]=jQ(n[e],t));return n}const Hde=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Xnt=5;var Vr=function(n){return n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK",n}(Vr||{});class Ynt{constructor(t){this.replacer=t}encode(t){return t.type!==Vr.EVENT&&t.type!==Vr.ACK||!FR(t)?[this.encodeAsString(t)]:this.encodeAsBinary({type:t.type===Vr.EVENT?Vr.BINARY_EVENT:Vr.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id})}encodeAsString(t){let e=""+t.type;return(t.type===Vr.BINARY_EVENT||t.type===Vr.BINARY_ACK)&&(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data,this.replacer)),e}encodeAsBinary(t){const e=$nt(t),i=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(i),r}}class qQ extends wl{constructor(t){super(),this.reviver=t}add(t){let e;if("string"==typeof t){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");e=this.decodeString(t);const i=e.type===Vr.BINARY_EVENT;i||e.type===Vr.BINARY_ACK?(e.type=i?Vr.EVENT:Vr.ACK,this.reconstructor=new Znt(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e)}else{if(!QQ(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const i={type:Number(t.charAt(0))};if(void 0===Vr[i.type])throw new Error("unknown packet type "+i.type);if(i.type===Vr.BINARY_EVENT||i.type===Vr.BINARY_ACK){const s=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const o=t.substring(s,e);if(o!=Number(o)||"-"!==t.charAt(e))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===t.charAt(e+1)){const s=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);i.nsp=t.substring(s,e)}else i.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const s=e+1;for(;++e;){const o=t.charAt(e);if(null==o||Number(o)!=o){--e;break}if(e===t.length)break}i.id=Number(t.substring(s,e+1))}if(t.charAt(++e)){const s=this.tryParse(t.substr(e));if(!qQ.isPayloadValid(i.type,s))throw new Error("invalid payload");i.data=s}return i}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,e){switch(t){case Vr.CONNECT:return PR(e);case Vr.DISCONNECT:return void 0===e;case Vr.CONNECT_ERROR:return"string"==typeof e||PR(e);case Vr.EVENT:case Vr.BINARY_EVENT:return Array.isArray(e)&&("number"==typeof e[0]||"string"==typeof e[0]&&-1===Hde.indexOf(e[0]));case Vr.ACK:case Vr.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Znt{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const e=Knt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const eit=Number.isInteger||function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n};function PR(n){return"[object Object]"===Object.prototype.toString.call(n)}function iit(n){return function Jnt(n){return"string"==typeof n}(n.nsp)&&function tit(n){return void 0===n||eit(n)}(n.id)&&function nit(n,t){switch(n){case Vr.CONNECT:return void 0===t||PR(t);case Vr.DISCONNECT:return void 0===t;case Vr.EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===Hde.indexOf(t[0]));case Vr.ACK:return Array.isArray(t);case Vr.CONNECT_ERROR:return"string"==typeof t||PR(t);default:return!1}}(n.type,n.data)}function gp(n,t,e){return n.on(t,e),function(){n.off(t,e)}}const rit=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Vde extends wl{constructor(t,e,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[gp(t,"open",this.onopen.bind(this)),gp(t,"packet",this.onpacket.bind(this)),gp(t,"error",this.onerror.bind(this)),gp(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){var i,r,s;if(rit.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(e.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(e),this;const o={type:Vr.EVENT,data:e,options:{}};if(o.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]){const u=this.ids++,d=e.pop();this._registerAckCallback(u,d),o.id=u}const a=null===(r=null===(i=this.io.engine)||void 0===i?void 0:i.transport)||void 0===r?void 0:r.writable,l=this.connected&&!(null!==(s=this.io.engine)&&void 0!==s&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,e){var i;const r=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===r)return void(this.acks[t]=e);const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===t&&this.sendBuffer.splice(a,1);e.call(this,new Error("operation has timed out"))},r),o=(...a)=>{this.io.clearTimeoutFn(s),e.apply(this,a)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...e){return new Promise((i,r)=>{const s=(o,a)=>o?r(o):i(a);s.withError=!0,e.push(s),this.emit(t,...e)})}_addToQueue(t){let e;"function"==typeof t[t.length-1]&&(e=t.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((r,...s)=>(null!==r?i.tryCount>this._opts.retries&&(this._queue.shift(),e&&e(r)):(this._queue.shift(),e&&e(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||0===this._queue.length)return;const e=this._queue[0];e.pending&&!t||(e.pending=!0,e.tryCount++,this.flags=e.flags,this.emit.apply(this,e.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Vr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,e){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,e),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(i=>String(i.id)===t)){const i=this.acks[t];delete this.acks[t],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Vr.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Vr.EVENT:case Vr.BINARY_EVENT:this.onevent(t);break;case Vr.ACK:case Vr.BINARY_ACK:this.onack(t);break;case Vr.DISCONNECT:this.ondisconnect();break;case Vr.CONNECT_ERROR:this.destroy();const i=new Error(t.data.message);i.data=t.data.data,this.emitReserved("connect_error",i)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const i of e)i.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&"string"==typeof t[t.length-1]&&(this._lastOffset=t[t.length-1])}ack(t){const e=this;let i=!1;return function(...r){i||(i=!0,e.packet({type:Vr.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(delete this.acks[t.id],e.withError&&t.data.unshift(null),e.apply(this,t.data))}onconnect(t,e){this.id=t,this.recovered=e&&this._pid===e,this._pid=e,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Vr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const e=this._anyOutgoingListeners;for(let i=0;i<e.length;i++)if(t===e[i])return e.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const e=this._anyOutgoingListeners.slice();for(const i of e)i.apply(this,t.data)}}}function $x(n){this.ms=(n=n||{}).min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}$x.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),e=Math.floor(t*this.jitter*n);n=1&Math.floor(10*t)?n+e:n-e}return 0|Math.min(n,this.max)},$x.prototype.reset=function(){this.attempts=0},$x.prototype.setMin=function(n){this.ms=n},$x.prototype.setMax=function(n){this.max=n},$x.prototype.setJitter=function(n){this.jitter=n};class WQ extends wl{constructor(t,e){var i;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,NR(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=e.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new $x({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const r=e.parser||Pt;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Lde(this.uri,this.opts);const e=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=gp(e,"open",function(){i.onopen(),t&&t()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),t?t(a):this.maybeReconnectOnOpen()},o=gp(e,"error",s);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),e.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(r),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(gp(t,"ping",this.onping.bind(this)),gp(t,"data",this.ondata.bind(this)),gp(t,"error",this.onerror.bind(this)),gp(t,"close",this.onclose.bind(this)),gp(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(e){this.onclose("parse error",e)}}ondecoded(t){TR(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,e){let i=this.nsps[t];return i?this._autoConnect&&!i.active&&i.connect():(i=new Vde(this,t,e),this.nsps[t]=i),i}_destroy(t){const e=Object.keys(this.nsps);for(const i of e)if(this.nsps[i].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let i=0;i<e.length;i++)this.engine.write(e[i],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,e){var i;this.cleanup(),null===(i=this.engine)||void 0===i||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(r=>{r?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",r)):t.onreconnect()}))},e);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const xM={};function OR(n,t){"object"==typeof n&&(t=n,n=void 0);const e=function Qnt(n,t="",e){let i=n;e=e||typeof location<"u"&&location,null==n&&(n=e.protocol+"//"+e.host),"string"==typeof n&&("/"===n.charAt(0)&&(n="/"===n.charAt(1)?e.protocol+n:e.host+n),/^(https?|wss?):\/\//.test(n)||(n=typeof e<"u"?e.protocol+"//"+n:"https://"+n),i=HQ(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+t,i.href=i.protocol+"://"+s+(e&&e.port===i.port?"":":"+i.port),i}(n,(t=t||{}).path||"/socket.io"),i=e.source,r=e.id;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||xM[r]&&e.path in xM[r].nsps?l=new WQ(i,t):(xM[r]||(xM[r]=new WQ(i,t)),l=xM[r]),e.query&&!t.query&&(t.query=e.queryKey),l.socket(e.path,t)}Object.assign(OR,{Manager:WQ,Socket:Vde,io:OR,connect:OR});let sit=(()=>{class n{constructor(e){this.messages=[],this.onNewMessage=new Rn;let i=e.getConfigValue("baseUrlNodeJsChat");this.socket=OR(i,{extraHeaders:{"Access-Control-Allow-Origin":"*"}}),this.socket.on("message",r=>{this.messages.push(r),this.onNewMessage.next(r)})}getMessages(){return Yn(this.messages)}sendMessage(e){this.socket.emit("message",e)}static{this.\u0275fac=function(i){return new(i||n)(dt(Hi))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const oit=["_txtName"],ait=["_txtMessage"],lit=()=>({pageName:"PAGE_DEMOS_MISCELLANEOUS_INDEX"});function cit(n,t){1&n&&(q(0,"div",17),pe(1," Pleae enter all fields "),$())}function uit(n,t){if(1&n&&(q(0,"table",18)(1,"tr")(2,"td")(3,"span",19),pe(4),$()()()()),2&n){const e=t.$implicit;te(4),di(" ",e," ")}}let dit=(()=>{class n extends yr{constructor(e,i,r,s,o,a){super(r,s,o,a,bl),this.chatService=e,this.datePipe=i,this.configService=r,this.backendService=s,this.route=o,this.speechService=a,this.parentData=[]}ngOnInit(){this.chatService.getMessages().subscribe(e=>this.parentData=e),this.chatService.onNewMessage.subscribe(e=>this.NotifyingMessage(e))}NotifyingMessage(e){}submitForm(e){e.valid&&this.sendMessage(e.value.txtName,e.value.txtMessage)}sendMessage(e,i){let o=`[${this.datePipe.transform(new Date,"yyyy-MM-dd HH:mm:ss")}] -[${e}] Says: "${i}"`;this.chatService.sendMessage(o),this.status_message.set(i)}static{this.\u0275fac=function(i){return new(i||n)(oe(sit),oe(eB),oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-chat"]],viewQuery:function(i,r){if(1&i&&(Tn(oit,5),Tn(ait,5)),2&i){let s;Ut(s=Ht())&&(r.txtName=s.first),Ut(s=Ht())&&(r.txtMessage=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_MISCELANEOUS_CHAT"}]),mn],decls:27,vars:5,consts:[["messageinputform","ngForm"],["_txtName",""],["_txtMessage",""],["align","center",1,"content"],["id","divMessageInput","align","left"],[3,"ngSubmit"],[1,"form-group"],["for","txtName"],["type","text","id","txtName","name","txtName","maxlength","10","ngModel","","required",""],["for","txtMessage"],["type","text","id","txtMessage","name","txtMessage","maxlength","25","ngModel","","required",""],["class","form-group","align","left",4,"ngIf"],["type","submit","value","[SEND MESSAGE]",1,"btn","btn-primary"],["id","divMessageOutput"],["class","message-data",4,"ngFor","ngForOf"],["align","right"],[3,"routerLink","queryParams"],["align","left",1,"form-group"],[1,"message-data"],[1,"alert","alet-secondary"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",3),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",4)(4,"form",5,0),ct("ngSubmit",function(){$t(s);const a=ha(5);return Gt(r.submitForm(a))}),q(6,"div",6)(7,"label",7),pe(8,"Your Name:"),$(),Ye(9,"input",8,1),$(),q(11,"div",6)(12,"label",9),pe(13,"Your Message :"),$(),Ye(14,"input",10,2),$(),ht(16,cit,2,0,"div",11),Ye(17,"input",12),$()(),Ye(18,"hr"),q(19,"h4"),pe(20,"[MESSAGES]"),$(),q(21,"div",13),ht(22,uit,5,1,"table",14),$(),Ye(23,"hr"),q(24,"div",15)(25,"a",16),pe(26,"[Back to Menu]"),$()()()}if(2&i){const s=ha(5);te(16),Se("ngIf",0==s.valid&&s.submitted),te(6),Se("ngForOf",r.parentData),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(4,lit))}},dependencies:[Ma,pa,Yh,sd,$h,Kh,cw,sH,Xh,od,rs,yr],styles:["table[_ngcontent-%COMP%]{width:400px;height:auto;border:2px solid black}thead[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{color:bisque}td[_ngcontent-%COMP%]{border:1px dashed #ccc;text-align:left}.form-group[_ngcontent-%COMP%]{background-color:#ccc;width:300px;margin-bottom:1em;display:flex;align-items:center}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}.message-data[_ngcontent-%COMP%]{color:#0ff}"]})}}return n})();class RR{constructor(t,e,i){this.x=t,this.y=e,this.time=i||Date.now()}distanceTo(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}equals(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}velocityFrom(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}class $Q{constructor(t,e,i,r,s,o){this.startPoint=t,this.control2=e,this.control1=i,this.endPoint=r,this.startWidth=s,this.endWidth=o}static fromPoints(t,e){const i=this.calculateControlPoints(t[0],t[1],t[2]).c2,r=this.calculateControlPoints(t[1],t[2],t[3]).c1;return new $Q(t[1],i,r,t[2],e.start,e.end)}static calculateControlPoints(t,e,i){const r=t.x-e.x,s=t.y-e.y,o=e.x-i.x,a=e.y-i.y,l_x=(t.x+e.x)/2,l_y=(t.y+e.y)/2,c_x=(e.x+i.x)/2,c_y=(e.y+i.y)/2,u=Math.sqrt(r*r+s*s),d=Math.sqrt(o*o+a*a),p=d/(u+d),g=e.x-(c_x+(l_x-c_x)*p),A=e.y-(c_y+(l_y-c_y)*p);return{c1:new RR(l_x+g,l_y+A),c2:new RR(c_x+g,c_y+A)}}length(){let i,r,e=0;for(let s=0;s<=10;s+=1){const o=s/10,a=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(s>0){const c=a-i,u=l-r;e+=Math.sqrt(c*c+u*u)}i=a,r=l}return e}point(t,e,i,r,s){return e*(1-t)*(1-t)*(1-t)+3*i*(1-t)*(1-t)*t+3*r*(1-t)*t*t+s*t*t*t}}class kR{constructor(t,e={}){this.canvas=t,this.options=e,this._handleMouseDown=i=>{1===i.which&&(this._mouseButtonDown=!0,this._strokeBegin(i))},this._handleMouseMove=i=>{this._mouseButtonDown&&this._strokeMoveUpdate(i)},this._handleMouseUp=i=>{1===i.which&&this._mouseButtonDown&&(this._mouseButtonDown=!1,this._strokeEnd(i))},this._handleTouchStart=i=>{i.preventDefault(),1===i.targetTouches.length&&this._strokeBegin(i.changedTouches[0])},this._handleTouchMove=i=>{i.preventDefault(),this._strokeMoveUpdate(i.targetTouches[0])},this._handleTouchEnd=i=>{i.target===this.canvas&&(i.preventDefault(),this._strokeEnd(i.changedTouches[0]))},this.velocityFilterWeight=e.velocityFilterWeight||.7,this.minWidth=e.minWidth||.5,this.maxWidth=e.maxWidth||2.5,this.throttle="throttle"in e?e.throttle:16,this.minDistance="minDistance"in e?e.minDistance:5,this._strokeMoveUpdate=this.throttle?function hit(n,t=250){let r,s,o,e=0,i=null;const a=()=>{e=Date.now(),i=null,r=n.apply(s,o),i||(s=null,o=[])};return function(...l){const c=Date.now(),u=t-(c-e);return s=this,o=l,u<=0||u>t?(i&&(clearTimeout(i),i=null),e=c,r=n.apply(s,o),i||(s=null,o=[])):i||(i=window.setTimeout(a,u)),r}}(kR.prototype._strokeUpdate,this.throttle):kR.prototype._strokeUpdate,this.dotSize=e.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=e.penColor||"black",this.backgroundColor=e.backgroundColor||"rgba(0,0,0,0)",this.onBegin=e.onBegin,this.onEnd=e.onEnd,this._ctx=t.getContext("2d"),this.clear(),this.on()}clear(){const t=this._ctx,e=this.canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._data=[],this._reset(),this._isEmpty=!0}fromDataURL(t,e={},i){const r=new Image,s=e.ratio||window.devicePixelRatio||1,o=e.width||this.canvas.width/s,a=e.height||this.canvas.height/s;this._reset(),r.onload=()=>{this._ctx.drawImage(r,0,0,o,a),i&&i()},r.onerror=l=>{i&&i(l)},r.src=t,this._isEmpty=!1}toDataURL(t="image/png",e){return"image/svg+xml"===t?this._toSVG():this.canvas.toDataURL(t,e)}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",window.PointerEvent?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.removeEventListener("pointerdown",this._handleMouseDown),this.canvas.removeEventListener("pointermove",this._handleMouseMove),document.removeEventListener("pointerup",this._handleMouseUp),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this.canvas.removeEventListener("touchmove",this._handleTouchMove),this.canvas.removeEventListener("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(t){this.clear(),this._fromData(t,({color:e,curve:i})=>this._drawCurve({color:e,curve:i}),({color:e,point:i})=>this._drawDot({color:e,point:i})),this._data=t}toData(){return this._data}_strokeBegin(t){this._data.push({color:this.penColor,points:[]}),this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)}_strokeUpdate(t){const r=this._createPoint(t.clientX,t.clientY),s=this._data[this._data.length-1],o=s.points,a=o.length>0&&o[o.length-1],l=!!a&&r.distanceTo(a)<=this.minDistance,c=s.color;if(!a||!a||!l){const u=this._addPoint(r);a?u&&this._drawCurve({color:c,curve:u}):this._drawDot({color:c,point:r}),o.push({time:r.time,x:r.x,y:r.y})}}_strokeEnd(t){this._strokeUpdate(t),"function"==typeof this.onEnd&&this.onEnd(t)}_handlePointerEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("pointerdown",this._handleMouseDown),this.canvas.addEventListener("pointermove",this._handleMouseMove),document.addEventListener("pointerup",this._handleMouseUp)}_handleMouseEvents(){this._mouseButtonDown=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown),this.canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart),this.canvas.addEventListener("touchmove",this._handleTouchMove),this.canvas.addEventListener("touchend",this._handleTouchEnd)}_reset(){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor}_createPoint(t,e){const i=this.canvas.getBoundingClientRect();return new RR(t-i.left,e-i.top,(new Date).getTime())}_addPoint(t){const{_lastPoints:e}=this;if(e.push(t),e.length>2){3===e.length&&e.unshift(e[0]);const i=this._calculateCurveWidths(e[1],e[2]),r=$Q.fromPoints(e,i);return e.shift(),r}return null}_calculateCurveWidths(t,e){const i=this.velocityFilterWeight*e.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(i),s={end:r,start:this._lastWidth};return this._lastVelocity=i,this._lastWidth=r,s}_strokeWidth(t){return Math.max(this.maxWidth/(t+1),this.minWidth)}_drawCurveSegment(t,e,i){const r=this._ctx;r.moveTo(t,e),r.arc(t,e,i,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve({color:t,curve:e}){const i=this._ctx,r=e.endWidth-e.startWidth,s=2*Math.floor(e.length());i.beginPath(),i.fillStyle=t;for(let o=0;o<s;o+=1){const a=o/s,l=a*a,c=l*a,u=1-a,d=u*u,f=d*u;let h=f*e.startPoint.x;h+=3*d*a*e.control1.x,h+=3*u*l*e.control2.x,h+=c*e.endPoint.x;let p=f*e.startPoint.y;p+=3*d*a*e.control1.y,p+=3*u*l*e.control2.y,p+=c*e.endPoint.y,this._drawCurveSegment(h,p,e.startWidth+c*r)}i.closePath(),i.fill()}_drawDot({color:t,point:e}){const i=this._ctx,r="function"==typeof this.dotSize?this.dotSize():this.dotSize;i.beginPath(),this._drawCurveSegment(e.x,e.y,r),i.closePath(),i.fillStyle=t,i.fill()}_fromData(t,e,i){for(const r of t){const{color:s,points:o}=r;if(o.length>1)for(let a=0;a<o.length;a+=1){const l=o[a],c=new RR(l.x,l.y,l.time);this.penColor=s,0===a&&this._reset();const u=this._addPoint(c);u&&e({color:s,curve:u})}else this._reset(),i({color:s,point:o[0]})}}_toSVG(){const t=this._data,e=Math.max(window.devicePixelRatio||1,1),s=this.canvas.width/e,o=this.canvas.height/e,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("width",this.canvas.width.toString()),a.setAttribute("height",this.canvas.height.toString()),this._fromData(t,({color:h,curve:p})=>{const m=document.createElement("path");if(!(isNaN(p.control1.x)||isNaN(p.control1.y)||isNaN(p.control2.x)||isNaN(p.control2.y))){const g=`M ${p.startPoint.x.toFixed(3)},${p.startPoint.y.toFixed(3)} C ${p.control1.x.toFixed(3)},${p.control1.y.toFixed(3)} ${p.control2.x.toFixed(3)},${p.control2.y.toFixed(3)} ${p.endPoint.x.toFixed(3)},${p.endPoint.y.toFixed(3)}`;m.setAttribute("d",g),m.setAttribute("stroke-width",(2.25*p.endWidth).toFixed(3)),m.setAttribute("stroke",h),m.setAttribute("fill","none"),m.setAttribute("stroke-linecap","round"),a.appendChild(m)}},({color:h,point:p})=>{const m=document.createElement("circle"),g="function"==typeof this.dotSize?this.dotSize():this.dotSize;m.setAttribute("r",g.toString()),m.setAttribute("cx",p.x.toString()),m.setAttribute("cy",p.y.toString()),m.setAttribute("fill",h),a.appendChild(m)});const c=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 ${s} ${o}" width="${s}" height="${o}">`;let u=a.innerHTML;if(void 0===u){const h=document.createElement("dummy"),p=a.childNodes;h.innerHTML="";for(let m=0;m<p.length;m+=1)h.appendChild(p[m].cloneNode(!0));u=h.innerHTML}return"data:image/svg+xml;base64,"+btoa(c+u+"</svg>")}}const zde=kR,fit=["fullScreenTpl"],pit=["nspSmall"],mit=["nspBig"],Ait=["*"],Qde=n=>({height:n});function git(n,t){if(1&n&&(q(0,"div",3),Ye(1,"div",4)(2,"canvas",null,2)(4,"div",5),Cs(5),$()),2&n){const e=lt();te(),Se("ngStyle",Fl(2,Qde,e.sectionHeight+"px")),te(3),Se("ngStyle",Fl(4,Qde,e.sectionHeight+"px"))}}let Gde=(()=>{class n{renderer2;overlay;viewContainerRef;smallPad;bigPad;smallCanvas;bigCanvas;overlayRef;portal;signDataHistory=[];fullScreenWidth;fullScreenHeight;_isEmpty=!0;isFullScreen=!1;sectionHeight;get activePad(){return this.isFullScreen?this.bigPad:this.smallPad}options={};beginSign=new Cn;endSign=new Cn;fullScreenTpl;nspSmall;nspBig;fullScreen(){this.portal=new T2(this.fullScreenTpl,this.viewContainerRef),this.overlayRef=this.overlay.create({positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block(),height:"100%",width:"100%"}),this.overlayRef.attach(this.portal),setTimeout(()=>{this.initBigPad();const{width:e,height:i}=this.options,r=this.bigCanvas.getContext("2d");r.save(),r.translate(this.fullScreenWidth,0),r.rotate(90*Math.PI/180),r.drawImage(this.smallCanvas,0,0,e,i,0,0,this.fullScreenHeight,this.fullScreenWidth),r.restore()},0),this.isFullScreen=!0}miniScreen(){this.smallPad.clear();const{width:e,height:i}=this.options,r=e/this.fullScreenHeight,s=i/this.fullScreenWidth,o=this.smallCanvas.getContext("2d");o.save(),o.translate(0,i),o.rotate(-90*Math.PI/180),o.drawImage(this.bigCanvas,0,0,this.fullScreenWidth,this.fullScreenHeight,0,0,this.fullScreenWidth*r,this.fullScreenHeight*s),o.restore(),this.overlayRef.dispose(),this.bigCanvas=null,this.bigPad=null,this.isFullScreen=!1}toData(){return this.activePad.toData()}fromData(e){this.activePad.fromData(e)}toDataURL(e){switch(e){case"image/jpeg":return this.activePad.toDataURL("image/jpeg");case"image/svg+xml":return this.activePad.toDataURL("image/svg+xml");default:return this.activePad.toDataURL()}}fromDataURL(e,i,r){this.activePad.fromDataURL(e,i,r)}revert(){this.signDataHistory.pop(),this.fromData(this.signDataHistory),0===this.signDataHistory.length&&this.setEmpty()}clear(){this.setEmpty(),this.signDataHistory=[],this.activePad.clear()}isEmpty(){return this._isEmpty}setDirty(){this._isEmpty=!1}setEmpty(){this._isEmpty=!0}getContext(){return this.isFullScreen?this.bigCanvas.getContext("2d"):this.smallCanvas.getContext("2d")}initBigPad(){this.bigCanvas=this.nspBig.nativeElement;const e=JSON.parse(JSON.stringify(this.options));this.fullScreenWidth=document.documentElement.clientWidth;const{width:i,height:r}=this.options;this.fullScreenHeight=this.fullScreenWidth*i/r;const o=document.documentElement.clientHeight-this.fullScreenHeight;this.sectionHeight=o/2,e.width=this.fullScreenWidth,e.height=this.fullScreenHeight;const{css:a}=e;this.bigCanvas.width=this.fullScreenWidth,this.bigCanvas.height=this.fullScreenHeight;for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&this.renderer2.setStyle(this.bigCanvas,l,a[l]);this.bigPad=new zde(this.bigCanvas,e),this.bigPad.onBegin=this._onBegin.bind(this),this.bigPad.onEnd=this._onEnd.bind(this)}initSmallPad(){this.smallCanvas=this.nspSmall.nativeElement;const{width:e,height:i,css:r}=this.options;this.options.width=e||300,this.options.height=i||150,this.smallCanvas.width=this.options.width,this.smallCanvas.height=this.options.height;for(const s in r)Object.prototype.hasOwnProperty.call(r,s)&&this.renderer2.setStyle(this.smallCanvas,s,r[s]);this.smallPad=new zde(this.smallCanvas,this.options),this.smallPad.onBegin=this._onBegin.bind(this),this.smallPad.onEnd=this._onEnd.bind(this)}_onBegin(){this.setDirty(),this.beginSign.emit()}_onEnd(){this.signDataHistory=this.toData(),this.endSign.emit()}setPadAttribute(e,i){this.bigPad&&(this.bigPad[e]=i),this.smallPad[e]=i}constructor(e,i,r){this.renderer2=e,this.overlay=i,this.viewContainerRef=r}ngAfterViewInit(){this.initSmallPad()}ngOnChanges(e){if(e.options.firstChange)return;const{dotSize:i,minWidth:r,maxWidth:s,throttle:o,minDistance:a,backgroundColor:l,penColor:c,velocityFilterWeight:u,width:d,height:f,css:h}=e.options.currentValue;if(i&&this.setPadAttribute("dotSize",i),r&&this.setPadAttribute("minWidth",r),s&&this.setPadAttribute("maxWidth",s),o&&this.setPadAttribute("throttle",o),a&&this.setPadAttribute("minDistance",a),l&&this.setPadAttribute("backgroundColor",l),c&&this.setPadAttribute("penColor",c),u&&this.setPadAttribute("velocityFilterWeight",u),d||f){const{width:p,height:m}=e.options.previousValue,g=this.smallPad.toDataURL(),A=new Image;A.src=g,A.onload=()=>{this.initSmallPad(),this.smallCanvas.getContext("2d").drawImage(A,0,0,p,m,0,0,d,f)}}if(h){if(this.bigCanvas)for(const p in h)Object.prototype.hasOwnProperty.call(h,p)&&this.renderer2.setStyle(this.bigCanvas,p,h[p]);if(this.smallCanvas)for(const p in h)Object.prototype.hasOwnProperty.call(h,p)&&this.renderer2.setStyle(this.smallCanvas,p,h[p])}}static \u0275fac=function(i){return new(i||n)(oe(tm),oe(dm),oe(Uo))};static \u0275cmp=Nn({type:n,selectors:[["ngx-signature-pad"]],viewQuery:function(i,r){if(1&i&&(Tn(fit,5),Tn(pit,5),Tn(mit,5)),2&i){let s;Ut(s=Ht())&&(r.fullScreenTpl=s.first),Ut(s=Ht())&&(r.nspSmall=s.first),Ut(s=Ht())&&(r.nspBig=s.first)}},inputs:{options:"options"},outputs:{beginSign:"beginSign",endSign:"endSign"},features:[js],ngContentSelectors:Ait,decls:4,vars:0,consts:[["nspSmall",""],["fullScreenTpl",""],["nspBig",""],[1,"nsp-container"],[1,"section","left",2,"width","100%",3,"ngStyle"],[1,"section","right",2,"width","100%",3,"ngStyle"]],template:function(i,r){1&i&&(_u(),Ye(0,"canvas",null,0),ht(2,git,6,6,"ng-template",null,1,zc))},dependencies:[JI],styles:[".nsp-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;left:0;top:0;width:100%;height:100vh;background:#fff}.nsp-container[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{flex:1}.nsp-container[_ngcontent-%COMP%]   .section.left[_ngcontent-%COMP%]{border-bottom:2px dashed #dedee5}.nsp-container[_ngcontent-%COMP%]   .section.right[_ngcontent-%COMP%]{border-top:2px dashed #dedee5}"]})}return n})(),vit=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=gi({type:n});static \u0275inj=pi({imports:[gA,uH]})}return n})();const _it=["signature"],bit=["video"],yit=["canvas"],wit=["_sourceList"],xit=["_engineList"],Cit=()=>({pageName:"PAGE_DEMOS_MISCELLANEOUS_INDEX"});function Sit(n,t){if(1&n&&Ye(0,"img",29),2&n){const e=lt();Se("src",e.capturedImage,Js)("hidden",e.capturedImageHidden)}}function Eit(n,t){if(1&n&&(q(0,"option",30),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}function Dit(n,t){if(1&n&&(q(0,"option",30),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}let Mit=(()=>{class n extends yr{constructor(e,i,r,s,o){super(i,r,s,o,bl),this.computervisionService=e,this.configService=i,this.backendService=r,this.route=s,this.speechService=o,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[CAPTURE ORIGIN]",this.titleEngineList="[ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=1,this.selectedIndexEngines=1,this.detectedShapes=[]}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera(),this.queryParams()}ngAfterViewInit(){}ngOnDestroy(){this.stopCamera()}queryParams(){this.route.queryParams.subscribe(e=>{this.__sourceList=new Array,this.__sourceList.push(new br(0,"(SELECT OPTION ...)",!1,"")),this.__sourceList.push(new br(1,"(FROM  CANVAS)",!0,"")),this.__sourceList.push(new br(2,"(FROM  CAMERA)",!1,"")),this.__engineList=new Array,this.__engineList.push(new br(0,"(SELECT OPTION ...)",!1,"")),this.__engineList.push(new br(1,"(OPENCV / javascript)",!0,"JS")),this.__engineList.push(new br(2,"(OPENCV / C++)",!1,"CPP"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__engineList.length;r++)this.__engineList[r]._shortName==i&&(this.__engineList[r]._selected=!0);else this.__engineList[1]._selected=!0})}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status_message.set("")}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex,console.log("selected index "+this.selectedIndexEngines)}onBeginSign(){}onEndSign(){}saveSignature(){if(0!=this.selectedIndex)switch(this.status_message.set("[..parsing...]"),this.selectionChangeEngines(),this.selectedIndexEngines){case 1:this.OpenCv_js_DetectShapes(this.signature?.toDataURL());break;case 2:this.OpenCv_CPP_DetectShapes(this.signature?.toDataURL());break;default:this.status_message.set("Please select the option [ENGINE]")}else this.status_message.set("Please select the option [CAPTURE ORIGIN]")}clearSignature(){this.signature?.clear(),this.status_message.set(""),this.statusButton="[save]"}startCamera(){var e=this;return(0,Tt.A)(function*(){try{e.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:e.isFrontCamera?"user":"environment"}}),e.videoStream&&(e.videoElement.nativeElement.srcObject=e.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(e=>e.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const e=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=e.videoWidth/4,i.height=e.videoHeight/4,r.drawImage(e,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){switch(this.status_message.set("[..parsing...]"),this.selectionChangeEngines(),this.selectedIndexEngines){case 1:this.capturedImage&&(this.OpenCv_js_DetectShapes(this.capturedImage),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1);break;case 2:this.capturedImage&&this.computervisionService._OpenCv_CPP_uploadBase64Image(this.capturedImage).subscribe(e=>{this.status_message.set(JSON.parse(JSON.stringify(e)).message),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},e=>{console.error("Error uploading image:",e),this.status_message.set(e),this.statusButton="[save]"});break;default:this.status_message.set("Please select the option [ENGINE]")}}dataURLToBlob(e){const i=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return new Blob([s],{type:r})}flipCamera(){var e=this;return(0,Tt.A)(function*(){e.isFrontCamera=!e.isFrontCamera,e.stopCamera(),yield e.startCamera()})()}OpenCv_js_DetectShapes(e){const i=new Image;i.onload=()=>{const r=this.computervisionService._OpenCv_js_detectShapes(i);this.detectedShapes=r,this.status_message.set("Detected Shapes : "+this.detectedShapes.toString())},i.src=e}OpenCv_CPP_DetectShapes(e){this.computervisionService._OpenCv_CPP_uploadBase64Image(this.signature?.toDataURL()).subscribe(i=>{this.status_message.set(JSON.parse(JSON.stringify(i)).message),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1},i=>{console.error("Error uploading image:",i),this.status_message.set(i),this.statusButton="[save]"})}static{this.\u0275fac=function(i){return new(i||n)(oe(Y6),oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["computer-vision"]],viewQuery:function(i,r){if(1&i&&(Tn(_it,5),Tn(bit,7),Tn(yit,5),Tn(wit,5),Tn(xit,5)),2&i){let s;Ut(s=Ht())&&(r.signature=s.first),Ut(s=Ht())&&(r.videoElement=s.first),Ut(s=Ht())&&(r.canvas=s.first),Ut(s=Ht())&&(r._sourceList=s.first),Ut(s=Ht())&&(r._engineList=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_MISCELANEOUS_COMPUTER_VISION"}]),mn],decls:55,vars:21,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],["aling","center"],[3,"beginSign","endSign","options"],["type","button",3,"click","value","disabled"],[3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[3,"click","disabled"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],[3,"routerLink","queryParams"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",5),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",6)(4,"div",7),pe(5,"Please use the finger or the mouse pointer to draw"),$(),Ye(6,"br"),q(7,"ngx-signature-pad",8,0),ct("beginSign",function(){return $t(s),Gt(r.onBeginSign())})("endSign",function(){return $t(s),Gt(r.onEndSign())}),$(),Ye(9,"hr"),q(10,"input",9),ct("click",function(){return $t(s),Gt(r.saveSignature())}),$(),pe(11," | "),q(12,"button",10),ct("click",function(){return $t(s),Gt(r.clearSignature())}),pe(13,"Clear Signature"),$(),Ye(14,"br"),$(),q(15,"div",11),Ye(16,"hr"),q(17,"div",12),Ye(18,"video",13,1)(20,"canvas",14,2),$(),ht(22,Sit,1,2,"img",15),Ye(23,"hr"),q(24,"button",16),ct("click",function(){return $t(s),Gt(r.capturePhoto())}),pe(25),$(),pe(26," | "),q(27,"button",16),ct("click",function(){return $t(s),Gt(r.saveImage())}),pe(28),$(),pe(29," | "),q(30,"button",10),ct("click",function(){return $t(s),Gt(r.flipCamera())}),pe(31,"Flip Camera"),$()(),Ye(32,"hr"),q(33,"span",17),pe(34),$(),Ye(35,"hr"),q(36,"div",18)(37,"label",19)(38,"span",20),pe(39),$()(),pe(40," \xa0"),q(41,"select",21,3),ct("change",function(){return $t(s),Gt(r.selectionChange())}),ht(43,Eit,2,3,"option",22),$()(),q(44,"div",23)(45,"label",24)(46,"span",25),pe(47),$()(),pe(48," \xa0"),q(49,"select",26,4),ct("change",function(){return $t(s),Gt(r.selectionChangeEngines())}),ht(51,Dit,2,3,"option",22),$()(),q(52,"div",27)(53,"a",28),pe(54,"[Back to Menu]"),$()()()}2&i&&(te(3),Se("hidden",r.hiddenCanvasContainer),te(4),Se("options",r.options),te(3),j1("value",r.statusButton),Se("disabled","..parsing.."==r.statusButton),te(5),Se("hidden",r.hiddenCameraContainer),te(2),Se("hidden",r.cameraContainerHidden),te(),Qh(r.videoStyle),te(4),Se("ngIf",r.capturedImage),te(2),Se("disabled",r.captureButtonDisabled),te(),An(r.captureButtonStatus),te(2),Se("disabled",r.saveImageButtonDisabled),te(),An(r.statusButtonSaveImage),te(6),An(r.status_message()),te(5),An(r.tituloListadOrigen),te(4),Se("ngForOf",r.__sourceList),te(4),An(r.titleEngineList),te(4),Se("ngForOf",r.__engineList),te(2),Se("routerLink","/PageUrlList")("queryParams",Us(20,Cit)))},dependencies:[Ma,pa,wu,xu,Gde,rs,yr],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();function Ul(){return Ul=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Ul.apply(null,arguments)}var jde={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null},Qt=function(t){if(t)throw new Error("The global config is readonly. \nPlease create a mathjs instance if you want to change the default configuration. \nExample:\n\n  import { create, all } from 'mathjs';\n  const mathjs = create(all);\n  mathjs.config({ number: 'BigNumber' });\n");return Object.freeze(jde)};function Ji(n){var t=typeof n;if("number"===t||"bigint"===t||"string"===t||"boolean"===t||null==n)return n;if("function"==typeof n.clone)return n.clone();if(Array.isArray(n))return n.map(function(e){return Ji(e)});if(n instanceof Date)return new Date(n.valueOf());if(or(n))return n;if(DM(n))return function Tit(n,t){var e={};for(var i in n)ti(n,i)&&(e[i]=t(n[i]));return e}(n,Ji);if("function"===t)return n;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function Wde(n,t){for(var e in t)ti(t,e)&&(n[e]=t[e]);return n}function rg(n,t){var e,i,r;if(Array.isArray(n)){if(!Array.isArray(t)||n.length!==t.length)return!1;for(i=0,r=n.length;i<r;i++)if(!rg(n[i],t[i]))return!1;return!0}if("function"==typeof n)return n===t;if(n instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in n)if(!(e in t)||!rg(n[e],t[e]))return!1;for(e in t)if(!(e in n))return!1;return!0}return n===t}function ti(n,t){return n&&Object.hasOwnProperty.call(n,t)}function Bu(n,t){if(LR(n,t))return n[t];throw"function"==typeof n[t]&&YQ(n,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function Kx(n,t,e){if(LR(n,t))return n[t]=e,e;throw new Error('No access to property "'+t+'"')}function LR(n,t){return!(!function Oit(n){return"object"==typeof n&&n&&n.constructor===Object}(n)&&!Array.isArray(n)||!ti(Rit,t)&&(t in Object.prototype||t in Function.prototype))}function YQ(n,t){return!(null==n||"function"!=typeof n[t]||ti(n,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(n)||!ti(kit,t)&&(t in Object.prototype||t in Function.prototype))}Ul(Qt,jde,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","bigint","Fraction"]});var Rit={length:!0,name:!0},kit={toString:!0,valueOf:!0,toLocaleString:!0};class UR{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return Bu(this.wrappedObject,t)}set(t,e){return Kx(this.wrappedObject,t,e),this}has(t){return LR(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return Jde(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){LR(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}class Zde{constructor(t,e,i){this.a=t,this.b=e,this.bKeys=i,this[Symbol.iterator]=this.entries}get(t){return this.bKeys.has(t)?this.b.get(t):this.a.get(t)}set(t,e){return this.bKeys.has(t)?this.b.set(t,e):this.a.set(t,e),this}has(t){return this.b.has(t)||this.a.has(t)}keys(){return new Set([...this.a.keys(),...this.b.keys()])[Symbol.iterator]()}entries(){return Jde(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){return this.bKeys.has(t)?this.b.delete(t):this.a.delete(t)}clear(){this.a.clear(),this.b.clear()}get size(){return[...this.keys()].length}}function Jde(n,t){return{next:()=>{var e=n.next();return e.done?e:{value:t(e.value),done:!1}}}}function CM(){return new Map}function Xx(n){if(!n)return CM();if(Yx(n))return n;if(DM(n))return new UR(n);throw new Error("createMap can create maps from objects or Maps")}function sr(n){return"number"==typeof n}function or(n){return!(!n||"object"!=typeof n||"function"!=typeof n.constructor)&&(!0===n.isBigNumber&&"object"==typeof n.constructor.prototype&&!0===n.constructor.prototype.isBigNumber||"function"==typeof n.constructor.isDecimal&&!0===n.constructor.isDecimal(n))}function SM(n){return"bigint"==typeof n}function sg(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isComplex||!1}function EM(n){return n&&"object"==typeof n&&!0===Object.getPrototypeOf(n).isFraction||!1}function vh(n){return n&&!0===n.constructor.prototype.isUnit||!1}function eu(n){return"string"==typeof n}var io=Array.isArray;function Ci(n){return n&&!0===n.constructor.prototype.isMatrix||!1}function _h(n){return Array.isArray(n)||Ci(n)}function HR(n){return n&&n.isDenseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function Gb(n){return n&&n.isSparseMatrix&&!0===n.constructor.prototype.isMatrix||!1}function ZQ(n){return n&&!0===n.constructor.prototype.isRange||!1}function VR(n){return n&&!0===n.constructor.prototype.isIndex||!1}function Uit(n){return"boolean"==typeof n}function Hit(n){return n&&!0===n.constructor.prototype.isResultSet||!1}function ehe(n){return n&&!0===n.constructor.prototype.isHelp||!1}function the(n){return"function"==typeof n}function Vit(n){return n instanceof Date}function zit(n){return n instanceof RegExp}function DM(n){return!(!n||"object"!=typeof n||n.constructor!==Object||sg(n)||EM(n))}function Yx(n){return!!n&&(n instanceof Map||n instanceof UR||"function"==typeof n.set&&"function"==typeof n.get&&"function"==typeof n.keys&&"function"==typeof n.has)}function Qit(n){return null===n}function Git(n){return void 0===n}function jb(n){return n&&!0===n.isAccessorNode&&!0===n.constructor.prototype.isNode||!1}function hf(n){return n&&!0===n.isArrayNode&&!0===n.constructor.prototype.isNode||!1}function jit(n){return n&&!0===n.isAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function qit(n){return n&&!0===n.isBlockNode&&!0===n.constructor.prototype.isNode||!1}function Wit(n){return n&&!0===n.isConditionalNode&&!0===n.constructor.prototype.isNode||!1}function Jr(n){return n&&!0===n.isConstantNode&&!0===n.constructor.prototype.isNode||!1}function JQ(n){return Jr(n)||tl(n)&&1===n.args.length&&Jr(n.args[0])&&"-+~".includes(n.op)}function MM(n){return n&&!0===n.isFunctionAssignmentNode&&!0===n.constructor.prototype.isNode||!1}function t_(n){return n&&!0===n.isFunctionNode&&!0===n.constructor.prototype.isNode||!1}function Zx(n){return n&&!0===n.isIndexNode&&!0===n.constructor.prototype.isNode||!1}function Ks(n){return n&&!0===n.isNode&&!0===n.constructor.prototype.isNode||!1}function zR(n){return n&&!0===n.isObjectNode&&!0===n.constructor.prototype.isNode||!1}function tl(n){return n&&!0===n.isOperatorNode&&!0===n.constructor.prototype.isNode||!1}function og(n){return n&&!0===n.isParenthesisNode&&!0===n.constructor.prototype.isNode||!1}function $it(n){return n&&!0===n.isRangeNode&&!0===n.constructor.prototype.isNode||!1}function Kit(n){return n&&!0===n.isRelationalNode&&!0===n.constructor.prototype.isNode||!1}function dc(n){return n&&!0===n.isSymbolNode&&!0===n.constructor.prototype.isNode||!1}function nhe(n){return n&&!0===n.constructor.prototype.isChain||!1}function ro(n){var t=typeof n;return"object"===t?null===n?"null":or(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":t}var ihe=new Set(["end"]);function xe(n,t,e,i){function r(s){var o=function Fit(n,t){for(var e={},i=0;i<t.length;i++){var r=t[i],s=n[r];void 0!==s&&(e[r]=s)}return e}(s,t.map(Jit));return function Yit(n,t,e){var i=t.filter(s=>!function Zit(n){return n&&"?"===n[0]}(s)).every(s=>void 0!==e[s]);if(!i){var r=t.filter(s=>void 0===e[s]);throw new Error('Cannot create function "'.concat(n,'", ')+"some dependencies are missing: ".concat(r.map(s=>'"'.concat(s,'"')).join(", "),"."))}}(n,t,s),e(o)}return r.isFactory=!0,r.fn=n,r.dependencies=t.slice().sort(),i&&(r.meta=i),r}function Jit(n){return n&&"?"===n[0]?n.slice(1):n}var nrt=xe("Node",["mathWithTransform"],n=>{var{mathWithTransform:t}=n;return class i{get type(){return"Node"}get isNode(){return!0}evaluate(s){return this.compile().evaluate(s)}compile(){var s=this._compile(t,{}),o={};return{evaluate:function l(c){var u=Xx(c);return function e(r){for(var s of[...ihe])if(r.has(s))throw new Error('Scope contains an illegal symbol, "'+s+'" is a reserved keyword')}(u),s(u,o,null)}}}_compile(s,o){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(s){throw new Error("Cannot run forEach on a Node interface")}map(s){throw new Error("Cannot run map on a Node interface")}_ifNode(s){if(!Ks(s))throw new TypeError("Callback function must return a Node");return s}traverse(s){s(this,null,null),function o(a,l){a.forEach(function(c,u,d){l(c,u,d),o(c,l)})}(this,s)}transform(s){return function o(a,l,c){var u=s(a,l,c);return u!==a?u:a.map(o)}(this,null,null)}filter(s){var o=[];return this.traverse(function(a,l,c){s(a,l,c)&&o.push(a)}),o}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(s){return s.cloneDeep()})}equals(s){return!!s&&this.type===s.type&&rg(this,s)}toString(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toString(s)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toHTML(s)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(s){var o=this._getCustomString(s);return typeof o<"u"?o:this._toTex(s)}_toTex(s){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(s){if(s&&"object"==typeof s)switch(typeof s.handler){case"object":case"undefined":return;case"function":return s.handler(this,s);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}},{isClass:!0,isNode:!0}),xl=Me(1660);function ai(n){return"boolean"==typeof n||!!isFinite(n)&&n===Math.round(n)}function n_(n,t){if("bigint"===t.number)try{BigInt(n)}catch{return t.numberFallback}return t.number}var i_=Math.sign||function(n){return n>0?1:n<0?-1:0},irt=Math.log2||function(t){return Math.log(t)/Math.LN2},rrt=Math.log10||function(t){return Math.log(t)/Math.LN10},rhe=Math.log1p||function(n){return Math.log(n+1)},srt=Math.cbrt||function(t){if(0===t)return t;var i,e=t<0;return e&&(t=-t),i=isFinite(t)?(t/((i=Math.exp(Math.log(t)/3))*i)+2*i)/3:t,e?-i:i},ort=Math.expm1||function(t){return t>=2e-4||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6};function tG(n,t,e){var r={2:"0b",8:"0o",16:"0x"}[t],s="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!ai(e))throw new Error("size must be an integer");if(n>2**(e-1)-1||n<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!ai(n))throw new Error("Value must be an integer");n<0&&(n+=2**e),s="i".concat(e)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(r).concat(n.toString(t)).concat(s)}function qb(n,t){if("function"==typeof t)return t(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:e,precision:i,wordSize:r}=she(t);switch(e){case"fixed":return ohe(n,i);case"exponential":return ahe(n,i);case"engineering":return function art(n,t){if(isNaN(n)||!isFinite(n))return String(n);var i=QR(TM(n),t),r=i.exponent,s=i.coefficients,o=r%3==0?r:r<0?r-3-r%3:r-r%3;if(sr(t))for(;t>s.length||r-o+1>s.length;)s.push(0);else for(var a=Math.abs(r-o)-(s.length-1),l=0;l<a;l++)s.push(0);for(var c=Math.abs(r-o),u=1;c>0;)u++,c--;var d=s.slice(u).join(""),f=sr(t)&&d.length||d.match(/[1-9]/)?"."+d:"",h=s.slice(0,u).join("")+f+"e"+(r>=0?"+":"")+o.toString();return i.sign+h}(n,i);case"bin":return tG(n,2,r);case"oct":return tG(n,8,r);case"hex":return tG(n,16,r);case"auto":return function lrt(n,t,e){if(isNaN(n)||!isFinite(n))return String(n);var i=dhe(e?.lowerExp,-3),r=dhe(e?.upperExp,5),s=TM(n),o=t?QR(s,t):s;if(o.exponent<i||o.exponent>=r)return ahe(n,t);var a=o.coefficients,l=o.exponent;a.length<t&&(a=a.concat(Jx(t-a.length))),a=a.concat(Jx(l-a.length+1+(a.length<t?t-a.length:0)));var c=l>0?l:0;return c<(a=Jx(-l).concat(a)).length-1&&a.splice(c+1,0,"."),o.sign+a.join("")}(n,i,t).replace(/((\.\d*?)(0+))($|e)/,function(){var s=arguments[2],o=arguments[4];return"."!==s?s+o:o});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function she(n){var e,i,t="auto";if(void 0!==n)if(sr(n))e=n;else if(or(n))e=n.toNumber();else{if(!DM(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");void 0!==n.precision&&(e=uhe(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),void 0!==n.wordSize&&(i=uhe(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(t=n.notation)}return{notation:t,precision:e,wordSize:i}}function TM(n){var t=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+n);var e=t[1],i=t[2],r=parseFloat(t[4]||"0"),s=i.indexOf(".");r+=-1!==s?s-1:i.length-1;var o=i.replace(".","").replace(/^0*/,function(a){return r-=a.length,""}).replace(/0*$/,"").split("").map(function(a){return parseInt(a)});return 0===o.length&&(o.push(0),r++),{sign:e,coefficients:o,exponent:r}}function ohe(n,t){if(isNaN(n)||!isFinite(n))return String(n);var e=TM(n),i="number"==typeof t?QR(e,e.exponent+1+t):e,r=i.coefficients,s=i.exponent+1,o=s+(t||0);return r.length<o&&(r=r.concat(Jx(o-r.length))),s<0&&(r=Jx(1-s).concat(r),s=1),s<r.length&&r.splice(s,0,0===s?"0.":"."),i.sign+r.join("")}function ahe(n,t){if(isNaN(n)||!isFinite(n))return String(n);var e=TM(n),i=t?QR(e,t):e,r=i.coefficients,s=i.exponent;r.length<t&&(r=r.concat(Jx(t-r.length)));var o=r.shift();return i.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(s>=0?"+":"")+s}function QR(n,t){for(var e={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},i=e.coefficients;t<=0;)i.unshift(0),e.exponent++,t++;if(i.length>t&&i.splice(t,i.length-t)[0]>=5){var s=t-1;for(i[s]++;10===i[s];)i.pop(),0===s&&(i.unshift(0),e.exponent++,s++),i[--s]++}return e}function Jx(n){for(var t=[],e=0;e<n;e++)t.push(0);return t}function hc(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-8,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(t)&&(isFinite(n)&&isFinite(t)?n===t||Math.abs(n-t)<=Math.max(e*Math.max(Math.abs(n),Math.abs(t)),i):n===t)}var urt=Math.acosh||function(n){return Math.log(Math.sqrt(n*n-1)+n)},drt=Math.asinh||function(n){return Math.log(Math.sqrt(n*n+1)+n)},hrt=Math.atanh||function(n){return Math.log((1+n)/(1-n))/2},lhe=Math.cosh||function(n){return(Math.exp(n)+Math.exp(-n))/2},frt=Math.sinh||function(n){return(Math.exp(n)-Math.exp(-n))/2},che=Math.tanh||function(n){var t=Math.exp(2*n);return(t-1)/(t+1)};function uhe(n,t){return sr(n)?n:or(n)?n.toNumber():void t()}function dhe(n,t){return sr(n)?n:or(n)?n.toNumber():t}function nG(n,t,e){var r=new(0,n.constructor)(2),s="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!ai(e))throw new Error("size must be an integer");if(n.greaterThan(r.pow(e-1).sub(1))||n.lessThan(r.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(e))),s="i".concat(e)}switch(t){case 2:return"".concat(n.toBinary()).concat(s);case 8:return"".concat(n.toOctal()).concat(s);case 16:return"".concat(n.toHexadecimal()).concat(s);default:throw new Error("Base ".concat(t," not supported "))}}function hhe(n,t){return void 0!==t?n.toExponential(t-1):n.toExponential()}function fhe(n,t){return sr(n)?n:or(n)?n.toNumber():t}function vrt(n,t){return n.substring(n.length-t.length,n.length)===t}function Cr(n,t){var e=function _rt(n,t){return"number"==typeof n?qb(n,t):or(n)?function mrt(n,t){if("function"==typeof t)return t(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:e,precision:i,wordSize:r}=she(t);switch(e){case"fixed":return function grt(n,t){return n.toFixed(t)}(n,i);case"exponential":return hhe(n,i);case"engineering":return function Art(n,t){var e=n.e,i=e%3==0?e:e<0?e-3-e%3:e-e%3,s=n.mul(Math.pow(10,-i)).toPrecision(t);return s.includes("e")&&(s=new(0,n.constructor)(s).toFixed()),s+"e"+(e>=0?"+":"")+i.toString()}(n,i);case"bin":return nG(n,2,r);case"oct":return nG(n,8,r);case"hex":return nG(n,16,r);case"auto":var s=fhe(t?.lowerExp,-3),o=fhe(t?.upperExp,5);if(n.isZero())return"0";var l=n.toSignificantDigits(i),c=l.e;return(c>=s&&c<o?l.toFixed():hhe(n,i)).replace(/((\.\d*?)(0+))($|e)/,function(){var u=arguments[2],d=arguments[4];return"."!==u?u+d:d});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(n,t):function brt(n){return n&&"object"==typeof n&&"bigint"==typeof n.s&&"bigint"==typeof n.n&&"bigint"==typeof n.d||!1}(n)?t&&"decimal"===t.fraction?n.toString():"".concat(n.s*n.n,"/").concat(n.d):Array.isArray(n)?mhe(n,t):eu(n)?eC(n):"function"==typeof n?n.syntax?String(n.syntax):"function":n&&"object"==typeof n?"function"==typeof n.format?n.format(t):n&&n.toString(t)!=={}.toString()?n.toString(t):"{"+Object.keys(n).map(i=>eC(i)+": "+Cr(n[i],t)).join(", ")+"}":String(n)}(n,t);return t&&"object"==typeof t&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function eC(n){for(var t=String(n),e="",i=0;i<t.length;){var r=t.charAt(i);e+=r in phe?phe[r]:r,i++}return'"'+e+'"'}var phe={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};function ff(n){var t=String(n);return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function mhe(n,t){if(Array.isArray(n)){for(var e="[",i=n.length,r=0;r<i;r++)0!==r&&(e+=", "),e+=mhe(n[r],t);return e+"]"}return Cr(n,t)}function iG(n,t){if(!eu(n))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ro(n)+", index: 0)");if(!eu(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+ro(t)+", index: 1)");return n===t?0:n>t?1:-1}var GR="ObjectNode",wrt=xe(GR,["Node"],n=>{var{Node:t}=n;class e extends t{constructor(r){if(super(),this.properties=r||{},r&&("object"!=typeof r||!Object.keys(r).every(function(s){return Ks(r[s])})))throw new TypeError("Object containing Nodes expected")}get type(){return GR}get isObjectNode(){return!0}_compile(r,s){var o={};for(var a in this.properties)if(ti(this.properties,a)){var l=eC(a),c=JSON.parse(l),u=Bu(this.properties,a);o[c]=u._compile(r,s)}return function(f,h,p){var m={};for(var g in o)ti(o,g)&&(m[g]=o[g](f,h,p));return m}}forEach(r){for(var s in this.properties)ti(this.properties,s)&&r(this.properties[s],"properties["+eC(s)+"]",this)}map(r){var s={};for(var o in this.properties)ti(this.properties,o)&&(s[o]=this._ifNode(r(this.properties[o],"properties["+eC(o)+"]",this)));return new e(s)}clone(){var r={};for(var s in this.properties)ti(this.properties,s)&&(r[s]=this.properties[s]);return new e(r)}_toString(r){var s=[];for(var o in this.properties)ti(this.properties,o)&&s.push(eC(o)+": "+this.properties[o].toString(r));return"{"+s.join(", ")+"}"}toJSON(){return{mathjs:GR,properties:this.properties}}static fromJSON(r){return new e(r.properties)}_toHTML(r){var s=[];for(var o in this.properties)ti(this.properties,o)&&s.push('<span class="math-symbol math-property">'+ff(o)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[o].toHTML(r));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+s.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(r){var s=[];for(var o in this.properties)ti(this.properties,o)&&s.push("\\mathbf{"+o+":} & "+this.properties[o].toTex(r)+"\\\\");return"\\left\\{\\begin{array}{ll}"+s.join("\n")+"\\end{array}\\right\\}"}}return(0,xl.A)(e,"name",GR),e},{isClass:!0,isNode:!0});function Ar(n,t,e){if(!(this instanceof Ar))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}function vp(n,t,e){if(!(this instanceof vp))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}function zi(n){for(var t=[];Array.isArray(n);)t.push(n.length),n=n[0];return t}function Ahe(n,t,e){var i,r=n.length;if(r!==t[e])throw new Ar(r,t[e]);if(e<t.length-1){var s=e+1;for(i=0;i<r;i++){if(!Array.isArray(n[i]))throw new Ar(t.length-1,t.length,"<");Ahe(n[i],t,s)}}else for(i=0;i<r;i++)if(Array.isArray(n[i]))throw new Ar(t.length+1,t.length,">")}function ghe(n,t){if(0===t.length){if(Array.isArray(n))throw new Ar(n.length,0)}else Ahe(n,t,0)}function jR(n,t){var e=n.isMatrix?n._size:zi(n);t._sourceSize.forEach((r,s)=>{if(null!==r&&r!==e[s])throw new Ar(r,e[s])})}function bo(n,t){if(void 0!==n){if(!sr(n)||!ai(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||"number"==typeof t&&n>=t)throw new vp(n,t)}}function tC(n){for(var t=0;t<n._dimensions.length;++t){var e=n._dimensions[t];if(e._data&&io(e._data)){if(0===e._size[0])return!0}else if(e.isRange){if(e.start===e.end)return!0}else if(eu(e)&&0===e.length)return!0}return!1}function nC(n,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach(function(r){if(!sr(r)||!ai(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Cr(t)+")")}),(sr(n)||or(n))&&(n=[n]),rG(n,t,0,void 0!==e?e:0),n}function rG(n,t,e,i){var r,s,a=t[e],l=Math.min(n.length,a);if(n.length=a,e<t.length-1){var c=e+1;for(r=0;r<l;r++)s=n[r],Array.isArray(s)||(n[r]=s=[s]),rG(s,t,c,i);for(r=l;r<a;r++)n[r]=s=[],rG(s,t,c,i)}else{for(r=0;r<l;r++)for(;Array.isArray(n[r]);)n[r]=n[r][0];for(r=l;r<a;r++)n[r]=i}}function sG(n,t){var e=ps(n,!0),i=e.length;if(!Array.isArray(n)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Ar(0,i,"!=");var r=vhe(t=oG(t,i));if(i!==r)throw new Ar(r,i,"!=");try{return function xrt(n,t){for(var i,e=n,r=t.length-1;r>0;r--){var s=t[r];i=[];for(var o=e.length/s,a=0;a<o;a++)i.push(e.slice(a*s,(a+1)*s));e=i}return e}(e,t)}catch(s){throw s instanceof Ar?new Ar(r,i,"!="):s}}function oG(n,t){var e=vhe(n),i=n.slice(),s=n.indexOf(-1);if(n.indexOf(-1,s+1)>=0)throw new Error("More than one wildcard in sizes");if(s>=0){if(t%e!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);i[s]=-t/e}return i}function vhe(n){return n.reduce((t,e)=>t*e,1)}function qR(n,t){for(var e=t||zi(n);Array.isArray(n)&&1===n.length;)n=n[0],e.shift();for(var i=e.length;1===e[i-1];)i--;return i<e.length&&(n=_he(n,i,0),e.length=i),n}function _he(n,t,e){var i,r;if(e<t){var s=e+1;for(i=0,r=n.length;i<r;i++)n[i]=_he(n[i],t,s)}else for(;Array.isArray(n);)n=n[0];return n}function bhe(n,t,e,i){var r=i||zi(n);if(e)for(var s=0;s<e;s++)n=[n],r.unshift(1);for(n=yhe(n,t,0);r.length<t;)r.push(1);return n}function yhe(n,t,e){var i,r;if(Array.isArray(n)){var s=e+1;for(i=0,r=n.length;i<r;i++)n[i]=yhe(n[i],t,s)}else for(var o=e;o<t;o++)n=[n];return n}function ps(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(n))return n;if("boolean"!=typeof t)throw new TypeError("Boolean expected for second argument of flatten");var e=[];return t?function r(s){if(Array.isArray(s[0]))for(var o=0;o<s.length;o++)r(s[o]);else for(var a=0;a<s.length;a++)e.push(s[a])}(n):function i(s){for(var o=0;o<s.length;o++){var a=s[o];Array.isArray(a)?i(a):e.push(a)}}(n),e}function r_(n,t){return Array.prototype.map.call(n,t)}function whe(n,t){Array.prototype.forEach.call(n,t)}function Che(n,t){if(1!==zi(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,e=>t.test(e))}function She(n,t){return Array.prototype.join.call(n,t)}function iC(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;var t=[],e=0;t[0]={value:n[0],identifier:0};for(var i=1;i<n.length;i++)n[i]===n[i-1]?e++:e=0,t.push({value:n[i],identifier:e});return t}function WR(n){if(!Array.isArray(n))throw new TypeError("Array input expected");if(0===n.length)return n;for(var t=[],e=0;e<n.length;e++)t.push(n[e].value);return t}function $R(n,t){for(var e,i=0,r=0;r<n.length;r++){var s=n[r],o=Array.isArray(s);if(0===r&&o&&(i=s.length),o&&s.length!==i)return;var a=o?$R(s,t):t(s);if(void 0===e)e=a;else if(e!==a)return"mixed"}return e}function Ehe(n,t,e,i){if(i<e){if(n.length!==t.length)throw new Ar(n.length,t.length);for(var r=[],s=0;s<n.length;s++)r[s]=Ehe(n[s],t[s],e,i+1);return r}return n.concat(t)}function Dhe(){var n=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(1===n.length)return n[0];if(n.length>1)return n.slice(1).reduce(function(e,i){return Ehe(e,i,t,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function NM(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];for(var i=t.map(f=>f.length),r=Math.max(...i),s=new Array(r).fill(null),o=0;o<t.length;o++)for(var a=t[o],l=i[o],c=0;c<l;c++){var u=r-l+c;a[c]>s[u]&&(s[u]=a[c])}for(var d=0;d<t.length;d++)Mhe(t[d],s);return s}function Mhe(n,t){for(var e=t.length,i=n.length,r=0;r<i;r++){var s=e-i+r;if(n[r]<t[s]&&n[r]>1||n[r]>t[s])throw new Error("shape mismatch: mismatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(i," with size ").concat(n[r]," to size ").concat(t[s]))}}function s_(n,t){var e=zi(n);if(rg(e,t))return n;Mhe(e,t);var i=NM(e,t),r=i.length,s=[...Array(r-e.length).fill(1),...e],o=function Srt(n){return Ul([],n)}(n);e.length<r&&(e=zi(o=sG(o,s)));for(var a=0;a<r;a++)e[a]<i[a]&&(e=zi(o=Crt(o,i[a],a)));return o}function Crt(n,t,e){return Dhe(...Array(t).fill(n),e)}function KR(n,t){if(!Array.isArray(n))throw new Error("Array expected");var e=zi(n);if(t.length!==e.length)throw new Ar(t.length,e.length);for(var i=0;i<t.length;i++)bo(t[i],e[i]);return t.reduce((r,s)=>r[s],n)}function aG(n,t){if(0===n.length)return[];if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return function s(o){if(Array.isArray(o)){for(var a=o.length,l=Array(a),c=0;c<a;c++)l[c]=s(o[c]);return l}return t(o)}(n);var i=[];return function r(o,a){if(Array.isArray(o)){for(var l=o.length,c=Array(l),u=0;u<l;u++)i[a]=u,c[u]=r(o[u],a+1);return c}return t(o,i.slice(0,a),n)}(n,0)}function The(n,t){if(0!==n.length)if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])!function s(o){if(Array.isArray(o))for(var a=o.length,l=0;l<a;l++)s(o[l]);else t(o)}(n);else{var i=[];!function r(o,a){if(Array.isArray(o))for(var l=o.length,c=0;c<l;c++)i[a]=c,r(o[c],a+1);else t(o,i.slice(0,a),n)}(n,0)}}function IM(n,t){return new Zde(n,new UR(t),new Set(Object.keys(t)))}(Ar.prototype=new RangeError).constructor=RangeError,Ar.prototype.name="DimensionError",Ar.prototype.isDimensionError=!0,(vp.prototype=new RangeError).constructor=RangeError,vp.prototype.name="IndexError",vp.prototype.isIndexError=!0;var _p=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:nullish":{op:"??",associativity:"left",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function XR(n,t){if(!t||"auto"!==t)return n;for(var e=n;og(e);)e=e.content;return e}function so(n,t,e,i){var r=n;"keep"!==t&&(r=n.getContent());for(var s=r.getIdentifier(),o=null,a=0;a<_p.length;a++)if(s in _p[a]){o=a;break}if("OperatorNode:multiply"===s&&r.implicit&&"show"!==e){var l=XR(r.args[0],t);!(Jr(l)&&i&&"OperatorNode:divide"===i.getIdentifier()&&JQ(XR(i.args[0],t)))&&("OperatorNode:divide"!==l.getIdentifier()||!JQ(XR(l.args[0],t))||!Jr(XR(l.args[1])))&&(o+=1)}return o}function BM(n,t){var e=n;"keep"!==t&&(e=n.getContent());var i=e.getIdentifier(),r=so(e,t);if(null===r)return null;var s=_p[r][i];if(ti(s,"associativity")){if("left"===s.associativity)return"left";if("right"===s.associativity)return"right";throw Error("'"+i+"' has the invalid associativity '"+s.associativity+"'.")}return null}function lG(n,t,e){var i="keep"!==e?n.getContent():n,r="keep"!==e?n.getContent():t,s=i.getIdentifier(),o=r.getIdentifier(),a=so(i,e);if(null===a)return null;var l=_p[a][s];if(ti(l,"associativeWith")&&l.associativeWith instanceof Array){for(var c=0;c<l.associativeWith.length;c++)if(l.associativeWith[c]===o)return!0;return!1}return null}var Drt=Me(4987),cG={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},ms={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},Nhe={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(ms.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(ms.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(ms.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(ms.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(ms.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},fraction:{2:"\\frac{${args[0]}}{${args[1]}}"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(ms.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(ms.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : y^${args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(ms.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(ms.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(ms.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(ms.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(ms.bitAnd,"${args[1]}\\right)")},bitNot:{1:ms.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(ms.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(ms.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(ms.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(ms.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(ms.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(ms.and,"${args[1]}\\right)")},not:{1:ms.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(ms.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(ms.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(ms.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(ms.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(ms.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(ms.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(ms.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(ms.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(ms.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(ms.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(ms.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(ms.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(ms.to,"${args[1]}\\right)")},numeric:function(t,e){return t.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},bigint:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(cG.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},Ihe={deg:"^\\circ"};function uG(n){return Drt(n,{preserveFormatting:!0})}function Bhe(n,t){return(t=!(typeof t>"u")&&t)?ti(Ihe,n)?Ihe[n]:"\\mathrm{"+uG(n)+"}":ti(cG,n)?cG[n]:uG(n)}var YR="OperatorNode",Nrt=xe(YR,["Node"],n=>{var{Node:t}=n;function e(s,o){var a=s;if("auto"===o)for(;og(a);)a=a.content;return!!Jr(a)||!!tl(a)&&e(a.args[0],o)}function i(s,o,a,l,c){var f,u=so(s,o,a),d=BM(s,o);if("all"===o||l.length>2&&"OperatorNode:add"!==s.getIdentifier()&&"OperatorNode:multiply"!==s.getIdentifier())return l.map(function(T){switch(T.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(l.length){case 0:f=[];break;case 1:var h=so(l[0],o,a,s);if(c&&null!==h){var p,m;if("keep"===o?(p=l[0].getIdentifier(),m=s.getIdentifier()):(p=l[0].getContent().getIdentifier(),m=s.getContent().getIdentifier()),!1===_p[u][m].latexLeftParens){f=[!1];break}if(!1===_p[h][p].latexParens){f=[!1];break}}if(null===h){f=[!1];break}if(h<=u){f=[!0];break}f=[!1];break;case 2:var g,A=so(l[0],o,a,s),_=lG(s,l[0],o);g=null!==A&&(A===u&&"right"===d&&!_||A<u);var v,y,C,D,b=so(l[1],o,a,s),w=lG(s,l[1],o);v=null!==b&&(b===u&&"left"===d&&!w||b<u),c&&("keep"===o?(y=s.getIdentifier(),C=s.args[0].getIdentifier(),D=s.args[1].getIdentifier()):(y=s.getContent().getIdentifier(),C=s.args[0].getContent().getIdentifier(),D=s.args[1].getContent().getIdentifier()),null!==A&&(!1===_p[u][y].latexLeftParens&&(g=!1),!1===_p[A][C].latexParens&&(g=!1)),null!==b&&(!1===_p[u][y].latexRightParens&&(v=!1),!1===_p[b][D].latexParens&&(v=!1))),f=[g,v];break;default:("OperatorNode:add"===s.getIdentifier()||"OperatorNode:multiply"===s.getIdentifier())&&(f=l.map(function(T){var M=so(T,o,a,s),F=lG(s,T,o),L=BM(T,o);return null!==M&&(u===M&&d===L&&!F||M<u)}))}if(l.length>=2&&"OperatorNode:multiply"===s.getIdentifier()&&s.implicit&&"all"!==o&&"hide"===a)for(var S=1;S<f.length;++S)e(l[S],o)&&!f[S-1]&&("keep"!==o||!og(l[S-1]))&&(f[S]=!0);return f}class r extends t{constructor(o,a,l,c,u){if(super(),"string"!=typeof o)throw new TypeError('string expected for parameter "op"');if("string"!=typeof a)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Ks))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===c,this.isPercentage=!0===u,this.op=o,this.fn=a,this.args=l||[]}get type(){return YR}get isOperatorNode(){return!0}_compile(o,a){if("string"!=typeof this.fn||!YQ(o,this.fn))throw o[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=Bu(o,this.fn),c=r_(this.args,function(p){return p._compile(o,a)});if("function"==typeof l&&!0===l.rawArgs){var u=this.args;return function(m,g,A){return l(u,o,IM(m,g))}}if(1===c.length){var d=c[0];return function(m,g,A){return l(d(m,g,A))}}if(2===c.length){var f=c[0],h=c[1];return function(m,g,A){return l(f(m,g,A),h(m,g,A))}}return function(m,g,A){return l.apply(null,r_(c,function(_){return _(m,g,A)}))}}forEach(o){for(var a=0;a<this.args.length;a++)o(this.args[a],"args["+a+"]",this)}map(o){for(var a=[],l=0;l<this.args.length;l++)a[l]=this._ifNode(o(this.args[l],"args["+l+"]",this));return new r(this.op,this.fn,a,this.implicit,this.isPercentage)}clone(){return new r(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return 1===this.args.length}isBinary(){return 2===this.args.length}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,a,l,c,!1);if(1===c.length){var d=BM(this,a),f=c[0].toString(o);u[0]&&(f="("+f+")");var h=/[a-zA-Z]+/.test(this.op);return"right"===d?this.op+(h?" ":"")+f:"left"===d?f+(h?" ":"")+this.op:f+this.op}if(2===c.length){var p=c[0].toString(o),m=c[1].toString(o);return u[0]&&(p="("+p+")"),u[1]&&(m="("+m+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?p+" "+m:p+" "+this.op+" "+m}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var g=c.map(function(A,_){return A=A.toString(o),u[_]&&(A="("+A+")"),A});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?g.join(" "):g.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:YR,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(o){return new r(o.op,o.fn,o.args,o.implicit,o.isPercentage)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,a,l,c,!1);if(1===c.length){var d=BM(this,a),f=c[0].toHTML(o);return u[0]&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===d?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+ff(this.op)+"</span>"+f:f+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+ff(this.op)+"</span>"}if(2===c.length){var h=c[0].toHTML(o),p=c[1].toHTML(o);return u[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),u[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ff(this.op)+"</span>"+p}var m=c.map(function(g,A){return g=g.toHTML(o),u[A]&&(g='<span class="math-parenthesis math-round-parenthesis">(</span>'+g+'<span class="math-parenthesis math-round-parenthesis">)</span>'),g});return c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===l?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ff(this.op)+"</span>"):'<span class="math-function">'+ff(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=o&&o.implicit?o.implicit:"hide",c=this.args,u=i(this,a,l,c,!0),d=ms[this.fn];if(d=typeof d>"u"?this.op:d,1===c.length){var f=BM(this,a),h=c[0].toTex(o);return u[0]&&(h="\\left(".concat(h,"\\right)")),"right"===f?d+h:h+d}if(2===c.length){var p=c[0],m=p.toTex(o);u[0]&&(m="\\left(".concat(m,"\\right)"));var _,A=c[1].toTex(o);switch(u[1]&&(A="\\left(".concat(A,"\\right)")),_="keep"===a?p.getIdentifier():p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return d+"{"+m+"}{"+A+"}";case"OperatorNode:pow":switch(m="{"+m+"}",A="{"+A+"}",_){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===l)return m+"~"+A}return m+d+A}if(c.length>2&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){var v=c.map(function(b,w){return b=b.toTex(o),u[w]&&(b="\\left(".concat(b,"\\right)")),b});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit&&"hide"===l?v.join("~"):v.join(d)}return"\\mathrm{"+this.fn+"}\\left("+c.map(function(b){return b.toTex(o)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return(0,xl.A)(r,"name",YR),r},{isClass:!0,isNode:!0}),ZR="ParenthesisNode",Brt=xe(ZR,["Node"],n=>{var{Node:t}=n;class e extends t{constructor(r){if(super(),!Ks(r))throw new TypeError('Node expected for parameter "content"');this.content=r}get type(){return ZR}get isParenthesisNode(){return!0}_compile(r,s){return this.content._compile(r,s)}getContent(){return this.content.getContent()}forEach(r){r(this.content,"content",this)}map(r){var s=r(this.content,"content",this);return new e(s)}clone(){return new e(this.content)}_toString(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"("+this.content.toString(r)+")":this.content.toString(r)}toJSON(){return{mathjs:ZR,content:this.content}}static fromJSON(r){return new e(r.content)}_toHTML(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(r)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(r)}_toTex(r){return!r||r&&!r.parenthesis||r&&"keep"===r.parenthesis?"\\left(".concat(this.content.toTex(r),"\\right)"):this.content.toTex(r)}}return(0,xl.A)(e,"name",ZR),e},{isClass:!0,isNode:!0}),JR="RelationalNode",Prt=xe(JR,["Node"],n=>{var{Node:t}=n,e={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class i extends t{constructor(s,o){if(super(),!Array.isArray(s))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(o))throw new TypeError("Parameter params must be an array");if(s.length!==o.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=s,this.params=o}get type(){return JR}get isRelationalNode(){return!0}_compile(s,o){var a=this,l=this.params.map(c=>c._compile(s,o));return function(u,d,f){for(var h,p=l[0](u,d,f),m=0;m<a.conditionals.length;m++)if(h=p,p=l[m+1](u,d,f),!Bu(s,a.conditionals[m])(h,p))return!1;return!0}}forEach(s){this.params.forEach((o,a)=>s(o,"params["+a+"]",this),this)}map(s){return new i(this.conditionals.slice(),this.params.map((o,a)=>this._ifNode(s(o,"params["+a+"]",this)),this))}clone(){return new i(this.conditionals,this.params)}_toString(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=so(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=so(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?"("+d.toString(s)+")":d.toString(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=" "+e[this.conditionals[u]],c+=" "+l[u+1];return c}toJSON(){return{mathjs:JR,conditionals:this.conditionals,params:this.params}}static fromJSON(s){return new i(s.conditionals,s.params)}_toHTML(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=so(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=so(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?'<span class="math-parenthesis math-round-parenthesis">(</span>'+d.toHTML(s)+'<span class="math-parenthesis math-round-parenthesis">)</span>':d.toHTML(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+ff(e[this.conditionals[u]])+"</span>"+l[u+1];return c}_toTex(s){for(var o=s&&s.parenthesis?s.parenthesis:"keep",a=so(this,o,s&&s.implicit),l=this.params.map(function(d,f){var h=so(d,o,s&&s.implicit);return"all"===o||null!==h&&h<=a?"\\left("+d.toTex(s)+"\right)":d.toTex(s)}),c=l[0],u=0;u<this.conditionals.length;u++)c+=ms[this.conditionals[u]]+l[u+1];return c}}return(0,xl.A)(i,"name",JR),i},{isClass:!0,isNode:!0}),ek="ArrayNode",Rrt=xe(ek,["Node"],n=>{var{Node:t}=n;class e extends t{constructor(r){if(super(),this.items=r||[],!Array.isArray(this.items)||!this.items.every(Ks))throw new TypeError("Array containing Nodes expected")}get type(){return ek}get isArrayNode(){return!0}_compile(r,s){var o=r_(this.items,function(c){return c._compile(r,s)});if("Array"!==r.config.matrix){var l=r.matrix;return function(u,d,f){return l(r_(o,function(h){return h(u,d,f)}))}}return function(u,d,f){return r_(o,function(h){return h(u,d,f)})}}forEach(r){for(var s=0;s<this.items.length;s++)r(this.items[s],"items["+s+"]",this)}map(r){for(var s=[],o=0;o<this.items.length;o++)s[o]=this._ifNode(r(this.items[o],"items["+o+"]",this));return new e(s)}clone(){return new e(this.items.slice(0))}_toString(r){return"["+this.items.map(function(o){return o.toString(r)}).join(", ")+"]"}toJSON(){return{mathjs:ek,items:this.items}}static fromJSON(r){return new e(r.items)}_toHTML(r){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(o){return o.toHTML(r)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(r){return function s(o,a){var l=o.some(hf)&&!o.every(hf),c=a||l,u=c?"&":"\\\\",d=o.map(function(f){return f.items?s(f.items,!a):f.toTex(r)}).join(u);return l||!c||c&&!a?"\\begin{bmatrix}"+d+"\\end{bmatrix}":d}(this.items,!1)}}return(0,xl.A)(e,"name",ek),e},{isClass:!0,isNode:!0}),tk="BlockNode",Lrt=xe(tk,["ResultSet","Node"],n=>{var{ResultSet:t,Node:e}=n;class i extends e{constructor(s){if(super(),!Array.isArray(s))throw new Error("Array expected");this.blocks=s.map(function(o){var a=o&&o.node,l=!o||void 0===o.visible||o.visible;if(!Ks(a))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof l)throw new TypeError('Property "visible" must be a boolean');return{node:a,visible:l}})}get type(){return tk}get isBlockNode(){return!0}_compile(s,o){var a=r_(this.blocks,function(l){return{evaluate:l.node._compile(s,o),visible:l.visible}});return function(c,u,d){var f=[];return whe(a,function(p){var m=p.evaluate(c,u,d);p.visible&&f.push(m)}),new t(f)}}forEach(s){for(var o=0;o<this.blocks.length;o++)s(this.blocks[o].node,"blocks["+o+"].node",this)}map(s){for(var o=[],a=0;a<this.blocks.length;a++){var l=this.blocks[a],c=this._ifNode(s(l.node,"blocks["+a+"].node",this));o[a]={node:c,visible:l.visible}}return new i(o)}clone(){var s=this.blocks.map(function(o){return{node:o.node,visible:o.visible}});return new i(s)}_toString(s){return this.blocks.map(function(o){return o.node.toString(s)+(o.visible?"":";")}).join("\n")}toJSON(){return{mathjs:tk,blocks:this.blocks}}static fromJSON(s){return new i(s.blocks)}_toHTML(s){return this.blocks.map(function(o){return o.node.toHTML(s)+(o.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(s){return this.blocks.map(function(o){return o.node.toTex(s)+(o.visible?"":";")}).join("\\;\\;\n")}}return(0,xl.A)(i,"name",tk),i},{isClass:!0,isNode:!0}),nk="ConditionalNode",Hrt=xe(nk,["Node"],n=>{var{Node:t}=n;class i extends t{constructor(s,o,a){if(super(),!Ks(s))throw new TypeError("Parameter condition must be a Node");if(!Ks(o))throw new TypeError("Parameter trueExpr must be a Node");if(!Ks(a))throw new TypeError("Parameter falseExpr must be a Node");this.condition=s,this.trueExpr=o,this.falseExpr=a}get type(){return nk}get isConditionalNode(){return!0}_compile(s,o){var a=this.condition._compile(s,o),l=this.trueExpr._compile(s,o),c=this.falseExpr._compile(s,o);return function(d,f,h){return function e(r){if("number"==typeof r||"boolean"==typeof r||"string"==typeof r)return!!r;if(r){if(or(r))return!r.isZero();if(sg(r))return!(!r.re&&!r.im);if(vh(r))return!!r.value}if(null==r)return!1;throw new TypeError('Unsupported type of condition "'+ro(r)+'"')}(a(d,f,h))?l(d,f,h):c(d,f,h)}}forEach(s){s(this.condition,"condition",this),s(this.trueExpr,"trueExpr",this),s(this.falseExpr,"falseExpr",this)}map(s){return new i(this._ifNode(s(this.condition,"condition",this)),this._ifNode(s(this.trueExpr,"trueExpr",this)),this._ifNode(s(this.falseExpr,"falseExpr",this)))}clone(){return new i(this.condition,this.trueExpr,this.falseExpr)}_toString(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=so(this,o,s&&s.implicit),l=this.condition.toString(s),c=so(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l="("+l+")");var u=this.trueExpr.toString(s),d=so(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=a)&&(u="("+u+")");var f=this.falseExpr.toString(s),h=so(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==h&&h<=a)&&(f="("+f+")"),l+" ? "+u+" : "+f}toJSON(){return{mathjs:nk,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(s){return new i(s.condition,s.trueExpr,s.falseExpr)}_toHTML(s){var o=s&&s.parenthesis?s.parenthesis:"keep",a=so(this,o,s&&s.implicit),l=this.condition.toHTML(s),c=so(this.condition,o,s&&s.implicit);("all"===o||"OperatorNode"===this.condition.type||null!==c&&c<=a)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var u=this.trueExpr.toHTML(s),d=so(this.trueExpr,o,s&&s.implicit);("all"===o||"OperatorNode"===this.trueExpr.type||null!==d&&d<=a)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>');var f=this.falseExpr.toHTML(s),h=so(this.falseExpr,o,s&&s.implicit);return("all"===o||"OperatorNode"===this.falseExpr.type||null!==h&&h<=a)&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+u+'<span class="math-operator math-conditional-operator">:</span>'+f}_toTex(s){return"\\begin{cases} {"+this.trueExpr.toTex(s)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(s)+"}\\\\{"+this.falseExpr.toTex(s)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return(0,xl.A)(i,"name",nk),i},{isClass:!0,isNode:!0}),ik="ConstantNode",zrt=xe(ik,["Node"],n=>{var{Node:t}=n;class e extends t{constructor(r){super(),this.value=r}get type(){return ik}get isConstantNode(){return!0}_compile(r,s){var o=this.value;return function(){return o}}forEach(r){}map(r){return this.clone()}clone(){return new e(this.value)}_toString(r){return Cr(this.value,r)}_toHTML(r){var s=this._toString(r);switch(ro(this.value)){case"number":case"bigint":case"BigNumber":case"Fraction":return'<span class="math-number">'+s+"</span>";case"string":return'<span class="math-string">'+s+"</span>";case"boolean":return'<span class="math-boolean">'+s+"</span>";case"null":return'<span class="math-null-symbol">'+s+"</span>";case"undefined":return'<span class="math-undefined">'+s+"</span>";default:return'<span class="math-symbol">'+s+"</span>"}}toJSON(){return{mathjs:ik,value:this.value}}static fromJSON(r){return new e(r.value)}_toTex(r){var s=this._toString(r),o=ro(this.value);switch(o){case"string":return"\\mathtt{"+uG(s)+"}";case"number":case"BigNumber":if(!("BigNumber"===o?this.value.isFinite():isFinite(this.value)))return this.value.valueOf()<0?"-\\infty":"\\infty";var l=s.toLowerCase().indexOf("e");return-1!==l?s.substring(0,l)+"\\cdot10^{"+s.substring(l+1)+"}":s;case"bigint":return s.toString();case"Fraction":return this.value.toLatex();default:return s}}}return(0,xl.A)(e,"name",ik),e},{isClass:!0,isNode:!0}),rk="RangeNode",Grt=xe(rk,["Node"],n=>{var{Node:t}=n;function e(r,s,o){var a=so(r,s,o),l={},c=so(r.start,s,o);if(l.start=null!==c&&c<=a||"all"===s,r.step){var u=so(r.step,s,o);l.step=null!==u&&u<=a||"all"===s}var d=so(r.end,s,o);return l.end=null!==d&&d<=a||"all"===s,l}class i extends t{constructor(s,o,a){if(super(),!Ks(s))throw new TypeError("Node expected");if(!Ks(o))throw new TypeError("Node expected");if(a&&!Ks(a))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=s,this.end=o,this.step=a||null}get type(){return rk}get isRangeNode(){return!0}needsEnd(){return this.filter(function(o){return dc(o)&&"end"===o.name}).length>0}_compile(s,o){var a=s.range,l=this.start._compile(s,o),c=this.end._compile(s,o);if(this.step){var u=this.step._compile(s,o);return function(f,h,p){return a(l(f,h,p),c(f,h,p),u(f,h,p))}}return function(f,h,p){return a(l(f,h,p),c(f,h,p))}}forEach(s){s(this.start,"start",this),s(this.end,"end",this),this.step&&s(this.step,"step",this)}map(s){return new i(this._ifNode(s(this.start,"start",this)),this._ifNode(s(this.end,"end",this)),this.step&&this._ifNode(s(this.step,"step",this)))}clone(){return new i(this.start,this.end,this.step&&this.step)}_toString(s){var l,a=e(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toString(s);if(a.start&&(c="("+c+")"),l=c,this.step){var u=this.step.toString(s);a.step&&(u="("+u+")"),l+=":"+u}var d=this.end.toString(s);return a.end&&(d="("+d+")"),l+":"+d}toJSON(){return{mathjs:rk,start:this.start,end:this.end,step:this.step}}static fromJSON(s){return new i(s.start,s.end,s.step)}_toHTML(s){var l,a=e(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),c=this.start.toHTML(s);if(a.start&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=c,this.step){var u=this.step.toHTML(s);a.step&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+u}var d=this.end.toHTML(s);return a.end&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-range-operator">:</span>'+d}_toTex(s){var a=e(this,s&&s.parenthesis?s.parenthesis:"keep",s&&s.implicit),l=this.start.toTex(s);if(a.start&&(l="\\left(".concat(l,"\\right)")),this.step){var c=this.step.toTex(s);a.step&&(c="\\left(".concat(c,"\\right)")),l+=":"+c}var u=this.end.toTex(s);return a.end&&(u="\\left(".concat(u,"\\right)")),l+":"+u}}return(0,xl.A)(i,"name",rk),i},{isClass:!0,isNode:!0}),Wrt=xe("reviver",["classes"],n=>{var{classes:t}=n;return function(i,r){var s=t[r&&r.mathjs];return s&&"function"==typeof s.fromJSON?s.fromJSON(r):r}}),Xrt=xe("Chain",["?on","math","typed"],n=>{var{on:t,math:e,typed:i}=n;function r(c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=nhe(c)?c.value:c}function o(c,u){!function Iit(n,t,e){var r,i=!0;Object.defineProperty(n,t,{get:function(){return i&&(r=e(),i=!1),r},set:function(o){r=o,i=!1},configurable:!0,enumerable:!0})}(r.prototype,c,function(){var f=u();if("function"==typeof f)return a(f)})}function a(c){return function(){if(0===arguments.length)return new r(c(this.value));for(var u=[this.value],d=0;d<arguments.length;d++)u[d+1]=arguments[d];if(i.isTypedFunction(c)){var f=i.resolve(c,u);if(1===f.params.length)throw new Error("chain function "+c.name+" cannot match rest parameter between chain value and additional arguments.");return new r(f.implementation.apply(c,u))}return new r(c.apply(c,u))}}r.prototype.type="Chain",r.prototype.isChain=!0,r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return Cr(this.value)},r.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},r.fromJSON=function(c){return new r(c.value)},r.createProxy=function(c,u){if("string"==typeof c)!function s(c,u){"function"==typeof u&&(r.prototype[c]=a(u))}(c,u);else{var d=function(p){ti(c,p)&&void 0===l[p]&&o(p,()=>c[p])};for(var f in c)d(f)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return r.createProxy(e),t&&t("import",function(c,u,d){d||o(c,u)}),r},{isClass:!0}),sk="FunctionAssignmentNode",Zrt=xe(sk,["typed","Node"],n=>{var{typed:t,Node:e}=n;function i(s,o,a){var l=so(s,o,a),c=so(s.expr,o,a);return"all"===o||null!==c&&c<=l}class r extends e{constructor(o,a,l){if(super(),"string"!=typeof o)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(a))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Ks(l))throw new TypeError('Node expected for parameter "expr"');if(ihe.has(o))throw new Error('Illegal function name, "'+o+'" is a reserved keyword');var c=new Set;for(var u of a){var d="string"==typeof u?u:u.name;if(c.has(d))throw new Error('Duplicate parameter name "'.concat(d,'"'));c.add(d)}this.name=o,this.params=a.map(function(f){return f&&f.name||f}),this.types=a.map(function(f){return f&&f.type||"any"}),this.expr=l}get type(){return sk}get isFunctionAssignmentNode(){return!0}_compile(o,a){var l=Object.create(a);whe(this.params,function(m){l[m]=!0});var c=this.expr,u=c._compile(o,l),d=this.name,f=this.params,h=She(this.types,","),p=d+"("+She(this.params,", ")+")";return function(g,A,_){var v={};v[h]=function(){for(var w=Object.create(A),y=0;y<f.length;y++)w[f[y]]=arguments[y];return u(g,w,_)};var b=t(d,v);return b.syntax=p,b.expr=c.toString(),g.set(d,b),b}}forEach(o){o(this.expr,"expr",this)}map(o){var a=this._ifNode(o(this.expr,"expr",this));return new r(this.name,this.params.slice(0),a)}clone(){return new r(this.name,this.params.slice(0),this.expr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toString(o);return i(this,a,o&&o.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var o=this.types;return{mathjs:sk,name:this.name,params:this.params.map(function(a,l){return{name:a,type:o[l]}}),expr:this.expr}}static fromJSON(o){return new r(o.name,o.params,o.expr)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",l=[],c=0;c<this.params.length;c++)l.push('<span class="math-symbol math-parameter">'+ff(this.params[c])+"</span>");var u=this.expr.toHTML(o);return i(this,a,o&&o.implicit)&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+ff(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+u}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",l=this.expr.toTex(o);return i(this,a,o&&o.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(Bhe).join(",")+"\\right)="+l}}return(0,xl.A)(r,"name",sk),r},{isClass:!0,isNode:!0}),est=xe("chain",["typed","Chain"],n=>{var{typed:t,Chain:e}=n;return t("chain",{"":function(){return new e},any:function(r){return new e(r)}})});function Fu(n){return n&&n.isIndexError?new vp(n.index+1,n.min+1,void 0!==n.max?n.max+1:void 0):n}function Phe(n){var{subset:t}=n;return function(i,r){try{if(Array.isArray(i))return t(i,r);if(i&&"function"==typeof i.subset)return i.subset(r);if("string"==typeof i)return t(i,r);if("object"==typeof i){if(!r.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return Bu(i,r.getObjectProperty())}throw new TypeError("Cannot apply index: unsupported type of object")}catch(s){throw Fu(s)}}}var ok="AccessorNode",nst=xe(ok,["subset","Node"],n=>{var{subset:t,Node:e}=n,i=Phe({subset:t});function r(o){return!(jb(o)||hf(o)||Jr(o)||t_(o)||zR(o)||og(o)||dc(o))}class s extends e{constructor(a,l){if(super(),!Ks(a))throw new TypeError('Node expected for parameter "object"');if(!Zx(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=a,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ok}get isAccessorNode(){return!0}_compile(a,l){var c=this.object._compile(a,l),u=this.index._compile(a,l);if(this.index.isObjectProperty()){var d=this.index.getObjectProperty();return function(h,p,m){return Bu(c(h,p,m),d)}}return function(h,p,m){var g=c(h,p,m),A=u(h,p,g);return i(g,A)}}forEach(a){a(this.object,"object",this),a(this.index,"index",this)}map(a){return new s(this._ifNode(a(this.object,"object",this)),this._ifNode(a(this.index,"index",this)))}clone(){return new s(this.object,this.index)}_toString(a){var l=this.object.toString(a);return r(this.object)&&(l="("+l+")"),l+this.index.toString(a)}_toHTML(a){var l=this.object.toHTML(a);return r(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(a)}_toTex(a){var l=this.object.toTex(a);return r(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(a)}toJSON(){return{mathjs:ok,object:this.object,index:this.index}}static fromJSON(a){return new s(a.object,a.index)}}return(0,xl.A)(s,"name",ok),s},{isClass:!0,isNode:!0}),ak="AssignmentNode",sst=xe(ak,["subset","?matrix","Node"],n=>{var{subset:t,matrix:e,Node:i}=n,r=Phe({subset:t}),s=function ist(n){var{subset:t,matrix:e}=n;return function(r,s,o){try{if(Array.isArray(r))return e(r).subset(s,o).valueOf().forEach((l,c)=>{r[c]=l}),r;if(r&&"function"==typeof r.subset)return r.subset(s,o);if("string"==typeof r)return t(r,s,o);if("object"==typeof r){if(!s.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Kx(r,s.getObjectProperty(),o),r}throw new TypeError("Cannot apply index: unsupported type of object")}catch(l){throw Fu(l)}}}({subset:t,matrix:e});function o(l,c,u){c||(c="keep");var d=so(l,c,u),f=so(l.value,c,u);return"all"===c||null!==f&&f<=d}class a extends i{constructor(c,u,d){if(super(),this.object=c,this.index=d?u:null,this.value=d||u,!dc(c)&&!jb(c))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(dc(c)&&"end"===c.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!Zx(this.index))throw new TypeError('IndexNode expected as "index"');if(!Ks(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return ak}get isAssignmentNode(){return!0}_compile(c,u){var d=this.object._compile(c,u),f=this.index?this.index._compile(c,u):null,h=this.value._compile(c,u),p=this.object.name;if(this.index){if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(b,w,y){var C=d(b,w,y),D=h(b,w,y);return Kx(C,m,D),D}}if(dc(this.object))return function(b,w,y){var C=d(b,w,y),D=h(b,w,y),S=f(b,w,C);return b.set(p,s(C,S,D)),D};var g=this.object.object._compile(c,u);if(this.object.index.isObjectProperty()){var A=this.object.index.getObjectProperty();return function(b,w,y){var C=g(b,w,y),D=Bu(C,A),S=f(b,w,D),T=h(b,w,y);return Kx(C,A,s(D,S,T)),T}}var _=this.object.index._compile(c,u);return function(b,w,y){var C=g(b,w,y),D=_(b,w,C),S=r(C,D),T=f(b,w,S),M=h(b,w,y);return s(C,D,s(S,T,M)),M}}if(!dc(this.object))throw new TypeError("SymbolNode expected as object");return function(b,w,y){var C=h(b,w,y);return b.set(p,C),C}}forEach(c){c(this.object,"object",this),this.index&&c(this.index,"index",this),c(this.value,"value",this)}map(c){var u=this._ifNode(c(this.object,"object",this)),d=this.index?this._ifNode(c(this.index,"index",this)):null,f=this._ifNode(c(this.value,"value",this));return new a(u,d,f)}clone(){return new a(this.object,this.index,this.value)}_toString(c){var u=this.object.toString(c),d=this.index?this.index.toString(c):"",f=this.value.toString(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f="("+f+")"),u+d+" = "+f}toJSON(){return{mathjs:ak,object:this.object,index:this.index,value:this.value}}static fromJSON(c){return new a(c.object,c.index,c.value)}_toHTML(c){var u=this.object.toHTML(c),d=this.index?this.index.toHTML(c):"",f=this.value.toHTML(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f='<span class="math-paranthesis math-round-parenthesis">(</span>'+f+'<span class="math-paranthesis math-round-parenthesis">)</span>'),u+d+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+f}_toTex(c){var u=this.object.toTex(c),d=this.index?this.index.toTex(c):"",f=this.value.toTex(c);return o(this,c&&c.parenthesis,c&&c.implicit)&&(f="\\left(".concat(f,"\\right)")),u+d+"="+f}}return(0,xl.A)(a,"name",ak),a},{isClass:!0,isNode:!0}),lk="IndexNode",ast=xe(lk,["Node","size"],n=>{var{Node:t,size:e}=n;class i extends t{constructor(s,o){if(super(),this.dimensions=s,this.dotNotation=o||!1,!Array.isArray(s)||!s.every(Ks))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return lk}get isIndexNode(){return!0}_compile(s,o){var a=r_(this.dimensions,function(c,u){if(c.filter(p=>p.isSymbolNode&&"end"===p.name).length>0){var f=Object.create(o);f.end=!0;var h=c._compile(s,f);return function(m,g,A){if(!Ci(A)&&!io(A)&&!eu(A))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+ro(A));var _=e(A).valueOf(),v=Object.create(g);return v.end=_[u],h(m,v,A)}}return c._compile(s,o)}),l=Bu(s,"index");return function(u,d,f){var h=r_(a,function(p){return p(u,d,f)});return l(...h)}}forEach(s){for(var o=0;o<this.dimensions.length;o++)s(this.dimensions[o],"dimensions["+o+"]",this)}map(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this._ifNode(s(this.dimensions[a],"dimensions["+a+"]",this));return new i(o,this.dotNotation)}clone(){return new i(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return 1===this.dimensions.length&&Jr(this.dimensions[0])&&"string"==typeof this.dimensions[0].value}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(s){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:lk,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(s){return new i(s.dimensions,s.dotNotation)}_toHTML(s){for(var o=[],a=0;a<this.dimensions.length;a++)o[a]=this.dimensions[a].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+ff(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(s){var o=this.dimensions.map(function(a){return a.toTex(s)});return this.dotNotation?"."+this.getObjectProperty():"_{"+o.join(",")+"}"}}return(0,xl.A)(i,"name",lk),i},{isClass:!0,isNode:!0}),ust=xe("SymbolNode",["math","?Unit","Node"],n=>{var{math:t,Unit:e,Node:i}=n;function r(o){return!!e&&e.isValuelessUnit(o)}class s extends i{constructor(a){if(super(),"string"!=typeof a)throw new TypeError('String expected for parameter "name"');this.name=a}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(a,l){var c=this.name;if(!0===l[c])return function(d,f,h){return Bu(f,c)};if(c in a)return function(d,f,h){return d.has(c)?d.get(c):Bu(a,c)};var u=r(c);return function(d,f,h){return d.has(c)?d.get(c):u?new e(null,c):s.onUndefinedSymbol(c)}}forEach(a){}map(a){return this.clone()}static onUndefinedSymbol(a){throw new Error("Undefined symbol "+a)}clone(){return new s(this.name)}_toString(a){return this.name}_toHTML(a){var l=ff(this.name);return"true"===l||"false"===l?'<span class="math-symbol math-boolean">'+l+"</span>":"i"===l?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":"Infinity"===l?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":"NaN"===l?'<span class="math-symbol math-nan-symbol">'+l+"</span>":"null"===l?'<span class="math-symbol math-null-symbol">'+l+"</span>":"undefined"===l?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(a){return new s(a.name)}_toTex(a){var l=!1;typeof t[this.name]>"u"&&r(this.name)&&(l=!0);var c=Bhe(this.name,l);return"\\"===c[0]?c:" "+c}}return s},{isClass:!0,isNode:!0}),ck="FunctionNode",hst=xe(ck,["math","Node","SymbolNode"],n=>{var t,{math:e,Node:i,SymbolNode:r}=n,s=l=>Cr(l,{truncate:78});function o(l,c,u){for(var p,d="",f=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0;null!==(p=f.exec(l));)if(d+=l.substring(h,p.index),h=p.index,"$$"===p[0])d+="$",h++;else{h+=p[0].length;var m=c[p[1]];if(!m)throw new ReferenceError("Template: Property "+p[1]+" does not exist.");if(void 0===p[2])switch(typeof m){case"string":d+=m;break;case"object":if(Ks(m))d+=m.toTex(u);else{if(!Array.isArray(m))throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes");d+=m.map(function(g,A){if(Ks(g))return g.toTex(u);throw new TypeError("Template: "+p[1]+"["+A+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes")}else{if(!Ks(m[p[2]]&&m[p[2]]))throw new TypeError("Template: "+p[1]+"["+p[2]+"] is not a Node.");d+=m[p[2]].toTex(u)}}return d+l.slice(h)}class a extends i{constructor(c,u){if(super(),"string"==typeof c&&(c=new r(c)),!Ks(c))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(u)||!u.every(Ks))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=c,this.args=u||[]}get name(){return this.fn.name||""}get type(){return ck}get isFunctionNode(){return!0}_compile(c,u){var d=this.args.map(D=>D._compile(c,u));if(!dc(this.fn)){if(jb(this.fn)&&Zx(this.fn.index)&&this.fn.index.isObjectProperty()){var _=this.fn.object._compile(c,u),v=this.fn.index.getObjectProperty(),b=this.args;return function(S,T,M){var F=_(S,T,M),L=function Pit(n,t){if(!YQ(n,t))throw new Error('No access to method "'+t+'"');return n[t]}(F,v);if(null!=L&&L.rawArgs)return L(b,c,IM(S,T));var U=d.map(z=>z(S,T,M));return L.apply(F,U)}}var w=this.fn.toString(),y=this.fn._compile(c,u),C=this.args;return function(S,T,M){var F=y(S,T,M);if("function"!=typeof F)throw new TypeError("Expression '".concat(w,"' did not evaluate to a function; value is:")+"\n  ".concat(s(F)));if(F.rawArgs)return F(C,c,IM(S,T));var L=d.map(U=>U(S,T,M));return F.apply(F,L)}}var f=this.fn.name;if(u[f]){var A=this.args;return function(S,T,M){var F=Bu(T,f);if("function"!=typeof F)throw new TypeError("Argument '".concat(f,"' was not a function; received: ").concat(s(F)));if(F.rawArgs)return F(A,c,IM(S,T));var L=d.map(U=>U(S,T,M));return F.apply(F,L)}}var h=f in c?Bu(c,f):void 0,m=D=>{var S;if(D.has(f))S=D.get(f);else{if(!(f in c))return a.onUndefinedFunction(f);S=Bu(c,f)}if("function"==typeof S)return S;throw new TypeError("'".concat(f,"' is not a function; its value is:\n  ").concat(s(S)))};if("function"==typeof h&&!0===h.rawArgs){var g=this.args;return function(S,T,M){var F=m(S);return!0===F.rawArgs?F(g,c,IM(S,T)):F(...d.map(U=>U(S,T,M)))}}switch(d.length){case 0:return function(S,T,M){return m(S)()};case 1:return function(S,T,M){return m(S)((0,d[0])(S,T,M))};case 2:return function(S,T,M){var F=m(S),U=d[1];return F((0,d[0])(S,T,M),U(S,T,M))};default:return function(S,T,M){return m(S)(...d.map(U=>U(S,T,M)))}}}forEach(c){c(this.fn,"fn",this);for(var u=0;u<this.args.length;u++)c(this.args[u],"args["+u+"]",this)}map(c){for(var u=this._ifNode(c(this.fn,"fn",this)),d=[],f=0;f<this.args.length;f++)d[f]=this._ifNode(c(this.args[f],"args["+f+"]",this));return new a(u,d)}clone(){return new a(this.fn,this.args.slice(0))}toString(c){var u,d=this.fn.toString(c);return c&&"object"==typeof c.handler&&ti(c.handler,d)&&(u=c.handler[d](this,c)),typeof u<"u"?u:super.toString(c)}_toString(c){var u=this.args.map(function(f){return f.toString(c)});return(MM(this.fn)?"("+this.fn.toString(c)+")":this.fn.toString(c))+"("+u.join(", ")+")"}toJSON(){return{mathjs:ck,fn:this.fn,args:this.args}}_toHTML(c){var u=this.args.map(function(d){return d.toHTML(c)});return'<span class="math-function">'+ff(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+u.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(c){var u;return c&&"object"==typeof c.handler&&ti(c.handler,this.name)&&(u=c.handler[this.name](this,c)),typeof u<"u"?u:super.toTex(c)}_toTex(c){var d,f,u=this.args.map(function(h){return h.toTex(c)});switch(Nhe[this.name]&&(d=Nhe[this.name]),e[this.name]&&("function"==typeof e[this.name].toTex||"object"==typeof e[this.name].toTex||"string"==typeof e[this.name].toTex)&&(d=e[this.name].toTex),typeof d){case"function":f=d(this,c);break;case"string":f=o(d,this,c);break;case"object":switch(typeof d[u.length]){case"function":f=d[u.length](this,c);break;case"string":f=o(d[u.length],this,c)}}return typeof f<"u"?f:o("\\mathrm{${name}}\\left(${args}\\right)",this,c)}getIdentifier(){return this.type+":"+this.name}}return t=a,(0,xl.A)(a,"name",ck),(0,xl.A)(a,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),(0,xl.A)(a,"fromJSON",function(l){return new t(l.fn,l.args)}),a},{isClass:!0,isNode:!0});function Ohe(n){var i,r,t=n.length,e=n[0].length,s=[];for(r=0;r<e;r++){var o=[];for(i=0;i<t;i++)o.push(n[i][r]);s.push(o)}return s}function rC(n){for(var t=0;t<n.length;t++)if(_h(n[t]))return!0;return!1}function o_(n,t){Ci(n)?n.forEach(e=>t(e),!1,!0):The(n,t,!0)}function ar(n,t,e){if(!e)return Ci(n)?n.map(r=>t(r),!1,!0):aG(n,t,!0);var i=r=>0===r?r:t(r);return Ci(n)?n.map(r=>i(r),!1,!0):aG(n,i,!0)}function uk(n,t,e){var i=Array.isArray(n)?zi(n):n.size();if(t<0||t>=i.length)throw new vp(t,i.length);return Ci(n)?n.create(dk(n.valueOf(),t,e),n.datatype()):dk(n,t,e)}function dk(n,t,e){var i,r,s,o;if(t<=0){if(Array.isArray(n[0])){for(o=Ohe(n),r=[],i=0;i<o.length;i++)r[i]=dk(o[i],t-1,e);return r}for(s=n[0],i=1;i<n.length;i++)s=e(s,n[i]);return s}for(r=[],i=0;i<n.length;i++)r[i]=dk(n[i],t-1,e);return r}function Rhe(n,t,e,i,r,s,o,a,l,c,u){var p,g,A,d=n._values,f=n._index,h=n._ptr;if(i)for(g=h[t+1],p=h[t];p<g;p++)e[A=f[p]]!==s?(e[A]=s,o.push(A),c?(i[A]=l?a(d[p],u):a(u,d[p]),r[A]=s):i[A]=d[p]):(i[A]=l?a(d[p],i[A]):a(i[A],d[p]),r[A]=s);else for(g=h[t+1],p=h[t];p<g;p++)e[A=f[p]]!==s?(e[A]=s,o.push(A)):r[A]=s}var pst=xe("parse",["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],n=>{var{typed:t,numeric:e,config:i,AccessorNode:r,ArrayNode:s,AssignmentNode:o,BlockNode:a,ConditionalNode:l,ConstantNode:c,FunctionAssignmentNode:u,FunctionNode:d,IndexNode:f,ObjectNode:h,OperatorNode:p,ParenthesisNode:m,RangeNode:g,RelationalNode:A,SymbolNode:_}=n,v=t("parse",{string:function(Fe){return ye(Fe,{})},"Array | Matrix":function(Fe){return b(Fe,{})},"string, Object":function(Fe,Ee){return ye(Fe,void 0!==Ee.nodes?Ee.nodes:{})},"Array | Matrix, Object":b});function b(Y){var Fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ee=void 0!==Fe.nodes?Fe.nodes:{};return ar(Y,function(Ze){if("string"!=typeof Ze)throw new TypeError("String expected");return ye(Ze,Ee)})}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},y={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"??":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},D={true:!0,false:!1,null:null,undefined:void 0},S=["NaN","Infinity"],T={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function F(Y,Fe){return Y.expression.substr(Y.index,Fe)}function L(Y){return F(Y,1)}function U(Y){Y.index++}function z(Y){return Y.expression.charAt(Y.index-1)}function O(Y){return Y.expression.charAt(Y.index+1)}function G(Y){for(Y.tokenType=w.NULL,Y.token="",Y.comment="";;){if("#"===L(Y))for(;"\n"!==L(Y)&&""!==L(Y);)Y.comment+=L(Y),U(Y);if(!v.isWhitespace(L(Y),Y.nestingLevel))break;U(Y)}if(""!==L(Y)){if("\n"===L(Y)&&!Y.nestingLevel)return Y.tokenType=w.DELIMITER,Y.token=L(Y),void U(Y);var Fe=L(Y),Ee=F(Y,2),Ze=F(Y,3);if(3===Ze.length&&y[Ze])return Y.tokenType=w.DELIMITER,Y.token=Ze,U(Y),U(Y),void U(Y);if(2===Ee.length&&y[Ee])return Y.tokenType=w.DELIMITER,Y.token=Ee,U(Y),void U(Y);if(y[Fe])return Y.tokenType=w.DELIMITER,Y.token=Fe,void U(Y);if(v.isDigitDot(Fe)){Y.tokenType=w.NUMBER;var it=F(Y,2);if("0b"===it||"0o"===it||"0x"===it){for(Y.token+=L(Y),U(Y),Y.token+=L(Y),U(Y);v.isHexDigit(L(Y));)Y.token+=L(Y),U(Y);if("."===L(Y))for(Y.token+=".",U(Y);v.isHexDigit(L(Y));)Y.token+=L(Y),U(Y);else if("i"===L(Y))for(Y.token+="i",U(Y);v.isDigit(L(Y));)Y.token+=L(Y),U(Y);return}if("."===L(Y)){if(Y.token+=L(Y),U(Y),!v.isDigit(L(Y)))return void(Y.tokenType=w.DELIMITER)}else{for(;v.isDigit(L(Y));)Y.token+=L(Y),U(Y);v.isDecimalMark(L(Y),O(Y))&&(Y.token+=L(Y),U(Y))}for(;v.isDigit(L(Y));)Y.token+=L(Y),U(Y);if("E"===L(Y)||"e"===L(Y))if(v.isDigit(O(Y))||"-"===O(Y)||"+"===O(Y)){if(Y.token+=L(Y),U(Y),("+"===L(Y)||"-"===L(Y))&&(Y.token+=L(Y),U(Y)),!v.isDigit(L(Y)))throw Kt(Y,'Digit expected, got "'+L(Y)+'"');for(;v.isDigit(L(Y));)Y.token+=L(Y),U(Y);if(v.isDecimalMark(L(Y),O(Y)))throw Kt(Y,'Digit expected, got "'+L(Y)+'"')}else if(v.isDecimalMark(O(Y),Y.expression.charAt(Y.index+2)))throw U(Y),Kt(Y,'Digit expected, got "'+L(Y)+'"')}else{if(!v.isAlpha(L(Y),z(Y),O(Y))){for(Y.tokenType=w.UNKNOWN;""!==L(Y);)Y.token+=L(Y),U(Y);throw Kt(Y,'Syntax error in part "'+Y.token+'"')}for(;v.isAlpha(L(Y),z(Y),O(Y))||v.isDigit(L(Y));)Y.token+=L(Y),U(Y);Y.tokenType=ti(C,Y.token)?w.DELIMITER:w.SYMBOL}}else Y.tokenType=w.DELIMITER}function j(Y){do{G(Y)}while("\n"===Y.token)}function J(Y){Y.nestingLevel++}function le(Y){Y.nestingLevel--}function ye(Y,Fe){var Ee=function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null}}();Ul(Ee,{expression:Y,extraNodes:Fe}),G(Ee);var Ze=function R(Y){var Fe,Ee=[];for(""!==Y.token&&"\n"!==Y.token&&";"!==Y.token&&(Fe=X(Y),Y.comment&&(Fe.comment=Y.comment));"\n"===Y.token||";"===Y.token;)0===Ee.length&&Fe&&Ee.push({node:Fe,visible:";"!==Y.token}),G(Y),"\n"!==Y.token&&";"!==Y.token&&""!==Y.token&&(Fe=X(Y),Y.comment&&(Fe.comment=Y.comment),Ee.push({node:Fe,visible:";"!==Y.token}));return Ee.length>0?new a(Ee):(Fe||(Fe=new c(void 0),Y.comment&&(Fe.comment=Y.comment)),Fe)}(Ee);if(""!==Ee.token)throw Ee.tokenType===w.DELIMITER?ni(Ee,"Unexpected operator "+Ee.token):Kt(Ee,'Unexpected part "'+Ee.token+'"');return Ze}function X(Y){var Fe,Ee,Ze,it,mt=function H(Y){for(var Fe=function ae(Y){for(var Fe=de(Y);"or"===Y.token;)j(Y),Fe=new p("or","or",[Fe,de(Y)]);return Fe}(Y);"?"===Y.token;){var Ee=Y.conditionalLevel;Y.conditionalLevel=Y.nestingLevel,j(Y);var Ze=Fe,it=X(Y);if(":"!==Y.token)throw Kt(Y,"False part of conditional expression expected");Y.conditionalLevel=null,j(Y);var mt=X(Y);Fe=new l(Ze,it,mt),Y.conditionalLevel=Ee}return Fe}(Y);if("="===Y.token){if(dc(mt))return Fe=mt.name,j(Y),Ze=X(Y),new o(new _(Fe),Ze);if(jb(mt))return j(Y),Ze=X(Y),new o(mt.object,mt.index,Ze);if(t_(mt)&&dc(mt.fn)&&(it=!0,Ee=[],Fe=mt.name,mt.args.forEach(function(on,Xt){dc(on)?Ee[Xt]=on.name:it=!1}),it))return j(Y),Ze=X(Y),new u(Fe,Ee,Ze);throw Kt(Y,"Invalid left hand side of assignment operator =")}return mt}function de(Y){for(var Fe=he(Y);"xor"===Y.token;)j(Y),Fe=new p("xor","xor",[Fe,he(Y)]);return Fe}function he(Y){for(var Fe=ee(Y);"and"===Y.token;)j(Y),Fe=new p("and","and",[Fe,ee(Y)]);return Fe}function ee(Y){for(var Fe=ie(Y);"|"===Y.token;)j(Y),Fe=new p("|","bitOr",[Fe,ie(Y)]);return Fe}function ie(Y){for(var Fe=ge(Y);"^|"===Y.token;)j(Y),Fe=new p("^|","bitXor",[Fe,ge(Y)]);return Fe}function ge(Y){for(var Fe=Ce(Y);"&"===Y.token;)j(Y),Fe=new p("&","bitAnd",[Fe,Ce(Y)]);return Fe}function Ce(Y){for(var Fe=[ve(Y)],Ee=[],Ze={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};ti(Ze,Y.token);)Ee.push({name:Y.token,fn:Ze[Y.token]}),j(Y),Fe.push(ve(Y));return 1===Fe.length?Fe[0]:2===Fe.length?new p(Ee[0].name,Ee[0].fn,Fe):new A(Ee.map(mt=>mt.fn),Fe)}function ve(Y){var Fe,Ee,Ze,it;Fe=Ne(Y);for(var mt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};ti(mt,Y.token);)Ze=mt[Ee=Y.token],j(Y),it=[Fe,Ne(Y)],Fe=new p(Ee,Ze,it);return Fe}function Ne(Y){var Fe,Ee,Ze,it;Fe=se(Y);for(var mt={to:"to",in:"to"};ti(mt,Y.token);)Ze=mt[Ee=Y.token],j(Y),"in"===Ee&&"])},;".includes(Y.token)?Fe=new p("*","multiply",[Fe,new _("in")],!0):(it=[Fe,se(Y)],Fe=new p(Ee,Ze,it));return Fe}function se(Y){var Fe,Ee=[];if(Fe=":"===Y.token?new c(1):Oe(Y),":"===Y.token&&Y.conditionalLevel!==Y.nestingLevel){for(Ee.push(Fe);":"===Y.token&&Ee.length<3;)j(Y),Ee.push(")"===Y.token||"]"===Y.token||","===Y.token||""===Y.token?new _("end"):Oe(Y));Fe=3===Ee.length?new g(Ee[0],Ee[2],Ee[1]):new g(Ee[0],Ee[1])}return Fe}function Oe(Y){var Fe,Ee,Ze,it;Fe=fe(Y);for(var mt={"+":"add","-":"subtract"};ti(mt,Y.token);){Ze=mt[Ee=Y.token],j(Y);var on=fe(Y);it=on.isPercentage?[Fe,new p("*","multiply",[Fe,on])]:[Fe,on],Fe=new p(Ee,Ze,it)}return Fe}function fe(Y){var Fe,Ee,Ze,it;Ee=Fe=at(Y);for(var mt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};ti(mt,Y.token);)if(it=mt[Ze=Y.token],j(Y),"%"===Ze&&Y.tokenType===w.DELIMITER&&"("!==Y.token)if(""!==Y.token&&mt[Y.token]){var on=new p("/","divide",[Fe,new c(100)],!1,!0);it=mt[Ze=Y.token],j(Y),Ee=at(Y),Fe=new p(Ze,it,[on,Ee])}else Fe=new p("/","divide",[Fe,new c(100)],!1,!0);else Ee=at(Y),Fe=new p(Ze,it,[Fe,Ee]);return Fe}function at(Y){var Fe,Ee;for(Ee=Fe=Ge(Y);Y.tokenType===w.SYMBOL||"in"===Y.token&&Jr(Fe)||"in"===Y.token&&tl(Fe)&&"unaryMinus"===Fe.fn&&Jr(Fe.args[0])||Y.tokenType===w.NUMBER&&!Jr(Ee)&&(!tl(Ee)||"!"===Ee.op)||"("===Y.token;)Ee=Ge(Y),Fe=new p("*","multiply",[Fe,Ee],!0);return Fe}function Ge(Y){for(var Fe=$e(Y),Ee=Fe,Ze=[];"/"===Y.token&&JQ(Ee);){if(Ze.push(Ul({},Y)),j(Y),Y.tokenType!==w.NUMBER){Ul(Y,Ze.pop());break}if(Ze.push(Ul({},Y)),j(Y),Y.tokenType!==w.SYMBOL&&"("!==Y.token&&"in"!==Y.token){Ze.pop(),Ul(Y,Ze.pop());break}Ul(Y,Ze.pop()),Ze.pop(),Ee=$e(Y),Fe=new p("/","divide",[Fe,Ee])}return Fe}function $e(Y){var Fe,Ee,Ze,it={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return ti(it,Y.token)?(Ze=it[Y.token],Fe=Y.token,j(Y),Ee=[$e(Y)],new p(Fe,Ze,Ee)):function re(Y){var Fe,Ee,Ze,it;return Fe=function K(Y){for(var Fe=W(Y);"??"===Y.token;)j(Y),Fe=new p("??","nullish",[Fe,W(Y)]);return Fe}(Y),("^"===Y.token||".^"===Y.token)&&(Ze="^"===(Ee=Y.token)?"pow":"dotPow",j(Y),it=[Fe,$e(Y)],Fe=new p(Ee,Ze,it)),Fe}(Y)}function W(Y){var Fe,Ee,Ze;Fe=function we(Y){var Fe=[];if(Y.tokenType===w.SYMBOL&&ti(Y.extraNodes,Y.token)){var Ee=Y.extraNodes[Y.token];if(G(Y),"("===Y.token){if(Fe=[],J(Y),G(Y),")"!==Y.token)for(Fe.push(X(Y));","===Y.token;)G(Y),Fe.push(X(Y));if(")"!==Y.token)throw Kt(Y,"Parenthesis ) expected");le(Y),G(Y)}return new Ee(Fe)}return function ke(Y){var Ee;return Y.tokenType===w.SYMBOL||Y.tokenType===w.DELIMITER&&Y.token in C?(Ee=Y.token,G(Y),Ve(Y,ti(D,Ee)?new c(D[Ee]):S.includes(Ee)?new c(e(Ee,"number")):new _(Ee))):function Qe(Y){var Ee;return'"'===Y.token||"'"===Y.token?(Ee=pt(Y,Y.token),Ve(Y,new c(Ee))):function Bt(Y){var Fe,Ee,Ze,it;if("["===Y.token){if(J(Y),G(Y),"]"!==Y.token){var mt=yt(Y);if(";"===Y.token){for(Ze=1,Ee=[mt];";"===Y.token;)G(Y),"]"!==Y.token&&(Ee[Ze]=yt(Y),Ze++);if("]"!==Y.token)throw Kt(Y,"End of matrix ] expected");le(Y),G(Y),it=Ee[0].items.length;for(var on=1;on<Ze;on++)if(Ee[on].items.length!==it)throw ni(Y,"Column dimensions mismatch ("+Ee[on].items.length+" !== "+it+")");Fe=new s(Ee)}else{if("]"!==Y.token)throw Kt(Y,"End of matrix ] expected");le(Y),G(Y),Fe=mt}}else le(Y),G(Y),Fe=new s([]);return Ve(Y,Fe)}return function Mn(Y){if("{"===Y.token){J(Y);var Fe,Ee={};do{if(G(Y),"}"!==Y.token){if('"'===Y.token||"'"===Y.token)Fe=pt(Y,Y.token);else{if(!(Y.tokenType===w.SYMBOL||Y.tokenType===w.DELIMITER&&Y.token in C))throw Kt(Y,"Symbol or string expected as object key");Fe=Y.token,G(Y)}if(":"!==Y.token)throw Kt(Y,"Colon : expected after object key");G(Y),Ee[Fe]=X(Y)}}while(","===Y.token);if("}"!==Y.token)throw Kt(Y,"Comma , or bracket } expected after object value");le(Y),G(Y);var Ze=new h(Ee);return Ve(Y,Ze)}return function rt(Y){var Fe;if(Y.tokenType===w.NUMBER){Fe=Y.token,G(Y);var Ee=n_(Fe,i),Ze=e(Fe,Ee);return new c(Ze)}return function Sn(Y){var Fe;if("("===Y.token){if(J(Y),G(Y),Fe=X(Y),")"!==Y.token)throw Kt(Y,"Parenthesis ) expected");return le(Y),G(Y),Ve(Y,Fe=new m(Fe))}return function En(Y){throw Kt(Y,""===Y.token?"Unexpected end of expression":"Value expected")}(Y)}(Y)}(Y)}(Y)}(Y)}(Y)}(Y)}(Y);for(var mt={"!":"factorial","'":"ctranspose"};ti(mt,Y.token);)Ze=mt[Ee=Y.token],G(Y),Fe=Ve(Y,Fe=new p(Ee,Ze,[Fe]));return Fe}function Ve(Y,Fe,Ee){for(var Ze;("("===Y.token||"["===Y.token||"."===Y.token)&&(!Ee||Ee.includes(Y.token));)if(Ze=[],"("===Y.token){if(!dc(Fe)&&!jb(Fe))return Fe;if(J(Y),G(Y),")"!==Y.token)for(Ze.push(X(Y));","===Y.token;)G(Y),Ze.push(X(Y));if(")"!==Y.token)throw Kt(Y,"Parenthesis ) expected");le(Y),G(Y),Fe=new d(Fe,Ze)}else if("["===Y.token){if(J(Y),G(Y),"]"!==Y.token)for(Ze.push(X(Y));","===Y.token;)G(Y),Ze.push(X(Y));if("]"!==Y.token)throw Kt(Y,"Parenthesis ] expected");le(Y),G(Y),Fe=new r(Fe,new f(Ze))}else{if(G(Y),!(Y.tokenType===w.SYMBOL||Y.tokenType===w.DELIMITER&&Y.token in C))throw Kt(Y,"Property name expected after dot");Ze.push(new c(Y.token)),G(Y),Fe=new r(Fe,new f(Ze,!0))}return Fe}function pt(Y,Fe){for(var Ee="";""!==L(Y)&&L(Y)!==Fe;)if("\\"===L(Y)){U(Y);var Ze=L(Y),it=T[Ze];if(void 0!==it)Ee+=it,Y.index+=1;else{if("u"!==Ze)throw Kt(Y,"Bad escape character \\".concat(Ze));var mt=Y.expression.slice(Y.index+1,Y.index+5);if(!/^[0-9A-Fa-f]{4}$/.test(mt))throw Kt(Y,"Invalid unicode character \\u".concat(mt));Ee+=String.fromCharCode(parseInt(mt,16)),Y.index+=5}}else Ee+=L(Y),U(Y);if(G(Y),Y.token!==Fe)throw Kt(Y,"End of string ".concat(Fe," expected"));return G(Y),Ee}function yt(Y){for(var Fe=[X(Y)],Ee=1;","===Y.token;)G(Y),"]"!==Y.token&&";"!==Y.token&&(Fe[Ee]=X(Y),Ee++);return new s(Fe)}function ei(Y){return Y.index-Y.token.length+1}function Kt(Y,Fe){var Ee=ei(Y),Ze=new SyntaxError(Fe+" (char "+Ee+")");return Ze.char=Ee,Ze}function ni(Y,Fe){var Ee=ei(Y),Ze=new SyntaxError(Fe+" (char "+Ee+")");return Ze.char=Ee,Ze}return v.isAlpha=function(Fe,Ee,Ze){return v.isValidLatinOrGreek(Fe)||v.isValidMathSymbol(Fe,Ze)||v.isValidMathSymbol(Ee,Fe)},v.isValidLatinOrGreek=function(Fe){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(Fe)},v.isValidMathSymbol=function(Fe,Ee){return/^[\uD835]$/.test(Fe)&&/^[\uDC00-\uDFFF]$/.test(Ee)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(Ee)},v.isWhitespace=function(Fe,Ee){return" "===Fe||"\t"===Fe||"\xa0"===Fe||"\n"===Fe&&Ee>0},v.isDecimalMark=function(Fe,Ee){return"."===Fe&&"/"!==Ee&&"*"!==Ee&&"^"!==Ee},v.isDigitDot=function(Fe){return Fe>="0"&&Fe<="9"||"."===Fe},v.isDigit=function(Fe){return Fe>="0"&&Fe<="9"},v.isHexDigit=function(Fe){return Fe>="0"&&Fe<="9"||Fe>="a"&&Fe<="f"||Fe>="A"&&Fe<="F"},t.addConversion({from:"string",to:"Node",convert:v}),v}),gst=xe("resolve",["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],n=>{var{typed:t,parse:e,ConstantNode:i,FunctionNode:r,OperatorNode:s,ParenthesisNode:o}=n;function a(l,c){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(!c)return l;if(dc(l)){if(u.has(l.name)){var d=Array.from(u).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(d,"}"))}var f=c.get(l.name);if(Ks(f)){var h=new Set(u);return h.add(l.name),a(f,c,h)}return"number"==typeof f?e(String(f)):void 0!==f?new i(f):l}if(tl(l)){var p=l.args.map(function(g){return a(g,c,u)});return new s(l.op,l.fn,p,l.implicit)}if(og(l))return new o(a(l.content,c,u));if(t_(l)){var m=l.args.map(function(g){return a(g,c,u)});return new r(l.name,m)}return l.map(g=>a(g,c,u))}return t("resolve",{Node:a,"Node, Map | null | undefined":a,"Node, Object":(l,c)=>a(l,Xx(c)),"Array | Matrix":t.referToSelf(l=>c=>c.map(u=>l(u))),"Array | Matrix, null | undefined":t.referToSelf(l=>c=>c.map(u=>l(u))),"Array, Object":t.referTo("Array,Map",l=>(c,u)=>l(c,Xx(u))),"Matrix, Object":t.referTo("Matrix,Map",l=>(c,u)=>l(c,Xx(u))),"Array | Matrix, Map":t.referToSelf(l=>(c,u)=>c.map(d=>l(d,u)))})});function Lhe(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function dG(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Lhe(Object(e),!0).forEach(function(i){(0,xl.A)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Lhe(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}var hG=xe("simplifyUtil",["FunctionNode","OperatorNode","SymbolNode"],n=>{var{FunctionNode:t,OperatorNode:e,SymbolNode:i}=n,r=!0,s=!1,o="defaultF",a={add:{trivial:r,total:r,commutative:r,associative:r},unaryPlus:{trivial:r,total:r,commutative:r,associative:r},subtract:{trivial:s,total:r,commutative:s,associative:s},multiply:{trivial:r,total:r,commutative:r,associative:r},divide:{trivial:s,total:r,commutative:s,associative:s},paren:{trivial:r,total:r,commutative:r,associative:s},defaultF:{trivial:s,total:r,commutative:s,associative:s}};function u(v,b){var w=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,y=o;if("string"==typeof v?y=v:tl(v)?y=v.fn.toString():t_(v)?y=v.name:og(v)&&(y="paren"),ti(w,y)){var C=w[y];if(ti(C,b))return C[b];if(ti(a,y))return a[y][b]}if(ti(w,o)){var D=w[o];return ti(D,b)?D[b]:a[o][b]}if(ti(a,y)){var S=a[y];if(ti(S,b))return S[b]}return a[o][b]}function f(v){return u(v,"associative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)}function m(v,b){var w,y=[],C=function(S){for(var T=0;T<S.args.length;T++){var M=S.args[T];tl(M)&&w===M.op?C(M):y.push(M)}};return f(v,b)?(w=v.op,C(v),y):v.args}function _(v){return tl(v)?function(b){try{return new e(v.op,v.fn,b,v.implicit)}catch(w){return console.error(w),[]}}:function(b){return new t(new i(v.name),b)}}return{createMakeNodeFunction:_,hasProperty:u,isCommutative:function d(v){return u(v,"commutative",arguments.length>1&&void 0!==arguments[1]?arguments[1]:a)},isAssociative:f,mergeContext:function h(v,b){var w=dG({},v);for(var y in b)w[y]=ti(v,y)?dG(dG({},b[y]),v[y]):b[y];return w},flatten:function p(v,b){if(!v.args||0===v.args.length)return v;v.args=m(v,b);for(var w=0;w<v.args.length;w++)p(v.args[w],b)},allChildren:m,unflattenr:function g(v,b){if(v.args&&0!==v.args.length){for(var w=_(v),y=v.args.length,C=0;C<y;C++)g(v.args[C],b);if(y>2&&f(v,b)){for(var D=v.args.pop();v.args.length>0;)D=w([v.args.pop(),D]);v.args=D.args}}},unflattenl:function A(v,b){if(v.args&&0!==v.args.length){for(var w=_(v),y=v.args.length,C=0;C<y;C++)A(v.args[C],b);if(y>2&&f(v,b)){for(var D=v.args.shift();v.args.length>0;)D=w([D,v.args.shift()]);v.args=D.args}}},defaultContext:a,realContext:{divide:{total:s},log:{total:s}},positiveContext:{subtract:{total:s},abs:{trivial:r},log:{total:r}}}});function fG(){throw new Error('No "bignumber" implementation available')}function Uhe(){throw new Error('No "fraction" implementation available')}function Hhe(){throw new Error('No "matrix" implementation available')}var wst=xe("simplifyConstant",["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],n=>{var{typed:t,config:e,mathWithTransform:i,matrix:r,fraction:s,bignumber:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:d,ObjectNode:f,OperatorNode:h,SymbolNode:p}=n,{isCommutative:m,isAssociative:g,allChildren:A,createMakeNodeFunction:_}=hG({FunctionNode:u,OperatorNode:h,SymbolNode:p}),v=t("simplifyConstant",{Node:z=>C(U(z,{})),"Node, Object":function(O,G){return C(U(O,G))}});function b(z){return EM(z)?z.valueOf():z instanceof Array?z.map(b):Ci(z)?r(b(z.valueOf())):z}function w(z,O,G){try{return i[z].apply(null,O)}catch{return O=O.map(b),S(i[z].apply(null,O),G)}}var y=t({Fraction:function M(z){var O=J=>"BigNumber"===e.number&&o?o(J):Number(J),G=z.s*z.n,j=G<0n?new h("-","unaryMinus",[new c(-O(G))]):new c(O(G));return 1n===z.d?j:new h("/","divide",[j,new c(O(z.d))])},number:function(O){return O<0?T(new c(-O)):new c(O)},BigNumber:function(O){return O<0?T(new c(-O)):new c(O)},bigint:function(O){return O<0n?T(new c(-O)):new c(O)},Complex:function(O){throw new Error("Cannot convert Complex number to Node")},string:function(O){return new c(O)},Matrix:function(O){return new l(O.valueOf().map(G=>y(G)))}});function C(z){return Ks(z)?z:y(z)}function D(z,O){if(O&&!1!==O.exactFractions&&isFinite(z)&&s){var j=s(z),J=O&&"number"==typeof O.fractionsLimit?O.fractionsLimit:1/0;if(j.valueOf()===z&&j.n<J&&j.d<J)return j}return z}var S=t({"string, Object":function(O,G){var j=n_(O,e);return"BigNumber"===j?(void 0===o&&fG(),o(O)):"bigint"===j?BigInt(O):"Fraction"===j?(void 0===s&&Uhe(),s(O)):D(parseFloat(O),G)},"Fraction, Object":function(O,G){return O},"BigNumber, Object":function(O,G){return O},"number, Object":function(O,G){return D(O,G)},"bigint, Object":function(O,G){return O},"Complex, Object":function(O,G){return 0!==O.im?O:D(O.re,G)},"Matrix, Object":function(O,G){return r(D(O.valueOf()))},"Array, Object":function(O,G){return O.map(D)}});function T(z){return new h("-","unaryMinus",[z])}function L(z,O,G,j){var J=O.shift(),le=O.reduce((ye,R)=>{if(!Ks(R)){var X=ye.pop();if(Ks(X))return[X,R];try{return ye.push(w(z,[X,R],j)),ye}catch{ye.push(X)}}ye.push(C(ye.pop()));var H=1===ye.length?ye[0]:G(ye);return[G([H,C(R)])]},[J]);return 1===le.length?le[0]:G([le[0],y(le[1])])}function U(z,O){switch(z.type){case"SymbolNode":return z;case"ConstantNode":switch(typeof z.value){case"number":case"bigint":return S(z.value,O);case"string":return z.value;default:if(!isNaN(z.value))return S(z.value,O)}return z;case"FunctionNode":if(i[z.name]&&i[z.name].rawArgs)return z;if(!["add","multiply"].includes(z.name)){var j=z.args.map(Ce=>U(Ce,O));if(!j.some(Ks))try{return w(z.name,j,O)}catch{}if("size"===z.name&&1===j.length&&hf(j[0])){for(var J=[],le=j[0];hf(le);)J.push(le.items.length),le=le.items[0];return r(J)}return new u(z.name,j.map(C))}case"OperatorNode":var R,X,ye=z.fn.toString(),H=_(z);if(tl(z)&&z.isUnary())X=Ks((R=[U(z.args[0],O)])[0])?H(R):w(ye,R,O);else if(g(z,O.context))if(R=(R=A(z,O.context)).map(Ce=>U(Ce,O)),m(ye,O.context)){for(var ae=[],de=[],he=0;he<R.length;he++)Ks(R[he])?de.push(R[he]):ae.push(R[he]);ae.length>1?(X=L(ye,ae,H,O),de.unshift(X),X=L(ye,de,H,O)):X=L(ye,R,H,O)}else X=L(ye,R,H,O);else X=L(ye,R=z.args.map(Ce=>U(Ce,O)),H,O);return X;case"ParenthesisNode":return U(z.content,O);case"AccessorNode":return function F(z,O,G){if(!Zx(O))return new a(C(z),C(O));if(hf(z)||Ci(z)){for(var j=Array.from(O.dimensions);j.length>0;)if(Jr(j[0])&&"string"!=typeof j[0].value){var J=S(j.shift().value,G);hf(z)?z=z.items[J-1]:(z=z.valueOf()[J-1])instanceof Array&&(z=r(z))}else{if(!(j.length>1&&Jr(j[1])&&"string"!=typeof j[1].value))break;var le=S(j[1].value,G),ye=[],R=hf(z)?z.items:z.valueOf();for(var X of R)if(hf(X))ye.push(X.items[le-1]);else{if(!Ci(z))break;ye.push(X[le-1])}if(ye.length!==R.length)break;z=hf(z)?new l(ye):r(ye),j.splice(1,1)}return j.length===O.dimensions.length?new a(C(z),O):j.length>0?(O=new d(j),new a(C(z),O)):z}if(zR(z)&&1===O.dimensions.length&&Jr(O.dimensions[0])){var H=O.dimensions[0].value;return H in z.properties?z.properties[H]:new c}return new a(C(z),O)}(U(z.object,O),U(z.index,O),O);case"ArrayNode":var ee=z.items.map(Ce=>U(Ce,O));return ee.some(Ks)?new l(ee.map(C)):r(ee);case"IndexNode":return new d(z.dimensions.map(Ce=>v(Ce,O)));case"ObjectNode":var ie={};for(var ge in z.properties)ie[ge]=v(z.properties[ge],O);return new f(ie);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(z.type))}}return v}),Cst=xe("compile",["typed","parse"],n=>{var{typed:t,parse:e}=n;return t("compile",{string:function(r){return e(r).compile()},"Array | Matrix":function(r){return ar(r,function(s){return e(s).compile()})}})}),zhe="simplifyCore",Est=xe(zhe,["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:t,equal:i,isZero:r,AccessorNode:u,ArrayNode:d,ConstantNode:f,FunctionNode:h,IndexNode:p,ObjectNode:m,OperatorNode:g,SymbolNode:_}=n,v=new f(0),b=new f(1),w=new f(!0),y=new f(!1);function C(M){return tl(M)&&["and","not","or"].includes(M.op)}var{hasProperty:D,isCommutative:S}=hG({FunctionNode:h,OperatorNode:g,SymbolNode:_});function T(M){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=F?F.context:void 0;if(D(M,"trivial",L)){if(t_(M)&&1===M.args.length)return T(M.args[0],F);var U=!1,z=0;if(M.forEach(de=>{1==++z&&(U=T(de,F))}),1===z)return U}var O=M;if(t_(O)){var G=function Ert(n){var t="OperatorNode:"+n;for(var e of _p)if(t in e)return e[t].op;return null}(O.name);if(!G)return new h(T(O.fn),O.args.map(de=>T(de,F)));if(O.args.length>2&&D(O,"associative",L))for(;O.args.length>2;){var j=O.args.pop(),J=O.args.pop();O.args.push(new g(G,O.name,[j,J]))}O=new g(G,O.name,O.args)}if(tl(O)&&O.isUnary()){var le=T(O.args[0],F);if("~"===O.op&&tl(le)&&le.isUnary()&&"~"===le.op||"not"===O.op&&tl(le)&&le.isUnary()&&"not"===le.op&&C(le.args[0]))return le.args[0];var ye=!0;if("-"===O.op&&tl(le)&&(le.isBinary()&&"subtract"===le.fn&&(O=new g("-","subtract",[le.args[1],le.args[0]]),ye=!1),le.isUnary()&&"-"===le.op))return le.args[0];if(ye)return new g(O.op,O.fn,[le])}if(tl(O)&&O.isBinary()){var R=T(O.args[0],F),X=T(O.args[1],F);if("+"===O.op){if(Jr(R)&&r(R.value))return X;if(Jr(X)&&r(X.value))return R;tl(X)&&X.isUnary()&&"-"===X.op&&(O=new g("-","subtract",[R,X=X.args[0]]))}if("-"===O.op)return tl(X)&&X.isUnary()&&"-"===X.op?T(new g("+","add",[R,X.args[0]]),F):Jr(R)&&r(R.value)?T(new g("-","unaryMinus",[X])):Jr(X)&&r(X.value)?R:new g(O.op,O.fn,[R,X]);if("*"===O.op){if(Jr(R)){if(r(R.value))return v;if(i(R.value,1))return X}if(Jr(X)){if(r(X.value))return v;if(i(X.value,1))return R;if(S(O,L))return new g(O.op,O.fn,[X,R],O.implicit)}return new g(O.op,O.fn,[R,X],O.implicit)}if("/"===O.op)return Jr(R)&&r(R.value)?v:Jr(X)&&i(X.value,1)?R:new g(O.op,O.fn,[R,X]);if("^"===O.op&&Jr(X)){if(r(X.value))return b;if(i(X.value,1))return R}if("and"===O.op){if(Jr(R)){if(!R.value)return y;if(C(X))return X;if(Jr(X))return X.value?w:y}if(Jr(X)){if(!X.value)return y;if(C(R))return R}}if("or"===O.op){if(Jr(R)){if(R.value)return w;if(C(X))return X}if(Jr(X)){if(X.value)return w;if(C(R))return R}}return new g(O.op,O.fn,[R,X])}if(tl(O))return new g(O.op,O.fn,O.args.map(de=>T(de,F)));if(hf(O))return new d(O.items.map(de=>T(de,F)));if(jb(O))return new u(T(O.object,F),T(O.index,F));if(Zx(O))return new p(O.dimensions.map(de=>T(de,F)));if(zR(O)){var H={};for(var ae in O.properties)H[ae]=T(O.properties[ae],F);return new m(H)}return O}return t(zhe,{Node:T,"Node,Object":T})}),Mst=xe("evaluate",["typed","parse"],n=>{var{typed:t,parse:e}=n;return t("evaluate",{string:function(r){var s=CM();return e(r).compile().evaluate(s)},"string, Map | Object":function(r,s){return e(r).compile().evaluate(s)},"Array | Matrix":function(r){var s=CM();return ar(r,function(o){return e(o).compile().evaluate(s)})},"Array | Matrix, Map | Object":function(r,s){return ar(r,function(o){return e(o).compile().evaluate(s)})}})}),Ist=xe("Help",["evaluate"],n=>{var{evaluate:t}=n;function e(i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(!i)throw new Error('Argument "doc" missing');this.doc=i}return e.prototype.type="Help",e.prototype.isHelp=!0,e.prototype.toString=function(){var i=this.doc||{},r="\n";if(i.name&&(r+="Name: "+i.name+"\n\n"),i.category&&(r+="Category: "+i.category+"\n\n"),i.description&&(r+="Description:\n    "+i.description+"\n\n"),i.syntax&&(r+="Syntax:\n    "+i.syntax.join("\n    ")+"\n\n"),i.examples){r+="Examples:\n";for(var s=!1,o=t("config()"),a={config:d=>(s=!0,t("config(newConfig)",{newConfig:d}))},l=0;l<i.examples.length;l++){var c=i.examples[l];r+="    "+c+"\n";var u=void 0;try{u=t(c,a)}catch(d){u=d}void 0!==u&&!ehe(u)&&(r+="        "+Cr(u,{precision:14})+"\n")}r+="\n",s&&t("config(originalConfig)",{originalConfig:o})}return i.mayThrow&&i.mayThrow.length&&(r+="Throws: "+i.mayThrow.join(", ")+"\n\n"),i.seealso&&i.seealso.length&&(r+="See also: "+i.seealso.join(", ")+"\n"),r},e.prototype.toJSON=function(){var i=Ji(this.doc);return i.mathjs="Help",i},e.fromJSON=function(i){var r={};return Object.keys(i).filter(s=>"mathjs"!==s).forEach(s=>{r[s]=i[s]}),new e(r)},e.prototype.valueOf=e.prototype.toString,e},{isClass:!0}),Pst=xe("Parser",["evaluate","parse"],n=>{var{evaluate:t,parse:e}=n;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:CM(),writable:!1})}return i.prototype.type="Parser",i.prototype.isParser=!0,i.prototype.evaluate=function(s){return t(s,this.scope)},i.prototype.get=function(s){if(this.scope.has(s))return this.scope.get(s)},i.prototype.getAll=function(){return function Lit(n){if(n instanceof UR)return n.wrappedObject;var t={};for(var e of n.keys())Kx(t,e,n.get(e));return t}(this.scope)},i.prototype.getAllAsMap=function(){return this.scope},i.prototype.set=function(s,o){if(!function r(s){if(0===s.length)return!1;for(var o=0;o<s.length;o++){var a=s.charAt(o-1),l=s.charAt(o),c=s.charAt(o+1);if(!(e.isAlpha(l,a,c)||o>0&&e.isDigit(l)))return!1}return!0}(s))throw new Error("Invalid variable name: '".concat(s,"'. Variable names must follow the specified rules."));return this.scope.set(s,o),o},i.prototype.remove=function(s){this.scope.delete(s)},i.prototype.clear=function(){this.scope.clear()},i.prototype.toJSON=function(){var s={mathjs:"Parser",variables:{},functions:{}};for(var[o,a]of this.scope)if(the(a)){if(!Ost(a))throw new Error("Cannot serialize external function ".concat(o));s.functions[o]="".concat(a.syntax," = ").concat(a.expr)}else s.variables[o]=a;return s},i.fromJSON=function(s){var o=new i;return Object.entries(s.variables).forEach(a=>{var[l,c]=a;return o.set(l,c)}),Object.entries(s.functions).forEach(a=>{var[l,c]=a;return o.evaluate(c)}),o},i},{isClass:!0});function Ost(n){return"function"==typeof n&&"string"==typeof n.syntax&&"string"==typeof n.expr}function Ghe(n){return Jr(n)||tl(n)&&n.isUnary()&&Jr(n.args[0])}function hk(n){return!!(Jr(n)||(t_(n)||tl(n))&&n.args.every(hk)||og(n)&&hk(n.content))}var Lst=xe("simplify",["typed","parse","equal","resolve","simplifyConstant","simplifyCore","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode","replacer"],n=>{var{typed:t,parse:e,equal:i,resolve:r,simplifyConstant:s,simplifyCore:o,AccessorNode:a,ArrayNode:l,ConstantNode:c,FunctionNode:u,IndexNode:d,ObjectNode:f,OperatorNode:h,ParenthesisNode:p,SymbolNode:m,replacer:g}=n,{hasProperty:A,isCommutative:_,isAssociative:v,mergeContext:b,flatten:w,unflattenr:y,unflattenl:C,createMakeNodeFunction:D,defaultContext:S,realContext:T,positiveContext:M}=hG({FunctionNode:u,OperatorNode:h,SymbolNode:m});t.addConversion({from:"Object",to:"Map",convert:Xx});var F=t("simplify",{Node:J,"Node, Map":(ee,ie)=>J(ee,!1,ie),"Node, Map, Object":(ee,ie,ge)=>J(ee,!1,ie,ge),"Node, Array":J,"Node, Array, Map":J,"Node, Array, Map, Object":J});function L(ee){return ee.transform(function(ie){return og(ie)?L(ie.content):ie})}t.removeConversion({from:"Object",to:"Map",convert:Xx}),F.defaultContext=S,F.realContext=T,F.positiveContext=M;var U={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};function z(ee,ie){var ge={};if(ee.s){var Ce=ee.s.split("->");if(2!==Ce.length)throw SyntaxError("Could not parse rule: "+ee.s);ge.l=Ce[0],ge.r=Ce[1]}else ge.l=ee.l,ge.r=ee.r;for(var ve of(ge.l=L(e(ge.l)),ge.r=L(e(ge.r)),["imposeContext","repeat","assuming"]))ve in ee&&(ge[ve]=ee[ve]);if(ee.evaluate&&(ge.evaluate=e(ee.evaluate)),v(ge.l,ie)){var se,Ne=!_(ge.l,ie);Ne&&(se=j());var Oe=D(ge.l),fe=j();ge.expanded={},ge.expanded.l=Oe([ge.l,fe]),w(ge.expanded.l,ie),y(ge.expanded.l,ie),ge.expanded.r=Oe([ge.r,fe]),Ne&&(ge.expandedNC1={},ge.expandedNC1.l=Oe([se,ge.l]),ge.expandedNC1.r=Oe([se,ge.r]),ge.expandedNC2={},ge.expandedNC2.l=Oe([se,ge.expanded.l]),ge.expandedNC2.r=Oe([se,ge.expanded.r]))}return ge}F.rules=[o,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},s,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},s,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];var G=0;function j(){return new m("_p"+G++)}function J(ee,ie){var ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:CM(),Ce=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ve=Ce.consoleDebug;ie=function O(ee,ie){for(var ge=[],Ce=0;Ce<ee.length;Ce++){var ve=ee[Ce],Ne=void 0,se=typeof ve;switch(se){case"string":ve={s:ve};case"object":Ne=z(ve,ie);break;case"function":Ne=ve;break;default:throw TypeError("Unsupported type of rule: "+se)}ge.push(Ne)}return ge}(ie||F.rules,Ce.context);for(var Ne=r(ee,ge),se={},Oe=(Ne=L(Ne)).toString({parenthesis:"all"});!se[Oe];){se[Oe]=!0,G=0;var fe=Oe;ve&&console.log("Working on: ",Oe);for(var at=0;at<ie.length;at++){var Ge="";if("function"==typeof ie[at]?(Ne=ie[at](Ne,Ce),ve&&(Ge=ie[at].name)):(w(Ne,Ce.context),Ne=ye(Ne,ie[at],Ce.context),ve&&(Ge="".concat(ie[at].l.toString()," -> ").concat(ie[at].r.toString()))),ve){var $e=Ne.toString({parenthesis:"all"});$e!==fe&&(console.log("Applying",Ge,"produced",$e),fe=$e)}C(Ne,Ce.context)}Oe=Ne.toString({parenthesis:"all"})}return Ne}function le(ee,ie,ge){var Ce=ee;if(ee)for(var ve=0;ve<ee.length;++ve){var Ne=ye(ee[ve],ie,ge);Ne!==ee[ve]&&(Ce===ee&&(Ce=ee.slice()),Ce[ve]=Ne)}return Ce}function ye(ee,ie,ge){if(ie.assuming)for(var Ce in ie.assuming)for(var ve in ie.assuming[Ce])if(A(Ce,ve,ge)!==ie.assuming[Ce][ve])return ee;var Ne=b(ie.imposeContext,ge),se=ee;if(se instanceof h||se instanceof u){var Oe=le(se.args,ie,ge);Oe!==se.args&&((se=se.clone()).args=Oe)}else if(se instanceof p){if(se.content){var fe=ye(se.content,ie,ge);fe!==se.content&&(se=new p(fe))}}else if(se instanceof l){var at=le(se.items,ie,ge);at!==se.items&&(se=new l(at))}else if(se instanceof a){var Ge=se.object;se.object&&(Ge=ye(se.object,ie,ge));var $e=se.index;se.index&&($e=ye(se.index,ie,ge)),(Ge!==se.object||$e!==se.index)&&(se=new a(Ge,$e))}else if(se instanceof d){var re=le(se.dimensions,ie,ge);re!==se.dimensions&&(se=new d(re))}else if(se instanceof f){var K=!1,W={};for(var we in se.properties)W[we]=ye(se.properties[we],ie,ge),W[we]!==se.properties[we]&&(K=!0);K&&(se=new f(W))}var ke=ie.r,Ve=de(ie.l,se,Ne)[0];if(!Ve&&ie.expanded&&(ke=ie.expanded.r,Ve=de(ie.expanded.l,se,Ne)[0]),!Ve&&ie.expandedNC1&&(ke=ie.expandedNC1.r,(Ve=de(ie.expandedNC1.l,se,Ne)[0])||(ke=ie.expandedNC2.r,Ve=de(ie.expandedNC2.l,se,Ne)[0])),Ve){var Qe=se.implicit;se=ke.clone(),Qe&&"implicit"in ke&&(se.implicit=!0),se=se.transform(function(pt){return pt.isSymbolNode&&ti(Ve.placeholders,pt.name)?Ve.placeholders[pt.name].clone():pt})}return ie.repeat&&se!==ee&&(se=ye(se,ie,ge)),se}function X(ee,ie){var ge={placeholders:{}};if(!ee.placeholders&&!ie.placeholders)return ge;if(!ee.placeholders)return ie;if(!ie.placeholders)return ee;for(var Ce in ee.placeholders)if(ti(ee.placeholders,Ce)&&(ge.placeholders[Ce]=ee.placeholders[Ce],ti(ie.placeholders,Ce)&&!he(ee.placeholders[Ce],ie.placeholders[Ce])))return null;for(var ve in ie.placeholders)ti(ie.placeholders,ve)&&(ge.placeholders[ve]=ie.placeholders[ve]);return ge}function H(ee,ie){var ge=[];if(0===ee.length||0===ie.length)return ge;for(var Ce,ve=0;ve<ee.length;ve++)for(var Ne=0;Ne<ie.length;Ne++)(Ce=X(ee[ve],ie[Ne]))&&ge.push(Ce);return ge}function de(ee,ie,ge,Ce){var ve=[{placeholders:{}}];if(ee instanceof h&&ie instanceof h||ee instanceof u&&ie instanceof u){if(ee instanceof h){if(ee.op!==ie.op||ee.fn!==ie.fn)return[]}else if(ee instanceof u&&ee.name!==ie.name)return[];if(!(1===ie.args.length&&1===ee.args.length||!v(ie,ge)&&ie.args.length===ee.args.length||Ce)){if(ie.args.length>=2&&2===ee.args.length){for(var Ge=function R(ee,ie){var Ce,ve,ge=[],Ne=D(ee);if(_(ee,ie))for(var se=0;se<ee.args.length;se++)(ve=ee.args.slice(0)).splice(se,1),Ce=1===ve.length?ve[0]:Ne(ve),ge.push(Ne([ee.args[se],Ce]));else for(var Oe=1;Oe<ee.args.length;Oe++){var fe=ee.args[0];Oe>1&&(fe=Ne(ee.args.slice(0,Oe))),Ce=1===(ve=ee.args.slice(Oe)).length?ve[0]:Ne(ve),ge.push(Ne([fe,Ce]))}return ge}(ie,ge),$e=[],re=0;re<Ge.length;re++){var K=de(ee,Ge[re],ge,!0);$e=$e.concat(K)}return $e}if(ee.args.length>2)throw Error("Unexpected non-binary associative function: "+ee.toString());return[]}for(var Ne=[],se=0;se<ee.args.length;se++){var Oe=de(ee.args[se],ie.args[se],ge);if(0===Oe.length)break;Ne.push(Oe)}if(Ne.length!==ee.args.length){if(!_(ie,ge)||1===ee.args.length)return[];if(ee.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var fe=de(ee.args[0],ie.args[1],ge);if(0===fe.length)return[];var at=de(ee.args[1],ie.args[0],ge);if(0===at.length)return[];Ne=[fe,at]}ve=function ae(ee){if(0===ee.length)return ee;for(var ie=ee.reduce(H),ge=[],Ce={},ve=0;ve<ie.length;ve++){var Ne=JSON.stringify(ie[ve],g);Ce[Ne]||(Ce[Ne]=!0,ge.push(ie[ve]))}return ge}(Ne)}else if(ee instanceof m){if(0===ee.name.length)throw new Error("Symbol in rule has 0 length...!?");if(U[ee.name]){if(ee.name!==ie.name)return[]}else switch(ee.name[1]>="a"&&ee.name[1]<="z"?ee.name.substring(0,2):ee.name[0]){case"n":case"_p":ve[0].placeholders[ee.name]=ie;break;case"c":case"cl":if(!Jr(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"v":if(Jr(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"vl":if(!dc(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"cd":if(!Ghe(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"vd":if(Ghe(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"ce":if(!hk(ie))return[];ve[0].placeholders[ee.name]=ie;break;case"ve":if(hk(ie))return[];ve[0].placeholders[ee.name]=ie;break;default:throw new Error("Invalid symbol in rule: "+ee.name)}}else{if(!(ee instanceof c))return[];if(!i(ee.value,ie.value))return[]}return ve}function he(ee,ie){if(ee instanceof c&&ie instanceof c){if(!i(ee.value,ie.value))return!1}else if(ee instanceof m&&ie instanceof m){if(ee.name!==ie.name)return!1}else{if(!(ee instanceof h&&ie instanceof h||ee instanceof u&&ie instanceof u))return!1;if(ee instanceof h){if(ee.op!==ie.op||ee.fn!==ie.fn)return!1}else if(ee instanceof u&&ee.name!==ie.name)return!1;if(ee.args.length!==ie.args.length)return!1;for(var ge=0;ge<ee.args.length;ge++)if(!he(ee.args[ge],ie.args[ge]))return!1}return!0}return F}),jhe="symbolicEqual",Hst=xe(jhe,["parse","simplify","typed","OperatorNode"],n=>{var{simplify:e,typed:i,OperatorNode:r}=n;function s(o,a){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=new r("-","subtract",[o,a]),u=e(c,{},l);return Jr(u)&&!u.value}return i(jhe,{"Node, Node":s,"Node, Node, Object":s})}),zst=xe("leafCount",["parse","typed"],n=>{var{typed:e}=n;function i(r){var s=0;return r.forEach(o=>{s+=i(o)}),s||1}return e("leafCount",{Node:function(s){return i(s)}})}),Gst=xe("parser",["typed","Parser"],n=>{var{typed:t,Parser:e}=n;return t("parser",{"":function(){return new e}})}),$he="rationalize",qst=xe($he,["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],n=>{var{typed:e,simplifyConstant:d,simplifyCore:f,simplify:h,ConstantNode:b,OperatorNode:D,SymbolNode:S}=n;function M(O){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=arguments.length>2&&void 0!==arguments[2]&&arguments[2],J=function L(){var O=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},d,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],G=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],J=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],le={};return le.firstRules=O.concat(G,J),le.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],le.sucDivRules=J,le.firstRulesAgain=O.concat(G),le.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},d,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],le}(),le=function F(O,G,j,J){var le=[],ye=h(O,J,G,{exactFractions:!1}),R="+-*"+((j=!!j)?"/":"");!function H(ae){var de=ae.type;if("FunctionNode"===de)throw new Error("There is an unsolved function call");if("OperatorNode"===de)if("^"===ae.op){if("ConstantNode"!==ae.args[1].type||!ai(parseFloat(ae.args[1].value)))throw new Error("There is a non-integer exponent");H(ae.args[0])}else{if(!R.includes(ae.op))throw new Error("Operator "+ae.op+" invalid in polynomial expression");for(var he=0;he<ae.args.length;he++)H(ae.args[he])}else if("SymbolNode"===de){var ee=ae.name;-1===le.indexOf(ee)&&le.push(ee)}else if("ParenthesisNode"===de)H(ae.content);else if("ConstantNode"!==de)throw new Error("type "+de+" is not allowed in polynomial expression")}(ye);var X={};return X.expression=ye,X.variables=le,X}(O,G,!0,J.firstRules),ye=le.variables.length,R={exactFractions:!1},X={exactFractions:!0};if(O=le.expression,ye>=1){O=U(O);var H,ae,ee,de=!0,he=!1;for(O=h(O,J.firstRules,{},R);ae=de?J.distrDivRules:J.sucDivRules,de=!de,(ee=(O=h(O,ae,{},X)).toString())!==H;)he=!0,H=ee;he&&(O=h(O,J.firstRulesAgain,{},R)),O=h(O,J.finalRules,{},R)}var ie=[],ge={};return"OperatorNode"===O.type&&O.isBinary()&&"/"===O.op?(1===ye&&(O.args[0]=z(O.args[0],ie),O.args[1]=z(O.args[1])),j&&(ge.numerator=O.args[0],ge.denominator=O.args[1])):(1===ye&&(O=z(O,ie)),j&&(ge.numerator=O,ge.denominator=null)),j?(ge.coefficients=ie,ge.variables=le.variables,ge.expression=O,ge):O}return e($he,{Node:M,"Node, boolean":(O,G)=>M(O,{},G),"Node, Object":M,"Node, Object, boolean":M});function U(O,G,j){var J=O.type,le=arguments.length>1;if("OperatorNode"===J&&O.isBinary()){var R,ye=!1;if("^"===O.op&&("ParenthesisNode"===O.args[0].type||"OperatorNode"===O.args[0].type)&&"ConstantNode"===O.args[1].type&&(ye=(R=parseFloat(O.args[1].value))>=2&&ai(R)),ye){if(R>2){var X=O.args[0],H=new D("^","pow",[O.args[0].cloneDeep(),new b(R-1)]);O=new D("*","multiply",[X,H])}else O=new D("*","multiply",[O.args[0],O.args[0].cloneDeep()]);le&&("content"===j?G.content=O:G.args[j]=O)}}if("ParenthesisNode"===J)U(O.content,O,"content");else if("ConstantNode"!==J&&"SymbolNode"!==J)for(var ae=0;ae<O.args.length;ae++)U(O.args[ae],O,ae);if(!le)return O}function z(O,G){void 0===G&&(G=[]),G[0]=0;var J=0,le="";!function ee(ie,ge,Ce){var ve=ie.type;if("FunctionNode"===ve)throw new Error("There is an unsolved function call");if("OperatorNode"===ve){if(!"+-*^".includes(ie.op))throw new Error("Operator "+ie.op+" invalid");if(null!==ge){if(("unaryMinus"===ie.fn||"pow"===ie.fn)&&"add"!==ge.fn&&"subtract"!==ge.fn&&"multiply"!==ge.fn)throw new Error("Invalid "+ie.op+" placing");if(("subtract"===ie.fn||"add"===ie.fn||"multiply"===ie.fn)&&"add"!==ge.fn&&"subtract"!==ge.fn)throw new Error("Invalid "+ie.op+" placing");if(("subtract"===ie.fn||"add"===ie.fn||"unaryMinus"===ie.fn)&&0!==Ce.noFil)throw new Error("Invalid "+ie.op+" placing")}("^"===ie.op||"*"===ie.op)&&(Ce.fire=ie.op);for(var Ne=0;Ne<ie.args.length;Ne++)"unaryMinus"===ie.fn&&(Ce.oper="-"),("+"===ie.op||"subtract"===ie.fn)&&(Ce.fire="",Ce.cte=1,Ce.oper=0===Ne?"+":ie.op),Ce.noFil=Ne,ee(ie.args[Ne],ie,Ce)}else if("SymbolNode"===ve){if(ie.name!==le&&""!==le)throw new Error("There is more than one variable");if(le=ie.name,null===ge)return void(G[1]=1);if("^"===ge.op&&0!==Ce.noFil)throw new Error("In power the variable should be the first parameter");if("*"===ge.op&&1!==Ce.noFil)throw new Error("In multiply the variable should be the second parameter");(""===Ce.fire||"*"===Ce.fire)&&(J<1&&(G[1]=0),G[1]+=Ce.cte*("+"===Ce.oper?1:-1),J=Math.max(1,J))}else{if("ConstantNode"!==ve)throw new Error("Type "+ve+" is not allowed");var se=parseFloat(ie.value);if(null===ge)return void(G[0]=se);if("^"===ge.op){if(1!==Ce.noFil)throw new Error("Constant cannot be powered");if(!ai(se)||se<=0)throw new Error("Non-integer exponent is not allowed");for(var Oe=J+1;Oe<se;Oe++)G[Oe]=0;return se>J&&(G[se]=0),G[se]+=Ce.cte*("+"===Ce.oper?1:-1),void(J=Math.max(se,J))}Ce.cte=se,""===Ce.fire&&(G[0]+=Ce.cte*("+"===Ce.oper?1:-1))}}(O,null,{cte:1,oper:"+",fire:""});for(var R,ye=!0,X=J=G.length-1;X>=0;X--)if(0!==G[X]){var H=new b(ye?G[X]:Math.abs(G[X])),ae=G[X]<0?"-":"+";if(X>0){var de=new S(le);if(X>1){var he=new b(X);de=new D("^","pow",[de,he])}H=-1===G[X]&&ye?new D("-","unaryMinus",[de]):1===Math.abs(G[X])?de:new D("*","multiply",[H,de])}R=ye?H:"+"===ae?new D("+","add",[R,H]):new D("-","subtract",[R,H]),ye=!1}return ye?new b(0):R}}),Khe="derivative",$st=xe(Khe,["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],n=>{var{typed:t,config:e,parse:i,simplify:r,equal:s,isZero:o,numeric:a,ConstantNode:l,FunctionNode:c,OperatorNode:u,ParenthesisNode:d,SymbolNode:f}=n;function h(b,w){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{simplify:!0},C=new Map,D=w.name,T=_(b,function S(M){var F=C.get(M);if(void 0!==F)return F;var L=A(S,M,D);return C.set(M,L),L});return y.simplify?r(T):T}function p(b){var w=i(b);if(!w.isSymbolNode)throw new TypeError("Invalid variable. "+"Cannot parse ".concat(JSON.stringify(b)," into a variable in function derivative"));return w}var m=t(Khe,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h,"Node, string":(b,w)=>h(b,p(w)),"Node, string, Object":(b,w,y)=>h(b,p(w),y)});m._simplify=!0,m.toTex=function(b){return g.apply(null,b.args)};var g=t("_derivTex",{"Node, SymbolNode":function(w,y){return Jr(w)&&"string"===ro(w.value)?g(i(w.value).toString(),y.toString(),1):g(w.toTex(),y.toString(),1)},"Node, ConstantNode":function(w,y){if("string"===ro(y.value))return g(w,i(y.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(w,y,C){return g(w.toString(),y.name,C.value)},"string, string, number":function(w,y,C){return(1===C?"{d\\over d"+y+"}":"{d^{"+C+"}\\over d"+y+"^{"+C+"}}")+"\\left[".concat(w,"\\right]")}}),A=t("_isConst",{"function, ConstantNode, string":function(){return!0},"function, SymbolNode, string":function(w,y,C){return y.name!==C},"function, ParenthesisNode, string":function(w,y,C){return w(y.content,C)},"function, FunctionAssignmentNode, string":function(w,y,C){return!y.params.includes(C)||w(y.expr,C)},"function, FunctionNode | OperatorNode, string":function(w,y,C){return y.args.every(D=>w(D,C))}}),_=t("_derivative",{"ConstantNode, function":function(){return v(0)},"SymbolNode, function":function(w,y){return y(w)?v(0):v(1)},"ParenthesisNode, function":function(w,y){return new d(_(w.content,y))},"FunctionAssignmentNode, function":function(w,y){return y(w)?v(0):_(w.expr,y)},"FunctionNode, function":function(w,y){if(y(w))return v(0);var D,M,F,L,C=w.args[0],S=!1,T=!1;switch(w.name){case"cbrt":S=!0,M=new u("*","multiply",[v(3),new u("^","pow",[C,new u("/","divide",[v(2),v(3)])])]);break;case"sqrt":case"nthRoot":if(1===w.args.length)S=!0,M=new u("*","multiply",[v(2),new c("sqrt",[C])]);else if(2===w.args.length)return D=new u("/","divide",[v(1),w.args[1]]),_(new u("^","pow",[C,D]),y);break;case"log10":D=v(10);case"log":if(D||1!==w.args.length){if(1===w.args.length&&D||2===w.args.length&&y(w.args[1]))M=new u("*","multiply",[C.clone(),new c("log",[D||w.args[1]])]),S=!0;else if(2===w.args.length)return _(new u("/","divide",[new c("log",[C]),new c("log",[w.args[1]])]),y)}else M=C.clone(),S=!0;break;case"pow":if(2===w.args.length)return _(new u("^","pow",[C,w.args[1]]),y);break;case"exp":M=new c("exp",[C.clone()]);break;case"sin":M=new c("cos",[C.clone()]);break;case"cos":M=new u("-","unaryMinus",[new c("sin",[C.clone()])]);break;case"tan":M=new u("^","pow",[new c("sec",[C.clone()]),v(2)]);break;case"sec":M=new u("*","multiply",[w,new c("tan",[C.clone()])]);break;case"csc":T=!0,M=new u("*","multiply",[w,new c("cot",[C.clone()])]);break;case"cot":T=!0,M=new u("^","pow",[new c("csc",[C.clone()]),v(2)]);break;case"asin":S=!0,M=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])]);break;case"acos":S=!0,T=!0,M=new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])]);break;case"atan":S=!0,M=new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)]);break;case"asec":S=!0,M=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acsc":S=!0,T=!0,M=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acot":S=!0,T=!0,M=new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)]);break;case"sinh":M=new c("cosh",[C.clone()]);break;case"cosh":M=new c("sinh",[C.clone()]);break;case"tanh":M=new u("^","pow",[new c("sech",[C.clone()]),v(2)]);break;case"sech":T=!0,M=new u("*","multiply",[w,new c("tanh",[C.clone()])]);break;case"csch":T=!0,M=new u("*","multiply",[w,new c("coth",[C.clone()])]);break;case"coth":T=!0,M=new u("^","pow",[new c("csch",[C.clone()]),v(2)]);break;case"asinh":S=!0,M=new c("sqrt",[new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)])]);break;case"acosh":S=!0,M=new c("sqrt",[new u("-","subtract",[new u("^","pow",[C.clone(),v(2)]),v(1)])]);break;case"atanh":S=!0,M=new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])]);break;case"asech":S=!0,T=!0,M=new u("*","multiply",[C.clone(),new c("sqrt",[new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])])])]);break;case"acsch":S=!0,T=!0,M=new u("*","multiply",[new c("abs",[C.clone()]),new c("sqrt",[new u("+","add",[new u("^","pow",[C.clone(),v(2)]),v(1)])])]);break;case"acoth":S=!0,T=!0,M=new u("-","subtract",[v(1),new u("^","pow",[C.clone(),v(2)])]);break;case"abs":M=new u("/","divide",[new c(new f("abs"),[C.clone()]),C.clone()]);break;default:throw new Error('Cannot process function "'+w.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}S?(F="/",L="divide"):(F="*",L="multiply");var U=_(C,y);return T&&(U=new u("-","unaryMinus",[U])),new u(F,L,[U,M])},"OperatorNode, function":function(w,y){if(y(w))return v(0);if("+"===w.op)return new u(w.op,w.fn,w.args.map(function(O){return _(O,y)}));if("-"===w.op){if(w.isUnary())return new u(w.op,w.fn,[_(w.args[0],y)]);if(w.isBinary())return new u(w.op,w.fn,[_(w.args[0],y),_(w.args[1],y)])}if("*"===w.op){var C=w.args.filter(function(O){return y(O)});if(C.length>0){var D=w.args.filter(function(O){return!y(O)}),S=1===D.length?D[0]:new u("*","multiply",D),T=C.concat(_(S,y));return new u("*","multiply",T)}return new u("+","add",w.args.map(function(O){return new u("*","multiply",w.args.map(function(G){return G===O?_(G,y):G.clone()}))}))}if("/"===w.op&&w.isBinary()){var M=w.args[0],F=w.args[1];return y(F)?new u("/","divide",[_(M,y),F]):y(M)?new u("*","multiply",[new u("-","unaryMinus",[M]),new u("/","divide",[_(F,y),new u("^","pow",[F.clone(),v(2)])])]):new u("/","divide",[new u("-","subtract",[new u("*","multiply",[_(M,y),F.clone()]),new u("*","multiply",[M.clone(),_(F,y)])]),new u("^","pow",[F.clone(),v(2)])])}if("^"===w.op&&w.isBinary()){var L=w.args[0],U=w.args[1];if(y(L))return Jr(L)&&(o(L.value)||s(L.value,1))?v(0):new u("*","multiply",[w,new u("*","multiply",[new c("log",[L.clone()]),_(U.clone(),y)])]);if(y(U)){if(Jr(U)){if(o(U.value))return v(0);if(s(U.value,1))return _(L,y)}var z=new u("^","pow",[L.clone(),new u("-","subtract",[U,v(1)])]);return new u("*","multiply",[U.clone(),new u("*","multiply",[_(L,y),z])])}return new u("*","multiply",[new u("^","pow",[L.clone(),U.clone()]),new u("+","add",[new u("*","multiply",[_(L,y),new u("/","divide",[U.clone(),L.clone()])]),new u("*","multiply",[_(U,y),new c("log",[L.clone()])])])])}throw new Error('Cannot process operator "'+w.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function v(b,w){return new l(a(b,w||n_(String(b),e)))}return m}),Xhe={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Yhe={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Dut={bignumber:{name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","bigint","complex","fraction","index","matrix","string","unit"]},bigint:{name:"bigint",category:"Construction",syntax:["bigint(x)"],description:"Create a bigint, an integer with an arbitrary number of digits, from a number or string.",examples:["123123123123123123 # a large number will lose digits",'bigint("123123123123123123")','bignumber(["1", "3", "5"])'],seealso:["boolean","bignumber","number","complex","fraction","index","matrix","string","unit"]},boolean:{name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},complex:{name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},createUnit:{name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},fraction:{name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},index:{name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix","number","range","string","unit"]},matrix:{name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},number:{name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","bigint","boolean","complex","fraction","index","matrix","string","unit"]},sparse:{name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},splitUnit:{name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},string:{name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},unit:{name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},e:Xhe,E:Xhe,false:{name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},i:{name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},Infinity:{name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},LN2:{name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},LN10:{name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},LOG2E:{name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},LOG10E:{name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},NaN:{name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},null:{name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},pi:Yhe,PI:Yhe,phi:{name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},SQRT1_2:{name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},SQRT2:{name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},tau:{name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},true:{name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},version:{name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant. Deprecated in favor of coulombConstant",examples:["coulombConstant"]},coulombConstant:{description:"Coulomb's constant",examples:["coulombConstant"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Bohr magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Bohr radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:{name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},lsolve:{name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},lsolveAll:{name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},lup:{name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},lusolve:{name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},leafCount:{name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},polynomialRoot:{name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},resolve:{name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},simplify:{name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},simplifyConstant:{name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},simplifyCore:{name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},symbolicEqual:{name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},rationalize:{name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},slu:{name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},usolve:{name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},usolveAll:{name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},qr:{name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},abs:{name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},add:{name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},cbrt:{name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},ceil:{name:"ceil",category:"Arithmetic",syntax:["ceil(x)","ceil(x, n)","ceil(unit, valuelessUnit)","ceil(unit, n, valuelessUnit)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)","ceil(3.241cm, cm)","ceil(3.241cm, 2, cm)"],seealso:["floor","fix","round"]},cube:{name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},divide:{name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},dotDivide:{name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},dotMultiply:{name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},dotPow:{name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},exp:{name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},expm:{name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},expm1:{name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},fix:{name:"fix",category:"Arithmetic",syntax:["fix(x)","fix(x, n)","fix(unit, valuelessUnit)","fix(unit, n, valuelessUnit)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)","fix(3.241cm, cm)","fix(3.241cm, 2, cm)"],seealso:["ceil","floor","round"]},floor:{name:"floor",category:"Arithmetic",syntax:["floor(x)","floor(x, n)","floor(unit, valuelessUnit)","floor(unit, n, valuelessUnit)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)","floor(3.241cm, cm)","floor(3.241cm, 2, cm)"],seealso:["ceil","fix","round"]},gcd:{name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},hypot:{name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenuse of a list with values.",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},lcm:{name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},log:{name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},log2:{name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},log1p:{name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},log10:{name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},mod:{name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},multiply:{name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},norm:{name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},nthRoot:{name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nthRoots:{name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},pow:{name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},round:{name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},sign:{name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>0, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},sqrt:{name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sqrtm:{name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},square:{name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},subtract:{name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},unaryMinus:{name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},unaryPlus:{name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},xgcd:{name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},invmod:{name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax \u2263 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},bitAnd:{name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitNot:{name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},bitOr:{name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bitXor:{name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},leftShift:{name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},rightArithShift:{name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},rightLogShift:{name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},bellNumbers:{name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},catalan:{name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},composition:{name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},stirlingS2:{name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},config:{name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},import:{name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},typed:{name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},arg:{name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},conj:{name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},re:{name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},im:{name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},evaluate:{name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:["parser","parse","compile"]},help:{name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},parse:{name:"parse",category:"Expression",syntax:["parse(expr)","parse(expr, options)","parse([expr1, expr2, expr3, ...])","parse([expr1, expr2, expr3, ...], options)"],description:"Parse an expression. Returns a node tree, which can be evaluated by invoking node.evaluate() or transformed into a functional object via node.compile().",examples:['node1 = parse("sqrt(3^2 + 4^2)")',"node1.evaluate()","code1 = node1.compile()","code1.evaluate()","scope = {a: 3, b: 4}",'node2 = parse("a * b")',"node2.evaluate(scope)","code2 = node2.compile()","code2.evaluate(scope)"],seealso:["parser","evaluate","compile"]},parser:{name:"parser",category:"Expression",syntax:["parser()"],description:"Create a parser object that keeps a context of variables and their values, allowing the evaluation of expressions in that context.",examples:["myParser = parser()",'myParser.evaluate("sqrt(3^2 + 4^2)")','myParser.set("x", 3)','myParser.evaluate("y = x + 3")','myParser.evaluate(["y = x + 3", "y = y + 1"])','myParser.get("y")'],seealso:["evaluate","parse","compile"]},compile:{name:"compile",category:"Expression",syntax:["compile(expr) ","compile([expr1, expr2, expr3, ...])"],description:"Parse and compile an expression. Returns a an object with a function evaluate([scope]) to evaluate the compiled expression.",examples:['code1 = compile("sqrt(3^2 + 4^2)")',"code1.evaluate() ",'code2 = compile("a * b")',"code2.evaluate({a: 3, b: 4})"],seealso:["parser","parse","evaluate"]},distance:{name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},intersect:{name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},and:{name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},not:{name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},nullish:{name:"nullish",category:"Logical",syntax:["x ?? y","nullish(x, y)"],description:"Nullish coalescing operator. Returns the right-hand operand when the left-hand operand is null or undefined, and otherwise returns the left-hand operand.",examples:["null ?? 42","undefined ?? 42","0 ?? 42","false ?? 42","null ?? undefined ?? 42"],seealso:["and","or","not"]},or:{name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},xor:{name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},mapSlices:{name:"mapSlices",category:"Matrix",syntax:["mapSlices(A, dim, callback)"],description:"Generate a matrix one dimension less than A by applying callback to each slice of A along dimension dim.",examples:["A = [[1, 2], [3, 4]]","mapSlices(A, 1, sum)","mapSlices(A, 2, prod)"],seealso:["map","forEach"]},concat:{name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},count:{name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},cross:{name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},column:{name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},ctranspose:{name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},det:{name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diag:{name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},diff:{name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicate the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},dot:{name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},getMatrixDataType:{name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},identity:{name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},filter:{name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},flatten:{name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},forEach:{name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},inv:{name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},pinv:{name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore\u2013Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},eigs:{name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},kron:{name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the Kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},matrixFromFunction:{name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},matrixFromRows:{name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},matrixFromColumns:{name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},map:{name:"map",category:"Matrix",syntax:["map(x, callback)","map(x, y, ..., callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array or the matrices/arrays.",examples:["map([1, 2, 3], square)","map([1, 2], [3, 4], f(a,b) = a + b)"],seealso:["filter","forEach"]},ones:{name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},partitionSelect:{name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},range:{name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},resize:{name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},reshape:{name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},rotate:{name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},rotationMatrix:{name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},row:{name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},size:{name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},sort:{name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},squeeze:{name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},subset:{name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},trace:{name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},transpose:{name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},zeros:{name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},fft:{name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional Fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},ifft:{name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse Fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},sylvester:{name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},schur:{name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},lyap:{name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},solveODE:{name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},combinations:{name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},combinationsWithRep:{name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},factorial:{name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},gamma:{name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},kldivergence:{name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},lgamma:{name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},multinomial:{name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},permutations:{name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},pickRandom:{name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},random:{name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},randomInt:{name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},compare:{name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},compareNatural:{name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},compareText:{name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},deepEqual:{name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},equal:{name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},equalText:{name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},larger:{name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not. Comparing a value with NaN returns false.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},largerEq:{name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},smaller:{name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not. Comparing a value with NaN returns false.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},smallerEq:{name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},unequal:{name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},setCartesian:{name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},setDifference:{name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},setDistinct:{name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},setIntersect:{name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},setIsSubset:{name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},setMultiplicity:{name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},setPowerset:{name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},setSize:{name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},setSymDifference:{name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},setUnion:{name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},zpk2tf:{name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},freqz:{name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},erf:{name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},zeta:{name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemann's Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},cumsum:{name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},mad:{name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},max:{name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},mean:{name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},median:{name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},min:{name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values. If any NaN values are found, the function yields the last NaN in the input.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},mode:{name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},prod:{name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},quantileSeq:{name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probability are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},std:{name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},sum:{name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","variance"]},variance:{name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},corr:{name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},acos:{name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},acosh:{name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},acot:{name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},acoth:{name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the inverse hyperbolic tangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},acsc:{name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},acsch:{name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the inverse hyperbolic cosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},asec:{name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},asech:{name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},asin:{name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},asinh:{name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},atan:{name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},atanh:{name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},atan2:{name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},cos:{name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},cosh:{name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},cot:{name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},coth:{name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},csc:{name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},csch:{name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},sec:{name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},sech:{name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},sin:{name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},sinh:{name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},tan:{name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},tanh:{name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},to:{name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},toBest:{name:"toBest",category:"Units",syntax:["toBest(x)","toBest(x, unitList)","toBest(x, unitList, options)"],description:"Converts to the most appropriate display unit.",examples:['toBest(unit(5000, "m"))','toBest(unit(3500000, "W"))','toBest(unit(0.000000123, "A"))','toBest(unit(10, "m"), "cm")','toBest(unit(10, "m"), "mm,km", {offset: 1.5})'],seealso:[]},clone:{name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables, and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},format:{name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},bin:{name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},oct:{name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},hex:{name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},isNaN:{name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isInteger:{name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},isNegative:{name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},isNumeric:{name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},hasNumericValue:{name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},isPositive:{name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isPrime:{name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},isZero:{name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},print:{name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},typeOf:{name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},numeric:{name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, bigint, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "bigint")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","bigint","fraction","bignumber","string","format"]}},Tut=xe("help",["typed","mathWithTransform","Help"],n=>{var{typed:t,mathWithTransform:e,Help:i}=n;return t("help",{any:function(s){var o,a=s;if("string"!=typeof s)for(o in e)if(ti(e,o)&&s===e[o]){a=o;break}var l=Bu(Dut,a);if(!l)throw new Error('No documentation found on "'+("function"==typeof a?a.name:a)+'"');return new i(l)}})}),pG=xe("mapSlices",["typed","isInteger"],n=>{var{typed:t,isInteger:e}=n;return t("mapSlices",{"Array | Matrix, number | BigNumber, function":function(r,s,o){if(!e(s))throw new TypeError("Integer number expected for dimension");var a=Array.isArray(r)?zi(r):r.size();if(s<0||s>=a.length)throw new vp(s,a.length);return Ci(r)?r.create(fk(r.valueOf(),s,o),r.datatype()):fk(r,s,o)}})},{formerly:"apply"});function fk(n,t,e){var i,r,s;if(t<=0){if(Array.isArray(n[0])){for(s=function Iut(n){var i,r,t=n.length,e=n[0].length,s=[];for(r=0;r<e;r++){var o=[];for(i=0;i<t;i++)o.push(n[i][r]);s.push(o)}return s}(n),r=[],i=0;i<s.length;i++)r[i]=fk(s[i],t-1,e);return r}return e(n)}for(r=[],i=0;i<n.length;i++)r[i]=fk(n[i],t-1,e);return r}function efe(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}var Out=xe("mapSlices",["typed","isInteger"],n=>{var{typed:t,isInteger:e}=n,i=pG({typed:t,isInteger:e});return t("mapSlices",{"...any":function(s){var o=s[1];sr(o)?s[1]=o-1:or(o)&&(s[1]=o.minus(1));try{return i.apply(null,s)}catch(a){throw Fu(a)}}})},function But(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?efe(Object(e),!0).forEach(function(i){(0,xl.A)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):efe(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}({isTransformFunction:!0},pG.meta)),pk=Me(616);function Wb(n,t,e,i){if(pk.isTypedFunction(n)){var r,a;if(i)r=1;else{var s=(t.isMatrix?t.size():zi(t)).map(()=>0),o=t.isMatrix?t.get(s):KR(t,s);r=function Lut(n,t,e,i){for(var r=[t,e,i],s=3;s>0;s--){var o=r.slice(0,s);if(null!==pk.resolve(n,o))return s}}(n,o,s,t)}if(t.isMatrix&&"mixed"!==t.dataType&&void 0!==t.dataType){var l=function Rut(n,t){var e=[];if(Object.entries(n.signatures).forEach(i=>{var[r,s]=i;r.split(",").length===t&&e.push(s)}),1===e.length)return e[0]}(n,r);a=void 0!==l?l:n}else a=n;return r>=1&&r<=3?{isUnary:1===r,fn:function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return tfe(a,d.slice(0,r),e,n.name)}}:{isUnary:!1,fn:function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];return tfe(a,d,e,n.name)}}}return void 0===i?{isUnary:kut(n),fn:n}:{isUnary:i,fn:n}}function kut(n){if(1!==n.length)return!1;var t=n.toString();if(/arguments/.test(t))return!1;var e=t.match(/\(.*?\)/);return!/\.\.\./.test(e)}function tfe(n,t,e,i){try{return n(...t)}catch(r){!function Uut(n,t,e,i){var r;if(n instanceof TypeError&&"wrongType"===(null===(r=n.data)||void 0===r?void 0:r.category)){var s=[];throw s.push("value: ".concat(ro(t[0]))),t.length>=2&&s.push("index: ".concat(ro(t[1]))),t.length>=3&&s.push("array: ".concat(ro(t[2]))),new TypeError("Function ".concat(e," cannot apply callback arguments ")+"".concat(i,"(").concat(s.join(", "),") at index ").concat(JSON.stringify(t[1])))}throw new TypeError("Function ".concat(e," cannot apply callback arguments ")+"to function ".concat(i,": ").concat(n.message))}(r,t,e,i)}}var nfe=xe("filter",["typed"],n=>{var{typed:t}=n;return t("filter",{"Array, function":ife,"Matrix, function":function(i,r){return i.create(ife(i.valueOf(),r),i.datatype())},"Array, RegExp":Che,"Matrix, RegExp":function(i,r){return i.create(Che(i.valueOf(),r),i.datatype())}})});function ife(n,t){var e=Wb(t,n,"filter");return function xhe(n,t){if(1!==zi(n).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(n,t)}(n,e.isUnary?e.fn:function(i,r,s){return e.fn(i,[r],s)})}function mG(n,t,e){var i=n.filter(function(l){return dc(l)&&!(l.name in t)&&!e.has(l.name)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+n+'"');var r=i.name,s=new Map,o=new Zde(e,s,new Set([r])),a=n.compile();return function(c){return s.set(r,c),a.evaluate(o)}}var AG=xe("transformCallback",["typed"],n=>{var{typed:t}=n;return function(i,r){return t.isTypedFunction(i)?e(i,r):rfe(i,i.length,r)};function e(i,r){var s=Object.fromEntries(Object.entries(i.signatures).map(o=>{var[a,l]=o,c=a.split(",").length;return t.isTypedFunction(l)?[a,e(l,r)]:[a,rfe(l,c,r)]}));return"string"==typeof i.name?t(i.name,s):t(s)}});function rfe(n,t,e){return t===e?n:t===e+1?function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.slice(0,e),a=sfe(r[e]);return n(...o,a)}:t>e+1?function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];var o=r.slice(0,e),a=sfe(r[e]),l=r.slice(e+1);return n(...o,a,...l)}:n}function sfe(n){return n.map(t=>t+1)}var qut=xe("filter",["typed"],n=>{var{typed:t}=n;function e(r,s,o){var a=nfe({typed:t}),l=AG({typed:t});if(0===r.length)return a();var c=r[0];if(1===r.length)return a(c);var u=r.length-1,d=r[u];return c&&(c=i(c,o)),d&&(d=dc(d)||MM(d)?i(d,o):mG(d,s,o)),a(c,l(d,u))}function i(r,s){return r.compile().evaluate(s)}return e.rawArgs=!0,e},{isTransformFunction:!0}),gG="forEach",ofe=xe(gG,["typed"],n=>{var{typed:t}=n;return t(gG,{"Array, function":$ut,"Matrix, function":function(i,r){i.forEach(r)}})});function $ut(n,t){var e=Wb(t,n,gG);The(n,e.fn,e.isUnary)}var Yut=xe("forEach",["typed"],n=>{var{typed:t}=n,e=ofe({typed:t}),i=AG({typed:t});function r(o,a,l){if(0===o.length)return e();var c=o[0];if(1===o.length)return e(c);var u=o.length-1,d=o[u];return c&&(c=s(c,l)),d&&(d=dc(d)||MM(d)?s(d,l):mG(d,a,l)),e(c,i(d,u))}function s(o,a){return o.compile().evaluate(a)}return r.rawArgs=!0,r},{isTransformFunction:!0}),afe=xe("map",["typed"],n=>{var{typed:t}=n;return t("map",{"Array, function":a,"Matrix, function":function(c,u){return c.map(u)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(l,c,u)=>function e(l,c){if("function"!=typeof c)throw new Error("Last argument must be a callback function");var u=l[0].isMatrix,d=l.map(w=>w.isMatrix?w.size():zi(w)),f=NM(...d),h=l.length,p=u?(w,y)=>w.get(y):KR,m=l.map((w,y)=>{var C=d[y].map(()=>0);return w.isMatrix?w.get(C):KR(w,C)}),g=t.isTypedFunction(c)?function o(l,c,u,d){return null!==t.resolve(l,[...c,u,...d])?2:null!==t.resolve(l,[...c,u])?1:(t.resolve(l,c),0)}(c,m,f.map(()=>0),l):function s(l,c){var u=l.toString();if(/arguments/.test(u))return 2;var d=u.match(/\(.*?\)/);return/\.\.\./.test(d)||l.length>c+1?2:l.length===c+1?1:0}(c,h);if(g<2){var A=r(g,c,null);return function i(l,c){var u=l[0],d=l.map(w=>w.isMatrix?w.valueOf():w),f=l.map(w=>w.isMatrix?w.size():zi(w)),h=NM(...f),p=f.map(w=>h.length-w.length),m=h.length-1,A=c.length>1?[]:null,_=function b(w){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=h[y],D=Array(C);if(y<m)for(var S=function(U){A&&(A[y]=U),D[U]=b(w.map((z,O)=>p[O]>y?z:1===z.length?z[0]:z[U]),y+1)},T=0;T<C;T++)S(T);else for(var M=function(U){A&&(A[y]=U),D[U]=c(w.map(z=>1===z.length?z[0]:z[U]),A?A.slice():void 0)},F=0;F<C;F++)M(F);return D}(d,0);if(u.isMatrix){var v=u.create();return v._data=_,v._size=h,v}return _}(l,A)}var _=l.map(u?w=>w.isMatrix?w.create(s_(w.toArray(),f),w.datatype()):l[0].create(s_(w.valueOf(),f)):w=>s_(w.isMatrix?w.toArray():w,f)),v=r(g,c,_),b=(w,y)=>v([w,..._.slice(1).map(C=>p(C,y))],y);return u?_[0].map(b):a(_[0],b)}([l,c,...u.slice(0,u.length-1)],u[u.length-1])});function r(l,c,u){switch(l){case 0:return d=>c(...d);case 1:return(d,f)=>c(...d,f);case 2:return(d,f)=>c(...d,f,...u)}}function a(l,c){var u=Wb(c,l,"map");return aG(l,u.fn,u.isUnary)}}),tdt=xe("map",["typed"],n=>{var{typed:t}=n,e=afe({typed:t}),i=AG({typed:t});function r(s,o,a){if(0===s.length)return e();if(1===s.length)return e(s[0]);var l=s.length-1,c=s.slice(0,l),u=s[l];return c=c.map(f=>d(f,a)),u&&(u=dc(u)||MM(u)?d(u,a):mG(u,o,a)),e(...c,i(u,l));function d(f,h){return f.compile().evaluate(h)}}return r.rawArgs=!0,r},{isTransformFunction:!0}),tu=xe("matAlgo03xDSf",["typed"],n=>{var{typed:t}=n;return function(i,r,s,o){var a=i._data,l=i._size,c=i._datatype||i.getDataType(),u=r._values,d=r._index,f=r._ptr,h=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(l.length!==h.length)throw new Ar(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var A,m=l[0],g=l[1],_=0,v=s;"string"==typeof c&&c===p&&"mixed"!==c&&(_=t.convert(0,A=c),v=t.find(s,[A,A]));for(var b=[],w=0;w<m;w++)b[w]=[];for(var y=[],C=[],D=0;D<g;D++){for(var S=D+1,M=f[D+1],F=f[D];F<M;F++){var L=d[F];y[L]=o?v(u[F],a[L][D]):v(a[L][D],u[F]),C[L]=S}for(var U=0;U<m;U++)b[U][D]=C[U]===S?y[U]:o?v(_,a[U][D]):v(a[U][D],_)}return i.createDenseMatrix({data:b,size:[m,g],datatype:c===i._datatype&&p===r._datatype?A:void 0})}}),Hl=xe("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,s,o,a){var l=r._values,c=r._index,u=r._ptr,d=r._size,f=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,h=d[0],p=d[1],g=o;"string"==typeof f&&(s=t.convert(s,m=f),g=t.find(o,[m,m]));for(var A=[],_=[],v=[],b=0;b<p;b++){for(var w=b+1,C=u[b+1],D=u[b];D<C;D++){var S=c[D];_[S]=l[D],v[S]=w}for(var T=0;T<h;T++)0===b&&(A[T]=[]),A[T][b]=v[T]===w?a?g(s,_[T]):g(_[T],s):a?g(s,0):g(0,s)}return new e({data:A,size:[h,p],datatype:m})}}),mk=xe("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o){var a=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType(),f=s._values,h=s._index,p=s._ptr,m=s._size,g=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==m.length)throw new Ar(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");var v,A=u[0],_=u[1],b=e,w=0,y=o;"string"==typeof d&&d===g&&"mixed"!==d&&(b=t.find(e,[v=d,v]),w=t.convert(0,v),y=t.find(o,[v,v]));var U,z,O,G,C=a&&f?[]:void 0,D=[],S=[],T=C?[]:void 0,M=C?[]:void 0,F=[],L=[];for(z=0;z<_;z++){S[z]=D.length;var j=z+1;for(O=c[z],G=c[z+1];O<G;O++)D.push(U=l[O]),F[U]=j,T&&(T[U]=a[O]);for(O=p[z],G=p[z+1];O<G;O++)F[U=h[O]]!==j&&D.push(U),L[U]=j,M&&(M[U]=f[O]);if(C)for(O=S[z];O<D.length;){var J=F[U=D[O]],le=L[U];if(J===j||le===j){var X=y(J===j?T[U]:w,le===j?M[U]:w);b(X,w)?D.splice(O,1):(C.push(X),O++)}}}return S[_]=D.length,r.createSparseMatrix({values:C,index:D,ptr:S,size:[A,_],datatype:d===r._datatype&&g===s._datatype?v:void 0})}}),lfe=xe("matAlgo13xDD",["typed"],n=>{var{typed:t}=n;return function(r,s,o){var a=r._data,l=r._size,c=r._datatype,u=s._data,d=s._size,f=s._datatype,h=[];if(l.length!==d.length)throw new Ar(l.length,d.length);for(var p=0;p<l.length;p++){if(l[p]!==d[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");h[p]=l[p]}var m,g=o;"string"==typeof c&&c===f&&(g=t.find(o,[m=c,m]));var A=h.length>0?e(g,0,h,h[0],a,u):[];return r.createDenseMatrix({data:A,size:h,datatype:m})};function e(i,r,s,o,a,l){var c=[];if(r===s.length-1)for(var u=0;u<o;u++)c[u]=i(a[u],l[u]);else for(var d=0;d<o;d++)c[d]=e(i,r+1,s,s[r+1],a[d],l[d]);return c}}),pf=xe("matAlgo14xDs",["typed"],n=>{var{typed:t}=n;return function(r,s,o,a){var d,l=r._data,c=r._size,u=r._datatype,f=o;"string"==typeof u&&(s=t.convert(s,d=u),f=t.find(o,[d,d]));var h=c.length>0?e(f,0,c,c[0],l,s,a):[];return r.createDenseMatrix({data:h,size:Ji(c),datatype:d})};function e(i,r,s,o,a,l,c){var u=[];if(r===s.length-1)for(var d=0;d<o;d++)u[d]=c?i(l,a[d]):i(a[d],l);else for(var f=0;f<o;f++)u[f]=e(i,r+1,s,s[r+1],a[f],l,c);return u}});function fc(n,t){if(rg(n.size(),t.size()))return[n,t];var e=NM(n.size(),t.size());return[n,t].map(i=>function hdt(n,t){return rg(n.size(),t)?n:n.create(s_(n.valueOf(),t),n.datatype())}(i,e))}var yo=xe("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:t,matrix:e}=n,i=lfe({typed:t}),r=pf({typed:t});return function(o){var c,a=o.elop,l=o.SD||o.DS;a?(c={"DenseMatrix, DenseMatrix":(h,p)=>i(...fc(h,p),a),"Array, Array":(h,p)=>i(...fc(e(h),e(p)),a).valueOf(),"Array, DenseMatrix":(h,p)=>i(...fc(e(h),p),a),"DenseMatrix, Array":(h,p)=>i(...fc(h,e(p)),a)},o.SS&&(c["SparseMatrix, SparseMatrix"]=(h,p)=>o.SS(...fc(h,p),a,!1)),o.DS&&(c["DenseMatrix, SparseMatrix"]=(h,p)=>o.DS(...fc(h,p),a,!1),c["Array, SparseMatrix"]=(h,p)=>o.DS(...fc(e(h),p),a,!1)),l&&(c["SparseMatrix, DenseMatrix"]=(h,p)=>l(...fc(p,h),a,!0),c["SparseMatrix, Array"]=(h,p)=>l(...fc(e(p),h),a,!0))):(c={"DenseMatrix, DenseMatrix":t.referToSelf(h=>(p,m)=>i(...fc(p,m),h)),"Array, Array":t.referToSelf(h=>(p,m)=>i(...fc(e(p),e(m)),h).valueOf()),"Array, DenseMatrix":t.referToSelf(h=>(p,m)=>i(...fc(e(p),m),h)),"DenseMatrix, Array":t.referToSelf(h=>(p,m)=>i(...fc(p,e(m)),h))},o.SS&&(c["SparseMatrix, SparseMatrix"]=t.referToSelf(h=>(p,m)=>o.SS(...fc(p,m),h,!1))),o.DS&&(c["DenseMatrix, SparseMatrix"]=t.referToSelf(h=>(p,m)=>o.DS(...fc(p,m),h,!1)),c["Array, SparseMatrix"]=t.referToSelf(h=>(p,m)=>o.DS(...fc(e(p),m),h,!1))),l&&(c["SparseMatrix, DenseMatrix"]=t.referToSelf(h=>(p,m)=>l(...fc(m,p),h,!0)),c["SparseMatrix, Array"]=t.referToSelf(h=>(p,m)=>l(...fc(e(m),p),h,!0))));var u=o.scalar||"any";(o.Ds||o.Ss)&&(a?(c["DenseMatrix,"+u]=(h,p)=>r(h,p,a,!1),c[u+", DenseMatrix"]=(h,p)=>r(p,h,a,!0),c["Array,"+u]=(h,p)=>r(e(h),p,a,!1).valueOf(),c[u+", Array"]=(h,p)=>r(e(p),h,a,!0).valueOf()):(c["DenseMatrix,"+u]=t.referToSelf(h=>(p,m)=>r(p,m,h,!1)),c[u+", DenseMatrix"]=t.referToSelf(h=>(p,m)=>r(m,p,h,!0)),c["Array,"+u]=t.referToSelf(h=>(p,m)=>r(e(p),m,h,!1).valueOf()),c[u+", Array"]=t.referToSelf(h=>(p,m)=>r(e(m),p,h,!0).valueOf())));var f=void 0!==o.sS?o.sS:o.Ss;return a?(o.Ss&&(c["SparseMatrix,"+u]=(h,p)=>o.Ss(h,p,a,!1)),f&&(c[u+", SparseMatrix"]=(h,p)=>f(p,h,a,!0))):(o.Ss&&(c["SparseMatrix,"+u]=t.referToSelf(h=>(p,m)=>o.Ss(p,m,h,!1))),f&&(c[u+", SparseMatrix"]=t.referToSelf(h=>(p,m)=>f(m,p,h,!0)))),a&&a.signatures&&Wde(c,a.signatures),c}}),_G="number, number";function cfe(n){return!n}function bG(n,t){return!(!n&&!t)}function yG(n,t){return!!n!=!!t}function wG(n,t){return!(!n||!t)}cfe.signature="number",bG.signature=_G,yG.signature=_G,wG.signature=_G;var dfe=xe("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s}=n,o=tu({typed:t}),a=mk({typed:t,equalScalar:i}),l=Hl({typed:t,DenseMatrix:r}),c=yo({typed:t,matrix:e,concat:s});return t("or",{"number, number":bG,"Complex, Complex":function(d,f){return 0!==d.re||0!==d.im||0!==f.re||0!==f.im},"BigNumber, BigNumber":function(d,f){return!d.isZero()&&!d.isNaN()||!f.isZero()&&!f.isNaN()},"bigint, bigint":bG,"Unit, Unit":t.referToSelf(u=>(d,f)=>u(d.value||0,f.value||0))},c({SS:a,DS:o,Ss:l}))}),_dt=xe("or",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s}=n,o=dfe({typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s});function a(l,c,u){var d=l[0].compile().evaluate(u);if(!_h(d)&&o(d,!1))return!0;var f=l[1].compile().evaluate(u);return o(d,f)}return a.rawArgs=!0,a},{isTransformFunction:!0}),bp=xe("matAlgo02xDS0",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o,a){var l=r._data,c=r._size,u=r._datatype||r.getDataType(),d=s._values,f=s._index,h=s._ptr,p=s._size,m=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(c.length!==p.length)throw new Ar(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,g=c[0],A=c[1],v=e,b=0,w=o;"string"==typeof u&&u===m&&"mixed"!==u&&(v=t.find(e,[_=u,_]),b=t.convert(0,_),w=t.find(o,[_,_]));for(var y=[],C=[],D=[],S=0;S<A;S++){D[S]=C.length;for(var M=h[S+1],F=h[S];F<M;F++){var L=f[F],U=a?w(d[F],l[L][S]):w(l[L][S],d[F]);v(U,b)||(C.push(L),y.push(U))}}return D[A]=C.length,s.createSparseMatrix({values:y,index:C,ptr:D,size:[g,A],datatype:u===r._datatype&&m===s._datatype?_:void 0})}}),Mc=xe("matAlgo11xS0s",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o,a){var l=r._values,c=r._index,u=r._ptr,d=r._size,f=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,h=d[0],p=d[1],g=e,A=0,_=o;"string"==typeof f&&(g=t.find(e,[m=f,m]),A=t.convert(0,m),s=t.convert(s,m),_=t.find(o,[m,m]));for(var v=[],b=[],w=[],y=0;y<p;y++){w[y]=b.length;for(var D=u[y+1],S=u[y];S<D;S++){var T=c[S],M=a?_(s,l[S]):_(l[S],s);g(M,A)||(b.push(T),v.push(M))}}return w[p]=b.length,r.createSparseMatrix({values:v,index:b,ptr:w,size:[h,p],datatype:m})}}),Ak=xe("matAlgo06xS0S0",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o){var a=r._values,l=r._size,c=r._datatype||void 0===r._data?r._datatype:r.getDataType(),u=s._values,d=s._size,f=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(l.length!==d.length)throw new Ar(l.length,d.length);if(l[0]!==d[0]||l[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+d+")");var m,h=l[0],p=l[1],g=e,A=0,_=o;"string"==typeof c&&c===f&&"mixed"!==c&&(g=t.find(e,[m=c,m]),A=t.convert(0,m),_=t.find(o,[m,m]));for(var v=a&&u?[]:void 0,b=[],w=[],y=v?[]:void 0,C=[],D=[],S=0;S<p;S++){w[S]=b.length;var T=S+1;if(Rhe(r,S,C,y,D,T,b,_),Rhe(s,S,C,y,D,T,b,_),y)for(var M=w[S];M<b.length;){var F=b[M];if(D[F]===T){var L=y[F];g(L,A)?b.splice(M,1):(v.push(L),M++)}else b.splice(M,1)}else for(var U=w[S];U<b.length;)D[b[U]]!==T?b.splice(U,1):U++}return w[p]=b.length,r.createSparseMatrix({values:v,index:b,ptr:w,size:[h,p],datatype:c===r._datatype&&f===s._datatype?m:void 0})}}),ffe=xe("and",["typed","matrix","equalScalar","zeros","not","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,not:s,concat:o}=n,a=bp({typed:t,equalScalar:i}),l=Ak({typed:t,equalScalar:i}),c=Mc({typed:t,equalScalar:i}),u=pf({typed:t}),d=yo({typed:t,matrix:e,concat:o});return t("and",{"number, number":wG,"Complex, Complex":function(h,p){return!(0===h.re&&0===h.im||0===p.re&&0===p.im)},"BigNumber, BigNumber":function(h,p){return!(h.isZero()||p.isZero()||h.isNaN()||p.isNaN())},"bigint, bigint":wG,"Unit, Unit":t.referToSelf(f=>(h,p)=>f(h.value||0,p.value||0)),"SparseMatrix, any":t.referToSelf(f=>(h,p)=>s(p)?r(h.size(),h.storage()):c(h,p,f,!1)),"DenseMatrix, any":t.referToSelf(f=>(h,p)=>s(p)?r(h.size(),h.storage()):u(h,p,f,!1)),"any, SparseMatrix":t.referToSelf(f=>(h,p)=>s(h)?r(h.size(),h.storage()):c(p,h,f,!0)),"any, DenseMatrix":t.referToSelf(f=>(h,p)=>s(h)?r(h.size(),h.storage()):u(p,h,f,!0)),"Array, any":t.referToSelf(f=>(h,p)=>f(e(h),p).valueOf()),"any, Array":t.referToSelf(f=>(h,p)=>f(h,e(p)).valueOf())},d({SS:l,DS:a}))}),Tdt=xe("and",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,not:s,concat:o}=n,a=ffe({typed:t,matrix:e,equalScalar:i,zeros:r,not:s,concat:o});function l(c,u,d){var f=c[0].compile().evaluate(d);if(!_h(f)&&!a(f,!0))return!1;var h=c[1].compile().evaluate(d);return a(f,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),mfe=xe("concat",["typed","matrix","isInteger"],n=>{var{typed:t,matrix:e,isInteger:i}=n;return t("concat",{"...Array | Matrix | number | BigNumber":function(s){var o,c,a=s.length,l=-1,u=!1,d=[];for(o=0;o<a;o++){var f=s[o];if(Ci(f)&&(u=!0),sr(f)||or(f)){if(o!==a-1)throw new Error("Dimension must be specified as last argument");if(c=l,l=f.valueOf(),!i(l))throw new TypeError("Integer number expected for dimension");if(l<0||o>0&&l>c)throw new vp(l,c+1)}else{var h=Ji(f).valueOf(),p=zi(h);if(d[o]=h,c=l,l=p.length-1,o>0&&l!==c)throw new Ar(c+1,l+1)}}if(0===d.length)throw new SyntaxError("At least one matrix expected");for(var m=d.shift();d.length;)m=Dhe(m,d.shift(),l);return u?e(m):m},"...string":function(s){return s.join("")}})}),Fdt=xe("concat",["typed","matrix","isInteger"],n=>{var{typed:t,matrix:e,isInteger:i}=n,r=mfe({typed:t,matrix:e,isInteger:i});return t("concat",{"...any":function(o){var a=o.length-1,l=o[a];sr(l)?o[a]=l-1:or(l)&&(o[a]=l.minus(1));try{return r.apply(null,o)}catch(c){throw Fu(c)}}})},{isTransformFunction:!0}),Rdt=xe("index",["Index","getMatrixDataType"],n=>{var{Index:t,getMatrixDataType:e}=n;return function(){for(var r=[],s=0,o=arguments.length;s<o;s++){var a=arguments[s];if(ZQ(a))a.start--,a.end-=a.step>0?0:2;else if(a&&!0===a.isSet)a=a.map(function(c){return c-1});else if(io(a)||Ci(a))"boolean"!==e(a)&&(a=a.map(function(c){return c-1}));else if(sr(a)||SM(a))a--;else if(or(a))a=a.toNumber()-1;else if("string"!=typeof a)throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");r[s]=a}var l=new t;return t.apply(l,r),l}},{isTransformFunction:!0}),Afe=/\$([\w.]+)/g,vfe=xe("print",["typed"],n=>{var{typed:t}=n;return t("print",{"string, Object | Array":_fe,"string, Object | Array, number | Object":_fe})});function _fe(n,t,e){return n.replace(Afe,function(i,r){var s=r.split("."),o=t[s.shift()];for(void 0!==o&&o.isMatrix&&(o=o.toArray());s.length&&void 0!==o;){var a=s.shift();o=a?o[a]:o+"."}return void 0!==o?eu(o)?o:Cr(o,e):i})}var Udt=xe("print",["typed","matrix","zeros","add"],n=>{var{typed:t,matrix:e,zeros:i,add:r}=n,s=vfe({typed:t,matrix:e,zeros:i,add:r});return t("print",{"string, Object | Array":function(l,c){return s(o(l),c)},"string, Object | Array, number | Object":function(l,c,u){return s(o(l),c,u)}});function o(a){return a.replace(Afe,l=>"$"+l.slice(1).split(".").map(function(d){return!isNaN(d)&&d.length>0?parseInt(d)-1:d}).join("."))}},{isTransformFunction:!0});function Pu(n,t,e){var i;return String(n).includes("Unexpected type")?(i=arguments.length>2?" (type: "+ro(e)+", value: "+JSON.stringify(e)+")":" (type: "+n.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+i)):String(n).includes("complex numbers")?(i=arguments.length>2?" (type: "+ro(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+i)):n}var wfe=xe("sum",["typed","config","add","numeric"],n=>{var{typed:t,config:e,add:i,numeric:r}=n;return t("sum",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function o(a,l){try{return uk(a,l,i)}catch(u){throw Pu(u,"sum")}},"...":function(l){if(rC(l))throw new TypeError("Scalar values expected in function sum");return s(l)}});function s(a){var l;return o_(a,function(c){try{l=void 0===l?c:i(l,c)}catch(u){throw Pu(u,"sum",c)}}),void 0===l&&(l=r(0,e.number)),"string"==typeof l&&(l=r(l,n_(l,e))),l}});function a_(n){if(2===n.length&&_h(n[0])){var t=(n=n.slice())[1];(function zdt(n){return sr(n)||or(n)})(t)&&(n[1]=function Vdt(n){return sr(n)?n-1:or(n)?n.minus(1):n}(t))}return n}var Gdt=xe("sum",["typed","config","add","numeric"],n=>{var{typed:t,config:e,add:i,numeric:r}=n,s=wfe({typed:t,config:e,add:i,numeric:r});return t("sum",{"...any":function(a){a=a_(a);try{return s.apply(null,a)}catch(l){throw Fu(l)}}})},{isTransformFunction:!0});function jdt(n,t){if(n.isFinite()&&!n.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitAnd");var e=n.constructor;if(n.isNaN()||t.isNaN())return new e(NaN);if(n.isZero()||t.eq(-1)||n.eq(t))return n;if(t.isZero()||n.eq(-1))return t;if(!n.isFinite()||!t.isFinite()){if(!n.isFinite()&&!t.isFinite())return n.isNegative()===t.isNegative()?n:new e(0);if(!n.isFinite())return t.isNegative()?n:n.isNegative()?new e(0):t;if(!t.isFinite())return n.isNegative()?t:t.isNegative()?new e(0):n}return xG(n,t,function(i,r){return i&r})}function FM(n){if(n.isFinite()&&!n.isInteger())throw new Error("Integer expected in function bitNot");var t=n.constructor,e=t.precision;t.config({precision:1e9});var i=n.plus(new t(1));return i.s=-i.s||null,t.config({precision:e}),i}function qdt(n,t){if(n.isFinite()&&!n.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitOr");var e=n.constructor;if(n.isNaN()||t.isNaN())return new e(NaN);var i=new e(-1);return n.isZero()||t.eq(i)||n.eq(t)?t:t.isZero()||n.eq(i)?n:n.isFinite()&&t.isFinite()?xG(n,t,function(r,s){return r|s}):!n.isFinite()&&!n.isNegative()&&t.isNegative()||n.isNegative()&&!t.isNegative()&&!t.isFinite()?i:n.isNegative()&&t.isNegative()?n.isFinite()?n:t:n.isFinite()?t:n}function xG(n,t,e){var r,s,u,d,f,i=n.constructor,o=+(n.s<0),a=+(t.s<0);if(o){r=gk(FM(n));for(var l=0;l<r.length;++l)r[l]^=1}else r=gk(n);if(a){s=gk(FM(t));for(var c=0;c<s.length;++c)s[c]^=1}else s=gk(t);r.length<=s.length?(u=r,d=s,f=o):(u=s,d=r,f=a);var h=u.length,p=d.length,m=1^e(o,a),g=new i(1^m),A=new i(1),_=new i(2),v=i.precision;for(i.config({precision:1e9});h>0;)e(u[--h],d[--p])===m&&(g=g.plus(A)),A=A.times(_);for(;p>0;)e(f,d[--p])===m&&(g=g.plus(A)),A=A.times(_);return i.config({precision:v}),0===m&&(g.s=-g.s),g}function gk(n){for(var t=n.d,e=t[0]+"",i=1;i<t.length;++i){for(var r=t[i]+"",s=7-r.length;s--;)r="0"+r;e+=r}for(var o=e.length;"0"===e.charAt(o);)o--;var a=n.e,l=e.slice(0,o+1||1),c=l.length;if(a>0)if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a));for(var u=[0],d=0;d<l.length;){for(var f=u.length;f--;)u[f]*=10;u[0]+=parseInt(l.charAt(d++));for(var h=0;h<u.length;++h)u[h]>1&&(null==u[h+1]&&(u[h+1]=0),u[h+1]+=u[h]>>1,u[h]&=1)}return u.reverse()}function Wdt(n,t){if(n.isFinite()&&!n.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function bitXor");var e=n.constructor;if(n.isNaN()||t.isNaN())return new e(NaN);if(n.isZero())return t;if(t.isZero())return n;if(n.eq(t))return new e(0);var i=new e(-1);return n.eq(i)?FM(t):t.eq(i)?FM(n):n.isFinite()&&t.isFinite()?xG(n,t,function(r,s){return r^s}):n.isFinite()||t.isFinite()?new e(n.isNegative()===t.isNegative()?1/0:-1/0):i}function $dt(n,t){if(n.isFinite()&&!n.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function leftShift");var e=n.constructor;return n.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new e(NaN):n.isZero()||t.isZero()?n:n.isFinite()||t.isFinite()?t.lt(55)?n.times(Math.pow(2,t.toNumber())+""):n.times(new e(2).pow(t)):new e(NaN)}function Kdt(n,t){if(n.isFinite()&&!n.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Integers expected in function rightArithShift");var e=n.constructor;return n.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new e(NaN):n.isZero()||t.isZero()?n:t.isFinite()?t.lt(55)?n.div(Math.pow(2,t.toNumber())+"").floor():n.div(new e(2).pow(t)).floor():n.isNegative()?new e(-1):n.isFinite()?new e(0):new e(NaN)}var sC="number, number";function Cfe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function bitAnd");return n&t}function Sfe(n){if(!ai(n))throw new Error("Integer expected in function bitNot");return~n}function Efe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function bitOr");return n|t}function Dfe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function bitXor");return n^t}function Mfe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function leftShift");return n<<t}function Tfe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function rightArithShift");return n>>t}function Nfe(n,t){if(!ai(n)||!ai(t))throw new Error("Integers expected in function rightLogShift");return n>>>t}Cfe.signature=sC,Sfe.signature="number",Efe.signature=sC,Dfe.signature=sC,Mfe.signature=sC,Tfe.signature=sC,Nfe.signature=sC;var Bfe=xe("bitAnd",["typed","matrix","equalScalar","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,concat:r}=n,s=bp({typed:t,equalScalar:i}),o=Ak({typed:t,equalScalar:i}),a=Mc({typed:t,equalScalar:i});return t("bitAnd",{"number, number":Cfe,"BigNumber, BigNumber":jdt,"bigint, bigint":(c,u)=>c&u},yo({typed:t,matrix:e,concat:r})({SS:o,DS:s,Ss:a}))}),eht=xe("bitAnd",["typed","matrix","zeros","add","equalScalar","not","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,not:s,concat:o}=n,a=Bfe({typed:t,matrix:e,equalScalar:i,zeros:r,not:s,concat:o});function l(c,u,d){var f=c[0].compile().evaluate(d);if(!_h(f)){if(isNaN(f))return NaN;if(0===f||!1===f)return 0}var h=c[1].compile().evaluate(d);return a(f,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),Pfe=xe("min",["typed","config","numeric","smaller","isNaN"],n=>{var{typed:t,config:e,numeric:i,smaller:r,isNaN:s}=n;return t("min",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,u){return uk(c,u.valueOf(),o)},"...":function(c){if(rC(c))throw new TypeError("Scalar values expected in function min");return a(c)}});function o(l,c){try{return r(l,c)?l:c}catch(u){throw Pu(u,"min",c)}}function a(l){var c;if(o_(l,function(u){try{(s(u)||void 0===c||r(u,c))&&(c=u)}catch(d){throw Pu(d,"min",u)}}),void 0===c)throw new Error("Cannot calculate min of an empty array");return"string"==typeof c&&(c=i(c,n_(c,e))),c}}),rht=xe("min",["typed","config","numeric","smaller","isNaN"],n=>{var{typed:t,config:e,numeric:i,smaller:r,isNaN:s}=n,o=Pfe({typed:t,config:e,numeric:i,smaller:r,isNaN:s});return t("min",{"...any":function(l){l=a_(l);try{return o.apply(null,l)}catch(c){throw Fu(c)}}})},{isTransformFunction:!0}),Rfe=xe("nullish",["typed","matrix","size","flatten","deepEqual"],n=>{var{typed:t,matrix:e,size:i,flatten:r,deepEqual:s}=n,o=tu({typed:t}),a=pf({typed:t}),l=lfe({typed:t});return t("nullish",{"number|bigint|Complex|BigNumber|Fraction|Unit|string|boolean|SparseMatrix, any":(c,u)=>c,"null, any":(c,u)=>u,"undefined, any":(c,u)=>u,"SparseMatrix, Array | Matrix":(c,u)=>{var d=r(i(c).valueOf()),f=r(i(u).valueOf());if(s(d,f))return c;throw new Ar(d,f)},"DenseMatrix, DenseMatrix":t.referToSelf(c=>(u,d)=>l(u,d,c)),"DenseMatrix, SparseMatrix":t.referToSelf(c=>(u,d)=>o(u,d,c,!1)),"DenseMatrix, Array":t.referToSelf(c=>(u,d)=>l(u,e(d),c)),"DenseMatrix, any":t.referToSelf(c=>(u,d)=>a(u,d,c,!1)),"Array, Array":t.referToSelf(c=>(u,d)=>l(e(u),e(d),c).valueOf()),"Array, DenseMatrix":t.referToSelf(c=>(u,d)=>l(e(u),d,c)),"Array, SparseMatrix":t.referToSelf(c=>(u,d)=>o(e(u),d,c,!1)),"Array, any":t.referToSelf(c=>(u,d)=>a(e(u),d,c,!1).valueOf())})}),lht=xe("nullish",["typed","matrix","size","flatten","deepEqual"],n=>{var{typed:t,matrix:e,size:i,flatten:r,deepEqual:s}=n,o=Rfe({typed:t,matrix:e,size:i,flatten:r,deepEqual:s});function a(l,c,u){var d=l[0].compile().evaluate(u);if(!_h(d)&&null!=d&&void 0!==d)return d;var f=l[1].compile().evaluate(u);return o(d,f)}return a.rawArgs=!0,a},{isTransformFunction:!0}),Lfe=xe("subset",["typed","matrix","zeros","add"],n=>{var{typed:t,matrix:e,zeros:i,add:r}=n;return t("subset",{"Matrix, Index":function(a,l){return tC(l)?e():(jR(a,l),a.subset(l))},"Array, Index":t.referTo("Matrix, Index",function(o){return function(a,l){var c=o(e(a),l);return l.isScalar()?c:c.valueOf()}}),"Object, Index":dht,"string, Index":uht,"Matrix, Index, any, any":function(a,l,c,u){return tC(l)?a:(jR(a,l),a.clone().subset(l,function s(o,a){if("string"==typeof o)throw new Error("can't boradcast a string");if(a._isScalar)return o;var l=a.size();if(!l.every(c=>c>0))return o;try{return r(o,i(l))}catch{return o}}(c,l),u))},"Array, Index, any, any":t.referTo("Matrix, Index, any, any",function(o){return function(a,l,c,u){var d=o(e(a),l,c,u);return d.isMatrix?d.valueOf():d}}),"Array, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(e(a),l,c,void 0).valueOf()}}),"Matrix, Index, any":t.referTo("Matrix, Index, any, any",function(o){return function(a,l,c){return o(a,l,c,void 0)}}),"string, Index, string":Ufe,"string, Index, string, string":Ufe,"Object, Index, any":hht})});function uht(n,t){if(!VR(t))throw new TypeError("Index expected");if(tC(t))return"";if(jR(Array.from(n),t),1!==t.size().length)throw new Ar(t.size().length,1);var e=n.length;bo(t.min()[0],e),bo(t.max()[0],e);var i=t.dimension(0),r="";return i.forEach(function(s){r+=n.charAt(s)}),r}function Ufe(n,t,e,i){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(tC(t))return n;if(jR(Array.from(n),t),1!==t.size().length)throw new Ar(t.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var r=t.dimension(0);if(r.size()[0]!==e.length)throw new Ar(r.size()[0],e.length);var o=n.length;bo(t.min()[0]),bo(t.max()[0]);for(var a=[],l=0;l<o;l++)a[l]=n.charAt(l);if(r.forEach(function(d,f){a[d]=e.charAt(f[0])}),a.length>o)for(var c=o-1,u=a.length;c<u;c++)a[c]||(a[c]=i);return a.join("")}function dht(n,t){if(!tC(t)){if(1!==t.size().length)throw new Ar(t.size(),1);var e=t.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");return Bu(n,e)}}function hht(n,t,e){if(tC(t))return n;if(1!==t.size().length)throw new Ar(t.size(),1);var i=t.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var r=Ji(n);return Kx(r,i,e),r}var upe,ag,mht=xe("subset",["typed","matrix","zeros","add"],n=>{var{typed:t,matrix:e,zeros:i,add:r}=n,s=Lfe({typed:t,matrix:e,zeros:i,add:r});return t("subset",{"...any":function(a){try{return s.apply(null,a)}catch(l){throw Fu(l)}}})},{isTransformFunction:!0}),$b=xe("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,s,o,a){var l=r._values,c=r._index,u=r._ptr,d=r._size,f=r._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var m,h=d[0],p=d[1],g=o;"string"==typeof f&&(s=t.convert(s,m=f),g=t.find(o,[m,m]));for(var A=[],_=[],v=[],b=0;b<p;b++){for(var w=b+1,C=u[b+1],D=u[b];D<C;D++){var S=c[D];_[S]=l[D],v[S]=w}for(var T=0;T<h;T++)0===b&&(A[T]=[]),A[T][b]=v[T]===w?a?g(s,_[T]):g(_[T],s):s}return new e({data:A,size:[h,p],datatype:m})}}),CG=xe("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o){var a=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType(),f=s._values,h=s._index,p=s._ptr,m=s._size,g=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==m.length)throw new Ar(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");var v,A=u[0],_=u[1],b=e,w=0,y=o;"string"==typeof d&&d===g&&"mixed"!==d&&(b=t.find(e,[v=d,v]),w=t.convert(0,v),y=t.find(o,[v,v]));var U,z,O,j,C=a&&f?[]:void 0,D=[],S=[],T=a&&f?[]:void 0,M=a&&f?[]:void 0,F=[],L=[];for(z=0;z<_;z++){S[z]=D.length;var J=z+1;for(j=c[z+1],O=c[z];O<j;O++)D.push(U=l[O]),F[U]=J,T&&(T[U]=a[O]);for(j=p[z+1],O=p[z];O<j;O++)if(F[U=h[O]]===J){if(T){var le=y(T[U],f[O]);b(le,w)?F[U]=null:T[U]=le}}else D.push(U),L[U]=J,M&&(M[U]=f[O]);if(T&&M)for(O=S[z];O<D.length;)F[U=D[O]]===J?(C[O]=T[U],O++):L[U]===J?(C[O]=M[U],O++):D.splice(O,1)}return S[_]=D.length,r.createSparseMatrix({values:C,index:D,ptr:S,size:[A,_],datatype:d===r._datatype&&g===s._datatype?v:void 0})}}),l_=xe("matAlgo01xDSid",["typed"],n=>{var{typed:t}=n;return function(i,r,s,o){var a=i._data,l=i._size,c=i._datatype||i.getDataType(),u=r._values,d=r._index,f=r._ptr,h=r._size,p=r._datatype||void 0===r._data?r._datatype:r.getDataType();if(l.length!==h.length)throw new Ar(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!u)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v,b,m=l[0],g=l[1],A="string"==typeof c&&"mixed"!==c&&c===p?c:void 0,_=A?t.find(s,[A,A]):s,w=[];for(v=0;v<m;v++)w[v]=[];var y=[],C=[];for(b=0;b<g;b++){for(var D=b+1,T=f[b+1],M=f[b];M<T;M++)y[v=d[M]]=o?_(u[M],a[v][b]):_(a[v][b],u[M]),C[v]=D;for(v=0;v<m;v++)w[v][b]=C[v]===D?y[v]:a[v][b]}return i.createDenseMatrix({data:w,size:[m,g],datatype:c===i._datatype&&p===r._datatype?A:void 0})}}),Vfe=xe("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s}=n,o=l_({typed:t}),a=CG({typed:t,equalScalar:i}),l=$b({typed:t,DenseMatrix:r});return t("bitOr",{"number, number":Efe,"BigNumber, BigNumber":qdt,"bigint, bigint":(u,d)=>u|d},yo({typed:t,matrix:e,concat:s})({SS:a,DS:o,Ss:l}))}),Sht=xe("bitOr",["typed","matrix","equalScalar","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s}=n,o=Vfe({typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s});function a(l,c,u){var d=l[0].compile().evaluate(u);if(!_h(d)){if(isNaN(d))return NaN;if(-1===d)return-1;if(!0===d)return 1}var f=l[1].compile().evaluate(u);return o(d,f)}return a.rawArgs=!0,a},{isTransformFunction:!0}),vk="cumsum",zfe=xe(vk,["typed","add","unaryPlus"],n=>{var{typed:t,add:e,unaryPlus:i}=n;return t(vk,{Array:r,Matrix:function(c){return c.create(r(c.valueOf(),c.datatype()))},"Array, number | BigNumber":o,"Matrix, number | BigNumber":function(c,u){return c.create(o(c.valueOf(),u),c.datatype())},"...":function(c){if(rC(c))throw new TypeError("All values expected to be scalar in function cumsum");return r(c)}});function r(l){try{return s(l)}catch(c){throw Pu(c,vk)}}function s(l){if(0===l.length)return[];for(var c=[i(l[0])],u=1;u<l.length;++u)c.push(e(c[u-1],l[u]));return c}function o(l,c){var u=zi(l);if(c<0||c>=u.length)throw new vp(c,u.length);try{return a(l,c)}catch(d){throw Pu(d,vk)}}function a(l,c){var u,d,f;if(c<=0){if(Array.isArray(l[0][0])){for(f=Ohe(l),d=[],u=0;u<f.length;u++)d[u]=a(f[u],c-1);return d}return s(l)}for(d=[],u=0;u<l.length;u++)d[u]=a(l[u],c-1);return d}}),Mht=xe("cumsum",["typed","add","unaryPlus"],n=>{var{typed:t,add:e,unaryPlus:i}=n,r=zfe({typed:t,add:e,unaryPlus:i});return t("cumsum",{"...any":function(o){if(2===o.length&&_h(o[0])){var a=o[1];sr(a)?o[1]=a-1:or(a)&&(o[1]=a.minus(1))}try{return r.apply(null,o)}catch(l){throw Fu(l)}}})},{isTransformFunction:!0}),jfe=xe("diff",["typed","matrix","subtract","number"],n=>{var{typed:t,matrix:e,subtract:i,number:r}=n;return t("diff",{"Array | Matrix":function(u){return Ci(u)?e(o(u.toArray())):o(u)},"Array | Matrix, number":function(u,d){if(!ai(d))throw new RangeError("Dimension must be a whole number");return Ci(u)?e(s(u.toArray(),d)):s(u,d)},"Array, BigNumber":t.referTo("Array,number",c=>(u,d)=>c(u,r(d))),"Matrix, BigNumber":t.referTo("Matrix,number",c=>(u,d)=>c(u,r(d)))});function s(c,u){if(Ci(c)&&(c=c.toArray()),!Array.isArray(c))throw RangeError("Array/Matrix does not have that many dimensions");if(u>0){var d=[];return c.forEach(f=>{d.push(s(f,u-1))}),d}if(0===u)return o(c);throw RangeError("Cannot have negative dimension")}function o(c){for(var u=[],d=c.length,f=1;f<d;f++)u.push(a(c[f-1],c[f]));return u}function a(c,u){Ci(c)&&(c=c.toArray()),Ci(u)&&(u=u.toArray());var d=Array.isArray(c),f=Array.isArray(u);if(d&&f)return function l(c,u){if(c.length!==u.length)throw RangeError("Not all sub-arrays have the same length");for(var d=[],f=c.length,h=0;h<f;h++)d.push(a(c[h],u[h]));return d}(c,u);if(!d&&!f)return i(u,c);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}}),Iht=xe("diff",["typed","matrix","subtract","number","bignumber"],n=>{var{typed:t,matrix:e,subtract:i,number:r,bignumber:s}=n,o=jfe({typed:t,matrix:e,subtract:i,number:r,bignumber:s});return t("diff",{"...any":function(l){l=a_(l);try{return o.apply(null,l)}catch(c){throw Fu(c)}}})},{isTransformFunction:!0}),$fe=xe("max",["typed","config","numeric","larger","isNaN"],n=>{var{typed:t,config:e,numeric:i,larger:r,isNaN:s}=n;return t("max",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,u){return uk(c,u.valueOf(),o)},"...":function(c){if(rC(c))throw new TypeError("Scalar values expected in function max");return a(c)}});function o(l,c){try{return r(l,c)?l:c}catch(u){throw Pu(u,"max",c)}}function a(l){var c;if(o_(l,function(u){try{(s(u)||void 0===c||r(u,c))&&(c=u)}catch(d){throw Pu(d,"max",u)}}),void 0===c)throw new Error("Cannot calculate max of an empty array");return"string"==typeof c&&(c=i(c,n_(c,e))),c}}),Oht=xe("max",["typed","config","numeric","larger","isNaN"],n=>{var{typed:t,config:e,numeric:i,larger:r,isNaN:s}=n,o=$fe({typed:t,config:e,numeric:i,larger:r,isNaN:s});return t("max",{"...any":function(l){l=a_(l);try{return o.apply(null,l)}catch(c){throw Fu(c)}}})},{isTransformFunction:!0}),Xfe=xe("range",["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],n=>{var{typed:t,config:e,matrix:i,bignumber:r,smaller:s,smallerEq:o,larger:a,largerEq:l,add:c,isZero:u,isPositive:d}=n;return t("range",{string:h,"string, boolean":h,number:function(A){throw new TypeError("Too few arguments to function range(): ".concat(A))},boolean:function(A){throw new TypeError("Unexpected type of argument 1 to function range(): ".concat(A,", number|bigint|BigNumber|Fraction"))},"number, number":function(A,_){return f(p(A,_,1,!1))},"number, number, number":function(A,_,v){return f(p(A,_,v,!1))},"number, number, boolean":function(A,_,v){return f(p(A,_,1,v))},"number, number, number, boolean":function(A,_,v,b){return f(p(A,_,v,b))},"bigint, bigint|number":function(A,_){return f(p(A,_,1n,!1))},"number, bigint":function(A,_){return f(p(BigInt(A),_,1n,!1))},"bigint, bigint|number, bigint|number":function(A,_,v){return f(p(A,_,BigInt(v),!1))},"number, bigint, bigint|number":function(A,_,v){return f(p(BigInt(A),_,BigInt(v),!1))},"bigint, bigint|number, boolean":function(A,_,v){return f(p(A,_,1n,v))},"number, bigint, boolean":function(A,_,v){return f(p(BigInt(A),_,1n,v))},"bigint, bigint|number, bigint|number, boolean":function(A,_,v,b){return f(p(A,_,BigInt(v),b))},"number, bigint, bigint|number, boolean":function(A,_,v,b){return f(p(BigInt(A),_,BigInt(v),b))},"BigNumber, BigNumber":function(A,_){return f(p(A,_,new(0,A.constructor)(1),!1))},"BigNumber, BigNumber, BigNumber":function(A,_,v){return f(p(A,_,v,!1))},"BigNumber, BigNumber, boolean":function(A,_,v){return f(p(A,_,new(0,A.constructor)(1),v))},"BigNumber, BigNumber, BigNumber, boolean":function(A,_,v,b){return f(p(A,_,v,b))},"Fraction, Fraction":function(A,_){return f(p(A,_,1,!1))},"Fraction, Fraction, Fraction":function(A,_,v){return f(p(A,_,v,!1))},"Fraction, Fraction, boolean":function(A,_,v){return f(p(A,_,1,v))},"Fraction, Fraction, Fraction, boolean":function(A,_,v,b){return f(p(A,_,v,b))},"Unit, Unit, Unit":function(A,_,v){return f(p(A,_,v,!1))},"Unit, Unit, Unit, boolean":function(A,_,v,b){return f(p(A,_,v,b))}});function f(g){return"Matrix"===e.matrix?i?i(g):Hhe():g}function h(g,A){var _=function m(g){var _=g.split(":").map(function(b){return Number(b)});if(_.some(function(b){return isNaN(b)}))return null;switch(_.length){case 2:return{start:_[0],end:_[1],step:1};case 3:return{start:_[0],end:_[2],step:_[1]};default:return null}}(g);if(!_)throw new SyntaxError('String "'+g+'" is no valid range');return"BigNumber"===e.number?(void 0===r&&fG(),f(p(r(_.start),r(_.end),r(_.step)))):f(p(_.start,_.end,_.step,A))}function p(g,A,_,v){var b=[];if(u(_))throw new Error("Step must be non-zero");for(var w=d(_)?v?o:s:v?l:a,y=g;w(y,A);)b.push(y),y=c(y,_);return b}}),Uht=xe("range",["typed","config","?matrix","?bignumber","equal","smaller","smallerEq","larger","largerEq","add","isZero","isPositive"],n=>{var{typed:t,config:e,matrix:i,bignumber:r,equal:s,smaller:o,smallerEq:a,larger:l,largerEq:c,add:u,isZero:d,isPositive:f}=n,h=Xfe({typed:t,config:e,matrix:i,bignumber:r,equal:s,smaller:o,smallerEq:a,larger:l,largerEq:c,add:u,isZero:d,isPositive:f});return t("range",{"...any":function(m){return"boolean"!=typeof m[m.length-1]&&m.push(!0),h.apply(null,m)}})},{isTransformFunction:!0}),Zfe=xe("row",["typed","Index","matrix","range"],n=>{var{typed:t,Index:e,matrix:i,range:r}=n;return t("row",{"Matrix, number":s,"Array, number":function(a,l){return s(i(Ji(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");bo(a,o.size()[0]);var l=r(0,o.size()[1]),c=new e(a,l),u=o.subset(c);return Ci(u)?u:i([[u]])}}),Qht=xe("row",["typed","Index","matrix","range"],n=>{var{typed:t,Index:e,matrix:i,range:r}=n,s=Zfe({typed:t,Index:e,matrix:i,range:r});return t("row",{"...any":function(a){var l=a.length-1,c=a[l];sr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Fu(u)}}})},{isTransformFunction:!0}),epe=xe("column",["typed","Index","matrix","range"],n=>{var{typed:t,Index:e,matrix:i,range:r}=n;return t("column",{"Matrix, number":s,"Array, number":function(a,l){return s(i(Ji(a)),l).valueOf()}});function s(o,a){if(2!==o.size().length)throw new Error("Only two dimensional matrix is supported");bo(a,o.size()[1]);var l=r(0,o.size()[0]),c=new e(l,a),u=o.subset(c);return Ci(u)?u:i([[u]])}}),Wht=xe("column",["typed","Index","matrix","range"],n=>{var{typed:t,Index:e,matrix:i,range:r}=n,s=epe({typed:t,Index:e,matrix:i,range:r});return t("column",{"...any":function(a){var l=a.length-1,c=a[l];sr(c)&&(a[l]=c-1);try{return s.apply(null,a)}catch(u){throw Fu(u)}}})},{isTransformFunction:!0}),npe=xe("mean",["typed","add","divide"],n=>{var{typed:t,add:e,divide:i}=n;return t("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function r(o,a){try{var l=uk(o,a,e),c=Array.isArray(o)?zi(o):o.size();return i(l,c[a])}catch(u){throw Pu(u,"mean")}},"...":function(a){if(rC(a))throw new TypeError("Scalar values expected in function mean");return s(a)}});function s(o){var a,l=0;if(o_(o,function(c){try{a=void 0===a?c:e(a,c),l++}catch(u){throw Pu(u,"mean",c)}}),0===l)throw new Error("Cannot calculate the mean of an empty array");return i(a,l)}}),Yht=xe("mean",["typed","add","divide"],n=>{var{typed:t,add:e,divide:i}=n,r=npe({typed:t,add:e,divide:i});return t("mean",{"...any":function(o){o=a_(o);try{return r.apply(null,o)}catch(a){throw Fu(a)}}})},{isTransformFunction:!0}),ipe="quantileSeq",rpe=xe(ipe,["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],n=>{var{typed:t,bignumber:e,add:i,subtract:r,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f,mapSlices:h}=n;return t(ipe,{"Array | Matrix, number | BigNumber":(_,v)=>m(_,v,!1),"Array | Matrix, number | BigNumber, number":(_,v,b)=>p(_,v,!1,b,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(_,v,b,w)=>p(_,v,b,w,m),"Array | Matrix, Array | Matrix":(_,v)=>g(_,v,!1),"Array | Matrix, Array | Matrix, number":(_,v,b)=>p(_,v,!1,b,g),"Array | Matrix, Array | Matrix, boolean":g,"Array | Matrix, Array | Matrix, boolean, number":(_,v,b,w)=>p(_,v,b,w,g)});function p(_,v,b,w,y){return h(_,w,C=>y(C,v,b))}function m(_,v,b){var w,y=_.valueOf();if(u(v,0))throw new Error("N/prob must be non-negative");if(d(v,1))return sr(v)?A(y,v,b):e(A(y,v,b));if(f(v,1)){if(!c(v))throw new Error("N must be a positive integer");if(f(v,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=i(v,1);w=[];for(var D=0;u(D,v);D++){var S=s(D+1,C);w.push(A(y,S,b))}return sr(v)?w:e(w)}}function g(_,v,b){for(var w=_.valueOf(),y=v.valueOf(),C=[],D=0;D<y.length;++D)C.push(A(w,y[D],b));return C}function A(_,v,b){var w=ps(_),y=w.length;if(0===y)throw new Error("Cannot calculate quantile of an empty sequence");var T,M,C=sr(v)?v*(y-1):v.times(y-1),D=sr(v)?Math.floor(C):C.floor().toNumber(),S=sr(v)?C%1:C.minus(D);if(c(C))return b?w[C]:a(w,sr(v)?C:C.valueOf());if(b)T=w[D],M=w[D+1];else{M=a(w,D+1),T=w[D];for(var F=0;F<D;++F)l(w[F],T)>0&&(T=w[F])}return i(o(T,r(1,S)),o(M,S))}}),tft=xe("quantileSeq",["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger","mapSlices"],n=>{var{typed:t,bignumber:e,add:i,subtract:r,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f,mapSlices:h}=n,p=rpe({typed:t,bignumber:e,add:i,subtract:r,divide:s,multiply:o,partitionSelect:a,compare:l,isInteger:c,smaller:u,smallerEq:d,larger:f,mapSlices:h});return t("quantileSeq",{"Array | Matrix, number | BigNumber":p,"Array | Matrix, number | BigNumber, number":(g,A,_)=>p(g,A,m(_)),"Array | Matrix, number | BigNumber, boolean":p,"Array | Matrix, number | BigNumber, boolean, number":(g,A,_,v)=>p(g,A,_,m(v)),"Array | Matrix, Array | Matrix":p,"Array | Matrix, Array | Matrix, number":(g,A,_)=>p(g,A,m(_)),"Array | Matrix, Array | Matrix, boolean":p,"Array | Matrix, Array | Matrix, boolean, number":(g,A,_,v)=>p(g,A,_,m(v))});function m(g){return a_([[],g])[1]}},{isTransformFunction:!0}),SG="unbiased",ope=xe("variance",["typed","add","subtract","multiply","divide","mapSlices","isNaN"],n=>{var{typed:t,add:e,subtract:i,multiply:r,divide:s,mapSlices:o,isNaN:a}=n;return t("variance",{"Array | Matrix":function(d){return l(d,SG)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(d,f){return c(d,f,SG)},"Array | Matrix, number | BigNumber, string":c,"...":function(d){return l(d,SG)}});function l(u,d){var f,h=0;if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(o_(u,function(g){try{f=void 0===f?g:e(f,g),h++}catch(A){throw Pu(A,"variance",g)}}),0===h)throw new Error("Cannot calculate variance of an empty array");var p=s(f,h);if(f=void 0,o_(u,function(g){var A=i(g,p);f=void 0===f?r(A,A):e(f,r(A,A))}),a(f))return f;switch(d){case"uncorrected":return s(f,h);case"biased":return s(f,h+1);case"unbiased":var m=or(f)?f.mul(0):0;return 1===h?m:s(f,h-1);default:throw new Error('Unknown normalization "'+d+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function c(u,d,f){try{if(0===u.length)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return o(u,d,h=>l(h,f))}catch(h){throw Pu(h,"variance")}}}),rft=xe("variance",["typed","add","subtract","multiply","divide","mapSlices","isNaN"],n=>{var{typed:t,add:e,subtract:i,multiply:r,divide:s,mapSlices:o,isNaN:a}=n,l=ope({typed:t,add:e,subtract:i,multiply:r,divide:s,mapSlices:o,isNaN:a});return t("variance",{"...any":function(u){u=a_(u);try{return l.apply(null,u)}catch(d){throw Fu(d)}}})},{isTransformFunction:!0}),cpe=xe("std",["typed","map","sqrt","variance"],n=>{var{typed:t,map:e,sqrt:i,variance:r}=n;return t("std",{"Array | Matrix":s,"Array | Matrix, string":s,"Array | Matrix, number | BigNumber":s,"Array | Matrix, number | BigNumber, string":s,"...":function(a){return s(a)}});function s(o,a){if(0===o.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=r.apply(null,arguments);return _h(l)?e(l,i):i(l)}catch(c){throw c instanceof TypeError&&c.message.includes(" variance")?new TypeError(c.message.replace(" variance"," std")):c}}}),lft=xe("std",["typed","map","sqrt","variance"],n=>{var{typed:t,map:e,sqrt:i,variance:r}=n,s=cpe({typed:t,map:e,sqrt:i,variance:r});return t("std",{"...any":function(a){a=a_(a);try{return s.apply(null,a)}catch(l){throw Fu(l)}}})},{isTransformFunction:!0}),oC=9e15,c_=1e9,EG="0123456789abcdef",_k="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",bk="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",DG={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-oC,maxE:oC,crypto:!1},rr=!0,yk="[DecimalError] ",u_=yk+"Invalid argument: ",dpe=yk+"Precision limit exceeded",hpe=yk+"crypto unavailable",fpe="[object Decimal]",nu=Math.floor,Vl=Math.pow,cft=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,uft=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,dft=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,ppe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yp=1e7,Pi=7,fft=_k.length-1,MG=bk.length-1,sn={toStringTag:fpe};function Tc(n){var t,e,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,t=1;t<r;t++)(e=Pi-(i=n[t]+"").length)&&(s+=d_(e)),s+=i;(e=Pi-(i=(o=n[t])+"").length)&&(s+=d_(e))}else if(0===o)return"0";for(;o%10==0;)o/=10;return s+o}function _d(n,t,e){if(n!==~~n||n<t||n>e)throw Error(u_+n)}function PM(n,t,e,i){var r,s,o,a;for(s=n[0];s>=10;s/=10)--t;return--t<0?(t+=Pi,r=0):(r=Math.ceil((t+1)/Pi),t%=Pi),s=Vl(10,Pi-t),a=n[r]%s|0,null==i?t<3?(0==t?a=a/100|0:1==t&&(a=a/10|0),o=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):o=(e<4&&a+1==s||e>3&&a+1==s/2)&&(n[r+1]/s/100|0)==Vl(10,t-2)-1||(a==s/2||0==a)&&!(n[r+1]/s/100|0):t<4?(0==t?a=a/1e3|0:1==t?a=a/100|0:2==t&&(a=a/10|0),o=(i||e<4)&&9999==a||!i&&e>3&&4999==a):o=((i||e<4)&&a+1==s||!i&&e>3&&a+1==s/2)&&(n[r+1]/s/1e3|0)==Vl(10,t-3)-1,o}function wk(n,t,e){for(var i,s,r=[0],o=0,a=n.length;o<a;){for(s=r.length;s--;)r[s]*=t;for(r[0]+=EG.indexOf(n.charAt(o++)),i=0;i<r.length;i++)r[i]>e-1&&(void 0===r[i+1]&&(r[i+1]=0),r[i+1]+=r[i]/e|0,r[i]%=e)}return r.reverse()}sn.absoluteValue=sn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),yi(n)},sn.ceil=function(){return yi(new this.constructor(this),this.e+1,2)},sn.clampedTo=sn.clamp=function(n,t){var i=this,r=i.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(u_+t);return i.cmp(n)<0?n:i.cmp(t)>0?t:new r(i)},sn.comparedTo=sn.cmp=function(n){var t,e,i,r,s=this,o=s.d,a=(n=new s.constructor(n)).d,l=s.s,c=n.s;if(!o||!a)return l&&c?l!==c?l:o===a?0:!o^l<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?l:a[0]?-c:0;if(l!==c)return l;if(s.e!==n.e)return s.e>n.e^l<0?1:-1;for(t=0,e=(i=o.length)<(r=a.length)?i:r;t<e;++t)if(o[t]!==a[t])return o[t]>a[t]^l<0?1:-1;return i===r?0:i>r^l<0?1:-1},sn.cosine=sn.cos=function(){var n,t,e=this,i=e.constructor;return e.d?e.d[0]?(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+Pi,i.rounding=1,e=function pft(n,t){var e,i,r;if(t.isZero())return t;(i=t.d.length)<32?r=(1/Ek(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),n.precision+=e,t=aC(n,1,t.times(r),new n(1));for(var s=e;s--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return n.precision-=e,t}(i,bpe(i,e)),i.precision=n,i.rounding=t,yi(2==ag||3==ag?e.neg():e,n,t,!0)):new i(1):new i(NaN)},sn.cubeRoot=sn.cbrt=function(){var n,t,e,i,r,s,o,a,l,c,u=this,d=u.constructor;if(!u.isFinite()||u.isZero())return new d(u);for(rr=!1,(s=u.s*Vl(u.s*u,1/3))&&Math.abs(s)!=1/0?i=new d(s.toString()):(e=Tc(u.d),(s=((n=u.e)-e.length+1)%3)&&(e+=1==s||-2==s?"0":"00"),s=Vl(e,1/3),n=nu((n+1)/3)-(n%3==(n<0?-1:2)),(i=new d(e=s==1/0?"5e"+n:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=u.s),o=(n=d.precision)+3;;)if(c=(l=(a=i).times(a).times(a)).plus(u),i=Fo(c.plus(u).times(a),c.plus(l),o+2,1),Tc(a.d).slice(0,o)===(e=Tc(i.d)).slice(0,o)){if("9999"!=(e=e.slice(o-3,o+1))&&(r||"4999"!=e)){(!+e||!+e.slice(1)&&"5"==e.charAt(0))&&(yi(i,n+1,1),t=!i.times(i).times(i).eq(u));break}if(!r&&(yi(a,n+1,0),a.times(a).times(a).eq(u))){i=a;break}o+=4,r=1}return rr=!0,yi(i,n,d.rounding,t)},sn.decimalPlaces=sn.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=((n=t.length-1)-nu(this.e/Pi))*Pi,n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},sn.dividedBy=sn.div=function(n){return Fo(this,new this.constructor(n))},sn.dividedToIntegerBy=sn.divToInt=function(n){var e=this.constructor;return yi(Fo(this,new e(n),0,1,1),e.precision,e.rounding)},sn.equals=sn.eq=function(n){return 0===this.cmp(n)},sn.floor=function(){return yi(new this.constructor(this),this.e+1,3)},sn.greaterThan=sn.gt=function(n){return this.cmp(n)>0},sn.greaterThanOrEqualTo=sn.gte=function(n){var t=this.cmp(n);return 1==t||0===t},sn.hyperbolicCosine=sn.cosh=function(){var n,t,e,i,r,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;i=o.rounding,o.precision=(e=o.precision)+Math.max(s.e,s.sd())+4,o.rounding=1,(r=s.d.length)<32?t=(1/Ek(4,n=Math.ceil(r/3))).toString():(n=16,t="2.3283064365386962890625e-10"),s=aC(o,1,s.times(t),new o(1),!0);for(var l,c=n,u=new o(8);c--;)l=s.times(s),s=a.minus(l.times(u.minus(l.times(u))));return yi(s,o.precision=e,o.rounding=i,!0)},sn.hyperbolicSine=sn.sinh=function(){var n,t,e,i,r=this,s=r.constructor;if(!r.isFinite()||r.isZero())return new s(r);if(e=s.rounding,s.precision=(t=s.precision)+Math.max(r.e,r.sd())+4,s.rounding=1,(i=r.d.length)<3)r=aC(s,2,r,r,!0);else{n=1.4*Math.sqrt(i),r=aC(s,2,r=r.times(1/Ek(5,n=n>16?16:0|n)),r,!0);for(var o,a=new s(5),l=new s(16),c=new s(20);n--;)o=r.times(r),r=r.times(a.plus(o.times(l.times(o).plus(c))))}return s.precision=t,s.rounding=e,yi(r,t,e,!0)},sn.hyperbolicTangent=sn.tanh=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+7,i.rounding=1,Fo(e.sinh(),e.cosh(),i.precision=n,i.rounding=t)):new i(e.s)},sn.inverseCosine=sn.acos=function(){var n=this,t=n.constructor,e=n.abs().cmp(1),i=t.precision,r=t.rounding;return-1!==e?0===e?n.isNeg()?Om(t,i,r):new t(0):new t(NaN):n.isZero()?Om(t,i+4,r).times(.5):(t.precision=i+6,t.rounding=1,n=new t(1).minus(n).div(n.plus(1)).sqrt().atan(),t.precision=i,t.rounding=r,n.times(2))},sn.inverseHyperbolicCosine=sn.acosh=function(){var n,t,e=this,i=e.constructor;return e.lte(1)?new i(e.eq(1)?0:NaN):e.isFinite()?(t=i.rounding,i.precision=(n=i.precision)+Math.max(Math.abs(e.e),e.sd())+4,i.rounding=1,rr=!1,e=e.times(e).minus(1).sqrt().plus(e),rr=!0,i.precision=n,i.rounding=t,e.ln()):new i(e)},sn.inverseHyperbolicSine=sn.asinh=function(){var n,t,e=this,i=e.constructor;return!e.isFinite()||e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+2*Math.max(Math.abs(e.e),e.sd())+6,i.rounding=1,rr=!1,e=e.times(e).plus(1).sqrt().plus(e),rr=!0,i.precision=n,i.rounding=t,e.ln())},sn.inverseHyperbolicTangent=sn.atanh=function(){var n,t,e,i,r=this,s=r.constructor;return r.isFinite()?r.e>=0?new s(r.abs().eq(1)?r.s/0:r.isZero()?r:NaN):(n=s.precision,t=s.rounding,i=r.sd(),Math.max(i,n)<2*-r.e-1?yi(new s(r),n,t,!0):(s.precision=e=i-r.e,r=Fo(r.plus(1),new s(1).minus(r),e+n,1),s.precision=n+4,s.rounding=1,r=r.ln(),s.precision=n,s.rounding=t,r.times(.5))):new s(NaN)},sn.inverseSine=sn.asin=function(){var n,t,e,i,r=this,s=r.constructor;return r.isZero()?new s(r):(t=r.abs().cmp(1),e=s.precision,i=s.rounding,-1!==t?0===t?((n=Om(s,e+4,i).times(.5)).s=r.s,n):new s(NaN):(s.precision=e+6,s.rounding=1,r=r.div(new s(1).minus(r.times(r)).sqrt().plus(1)).atan(),s.precision=e,s.rounding=i,r.times(2)))},sn.inverseTangent=sn.atan=function(){var n,t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(c.isFinite()){if(c.isZero())return new u(c);if(c.abs().eq(1)&&d+4<=MG)return(o=Om(u,d+4,f).times(.25)).s=c.s,o}else{if(!c.s)return new u(NaN);if(d+4<=MG)return(o=Om(u,d+4,f).times(.5)).s=c.s,o}for(u.precision=a=d+10,u.rounding=1,n=e=Math.min(28,a/Pi+2|0);n;--n)c=c.div(c.times(c).plus(1).sqrt().plus(1));for(rr=!1,t=Math.ceil(a/Pi),i=1,l=c.times(c),o=new u(c),r=c;-1!==n;)if(r=r.times(l),s=o.minus(r.div(i+=2)),r=r.times(l),void 0!==(o=s.plus(r.div(i+=2))).d[t])for(n=t;o.d[n]===s.d[n]&&n--;);return e&&(o=o.times(2<<e-1)),rr=!0,yi(o,u.precision=d,u.rounding=f,!0)},sn.isFinite=function(){return!!this.d},sn.isInteger=sn.isInt=function(){return!!this.d&&nu(this.e/Pi)>this.d.length-2},sn.isNaN=function(){return!this.s},sn.isNegative=sn.isNeg=function(){return this.s<0},sn.isPositive=sn.isPos=function(){return this.s>0},sn.isZero=function(){return!!this.d&&0===this.d[0]},sn.lessThan=sn.lt=function(n){return this.cmp(n)<0},sn.lessThanOrEqualTo=sn.lte=function(n){return this.cmp(n)<1},sn.logarithm=sn.log=function(n){var t,e,i,r,s,o,a,l,c=this,u=c.constructor,d=u.precision,f=u.rounding;if(null==n)n=new u(10),t=!0;else{if(e=(n=new u(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new u(NaN);t=n.eq(10)}if(e=c.d,c.s<0||!e||!e[0]||c.eq(1))return new u(e&&!e[0]?-1/0:1!=c.s?NaN:e?0:1/0);if(t)if(e.length>1)s=!0;else{for(r=e[0];r%10==0;)r/=10;s=1!==r}if(rr=!1,o=h_(c,a=d+5),i=t?Ck(u,a+10):h_(n,a),PM((l=Fo(o,i,a,1)).d,r=d,f))do{if(o=h_(c,a+=10),i=t?Ck(u,a+10):h_(n,a),l=Fo(o,i,a,1),!s){+Tc(l.d).slice(r+1,r+15)+1==1e14&&(l=yi(l,d+1,0));break}}while(PM(l.d,r+=10,f));return rr=!0,yi(l,d,f)},sn.minus=sn.sub=function(n){var t,e,i,r,s,o,a,l,c,u,d,f,h=this,p=h.constructor;if(n=new p(n),!h.d||!n.d)return h.s&&n.s?h.d?n.s=-n.s:n=new p(n.d||h.s!==n.s?h:NaN):n=new p(NaN),n;if(h.s!=n.s)return n.s=-n.s,h.plus(n);if(f=n.d,a=p.precision,l=p.rounding,!(c=h.d)[0]||!f[0]){if(f[0])n.s=-n.s;else{if(!c[0])return new p(3===l?-0:0);n=new p(h)}return rr?yi(n,a,l):n}if(e=nu(n.e/Pi),u=nu(h.e/Pi),c=c.slice(),s=u-e){for((d=s<0)?(t=c,s=-s,o=f.length):(t=f,e=u,o=c.length),s>(i=Math.max(Math.ceil(a/Pi),o)+2)&&(s=i,t.length=1),t.reverse(),i=s;i--;)t.push(0);t.reverse()}else{for((d=(i=c.length)<(o=f.length))&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(t=c,c=f,f=t,n.s=-n.s),i=f.length-(o=c.length);i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(r=i;r&&0===c[--r];)c[r]=yp-1;--c[r],c[i]+=yp}c[i]-=f[i]}for(;0===c[--o];)c.pop();for(;0===c[0];c.shift())--e;return c[0]?(n.d=c,n.e=xk(c,e),rr?yi(n,a,l):n):new p(3===l?-0:0)},sn.modulo=sn.mod=function(n){var t,e=this,i=e.constructor;return n=new i(n),!e.d||!n.s||n.d&&!n.d[0]?new i(NaN):!n.d||e.d&&!e.d[0]?yi(new i(e),i.precision,i.rounding):(rr=!1,9==i.modulo?(t=Fo(e,n.abs(),0,3,1)).s*=n.s:t=Fo(e,n,0,i.modulo,1),t=t.times(n),rr=!0,e.minus(t))},sn.naturalExponential=sn.exp=function(){return TG(this)},sn.naturalLogarithm=sn.ln=function(){return h_(this)},sn.negated=sn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,yi(n)},sn.plus=sn.add=function(n){var t,e,i,r,s,o,a,l,c,u,d=this,f=d.constructor;if(n=new f(n),!d.d||!n.d)return d.s&&n.s?d.d||(n=new f(n.d||d.s===n.s?d:NaN)):n=new f(NaN),n;if(d.s!=n.s)return n.s=-n.s,d.minus(n);if(u=n.d,a=f.precision,l=f.rounding,!(c=d.d)[0]||!u[0])return u[0]||(n=new f(d)),rr?yi(n,a,l):n;if(s=nu(d.e/Pi),i=nu(n.e/Pi),c=c.slice(),r=s-i){for(r<0?(e=c,r=-r,o=u.length):(e=u,i=s,o=c.length),r>(o=(s=Math.ceil(a/Pi))>o?s+1:o+1)&&(r=o,e.length=1),e.reverse();r--;)e.push(0);e.reverse()}for((o=c.length)-(r=u.length)<0&&(r=o,e=u,u=c,c=e),t=0;r;)t=(c[--r]=c[r]+u[r]+t)/yp|0,c[r]%=yp;for(t&&(c.unshift(t),++i),o=c.length;0==c[--o];)c.pop();return n.d=c,n.e=xk(c,i),rr?yi(n,a,l):n},sn.precision=sn.sd=function(n){var t,e=this;if(void 0!==n&&n!==!!n&&1!==n&&0!==n)throw Error(u_+n);return e.d?(t=mpe(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},sn.round=function(){var n=this,t=n.constructor;return yi(new t(n),n.e+1,t.rounding)},sn.sine=sn.sin=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+Math.max(e.e,e.sd())+Pi,i.rounding=1,e=function Aft(n,t){var e,i=t.d.length;if(i<3)return t.isZero()?t:aC(n,2,t,t);e=1.4*Math.sqrt(i),t=aC(n,2,t=t.times(1/Ek(5,e=e>16?16:0|e)),t);for(var r,s=new n(5),o=new n(16),a=new n(20);e--;)r=t.times(t),t=t.times(s.plus(r.times(o.times(r).minus(a))));return t}(i,bpe(i,e)),i.precision=n,i.rounding=t,yi(ag>2?e.neg():e,n,t,!0)):new i(NaN)},sn.squareRoot=sn.sqrt=function(){var n,t,e,i,r,s,o=this,a=o.d,l=o.e,c=o.s,u=o.constructor;if(1!==c||!a||!a[0])return new u(!c||c<0&&(!a||a[0])?NaN:a?o:1/0);for(rr=!1,0==(c=Math.sqrt(+o))||c==1/0?(((t=Tc(a)).length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=nu((l+1)/2)-(l<0||l%2),i=new u(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):i=new u(c.toString()),e=(l=u.precision)+3;;)if(i=(s=i).plus(Fo(o,s,e+2,1)).times(.5),Tc(s.d).slice(0,e)===(t=Tc(i.d)).slice(0,e)){if("9999"!=(t=t.slice(e-3,e+1))&&(r||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(yi(i,l+1,1),n=!i.times(i).eq(o));break}if(!r&&(yi(s,l+1,0),s.times(s).eq(o))){i=s;break}e+=4,r=1}return rr=!0,yi(i,l,u.rounding,n)},sn.tangent=sn.tan=function(){var n,t,e=this,i=e.constructor;return e.isFinite()?e.isZero()?new i(e):(t=i.rounding,i.precision=(n=i.precision)+10,i.rounding=1,(e=e.sin()).s=1,e=Fo(e,new i(1).minus(e.times(e)).sqrt(),n+10,0),i.precision=n,i.rounding=t,yi(2==ag||4==ag?e.neg():e,n,t,!0)):new i(NaN)},sn.times=sn.mul=function(n){var t,e,i,r,s,o,a,l,c,u=this,d=u.constructor,f=u.d,h=(n=new d(n)).d;if(n.s*=u.s,!(f&&f[0]&&h&&h[0]))return new d(!n.s||f&&!f[0]&&!h||h&&!h[0]&&!f?NaN:f&&h?0*n.s:n.s/0);for(e=nu(u.e/Pi)+nu(n.e/Pi),(l=f.length)<(c=h.length)&&(s=f,f=h,h=s,o=l,l=c,c=o),s=[],i=o=l+c;i--;)s.push(0);for(i=c;--i>=0;){for(t=0,r=l+i;r>i;)a=s[r]+h[i]*f[r-i-1]+t,s[r--]=a%yp|0,t=a/yp|0;s[r]=(s[r]+t)%yp|0}for(;!s[--o];)s.pop();return t?++e:s.shift(),n.d=s,n.e=xk(s,e),rr?yi(n,d.precision,d.rounding):n},sn.toBinary=function(n,t){return NG(this,2,n,t)},sn.toDecimalPlaces=sn.toDP=function(n,t){var e=this,i=e.constructor;return e=new i(e),void 0===n?e:(_d(n,0,c_),void 0===t?t=i.rounding:_d(t,0,8),yi(e,n+e.e+1,t))},sn.toExponential=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Pm(i,!0):(_d(n,0,c_),void 0===t?t=r.rounding:_d(t,0,8),e=Pm(i=yi(new r(i),n+1,t),!0,n+1)),i.isNeg()&&!i.isZero()?"-"+e:e},sn.toFixed=function(n,t){var e,i,r=this,s=r.constructor;return void 0===n?e=Pm(r):(_d(n,0,c_),void 0===t?t=s.rounding:_d(t,0,8),e=Pm(i=yi(new s(r),n+r.e+1,t),!1,n+i.e+1)),r.isNeg()&&!r.isZero()?"-"+e:e},sn.toFraction=function(n){var t,e,i,r,s,o,a,l,c,u,d,f,h=this,p=h.d,m=h.constructor;if(!p)return new m(h);if(c=e=new m(1),i=l=new m(0),s=(t=new m(i)).e=mpe(p)-h.e-1,t.d[0]=Vl(10,(o=s%Pi)<0?Pi+o:o),null==n)n=s>0?t:c;else{if(!(a=new m(n)).isInt()||a.lt(c))throw Error(u_+a);n=a.gt(t)?s>0?t:c:a}for(rr=!1,a=new m(Tc(p)),u=m.precision,m.precision=s=p.length*Pi*2;d=Fo(a,t,0,1,1),1!=(r=e.plus(d.times(i))).cmp(n);)e=i,i=r,c=l.plus(d.times(r=c)),l=r,t=a.minus(d.times(r=t)),a=r;return r=Fo(n.minus(e),i,0,1,1),l=l.plus(r.times(c)),e=e.plus(r.times(i)),l.s=c.s=h.s,f=Fo(c,i,s,1).minus(h).abs().cmp(Fo(l,e,s,1).minus(h).abs())<1?[c,i]:[l,e],m.precision=u,rr=!0,f},sn.toHexadecimal=sn.toHex=function(n,t){return NG(this,16,n,t)},sn.toNearest=function(n,t){var e=this,i=e.constructor;if(e=new i(e),null==n){if(!e.d)return e;n=new i(1),t=i.rounding}else{if(n=new i(n),void 0===t?t=i.rounding:_d(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(rr=!1,e=Fo(e,n,0,t,1).times(n),rr=!0,yi(e)):(n.s=e.s,e=n),e},sn.toNumber=function(){return+this},sn.toOctal=function(n,t){return NG(this,8,n,t)},sn.toPower=sn.pow=function(n){var t,e,i,r,s,o,a=this,l=a.constructor,c=+(n=new l(n));if(!(a.d&&n.d&&a.d[0]&&n.d[0]))return new l(Vl(+a,c));if((a=new l(a)).eq(1))return a;if(i=l.precision,s=l.rounding,n.eq(1))return yi(a,i,s);if((t=nu(n.e/Pi))>=n.d.length-1&&(e=c<0?-c:c)<=9007199254740991)return r=Ape(l,a,e,i),n.s<0?new l(1).div(r):yi(r,i,s);if((o=a.s)<0){if(t<n.d.length-1)return new l(NaN);if(1&n.d[t]||(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(t=0!=(e=Vl(+a,c))&&isFinite(e)?new l(e+"").e:nu(c*(Math.log("0."+Tc(a.d))/Math.LN10+a.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(rr=!1,l.rounding=a.s=1,e=Math.min(12,(t+"").length),(r=TG(n.times(h_(a,i+e)),i)).d&&PM((r=yi(r,i+5,1)).d,i,s)&&+Tc((r=yi(TG(n.times(h_(a,(t=i+10)+e)),t),t+5,1)).d).slice(i+1,i+15)+1==1e14&&(r=yi(r,i+1,0)),r.s=o,rr=!0,l.rounding=s,yi(r,i,s))},sn.toPrecision=function(n,t){var e,i=this,r=i.constructor;return void 0===n?e=Pm(i,i.e<=r.toExpNeg||i.e>=r.toExpPos):(_d(n,1,c_),void 0===t?t=r.rounding:_d(t,0,8),e=Pm(i=yi(new r(i),n,t),n<=i.e||i.e<=r.toExpNeg,n)),i.isNeg()&&!i.isZero()?"-"+e:e},sn.toSignificantDigits=sn.toSD=function(n,t){var i=this.constructor;return void 0===n?(n=i.precision,t=i.rounding):(_d(n,1,c_),void 0===t?t=i.rounding:_d(t,0,8)),yi(new i(this),n,t)},sn.toString=function(){var n=this,t=n.constructor,e=Pm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},sn.truncated=sn.trunc=function(){return yi(new this.constructor(this),this.e+1,1)},sn.valueOf=sn.toJSON=function(){var n=this,t=n.constructor,e=Pm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Fo=function(){function n(i,r,s){var o,a=0,l=i.length;for(i=i.slice();l--;)i[l]=(o=i[l]*r+a)%s|0,a=o/s|0;return a&&i.unshift(a),i}function t(i,r,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(i[a]!=r[a]){l=i[a]>r[a]?1:-1;break}return l}function e(i,r,s,o){for(var a=0;s--;)i[s]-=a,i[s]=(a=i[s]<r[s]?1:0)*o+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o,a,l){var c,u,d,f,h,p,m,g,A,_,v,b,w,y,C,D,S,T,M,F,L=i.constructor,U=i.s==r.s?1:-1,z=i.d,O=r.d;if(!(z&&z[0]&&O&&O[0]))return new L(i.s&&r.s&&(z?!O||z[0]!=O[0]:O)?z&&0==z[0]||!O?0*U:U/0:NaN);for(l?(h=1,u=i.e-r.e):(l=yp,u=nu(i.e/(h=Pi))-nu(r.e/h)),M=O.length,S=z.length,_=(A=new L(U)).d=[],d=0;O[d]==(z[d]||0);d++);if(O[d]>(z[d]||0)&&u--,null==s?(y=s=L.precision,o=L.rounding):y=a?s+(i.e-r.e)+1:s,y<0)_.push(1),p=!0;else{if(y=y/h+2|0,d=0,1==M){for(f=0,O=O[0],y++;(d<S||f)&&y--;d++)_[d]=(C=f*l+(z[d]||0))/O|0,f=C%O|0;p=f||d<S}else{for((f=l/(O[0]+1)|0)>1&&(O=n(O,f,l),z=n(z,f,l),M=O.length,S=z.length),D=M,b=(v=z.slice(0,M)).length;b<M;)v[b++]=0;(F=O.slice()).unshift(0),T=O[0],O[1]>=l/2&&++T;do{f=0,(c=t(O,v,M,b))<0?(w=v[0],M!=b&&(w=w*l+(v[1]||0)),(f=w/T|0)>1?(f>=l&&(f=l-1),1==(c=t(m=n(O,f,l),v,g=m.length,b=v.length))&&(f--,e(m,M<g?F:O,g,l))):(0==f&&(c=f=1),m=O.slice()),(g=m.length)<b&&m.unshift(0),e(v,m,b,l),-1==c&&(c=t(O,v,M,b=v.length))<1&&(f++,e(v,M<b?F:O,b,l)),b=v.length):0===c&&(f++,v=[0]),_[d++]=f,c&&v[0]?v[b++]=z[D]||0:(v=[z[D]],b=1)}while((D++<S||void 0!==v[0])&&y--);p=void 0!==v[0]}_[0]||_.shift()}if(1==h)A.e=u,upe=p;else{for(d=1,f=_[0];f>=10;f/=10)d++;A.e=d+u*h-1,yi(A,a?s+A.e+1:s,o,p)}return A}}();function yi(n,t,e,i){var r,s,o,a,l,c,u,d,f,h=n.constructor;e:if(null!=t){if(!(d=n.d))return n;for(r=1,a=d[0];a>=10;a/=10)r++;if((s=t-r)<0)s+=Pi,l=(u=d[f=0])/Vl(10,r-(o=t)-1)%10|0;else if((f=Math.ceil((s+1)/Pi))>=(a=d.length)){if(!i)break e;for(;a++<=f;)d.push(0);u=l=0,r=1,o=(s%=Pi)-Pi+1}else{for(u=a=d[f],r=1;a>=10;a/=10)r++;l=(o=(s%=Pi)-Pi+r)<0?0:u/Vl(10,r-o-1)%10|0}if(i=i||t<0||void 0!==d[f+1]||(o<0?u:u%Vl(10,r-o-1)),c=e<4?(l||i)&&(0==e||e==(n.s<0?3:2)):l>5||5==l&&(4==e||i||6==e&&(s>0?o>0?u/Vl(10,r-o):0:d[f-1])%10&1||e==(n.s<0?8:7)),t<1||!d[0])return d.length=0,c?(d[0]=Vl(10,(Pi-(t-=n.e+1)%Pi)%Pi),n.e=-t||0):d[0]=n.e=0,n;if(0==s?(d.length=f,a=1,f--):(d.length=f+1,a=Vl(10,Pi-s),d[f]=o>0?(u/Vl(10,r-o)%Vl(10,o)|0)*a:0),c)for(;;){if(0==f){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(n.e++,d[0]==yp&&(d[0]=1));break}if(d[f]+=a,d[f]!=yp)break;d[f--]=0,a=1}for(s=d.length;0===d[--s];)d.pop()}return rr&&(n.e>h.maxE?(n.d=null,n.e=NaN):n.e<h.minE&&(n.e=0,n.d=[0])),n}function Pm(n,t,e){if(!n.isFinite())return _pe(n);var i,r=n.e,s=Tc(n.d),o=s.length;return t?(e&&(i=e-o)>0?s=s.charAt(0)+"."+s.slice(1)+d_(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(n.e<0?"e":"e+")+n.e):r<0?(s="0."+d_(-r-1)+s,e&&(i=e-o)>0&&(s+=d_(i))):r>=o?(s+=d_(r+1-o),e&&(i=e-r-1)>0&&(s=s+"."+d_(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),e&&(i=e-o)>0&&(r+1===o&&(s+="."),s+=d_(i))),s}function xk(n,t){var e=n[0];for(t*=Pi;e>=10;e/=10)t++;return t}function Ck(n,t,e){if(t>fft)throw rr=!0,e&&(n.precision=e),Error(dpe);return yi(new n(_k),t,1,!0)}function Om(n,t,e){if(t>MG)throw Error(dpe);return yi(new n(bk),t,e,!0)}function mpe(n){var t=n.length-1,e=t*Pi+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function d_(n){for(var t="";n--;)t+="0";return t}function Ape(n,t,e,i){var r,s=new n(1),o=Math.ceil(i/Pi+4);for(rr=!1;;){if(e%2&&ype((s=s.times(t)).d,o)&&(r=!0),0===(e=nu(e/2))){e=s.d.length-1,r&&0===s.d[e]&&++s.d[e];break}ype((t=t.times(t)).d,o)}return rr=!0,s}function gpe(n){return 1&n.d[n.d.length-1]}function vpe(n,t,e){for(var i,r,s=new n(t[0]),o=0;++o<t.length;){if(!(r=new n(t[o])).s){s=r;break}((i=s.cmp(r))===e||0===i&&s.s===e)&&(s=r)}return s}function TG(n,t){var e,i,r,s,o,a,l,c=0,u=0,d=0,f=n.constructor,h=f.rounding,p=f.precision;if(!n.d||!n.d[0]||n.e>17)return new f(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(null==t?(rr=!1,l=p):l=t,a=new f(.03125);n.e>-2;)n=n.times(a),d+=5;for(l+=i=Math.log(Vl(2,d))/Math.LN10*2+5|0,e=s=o=new f(1),f.precision=l;;){if(s=yi(s.times(n),l,1),e=e.times(++u),Tc((a=o.plus(Fo(s,e,l,1))).d).slice(0,l)===Tc(o.d).slice(0,l)){for(r=d;r--;)o=yi(o.times(o),l,1);if(null!=t)return f.precision=p,o;if(!(c<3&&PM(o.d,l-i,h,c)))return yi(o,f.precision=p,h,rr=!0);f.precision=l+=10,e=s=a=new f(1),u=0,c++}o=a}}function h_(n,t){var e,i,r,s,o,a,l,c,u,d,f,h=1,m=n,g=m.d,A=m.constructor,_=A.rounding,v=A.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new A(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(rr=!1,u=v):u=t,A.precision=u+=10,i=(e=Tc(g)).charAt(0),!(Math.abs(s=m.e)<15e14))return c=Ck(A,u+2,v).times(s+""),m=h_(new A(i+"."+e.slice(1)),u-10).plus(c),A.precision=v,null==t?yi(m,v,_,rr=!0):m;for(;i<7&&1!=i||1==i&&e.charAt(1)>3;)i=(e=Tc((m=m.times(n)).d)).charAt(0),h++;for(s=m.e,i>1?(m=new A("0."+e),s++):m=new A(i+"."+e.slice(1)),d=m,l=o=m=Fo(m.minus(1),m.plus(1),u,1),f=yi(m.times(m),u,1),r=3;;){if(o=yi(o.times(f),u,1),Tc((c=l.plus(Fo(o,new A(r),u,1))).d).slice(0,u)===Tc(l.d).slice(0,u)){if(l=l.times(2),0!==s&&(l=l.plus(Ck(A,u+2,v).times(s+""))),l=Fo(l,new A(h),u,1),null!=t)return A.precision=v,l;if(!PM(l.d,u-10,_,a))return yi(l,A.precision=v,_,rr=!0);A.precision=u+=10,c=o=m=Fo(d.minus(1),d.plus(1),u,1),f=yi(m.times(m),u,1),r=a=1}l=c,r+=2}}function _pe(n){return String(n.s*n.s/0)}function Sk(n,t){var e,i,r;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),i=0;48===t.charCodeAt(i);i++);for(r=t.length;48===t.charCodeAt(r-1);--r);if(t=t.slice(i,r)){if(r-=i,n.e=e=e-i-1,n.d=[],i=(e+1)%Pi,e<0&&(i+=Pi),i<r){for(i&&n.d.push(+t.slice(0,i)),r-=Pi;i<r;)n.d.push(+t.slice(i,i+=Pi));t=t.slice(i),i=Pi-t.length}else i-=r;for(;i--;)t+="0";n.d.push(+t),rr&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function aC(n,t,e,i,r){var s,o,a,l,u=n.precision,d=Math.ceil(u/Pi);for(rr=!1,l=e.times(e),a=new n(i);;){if(o=Fo(a.times(l),new n(t++*t++),u,1),a=r?i.plus(o):i.minus(o),i=Fo(o.times(l),new n(t++*t++),u,1),void 0!==(o=a.plus(i)).d[d]){for(s=d;o.d[s]===a.d[s]&&s--;);if(-1==s)break}s=a,a=i,i=o,o=s}return rr=!0,o.d.length=d+1,o}function Ek(n,t){for(var e=n;--t;)e*=n;return e}function bpe(n,t){var e,i=t.s<0,r=Om(n,n.precision,1),s=r.times(.5);if((t=t.abs()).lte(s))return ag=i?4:1,t;if((e=t.divToInt(r)).isZero())ag=i?3:2;else{if((t=t.minus(e.times(r))).lte(s))return ag=gpe(e)?i?2:3:i?4:1,t;ag=gpe(e)?i?1:4:i?3:2}return t.minus(r).abs()}function NG(n,t,e,i){var r,s,o,a,l,c,u,d,f,h=n.constructor,p=void 0!==e;if(p?(_d(e,1,c_),void 0===i?i=h.rounding:_d(i,0,8)):(e=h.precision,i=h.rounding),n.isFinite()){for(p?(r=2,16==t?e=4*e-3:8==t&&(e=3*e-2)):r=t,(o=(u=Pm(n)).indexOf("."))>=0&&(u=u.replace(".",""),(f=new h(1)).e=u.length-o,f.d=wk(Pm(f),10,r),f.e=f.d.length),s=l=(d=wk(u,10,r)).length;0==d[--l];)d.pop();if(d[0]){if(o<0?s--:((n=new h(n)).d=d,n.e=s,d=(n=Fo(n,f,e,i,0,r)).d,s=n.e,c=upe),o=d[e],a=r/2,c=c||void 0!==d[e+1],c=i<4?(void 0!==o||c)&&(0===i||i===(n.s<0?3:2)):o>a||o===a&&(4===i||c||6===i&&1&d[e-1]||i===(n.s<0?8:7)),d.length=e,c)for(;++d[--e]>r-1;)d[e]=0,e||(++s,d.unshift(1));for(l=d.length;!d[l-1];--l);for(o=0,u="";o<l;o++)u+=EG.charAt(d[o]);if(p){if(l>1)if(16==t||8==t){for(o=16==t?4:3,--l;l%o;l++)u+="0";for(l=(d=wk(u,r,t)).length;!d[l-1];--l);for(o=1,u="1.";o<l;o++)u+=EG.charAt(d[o])}else u=u.charAt(0)+"."+u.slice(1);u=u+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)u="0"+u;u="0."+u}else if(++s>l)for(s-=l;s--;)u+="0";else s<l&&(u=u.slice(0,s)+"."+u.slice(s))}else u=p?"0p+0":"0";u=(16==t?"0x":2==t?"0b":8==t?"0o":"")+u}else u=_pe(n);return n.s<0?"-"+u:u}function ype(n,t){if(n.length>t)return n.length=t,!0}function gft(n){return new this(n).abs()}function vft(n){return new this(n).acos()}function _ft(n){return new this(n).acosh()}function bft(n,t){return new this(n).plus(t)}function yft(n){return new this(n).asin()}function wft(n){return new this(n).asinh()}function xft(n){return new this(n).atan()}function Cft(n){return new this(n).atanh()}function Sft(n,t){n=new this(n),t=new this(t);var e,i=this.precision,r=this.rounding,s=i+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Om(this,i,r):new this(0)).s=n.s:!n.d||t.isZero()?(e=Om(this,s,1).times(.5)).s=n.s:t.s<0?(this.precision=s,this.rounding=1,e=this.atan(Fo(n,t,s,1)),t=Om(this,s,1),this.precision=i,this.rounding=r,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Fo(n,t,s,1)):(e=Om(this,s,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function Eft(n){return new this(n).cbrt()}function Dft(n){return yi(n=new this(n),n.e+1,2)}function Mft(n,t,e){return new this(n).clamp(t,e)}function Tft(n){if(!n||"object"!=typeof n)throw Error(yk+"Object expected");var t,e,i,r=!0===n.defaults,s=["precision",1,c_,"rounding",0,8,"toExpNeg",-oC,0,"toExpPos",0,oC,"maxE",0,oC,"minE",-oC,0,"modulo",0,9];for(t=0;t<s.length;t+=3)if(e=s[t],r&&(this[e]=DG[e]),void 0!==(i=n[e])){if(!(nu(i)===i&&i>=s[t+1]&&i<=s[t+2]))throw Error(u_+e+": "+i);this[e]=i}if(e="crypto",r&&(this[e]=DG[e]),void 0!==(i=n[e])){if(!0!==i&&!1!==i&&0!==i&&1!==i)throw Error(u_+e+": "+i);if(i){if(!(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes)))throw Error(hpe);this[e]=!0}else this[e]=!1}return this}function Nft(n){return new this(n).cos()}function Ift(n){return new this(n).cosh()}function Bft(n,t){return new this(n).div(t)}function Fft(n){return new this(n).exp()}function Pft(n){return yi(n=new this(n),n.e+1,3)}function Oft(){var n,t,e=new this(0);for(rr=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return rr=!0,new this(1/0);e=t}return rr=!0,e.sqrt()}function xpe(n){return n instanceof OM||n&&n.toStringTag===fpe||!1}function Rft(n){return new this(n).ln()}function kft(n,t){return new this(n).log(t)}function Lft(n){return new this(n).log(2)}function Uft(n){return new this(n).log(10)}function Hft(){return vpe(this,arguments,-1)}function Vft(){return vpe(this,arguments,1)}function zft(n,t){return new this(n).mod(t)}function Qft(n,t){return new this(n).mul(t)}function Gft(n,t){return new this(n).pow(t)}function jft(n){var t,e,i,r,s=0,o=new this(1),a=[];if(void 0===n?n=this.precision:_d(n,1,c_),i=Math.ceil(n/Pi),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(i));s<i;)(r=t[s])>=429e7?t[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=r%1e7;else{if(!crypto.randomBytes)throw Error(hpe);for(t=crypto.randomBytes(i*=4);s<i;)(r=t[s]+(t[s+1]<<8)+(t[s+2]<<16)+((127&t[s+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,s):(a.push(r%1e7),s+=4);s=i/4}else for(;s<i;)a[s++]=1e7*Math.random()|0;for(i=a[--s],n%=Pi,i&&n&&(r=Vl(10,Pi-n),a[s]=(i/r|0)*r);0===a[s];s--)a.pop();if(s<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=Pi)a.shift();for(i=1,r=a[0];r>=10;r/=10)i++;i<Pi&&(e-=Pi-i)}return o.e=e,o.d=a,o}function qft(n){return yi(n=new this(n),n.e+1,this.rounding)}function Wft(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function $ft(n){return new this(n).sin()}function Kft(n){return new this(n).sinh()}function Xft(n){return new this(n).sqrt()}function Yft(n,t){return new this(n).sub(t)}function Zft(){var n=0,t=arguments,e=new this(t[n]);for(rr=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return rr=!0,yi(e,this.precision,this.rounding)}function Jft(n){return new this(n).tan()}function ept(n){return new this(n).tanh()}function tpt(n){return yi(n=new this(n),n.e+1,1)}sn[Symbol.for("nodejs.util.inspect.custom")]=sn.toString,sn[Symbol.toStringTag]="Decimal";var OM=sn.constructor=function wpe(n){var t,e,i;function r(s){var o,a,l,c=this;if(!(c instanceof r))return new r(s);if(c.constructor=r,xpe(s))return c.s=s.s,void(rr?!s.d||s.e>r.maxE?(c.e=NaN,c.d=null):s.e<r.minE?(c.e=0,c.d=[0]):(c.e=s.e,c.d=s.d.slice()):(c.e=s.e,c.d=s.d?s.d.slice():s.d));if("number"==(l=typeof s)){if(0===s)return c.s=1/s<0?-1:1,c.e=0,void(c.d=[0]);if(s<0?(s=-s,c.s=-1):c.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;return void(rr?o>r.maxE?(c.e=NaN,c.d=null):o<r.minE?(c.e=0,c.d=[0]):(c.e=o,c.d=[s]):(c.e=o,c.d=[s]))}return 0*s!=0?(s||(c.s=NaN),c.e=NaN,void(c.d=null)):Sk(c,s.toString())}if("string"===l)return 45===(a=s.charCodeAt(0))?(s=s.slice(1),c.s=-1):(43===a&&(s=s.slice(1)),c.s=1),ppe.test(s)?Sk(c,s):function mft(n,t){var e,i,r,s,o,a,l,c,u;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),ppe.test(t))return Sk(n,t)}else if("Infinity"===t||"NaN"===t)return+t||(n.s=NaN),n.e=NaN,n.d=null,n;if(uft.test(t))e=16,t=t.toLowerCase();else if(cft.test(t))e=2;else{if(!dft.test(t))throw Error(u_+t);e=8}for((s=t.search(/p/i))>0?(l=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),s=t.indexOf("."),i=n.constructor,(o=s>=0)&&(s=(a=(t=t.replace(".","")).length)-s,r=Ape(i,new i(e),s,2*s)),s=u=(c=wk(t,e,yp)).length-1;0===c[s];--s)c.pop();return s<0?new i(0*n.s):(n.e=xk(c,u),n.d=c,rr=!1,o&&(n=Fo(n,r,4*a)),l&&(n=n.times(Math.abs(l)<54?Vl(2,l):OM.pow(2,l))),rr=!0,n)}(c,s);if("bigint"===l)return s<0?(s=-s,c.s=-1):c.s=1,Sk(c,s.toString());throw Error(u_+s)}if(r.prototype=sn,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.EUCLID=9,r.config=r.set=Tft,r.clone=wpe,r.isDecimal=xpe,r.abs=gft,r.acos=vft,r.acosh=_ft,r.add=bft,r.asin=yft,r.asinh=wft,r.atan=xft,r.atanh=Cft,r.atan2=Sft,r.cbrt=Eft,r.ceil=Dft,r.clamp=Mft,r.cos=Nft,r.cosh=Ift,r.div=Bft,r.exp=Fft,r.floor=Pft,r.hypot=Oft,r.ln=Rft,r.log=kft,r.log10=Uft,r.log2=Lft,r.max=Hft,r.min=Vft,r.mod=zft,r.mul=Qft,r.pow=Gft,r.random=jft,r.round=qft,r.sign=Wft,r.sin=$ft,r.sinh=Kft,r.sqrt=Xft,r.sub=Yft,r.sum=Zft,r.tan=Jft,r.tanh=ept,r.trunc=tpt,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)n.hasOwnProperty(e=i[t++])||(n[e]=this[e]);return r.config(n),r}(DG);_k=new OM(_k),bk=new OM(bk);const Dk=OM;var rpt=xe("BigNumber",["?on","config"],n=>{var{on:t,config:e}=n,i=Dk.clone({precision:e.precision,modulo:Dk.EUCLID});return i.prototype=Object.create(i.prototype),i.prototype.type="BigNumber",i.prototype.isBigNumber=!0,i.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},i.fromJSON=function(r){return new i(r.value)},t&&t("config",function(r,s){r.precision!==s.precision&&i.config({precision:r.precision})}),i},{isClass:!0});const iu=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},mf=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},IG=function(n,t){return(n=Math.abs(n))<(t=Math.abs(t))&&([n,t]=[t,n]),n<1e8?Math.sqrt(n*n+t*t):(t/=n,n*Math.sqrt(1+t*t))},lC=function(){throw SyntaxError("Invalid Param")};function BG(n,t){const e=Math.abs(n),i=Math.abs(t);return 0===n?Math.log(i):0===t?Math.log(e):e<3e3&&i<3e3?.5*Math.log(n*n+t*t):(n*=.5,t*=.5,.5*Math.log(n*n+t*t)+Math.LN2)}const opt={re:0,im:0},Kb=function(n,t){const e=opt;if(null==n)e.re=e.im=0;else if(void 0!==t)e.re=n,e.im=t;else switch(typeof n){case"object":if("im"in n&&"re"in n)e.re=n.re,e.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Dt.INFINITY;e.re=n.abs*Math.cos(n.arg),e.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Dt.INFINITY;e.re=n.r*Math.cos(n.phi),e.im=n.r*Math.sin(n.phi)}else 2===n.length?(e.re=n[0],e.im=n[1]):lC();break;case"string":e.im=e.re=0;const i=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let r=1,s=0;null===i&&lC();for(let o=0;o<i.length;o++){const a=i[o];" "===a||"\t"===a||"\n"===a||("+"===a?r++:"-"===a?s++:"i"===a||"I"===a?(r+s===0&&lC()," "===i[o+1]||isNaN(i[o+1])?e.im+=parseFloat((s%2?"-":"")+"1"):(e.im+=parseFloat((s%2?"-":"")+i[o+1]),o++),r=s=0):((r+s===0||isNaN(a))&&lC(),"i"===i[o+1]||"I"===i[o+1]?(e.im+=parseFloat((s%2?"-":"")+a),o++):e.re+=parseFloat((s%2?"-":"")+a),r=s=0))}r+s>0&&lC();break;case"number":e.im=0,e.re=n;break;default:lC()}return isNaN(e.re)||isNaN(e.im),e};function Dt(n,t){if(!(this instanceof Dt))return new Dt(n,t);const e=Kb(n,t);this.re=e.re,this.im=e.im}Dt.prototype={re:0,im:0,sign:function(){const n=IG(this.re,this.im);return new Dt(this.re/n,this.im/n)},add:function(n,t){const e=Kb(n,t),i=this.isInfinite(),r=!(isFinite(e.re)&&isFinite(e.im));return i||r?i&&r?Dt.NAN:Dt.INFINITY:new Dt(this.re+e.re,this.im+e.im)},sub:function(n,t){const e=Kb(n,t),i=this.isInfinite(),r=!(isFinite(e.re)&&isFinite(e.im));return i||r?i&&r?Dt.NAN:Dt.INFINITY:new Dt(this.re-e.re,this.im-e.im)},mul:function(n,t){const e=Kb(n,t),i=this.isInfinite(),r=!(isFinite(e.re)&&isFinite(e.im));return i&&0===e.re&&0===e.im||r&&0===this.re&&0===this.im?Dt.NAN:i||r?Dt.INFINITY:0===e.im&&0===this.im?new Dt(this.re*e.re,0):new Dt(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(n,t){const e=Kb(n,t),i=this.isInfinite(),r=!(isFinite(e.re)&&isFinite(e.im)),s=0===this.re&&0===this.im,o=0===e.re&&0===e.im;if(s&&o||i&&r)return Dt.NAN;if(o||i)return Dt.INFINITY;if(s||r)return Dt.ZERO;if(0===e.im)return new Dt(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){const a=e.re/e.im,l=e.re*a+e.im;return new Dt((this.re*a+this.im)/l,(this.im*a-this.re)/l)}{const a=e.im/e.re,l=e.im*a+e.re;return new Dt((this.re+this.im*a)/l,(this.im-this.re*a)/l)}},pow:function(n,t){const e=Kb(n,t),i=0===this.re&&0===this.im;if(0===e.re&&0===e.im)return Dt.ONE;if(0===e.im){if(0===this.im&&this.re>0)return new Dt(Math.pow(this.re,e.re),0);if(0===this.re)switch((e.re%4+4)%4){case 0:return new Dt(Math.pow(this.im,e.re),0);case 1:return new Dt(0,Math.pow(this.im,e.re));case 2:return new Dt(-Math.pow(this.im,e.re),0);case 3:return new Dt(0,-Math.pow(this.im,e.re))}}if(i&&e.re>0)return Dt.ZERO;const s=Math.atan2(this.im,this.re),o=BG(this.re,this.im);let a=Math.exp(e.re*o-e.im*s),l=e.im*o+e.re*s;return new Dt(a*Math.cos(l),a*Math.sin(l))},sqrt:function(){const n=this.re,t=this.im;if(0===t)return n>=0?new Dt(Math.sqrt(n),0):new Dt(0,Math.sqrt(-n));const e=IG(n,t);let i=Math.sqrt(.5*(e+Math.abs(n))),r=Math.abs(t)/(2*i);return n>=0?new Dt(i,t<0?-r:r):new Dt(r,t<0?-i:i)},exp:function(){const n=Math.exp(this.re);return 0===this.im?new Dt(n,0):new Dt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,t=this.im;return new Dt(Math.expm1(n)*Math.cos(t)+(n=>{const t=Math.sin(.5*n);return-2*t*t})(t),Math.exp(n)*Math.sin(t))},log:function(){const n=this.re,t=this.im;return 0===t&&n>0?new Dt(Math.log(n),0):new Dt(BG(n,t),Math.atan2(t,n))},abs:function(){return IG(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,t=this.im;return new Dt(Math.sin(n)*iu(t),Math.cos(n)*mf(t))},cos:function(){const n=this.re,t=this.im;return new Dt(Math.cos(n)*iu(t),-Math.sin(n)*mf(t))},tan:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)+iu(t);return new Dt(Math.sin(n)/e,mf(t)/e)},cot:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)-iu(t);return new Dt(-Math.sin(n)/e,mf(t)/e)},sec:function(){const n=this.re,t=this.im,e=.5*iu(2*t)+.5*Math.cos(2*n);return new Dt(Math.cos(n)*iu(t)/e,Math.sin(n)*mf(t)/e)},csc:function(){const n=this.re,t=this.im,e=.5*iu(2*t)-.5*Math.cos(2*n);return new Dt(Math.sin(n)*iu(t)/e,-Math.cos(n)*mf(t)/e)},asin:function(){const n=this.re,t=this.im,e=new Dt(t*t-n*n+1,-2*n*t).sqrt(),i=new Dt(e.re-t,e.im+n).log();return new Dt(i.im,-i.re)},acos:function(){const n=this.re,t=this.im,e=new Dt(t*t-n*n+1,-2*n*t).sqrt(),i=new Dt(e.re-t,e.im+n).log();return new Dt(Math.PI/2-i.im,i.re)},atan:function(){const n=this.re,t=this.im;if(0===n){if(1===t)return new Dt(0,1/0);if(-1===t)return new Dt(0,-1/0)}const e=n*n+(1-t)*(1-t),i=new Dt((1-t*t-n*n)/e,-2*n/e).log();return new Dt(-.5*i.im,.5*i.re)},acot:function(){const n=this.re,t=this.im;if(0===t)return new Dt(Math.atan2(1,n),0);const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).atan():new Dt(0!==n?n/0:0,0!==t?-t/0:0).atan()},asec:function(){const n=this.re,t=this.im;if(0===n&&0===t)return new Dt(0,1/0);const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).acos():new Dt(0!==n?n/0:0,0!==t?-t/0:0).acos()},acsc:function(){const n=this.re,t=this.im;if(0===n&&0===t)return new Dt(Math.PI/2,1/0);const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).asin():new Dt(0!==n?n/0:0,0!==t?-t/0:0).asin()},sinh:function(){const n=this.re,t=this.im;return new Dt(mf(n)*Math.cos(t),iu(n)*Math.sin(t))},cosh:function(){const n=this.re,t=this.im;return new Dt(iu(n)*Math.cos(t),mf(n)*Math.sin(t))},tanh:function(){const n=2*this.re,t=2*this.im,e=iu(n)+Math.cos(t);return new Dt(mf(n)/e,Math.sin(t)/e)},coth:function(){const n=2*this.re,t=2*this.im,e=iu(n)-Math.cos(t);return new Dt(mf(n)/e,-Math.sin(t)/e)},csch:function(){const n=this.re,t=this.im,e=Math.cos(2*t)-iu(2*n);return new Dt(-2*mf(n)*Math.cos(t)/e,2*iu(n)*Math.sin(t)/e)},sech:function(){const n=this.re,t=this.im,e=Math.cos(2*t)+iu(2*n);return new Dt(2*iu(n)*Math.cos(t)/e,-2*mf(n)*Math.sin(t)/e)},asinh:function(){const n=this.re,t=this.im;if(0===t){if(0===n)return new Dt(0,0);const s=Math.abs(n),o=Math.log(s+Math.sqrt(s*s+1));return new Dt(n<0?-o:o,0)}const r=new Dt(n*n-t*t+1,2*n*t).sqrt();return new Dt(n+r.re,t+r.im).log()},acosh:function(){const n=this.re,t=this.im;if(0===t){if(n>1)return new Dt(Math.log(n+Math.sqrt(n-1)*Math.sqrt(n+1)),0);if(n<-1){const r=Math.sqrt(n*n-1);return new Dt(Math.log(-n+r),Math.PI)}return new Dt(0,Math.acos(n))}const e=new Dt(n-1,t).sqrt(),i=new Dt(n+1,t).sqrt();return new Dt(n+e.re*i.re-e.im*i.im,t+e.re*i.im+e.im*i.re).log()},atanh:function(){const n=this.re,t=this.im;if(0===t)return 0===n?new Dt(0,0):1===n?new Dt(1/0,0):-1===n?new Dt(-1/0,0):-1<n&&n<1?new Dt(.5*Math.log((1+n)/(1-n)),0):n>1?new Dt(.5*Math.log((n+1)/(n-1)),-Math.PI/2):new Dt(.5*Math.log(-(1+n)/(1-n)),Math.PI/2);const e=1-n,i=1+n,r=e*e+t*t;if(0===r)return new Dt(-1!==n?n/0:0,0!==t?t/0:0);const s=(i*e-t*t)/r,o=(t*e+i*t)/r;return new Dt(BG(s,o)/2,Math.atan2(o,s)/2)},acoth:function(){const n=this.re,t=this.im;if(0===n&&0===t)return new Dt(0,Math.PI/2);const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).atanh():new Dt(0!==n?n/0:0,0!==t?-t/0:0).atanh()},acsch:function(){const n=this.re,t=this.im;if(0===t){if(0===n)return new Dt(1/0,0);const i=1/n;return new Dt(Math.log(i+Math.sqrt(i*i+1)),0)}const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).asinh():new Dt(0!==n?n/0:0,0!==t?-t/0:0).asinh()},asech:function(){const n=this.re,t=this.im;if(this.isZero())return Dt.INFINITY;const e=n*n+t*t;return 0!==e?new Dt(n/e,-t/e).acosh():new Dt(0!==n?n/0:0,0!==t?-t/0:0).acosh()},inverse:function(){if(this.isZero())return Dt.INFINITY;if(this.isInfinite())return Dt.ZERO;const n=this.re,t=this.im,e=n*n+t*t;return new Dt(n/e,-t/e)},conjugate:function(){return new Dt(this.re,-this.im)},neg:function(){return new Dt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Dt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Dt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Dt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,t){const e=Kb(n,t);return Math.abs(e.re-this.re)<=Dt.EPSILON&&Math.abs(e.im-this.im)<=Dt.EPSILON},clone:function(){return new Dt(this.re,this.im)},toString:function(){let n=this.re,t=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Dt.EPSILON&&(n=0),Math.abs(t)<Dt.EPSILON&&(t=0),0===t?e+n:(0!==n?(e+=n,e+=" ",t<0?(t=-t,e+="-"):e+="+",e+=" "):t<0&&(t=-t,e+="-"),1!==t&&(e+=t),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return 0===this.im&&0===this.re},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Dt.ZERO=new Dt(0,0),Dt.ONE=new Dt(1,0),Dt.I=new Dt(0,1),Dt.PI=new Dt(Math.PI,0),Dt.E=new Dt(Math.E,0),Dt.INFINITY=new Dt(1/0,1/0),Dt.NAN=new Dt(NaN,NaN),Dt.EPSILON=1e-15;var cpt=xe("Complex",[],()=>(Object.defineProperty(Dt,"name",{value:"Complex"}),Dt.prototype.constructor=Dt,Dt.prototype.type="Complex",Dt.prototype.isComplex=!0,Dt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Dt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Dt.prototype.format=function(n){var e=this.im,i=this.re,r=qb(this.re,n),s=qb(this.im,n),o=sr(n)?n:n?n.precision:null;if(null!==o){var a=Math.pow(10,-o);Math.abs(i/e)<a&&(i=0),Math.abs(e/i)<a&&(e=0)}return 0===e?r:0===i?1===e?"i":-1===e?"-i":s+"i":e<0?-1===e?r+" - i":r+" - "+s.substring(1)+"i":1===e?r+" + i":r+" + "+s+"i"},Dt.fromPolar=function(n){switch(arguments.length){case 1:var t=arguments[0];if("object"==typeof t)return Dt(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var e=arguments[0],i=arguments[1];if(sr(e)){if(vh(i)&&i.hasBase("ANGLE")&&(i=i.toNumber("rad")),sr(i))return new Dt({r:e,phi:i});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Dt.prototype.valueOf=Dt.prototype.toString,Dt.fromJSON=function(n){return new Dt(n)},Dt.compare=function(n,t){return n.re>t.re?1:n.re<t.re?-1:n.im>t.im?1:n.im<t.im?-1:0},Dt),{isClass:!0});function dpt(n){var t=0,e=1,i=Object.create(null),r=Object.create(null),s=0,o=function(l){var c=r[l];if(c&&(delete i[c],delete r[l],--t,e===c)){if(!t)return s=0,void(e=1);for(;!Object.prototype.hasOwnProperty.call(i,++e););}};return n=Math.abs(n),{hit:function(l){var c=r[l],u=++s;if(i[u]=l,r[l]=u,!c)return++t<=n?void 0:(o(l=i[e]),l);if(delete i[c],e===c)for(;!Object.prototype.hasOwnProperty.call(i,++e););},delete:o,clear:function(){t=s=0,e=1,i=Object.create(null),r=Object.create(null)}}}function RM(n){var{hasher:t,limit:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=e??Number.POSITIVE_INFINITY,t=t??JSON.stringify,function i(){"object"!=typeof i.cache&&(i.cache={values:new Map,lru:dpt(e||Number.POSITIVE_INFINITY)});for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var o=t(r);if(i.cache.values.has(o))return i.cache.lru.hit(o),i.cache.values.get(o);var a=n.apply(n,r);return i.cache.values.set(o,a),i.cache.values.delete(i.cache.lru.hit(o)),a}}var hpt=RM(function(n){return new n(1).exp()},{hasher:Mk}),fpt=RM(function(n){return new n(1).plus(new n(5).sqrt()).div(2)},{hasher:Mk}),FG=RM(function(n){return n.acos(-1)},{hasher:Mk}),ppt=RM(function(n){return FG(n).times(2)},{hasher:Mk});function Mk(n){return n[0].precision}var mpt=Math.PI,Apt=2*Math.PI,gpt=Math.E,_pt=xe("true",[],()=>!0),bpt=xe("false",[],()=>!1),ypt=xe("null",[],()=>null),wpt=bh("Infinity",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(1/0):1/0}),xpt=bh("NaN",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(NaN):NaN}),Cpt=bh("pi",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?FG(e):mpt}),Spt=bh("tau",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?ppt(e):Apt}),Ept=bh("e",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?hpt(e):gpt}),Dpt=bh("phi",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?fpt(e):1.618033988749895}),Mpt=bh("LN2",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(2).ln():Math.LN2}),Tpt=bh("LN10",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(10).ln():Math.LN10}),Npt=bh("LOG2E",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(1).div(new e(2).ln()):Math.LOG2E}),Ipt=bh("LOG10E",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(1).div(new e(10).ln()):Math.LOG10E}),Bpt=bh("SQRT1_2",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e("0.5").sqrt():Math.SQRT1_2}),Fpt=bh("SQRT2",["config","?BigNumber"],n=>{var{config:t,BigNumber:e}=n;return"BigNumber"===t.number?new e(2).sqrt():Math.SQRT2}),Ppt=bh("i",["Complex"],n=>{var{Complex:t}=n;return t.I}),Opt=xe("version",[],()=>"14.9.1");function bh(n,t,e){return xe(n,t,e,{recreateOnConfigChange:!0})}var Rpt=er("speedOfLight","299792458","m s^-1"),kpt=er("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),Lpt=er("planckConstant","6.62607015e-34","J s"),Upt=er("reducedPlanckConstant","1.0545718176461565e-34","J s"),Hpt=er("magneticConstant","1.25663706212e-6","N A^-2"),Vpt=er("electricConstant","8.8541878128e-12","F m^-1"),zpt=er("vacuumImpedance","376.730313667","ohm"),Qpt=er("coulomb","8.987551792261171e9","N m^2 C^-2"),Gpt=er("coulombConstant","8.987551792261171e9","N m^2 C^-2"),jpt=er("elementaryCharge","1.602176634e-19","C"),qpt=er("bohrMagneton","9.2740100783e-24","J T^-1"),Wpt=er("conductanceQuantum","7.748091729863649e-5","S"),$pt=er("inverseConductanceQuantum","12906.403729652257","ohm"),Kpt=er("magneticFluxQuantum","2.0678338484619295e-15","Wb"),Xpt=er("nuclearMagneton","5.0507837461e-27","J T^-1"),Ypt=er("klitzing","25812.807459304513","ohm"),Zpt=er("bohrRadius","5.29177210903e-11","m"),Jpt=er("classicalElectronRadius","2.8179403262e-15","m"),emt=er("electronMass","9.1093837015e-31","kg"),tmt=er("fermiCoupling","1.1663787e-5","GeV^-2"),nmt=Tk("fineStructure",.0072973525693),imt=er("hartreeEnergy","4.3597447222071e-18","J"),rmt=er("protonMass","1.67262192369e-27","kg"),smt=er("deuteronMass","3.3435830926e-27","kg"),omt=er("neutronMass","1.6749271613e-27","kg"),amt=er("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),lmt=er("rydberg","10973731.568160","m^-1"),cmt=er("thomsonCrossSection","6.6524587321e-29","m^2"),umt=Tk("weakMixingAngle",.2229),dmt=Tk("efimovFactor",22.7),hmt=er("atomicMass","1.66053906660e-27","kg"),fmt=er("avogadro","6.02214076e23","mol^-1"),pmt=er("boltzmann","1.380649e-23","J K^-1"),mmt=er("faraday","96485.33212331001","C mol^-1"),Amt=er("firstRadiation","3.7417718521927573e-16","W m^2"),gmt=er("loschmidt","2.686780111798444e25","m^-3"),vmt=er("gasConstant","8.31446261815324","J K^-1 mol^-1"),_mt=er("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),bmt=er("molarVolume","0.022413969545014137","m^3 mol^-1"),ymt=Tk("sackurTetrode",-1.16487052358),wmt=er("secondRadiation","0.014387768775039337","m K"),xmt=er("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),Cmt=er("wienDisplacement","2.897771955e-3","m K"),Smt=er("molarMass","0.99999999965e-3","kg mol^-1"),Emt=er("molarMassC12","11.9999999958e-3","kg mol^-1"),Dmt=er("gravity","9.80665","m s^-2"),Mmt=er("planckLength","1.616255e-35","m"),Tmt=er("planckMass","2.176435e-8","kg"),Nmt=er("planckTime","5.391245e-44","s"),Imt=er("planckCharge","1.87554603778e-18","C"),Bmt=er("planckTemperature","1.416785e+32","K");function er(n,t,e){return xe(n,["config","Unit","BigNumber"],r=>{var{config:s,Unit:o,BigNumber:a}=r,c=new o("BigNumber"===s.number?new a(t):parseFloat(t),e);return c.fixPrefix=!0,c})}function Tk(n,t){return xe(n,["config","BigNumber"],i=>{var{config:r,BigNumber:s}=i;return"BigNumber"===r.number?new s(t):t})}typeof BigInt>"u"&&(BigInt=function(n){if(isNaN(n))throw new Error("");return n});const vi=BigInt(0),Rr=BigInt(1),pc=BigInt(2),kM=BigInt(3),cC=BigInt(5),bd=BigInt(10),On=(BigInt(Number.MAX_SAFE_INTEGER),{s:Rr,n:vi,d:Rr});function lg(n,t){try{n=BigInt(n)}catch{throw f_()}return n*t}function wp(n){return"bigint"==typeof n?n:Math.floor(n)}function aa(n,t){if(t===vi)throw PG();const e=Object.create(Af.prototype);e.s=n<vi?-Rr:Rr;const i=Xb(n=n<vi?-n:n,t);return e.n=n/i,e.d=t/i,e}const Pmt=[pc*pc,pc,pc*pc,pc,pc*pc,pc*kM,pc,pc*kM];function uC(n){const t=Object.create(null);if(n<=Rr)return t[n]=Rr,t;const e=i=>{t[i]=(t[i]||vi)+Rr};for(;n%pc===vi;)e(pc),n/=pc;for(;n%kM===vi;)e(kM),n/=kM;for(;n%cC===vi;)e(cC),n/=cC;for(let i=0,r=pc+cC;r*r<=n;){for(;n%r===vi;)e(r),n/=r;r+=Pmt[i],i=i+1&7}return n>Rr&&e(n),t}const mc=function(n,t){let e=vi,i=Rr,r=Rr;if(null!=n)if(void 0!==t){if("bigint"==typeof n)e=n;else{if(isNaN(n))throw f_();if(n%1!=0)throw Cpe();e=BigInt(n)}if("bigint"==typeof t)i=t;else{if(isNaN(t))throw f_();if(t%1!=0)throw Cpe();i=BigInt(t)}r=e*i}else if("object"==typeof n){if("d"in n&&"n"in n)e=BigInt(n.n),i=BigInt(n.d),"s"in n&&(e*=BigInt(n.s));else if(0 in n)e=BigInt(n[0]),1 in n&&(i=BigInt(n[1]));else{if("bigint"!=typeof n)throw f_();e=n}r=e*i}else if("number"==typeof n){if(isNaN(n))throw f_();if(n<0&&(r=-Rr,n=-n),n%1==0)e=BigInt(n);else{let s=1,o=0,a=1,l=1,c=1,u=1e7;for(n>=1&&(s=10**Math.floor(1+Math.log10(n)),n/=s);a<=u&&c<=u;){let d=(o+l)/(a+c);if(n===d){a+c<=u?(e=o+l,i=a+c):c>a?(e=l,i=c):(e=o,i=a);break}n>d?(o+=l,a+=c):(l+=o,c+=a),a>u?(e=l,i=c):(e=o,i=a)}e=BigInt(e)*BigInt(s),i=BigInt(i)}}else if("string"==typeof n){let s=0,o=vi,a=vi,l=vi,c=Rr,u=Rr,d=n.replace(/_/g,"").match(/\d+|./g);if(null===d)throw f_();if("-"===d[s]?(r=-Rr,s++):"+"===d[s]&&s++,d.length===s+1?a=lg(d[s++],r):"."===d[s+1]||"."===d[s]?("."!==d[s]&&(o=lg(d[s++],r)),s++,(s+1===d.length||"("===d[s+1]&&")"===d[s+3]||"'"===d[s+1]&&"'"===d[s+3])&&(a=lg(d[s],r),c=bd**BigInt(d[s].length),s++),("("===d[s]&&")"===d[s+2]||"'"===d[s]&&"'"===d[s+2])&&(l=lg(d[s+1],r),u=bd**BigInt(d[s+1].length)-Rr,s+=3)):"/"===d[s+1]||":"===d[s+1]?(a=lg(d[s],r),c=lg(d[s+2],Rr),s+=3):"/"===d[s+3]&&" "===d[s+1]&&(o=lg(d[s],r),a=lg(d[s+2],r),c=lg(d[s+4],Rr),s+=5),!(d.length<=s))throw f_();i=c*u,r=e=l+i*o+u*a}else{if("bigint"!=typeof n)throw f_();e=n,r=n,i=Rr}if(i===vi)throw PG();On.s=r<vi?-Rr:Rr,On.n=e<vi?-e:e,On.d=i<vi?-i:i};function Xb(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}}function Af(n,t){if(mc(n,t),!(this instanceof Af))return aa(On.s*On.n,On.d);n=Xb(On.d,On.n),this.s=On.s,this.n=On.n/n,this.d=On.d/n}const PG=function(){return new Error("Division by Zero")},f_=function(){return new Error("Invalid argument")},Cpe=function(){return new Error("Parameters must be integer")};Af.prototype={s:Rr,n:vi,d:Rr,abs:function(){return aa(this.n,this.d)},neg:function(){return aa(-this.s*this.n,this.d)},add:function(n,t){return mc(n,t),aa(this.s*this.n*On.d+On.s*this.d*On.n,this.d*On.d)},sub:function(n,t){return mc(n,t),aa(this.s*this.n*On.d-On.s*this.d*On.n,this.d*On.d)},mul:function(n,t){return mc(n,t),aa(this.s*On.s*this.n*On.n,this.d*On.d)},div:function(n,t){return mc(n,t),aa(this.s*On.s*this.n*On.d,this.d*On.n)},clone:function(){return aa(this.s*this.n,this.d)},mod:function(n,t){if(void 0===n)return aa(this.s*this.n%this.d,Rr);if(mc(n,t),vi===On.n*this.d)throw PG();return aa(this.s*(On.d*this.n)%(On.n*this.d),On.d*this.d)},gcd:function(n,t){return mc(n,t),aa(Xb(On.n,this.n)*Xb(On.d,this.d),On.d*this.d)},lcm:function(n,t){return mc(n,t),On.n===vi&&this.n===vi?aa(vi,Rr):aa(On.n*this.n,Xb(On.n,this.n)*Xb(On.d,this.d))},inverse:function(){return aa(this.s*this.d,this.n)},pow:function(n,t){if(mc(n,t),On.d===Rr)return On.s<vi?aa((this.s*this.d)**On.n,this.n**On.n):aa((this.s*this.n)**On.n,this.d**On.n);if(this.s<vi)return null;let e=uC(this.n),i=uC(this.d),r=Rr,s=Rr;for(let o in e)if("1"!==o){if("0"===o){r=vi;break}if(e[o]*=On.n,e[o]%On.d!==vi)return null;e[o]/=On.d,r*=BigInt(o)**e[o]}for(let o in i)if("1"!==o){if(i[o]*=On.n,i[o]%On.d!==vi)return null;i[o]/=On.d,s*=BigInt(o)**i[o]}return On.s<vi?aa(s,r):aa(r,s)},log:function(n,t){if(mc(n,t),this.s<=vi||On.s<=vi)return null;const e=Object.create(null),i=uC(On.n),r=uC(On.d),s=uC(this.n),o=uC(this.d);for(const c in r)i[c]=(i[c]||vi)-r[c];for(const c in o)s[c]=(s[c]||vi)-o[c];for(const c in i)"1"!==c&&(e[c]=!0);for(const c in s)"1"!==c&&(e[c]=!0);let a=null,l=null;for(const c in e){const u=i[c]||vi,d=s[c]||vi;if(u===vi){if(d!==vi)return null;continue}let f=d,h=u;const p=Xb(f,h);if(f/=p,h/=p,null===a&&null===l)a=f,l=h;else if(f*l!=a*h)return null}return null!==a&&null!==l?aa(a,l):null},equals:function(n,t){return mc(n,t),this.s*this.n*On.d==On.s*On.n*this.d},lt:function(n,t){return mc(n,t),this.s*this.n*On.d<On.s*On.n*this.d},lte:function(n,t){return mc(n,t),this.s*this.n*On.d<=On.s*On.n*this.d},gt:function(n,t){return mc(n,t),this.s*this.n*On.d>On.s*On.n*this.d},gte:function(n,t){return mc(n,t),this.s*this.n*On.d>=On.s*On.n*this.d},compare:function(n,t){mc(n,t);let e=this.s*this.n*On.d-On.s*On.n*this.d;return(vi<e)-(e<vi)},ceil:function(n){return n=bd**BigInt(n||0),aa(wp(this.s*n*this.n/this.d)+(n*this.n%this.d>vi&&this.s>=vi?Rr:vi),n)},floor:function(n){return n=bd**BigInt(n||0),aa(wp(this.s*n*this.n/this.d)-(n*this.n%this.d>vi&&this.s<vi?Rr:vi),n)},round:function(n){return n=bd**BigInt(n||0),aa(wp(this.s*n*this.n/this.d)+this.s*((this.s>=vi?Rr:vi)+pc*(n*this.n%this.d)>this.d?Rr:vi),n)},roundTo:function(n,t){mc(n,t);const e=this.n*On.d,i=this.d*On.n,r=e%i;let s=wp(e/i);return r+r>=i&&s++,aa(this.s*s*On.n,On.d)},divisible:function(n,t){return mc(n,t),On.n!==vi&&this.n*On.d%(On.n*this.d)===vi},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(n=15){let t=this.n,e=this.d,i=function Rmt(n,t){for(;t%pc===vi;t/=pc);for(;t%cC===vi;t/=cC);if(t===Rr)return vi;let e=bd%t,i=1;for(;e!==Rr;i++)if(e=e*bd%t,i>2e3)return vi;return BigInt(i)}(0,e),r=function kmt(n,t,e){let i=Rr,r=function Omt(n,t,e){let i=Rr;for(;t>vi;n=n*n%e,t>>=Rr)t&Rr&&(i=i*n%e);return i}(bd,e,t);for(let s=0;s<300;s++){if(i===r)return BigInt(s);i=i*bd%t,r=r*bd%t}return 0}(0,e,i),s=this.s<vi?"-":"";if(s+=wp(t/e),t%=e,t*=bd,t&&(s+="."),i){for(let o=r;o--;)s+=wp(t/e),t%=e,t*=bd;s+="(";for(let o=i;o--;)s+=wp(t/e),t%=e,t*=bd;s+=")"}else for(let o=n;t&&o--;)s+=wp(t/e),t%=e,t*=bd;return s},toFraction:function(n=!1){let t=this.n,e=this.d,i=this.s<vi?"-":"";if(e===Rr)i+=t;else{const r=wp(t/e);n&&r>vi&&(i+=r,i+=" ",t%=e),i+=t,i+="/",i+=e}return i},toLatex:function(n=!1){let t=this.n,e=this.d,i=this.s<vi?"-":"";if(e===Rr)i+=t;else{const r=wp(t/e);n&&r>vi&&(i+=r,t%=e),i+="\\frac{",i+=t,i+="}{",i+=e,i+="}"}return i},toContinued:function(){let n=this.n,t=this.d;const e=[];for(;t;){e.push(wp(n/t));const i=n%t;n=t,t=i}return e},simplify:function(n=.001){const t=BigInt(Math.ceil(1/n)),e=this.abs(),i=e.toContinued();for(let r=1;r<i.length;r++){let s=aa(i[r-1],Rr);for(let a=r-2;a>=0;a--)s=s.inverse().add(i[a]);let o=s.sub(e);if(o.n*t<o.d)return s.mul(this.s)}return this}};var Hmt=xe("Fraction",[],()=>(Object.defineProperty(Af,"name",{value:"Fraction"}),Af.prototype.constructor=Af,Af.prototype.type="Fraction",Af.prototype.isFraction=!0,Af.prototype.toJSON=function(){return{mathjs:"Fraction",n:String(this.s*this.n),d:String(this.d)}},Af.fromJSON=function(n){return new Af(n)},Af),{isClass:!0}),Qmt=xe("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(t,e,i){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(t,e,i){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0}),qmt=xe("Range",[],()=>{function n(t,e,i){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");var r=null!=t,s=null!=e,o=null!=i;if(r)if(or(t))t=t.toNumber();else if("number"!=typeof t&&!SM(t))throw new TypeError("Parameter start must be a number or bigint");if(s)if(or(e))e=e.toNumber();else if("number"!=typeof e&&!SM(e))throw new TypeError("Parameter end must be a number or bigint");if(o)if(or(i))i=i.toNumber();else if("number"!=typeof i&&!SM(i))throw new TypeError("Parameter step must be a number or bigint");if(this.start=r?parseFloat(t):0,this.end=s?parseFloat(e):0,this.step=o?parseFloat(i):1,o&&hc(this.step,0))throw new Error("Step must not be zero")}return n.prototype.type="Range",n.prototype.isRange=!0,n.parse=function(t){if("string"!=typeof t)return null;var i=t.split(":").map(function(s){return parseFloat(s)});if(i.some(function(s){return isNaN(s)}))return null;switch(i.length){case 2:return new n(i[0],i[1]);case 3:return new n(i[0],i[2],i[1]);default:return null}},n.prototype.clone=function(){return new n(this.start,this.end,this.step)},n.prototype.size=function(){var t=0,i=this.step,s=this.end-this.start;return i_(i)===i_(s)?t=Math.ceil(s/i):0===s&&(t=0),isNaN(t)&&(t=0),[t]},n.prototype.min=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start:this.start+(t-1)*this.step},n.prototype.max=function(){var t=this.size()[0];if(t>0)return this.step>0?this.start+(t-1)*this.step:this.start},n.prototype.forEach=function(t){var e=this.start,i=this.step,r=this.end,s=0;if(i>0)for(;e<r;)t(e,[s],this),e+=i,s++;else if(i<0)for(;e>r;)t(e,[s],this),e+=i,s++},n.prototype.map=function(t){var e=[];return this.forEach(function(i,r,s){e[r[0]]=t(i,r,s)}),e},n.prototype.toArray=function(){var t=[];return this.forEach(function(e,i){t[i[0]]=e}),t},n.prototype.valueOf=function(){return this.toArray()},n.prototype.format=function(t){var e=qb(this.start,t);return 1!==this.step&&(e+=":"+qb(this.step,t)),e+":"+qb(this.end,t)},n.prototype.toString=function(){return this.format()},n.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},n.fromJSON=function(t){return new n(t.start,t.end,t.step)},n},{isClass:!0}),Kmt=xe("ResultSet",[],()=>{function n(t){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return n.prototype.type="ResultSet",n.prototype.isResultSet=!0,n.prototype.valueOf=function(){return this.entries},n.prototype.toString=function(){return"["+this.entries.map(String).join(", ")+"]"},n.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},n.fromJSON=function(t){return new n(t.entries)},n},{isClass:!0}),Zmt=xe("DenseMatrix",["Matrix"],n=>{var{Matrix:t}=n;function e(u,d){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!eu(d))throw new Error("Invalid datatype: "+d);if(Ci(u))"DenseMatrix"===u.type?(this._data=Ji(u._data),this._size=Ji(u._size),this._datatype=d||u._datatype):(this._data=u.toArray(),this._size=u.size(),this._datatype=d||u._datatype);else if(u&&io(u.data)&&io(u.size))this._data=u.data,this._size=u.size,ghe(this._data,this._size),this._datatype=d||u.datatype;else if(io(u))this._data=c(u),this._size=zi(this._data),ghe(this._data,this._size),this._datatype=d;else{if(u)throw new TypeError("Unsupported type of data ("+ro(u)+")");this._data=[],this._size=[0],this._datatype=d}}function a(u,d,f){if(0===d.length){for(var h=u._data;io(h);)h=h[0];return h}return u._size=d.slice(0),u._data=nC(u._data,u._size,f),u}function l(u,d,f){for(var h=u._size.slice(0),p=!1;h.length<d.length;)h.push(0),p=!0;for(var m=0,g=d.length;m<g;m++)d[m]>h[m]&&(h[m]=d[m],p=!0);p&&a(u,h,f)}function c(u){return Ci(u)?c(u.valueOf()):io(u)?u.map(c):u}return(e.prototype=new t).createDenseMatrix=function(u,d){return new e(u,d)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return $R(this._data,ro)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(u,d){return new e(u,d)},e.prototype.subset=function(u,d,f){switch(arguments.length){case 1:return function i(u,d){if(!VR(d))throw new TypeError("Invalid index");if(d.isScalar())return u.get(d.min());var h=d.size();if(h.length!==u._size.length)throw new Ar(h.length,u._size.length);for(var p=d.min(),m=d.max(),g=0,A=u._size.length;g<A;g++)bo(p[g],u._size[g]),bo(m[g],u._size[g]);var _=new e([]),v=function r(u,d){var f=d.size().length-1,h=Array(f);return{data:function p(m){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=d.dimension(g);return h[g]=A.size()[0],g<f?A.map(_=>(bo(_,m.length),p(m[_],g+1))).valueOf():A.map(_=>(bo(_,m.length),m[_])).valueOf()}(u),size:h}}(u._data,d);return _._size=v.size,_._datatype=u._datatype,_._data=v.data,_}(this,u);case 2:case 3:return function s(u,d,f,h){if(!d||!0!==d.isIndex)throw new TypeError("Invalid index");var g,p=d.size(),m=d.isScalar();if(Ci(f)?(g=f.size(),f=f.valueOf()):g=zi(f),m){if(0!==g.length)throw new TypeError("Scalar expected");u.set(d.min(),f,h)}else{if(!rg(g,p))try{g=zi(f=s_(0===g.length?[f]:f,p))}catch{}if(p.length<u._size.length)throw new Ar(p.length,u._size.length,"<");if(g.length<p.length){for(var A=0,_=0;1===p[A]&&1===g[A];)A++;for(;1===p[A];)_++,A++;f=bhe(f,p.length,_,g)}if(!rg(p,g))throw new Ar(p,g,">");l(u,d.max().map(function(b){return b+1}),h),function o(u,d,f){var h=d.size().length-1;!function p(m,g){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;d.dimension(A).forEach(A<h?(v,b)=>{bo(v,m.length),p(m[v],g[b[0]],A+1)}:(v,b)=>{bo(v,m.length),m[v]=g[b[0]]})}(u,f)}(u._data,d,f)}return u}(this,u,d,f);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(u){return KR(this._data,u)},e.prototype.set=function(u,d,f){if(!io(u))throw new TypeError("Array expected");if(u.length<this._size.length)throw new Ar(u.length,this._size.length,"<");var h,p,m;l(this,u.map(function(_){return _+1}),f);var A=this._data;for(h=0,p=u.length-1;h<p;h++)bo(m=u[h],A.length),A=A[m];return bo(m=u[u.length-1],A.length),A[m]=d,this},e.prototype.resize=function(u,d,f){if(!_h(u))throw new TypeError("Array or Matrix expected");var h=u.valueOf().map(m=>Array.isArray(m)&&1===m.length?m[0]:m);return a(f?this.clone():this,h,d)},e.prototype.reshape=function(u,d){var f=d?this.clone():this;f._data=sG(f._data,u);var h=f._size.reduce((p,m)=>p*m);return f._size=oG(u,h),f},e.prototype.clone=function(){return new e({data:Ji(this._data),size:Ji(this._size),datatype:this._datatype})},e.prototype.size=function(){return this._size.slice(0)},e.prototype.map=function(u){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=this,p=h._size.length-1;if(p<0)return h.clone();var m=Wb(u,h,"map",f),g=m.fn,A=h.create(void 0,h._datatype);if(A._size=h._size,f||m.isUnary)return A._data=function C(D){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=Array(D.length);if(S<p)for(var M=0;M<D.length;M++)T[M]=C(D[M],S+1);else for(var F=0;F<D.length;F++)T[F]=g(D[F]);return T}(h._data),A;if(0===p){for(var _=h.valueOf(),v=Array(_.length),b=0;b<_.length;b++)v[b]=g(_[b],[b],h);return A._data=v,A}var w=[];return A._data=function y(D){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=Array(D.length);if(S<p)for(var M=0;M<D.length;M++)w[S]=M,T[M]=y(D[M],S+1);else for(var F=0;F<D.length;F++)w[S]=F,T[F]=g(D[F],w.slice(),h);return T}(h._data),A},e.prototype.forEach=function(u){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],h=this,p=h._size.length-1;if(!(p<0)){var m=Wb(u,h,"map",f),g=m.fn;if(f||m.isUnary)!function b(w){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(y<p)for(var C=0;C<w.length;C++)b(w[C],y+1);else for(var D=0;D<w.length;D++)g(w[D])}(h._data);else if(0!==p){var _=[];!function v(w){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(y<p)for(var C=0;C<w.length;C++)_[y]=C,v(w[C],y+1);else for(var D=0;D<w.length;D++)_[y]=D,g(w[D],_.slice(),h)}(h._data)}else for(var A=0;A<h._data.length;A++)g(h._data[A],[A],h)}},e.prototype[Symbol.iterator]=function*(){var u=this._size.length-1;if(!(u<0)){if(0===u){for(var d=0;d<this._data.length;d++)yield{value:this._data[d],index:[d]};return}for(var f=Array(u+1).fill(0),h=this._size.reduce((_,v)=>_*v,1),p=0;p<h;p++){for(var m=this._data,g=0;g<u;g++)m=m[f[g]];yield{value:m[f[u]],index:f.slice()};for(var A=u;A>=0&&(f[A]++,!(f[A]<this._size[A]));A--)f[A]=0}}},e.prototype.rows=function(){var u=[];if(2!==this.size().length)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var h of f)u.push(new e([h],this._datatype));return u},e.prototype.columns=function(){var u=this,d=[],f=this.size();if(2!==f.length)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,p=function(A){var _=h.map(v=>[v[A]]);d.push(new e(_,u._datatype))},m=0;m<f[1];m++)p(m);return d},e.prototype.toArray=function(){return Ji(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(u){return Cr(this._data,u)},e.prototype.toString=function(){return Cr(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(u){if(u){if(or(u)&&(u=u.toNumber()),!sr(u)||!ai(u))throw new TypeError("The parameter k must be an integer number")}else u=0;for(var d=u>0?u:0,f=u<0?-u:0,m=Math.min(this._size[0]-f,this._size[1]-d),g=[],A=0;A<m;A++)g[A]=this._data[A+f][A+d];return new e({data:g,size:[m],datatype:this._datatype})},e.diagonal=function(u,d,f,h){if(!io(u))throw new TypeError("Array expected, size parameter");if(2!==u.length)throw new Error("Only two dimensions matrix are supported");if(u=u.map(function(C){if(or(C)&&(C=C.toNumber()),!sr(C)||!ai(C)||C<1)throw new Error("Size values must be positive integers");return C}),f){if(or(f)&&(f=f.toNumber()),!sr(f)||!ai(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v,p=f>0?f:0,m=f<0?-f:0,g=u[0],A=u[1],_=Math.min(g-m,A-p);if(io(d)){if(d.length!==_)throw new Error("Invalid value array length");v=function(D){return d[D]}}else if(Ci(d)){var b=d.size();if(1!==b.length||b[0]!==_)throw new Error("Invalid matrix length");v=function(D){return d.get([D])}}else v=function(){return d};h||(h=or(v(0))?v(0).mul(0):0);var w=[];if(u.length>0){w=nC(w,u,h);for(var y=0;y<_;y++)w[y+m][y+p]=v(y)}return new e({data:w,size:[g,A]})},e.fromJSON=function(u){return new e(u)},e.prototype.swapRows=function(u,d){if(!(sr(u)&&ai(u)&&sr(d)&&ai(d)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return bo(u,this._size[0]),bo(d,this._size[0]),e._swapRows(u,d,this._data),this},e._swapRows=function(u,d,f){var h=f[u];f[u]=f[d],f[d]=h},e},{isClass:!0}),tAt=xe("replacer",[],()=>function(t,e){return"number"!=typeof e||isFinite(e)&&!isNaN(e)?"bigint"==typeof e?{mathjs:"bigint",value:String(e)}:e:{mathjs:"number",value:String(e)}}),Spe=function(){return Spe=pk.create,pk},iAt=xe("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(t){var{BigNumber:e,Complex:i,DenseMatrix:r,Fraction:s}=t,o=Spe();return o.clear(),o.addTypes([{name:"number",test:sr},{name:"Complex",test:sg},{name:"BigNumber",test:or},{name:"bigint",test:SM},{name:"Fraction",test:EM},{name:"Unit",test:vh},{name:"identifier",test:a=>eu&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(a)},{name:"string",test:eu},{name:"Chain",test:nhe},{name:"Array",test:io},{name:"Matrix",test:Ci},{name:"DenseMatrix",test:HR},{name:"SparseMatrix",test:Gb},{name:"Range",test:ZQ},{name:"Index",test:VR},{name:"boolean",test:Uit},{name:"ResultSet",test:Hit},{name:"Help",test:ehe},{name:"function",test:the},{name:"Date",test:Vit},{name:"RegExp",test:zit},{name:"null",test:Qit},{name:"undefined",test:Git},{name:"AccessorNode",test:jb},{name:"ArrayNode",test:hf},{name:"AssignmentNode",test:jit},{name:"BlockNode",test:qit},{name:"ConditionalNode",test:Wit},{name:"ConstantNode",test:Jr},{name:"FunctionNode",test:t_},{name:"FunctionAssignmentNode",test:MM},{name:"IndexNode",test:Zx},{name:"Node",test:Ks},{name:"ObjectNode",test:zR},{name:"OperatorNode",test:tl},{name:"ParenthesisNode",test:og},{name:"RangeNode",test:$it},{name:"RelationalNode",test:Kit},{name:"SymbolNode",test:dc},{name:"Map",test:Yx},{name:"Object",test:DM}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(e||Nk(l),function crt(n){return n.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new e(l)}},{from:"number",to:"Complex",convert:function(l){return i||Ik(l),new i(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return i||Ik(l),new i(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return e||Nk(l),new e(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return s||Bk(l),new s(l)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return i||Ik(l),new i(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){s||Bk(l);var c=new s(l);if(c.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(l){var c=Number(l);if(isNaN(c))throw new Error('Cannot convert "'+l+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(l){e||Nk(l);try{return new e(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){s||Bk(l);try{return new s(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){i||Ik(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return e||Nk(l),new e(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return s||Bk(l),new s(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return r||function rAt(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&_h(l[0])&&c.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw d.data=u.data,d}throw u},o.onMismatch=(a,l,c)=>{var u=o.createError(a,l,c);if(["wrongType","mismatch"].includes(u.data.category)&&1===l.length&&_h(l[0])&&c.some(f=>!f.params.includes(","))){var d=new TypeError("Function '".concat(a,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(a,")'."));throw d.data=u.data,d}throw u},o});function Nk(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function Ik(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function Bk(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}var yd="number",cg="number, number";function Epe(n){return Math.abs(n)}function Dpe(n,t){return n+t}function Mpe(n,t){return n-t}function Tpe(n,t){return n*t}function Npe(n){return-n}function Ipe(n){return n}function LM(n){return srt(n)}function Bpe(n){return n*n*n}function Fpe(n){return Math.exp(n)}function Ppe(n){return ort(n)}function Ope(n,t){if(!ai(n)||!ai(t))throw new Error("Parameters in function lcm must be integer numbers");if(0===n||0===t)return 0;for(var e,i=n*t;0!==t;)t=n%(e=t),n=e;return Math.abs(i/n)}function Rpe(n,t){return t?Math.log(n)/Math.log(t):Math.log(n)}function Fk(n){return rrt(n)}function OG(n){return irt(n)}function kpe(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=t<0;if(e&&(t=-t),0===t)throw new Error("Root must be non-zero");if(n<0&&Math.abs(t)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===n)return e?1/0:0;if(!isFinite(n))return e?0:n;var i=Math.pow(Math.abs(n),1/t);return i=n<0?-i:i,e?1/i:i}function RG(n){return i_(n)}function Lpe(n){return n*n}function Upe(n,t){var e,i,r,s=0,o=1,a=1,l=0;if(!ai(n)||!ai(t))throw new Error("Parameters in function xgcd must be integer numbers");for(;t;)r=n-(i=Math.floor(n/t))*t,e=s,s=o-i*s,o=e,e=a,a=l-i*a,l=e,n=t,t=r;return n<0?[-n,-o,-l]:[n,n?o:0,l]}function Hpe(n,t){return n*n<1&&t===1/0||n*n>1&&t===-1/0?0:Math.pow(n,t)}function UM(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!ai(t)||t<0||t>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(ohe(n,t))}Epe.signature=yd,Dpe.signature=cg,Mpe.signature=cg,Tpe.signature=cg,Npe.signature=yd,Ipe.signature=yd,LM.signature=yd,Bpe.signature=yd,Fpe.signature=yd,Ppe.signature=yd,Ope.signature=cg,Fk.signature=yd,OG.signature=yd,RG.signature=yd,Lpe.signature=yd,Upe.signature=cg,Hpe.signature=cg;var hAt=xe("abs",["typed"],n=>{var{typed:t}=n;return t("abs",{number:Epe,"Complex | BigNumber | Fraction | Unit":e=>e.abs(),bigint:e=>e<0n?-e:e,"Array | Matrix":t.referToSelf(e=>i=>ar(i,e,!0))})}),pAt=xe("acos",["typed","config","Complex"],n=>{var{typed:t,config:e,Complex:i}=n;return t("acos",{number:function(s){return s>=-1&&s<=1||e.predictable?Math.acos(s):new i(s,0).acos()},Complex:function(s){return s.acos()},BigNumber:function(s){return s.acos()}})}),la="number";function Qpe(n){return urt(n)}function Gpe(n){return Math.atan(1/n)}function jpe(n){return isFinite(n)?(Math.log((n+1)/n)+Math.log(n/(n-1)))/2:0}function qpe(n){return Math.asin(1/n)}function Wpe(n){var t=1/n;return Math.log(t+Math.sqrt(t*t+1))}function $pe(n){return Math.acos(1/n)}function Kpe(n){var t=1/n,e=Math.sqrt(t*t-1);return Math.log(e+t)}function Xpe(n){return drt(n)}function Ype(n){return hrt(n)}function Zpe(n){return 1/Math.tan(n)}function Jpe(n){var t=Math.exp(2*n);return(t+1)/(t-1)}function eme(n){return 1/Math.sin(n)}function tme(n){return 0===n?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(n)-Math.exp(-n)))*i_(n)}function nme(n){return 1/Math.cos(n)}function ime(n){return 2/(Math.exp(n)+Math.exp(-n))}function rme(n){return frt(n)}Qpe.signature=la,Gpe.signature=la,jpe.signature=la,qpe.signature=la,Wpe.signature=la,$pe.signature=la,Kpe.signature=la,Xpe.signature=la,Ype.signature=la,Zpe.signature=la,Jpe.signature=la,eme.signature=la,tme.signature=la,nme.signature=la,ime.signature=la,rme.signature=la;var EAt=xe("acot",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("acot",{number:Gpe,Complex:function(r){return r.acot()},BigNumber:function(r){return new e(1).div(r).atan()}})}),MAt=xe("acsc",["typed","config","Complex","BigNumber"],n=>{var{typed:t,config:e,Complex:i,BigNumber:r}=n;return t("acsc",{number:function(o){return o<=-1||o>=1||e.predictable?qpe(o):new i(o,0).acsc()},Complex:function(o){return o.acsc()},BigNumber:function(o){return new r(1).div(o).asin()}})}),NAt=xe("addScalar",["typed"],n=>{var{typed:t}=n;return t("addScalar",{"number, number":Dpe,"Complex, Complex":function(i,r){return i.add(r)},"BigNumber, BigNumber":function(i,r){return i.plus(r)},"bigint, bigint":function(i,r){return i+r},"Fraction, Fraction":function(i,r){return i.add(r)},"Unit, Unit":t.referToSelf(e=>(i,r)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var s=i.clone();return s.value=t.find(e,[s.valueType(),r.valueType()])(s.value,r.value),s.fixPrefix=!1,s})})}),BAt=xe("arg",["typed"],n=>{var{typed:t}=n;return t("arg",{number:function(i){return Math.atan2(0,i)},BigNumber:function(i){return i.constructor.atan2(0,i)},Complex:function(i){return i.arg()},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),PAt=xe("asech",["typed","config","Complex","BigNumber"],n=>{var{typed:t,config:e,Complex:i,BigNumber:r}=n;return t("asech",{number:function(o){if(o<=1&&o>=-1||e.predictable){var a=1/o;if(a>0||e.predictable)return Kpe(o);var l=Math.sqrt(a*a-1);return new i(Math.log(l-a),Math.PI)}return new i(o,0).asech()},Complex:function(o){return o.asech()},BigNumber:function(o){return new r(1).div(o).acosh()}})}),kAt=xe("asinh",["typed"],n=>{var{typed:t}=n;return t("asinh",{number:Xpe,Complex:function(i){return i.asinh()},BigNumber:function(i){return i.asinh()}})}),HAt=xe("atan",["typed"],n=>{var{typed:t}=n;return t("atan",{number:function(i){return Math.atan(i)},Complex:function(i){return i.atan()},BigNumber:function(i){return i.atan()}})}),zAt=xe("atanh",["typed","config","Complex"],n=>{var{typed:t,config:e,Complex:i}=n;return t("atanh",{number:function(s){return s<=1&&s>=-1||e.predictable?Ype(s):new i(s,0).atanh()},Complex:function(s){return s.atanh()},BigNumber:function(s){return s.atanh()}})}),jAt=xe("bigint",["typed"],n=>{var{typed:t}=n,e=t("bigint",{"":function(){return 0n},bigint:function(r){return r},number:function(r){return BigInt(r.toFixed())},BigNumber:function(r){return BigInt(r.round().toString())},Fraction:function(r){return BigInt(r.valueOf().toFixed())},"string | boolean":function(r){return BigInt(r)},null:function(r){return 0n},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))});return e.fromJSON=function(i){return BigInt(i.value)},e}),WAt=xe("bitNot",["typed"],n=>{var{typed:t}=n;return t("bitNot",{number:Sfe,BigNumber:FM,bigint:e=>~e,"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),KAt=xe("boolean",["typed"],n=>{var{typed:t}=n;return t("boolean",{"":function(){return!1},boolean:function(i){return i},number:function(i){return!!i},null:function(i){return!1},BigNumber:function(i){return!i.isZero()},string:function(i){var r=i.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var s=Number(i);if(""!==i&&!isNaN(s))return!!s;throw new Error('Cannot convert "'+i+'" to a boolean')},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),YAt=xe("clone",["typed"],n=>{var{typed:t}=n;return t("clone",{any:Ji})});function ug(n,t){if(t<n)return 1;if(t===n)return t;var e=t+n>>1;return ug(n,e)*ug(e+1,t)}function pme(n,t){if(!ai(n)||n<0)throw new TypeError("Positive integer value expected in function combinations");if(!ai(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(t>n)throw new TypeError("k must be less than or equal to n");for(var e=n-t,i=1,s=2,o=t<e?t:e,a=t<e?e+1:t+1;a<=n;++a)for(i*=a;s<=o&&i%s==0;)i/=s,++s;return s<=o&&(i/=ug(s,o)),i}pme.signature="number, number";var mme="combinations",JAt=xe(mme,["typed"],n=>{var{typed:t}=n;return t(mme,{"number, number":pme,"BigNumber, BigNumber":function(i,r){var o,a,s=i.constructor,l=i.minus(r),c=new s(1);if(!Ame(i)||!Ame(r))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(i))throw new TypeError("k must be less than n in function combinations");if(o=c,r.lt(l))for(a=c;a.lte(l);a=a.plus(c))o=o.times(r.plus(a)).dividedBy(a);else for(a=c;a.lte(r);a=a.plus(c))o=o.times(l.plus(a)).dividedBy(a);return o}})});function Ame(n){return n.isInteger()&&n.gte(0)}var ngt=xe("complex",["typed","Complex"],n=>{var{typed:t,Complex:e}=n;return t("complex",{"":function(){return e.ZERO},number:function(r){return new e(r,0)},"number, number":function(r,s){return new e(r,s)},"BigNumber, BigNumber":function(r,s){return new e(r.toNumber(),s.toNumber())},Fraction:function(r){return new e(r.valueOf(),0)},Complex:function(r){return r.clone()},string:function(r){return e(r)},null:function(r){return e(0)},Object:function(r){if("re"in r&&"im"in r)return new e(r.re,r.im);if("r"in r&&"phi"in r||"abs"in r&&"arg"in r)return new e(r);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),rgt=xe("conj",["typed"],n=>{var{typed:t}=n;return t("conj",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.conjugate(),Unit:t.referToSelf(e=>i=>new i.constructor(e(i.toNumeric()),i.formatUnits())),"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),dC=xe("trigUnit",["typed"],n=>{var{typed:t}=n;return{Unit:t.referToSelf(e=>i=>{if(!i.hasBase(i.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return t.find(e,i.valueType())(i.value)})}}),ogt=xe("cos",["typed"],n=>{var{typed:t}=n,e=dC({typed:t});return t("cos",{number:Math.cos,"Complex | BigNumber":i=>i.cos()},e)}),lgt=xe("cot",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("cot",{number:Zpe,Complex:r=>r.cot(),BigNumber:r=>new e(1).div(r.tan())},dC({typed:t}))}),ugt=xe("csc",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("csc",{number:eme,Complex:r=>r.csc(),BigNumber:r=>new e(1).div(r.sin())},dC({typed:t}))}),hgt=xe("cube",["typed"],n=>{var{typed:t}=n;return t("cube",{number:Bpe,Complex:function(i){return i.mul(i).mul(i)},BigNumber:function(i){return i.times(i).times(i)},bigint:function(i){return i*i*i},Fraction:function(i){return i.pow(3)},Unit:function(i){return i.pow(3)}})});function gf(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e-9,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(i<0)throw new Error("Absolute tolerance must be at least 0");return!n.isNaN()&&!t.isNaN()&&(n.isFinite()&&t.isFinite()?!!n.eq(t)||n.minus(t).abs().lte(n.constructor.max(n.constructor.max(n.abs(),t.abs()).mul(e),i)):n.eq(t))}var hC=xe("compareUnits",["typed"],n=>{var{typed:t}=n;return{"Unit, Unit":t.referToSelf(e=>(i,r)=>{if(!i.equalBase(r))throw new Error("Cannot compare units with different base");return t.find(e,[i.valueType(),r.valueType()])(i.value,r.value)})}}),Pk="equalScalar",mgt=xe(Pk,["typed","config"],n=>{var{typed:t,config:e}=n,i=hC({typed:t});return t(Pk,{"boolean, boolean":function(s,o){return s===o},"number, number":function(s,o){return hc(s,o,e.relTol,e.absTol)},"BigNumber, BigNumber":function(s,o){return s.eq(o)||gf(s,o,e.relTol,e.absTol)},"bigint, bigint":function(s,o){return s===o},"Fraction, Fraction":function(s,o){return s.equals(o)},"Complex, Complex":function(s,o){return function fgt(n,t,e,i){return hc(n.re,t.re,e,i)&&hc(n.im,t.im,e,i)}(s,o,e.relTol,e.absTol)}},i)}),vgt=(xe(Pk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Pk,{"number, number":function(r,s){return hc(r,s,e.relTol,e.absTol)}})}),xe("erf",["typed"],n=>{var{typed:t}=n;return t("name",{number:function(o){var a=Math.abs(o);return a>=ygt?i_(o):a<=_gt?i_(o)*function e(s){var c,o=s*s,a=dg[0][4]*o,l=o;for(c=0;c<3;c+=1)a=(a+dg[0][c])*o,l=(l+fC[0][c])*o;return s*(a+dg[0][3])/(l+fC[0][3])}(a):a<=4?i_(o)*(1-function i(s){var l,o=dg[1][8]*s,a=s;for(l=0;l<7;l+=1)o=(o+dg[1][l])*s,a=(a+fC[1][l])*s;var c=(o+dg[1][7])/(a+fC[1][7]),u=parseInt(16*s)/16,d=(s-u)*(s+u);return Math.exp(-u*u)*Math.exp(-d)*c}(a)):i_(o)*(1-function r(s){var c,o=1/(s*s),a=dg[2][5]*o,l=o;for(c=0;c<4;c+=1)a=(a+dg[2][c])*o,l=(l+fC[2][c])*o;var u=o*(a+dg[2][4])/(l+fC[2][4]);u=(bgt-u)/s;var d=(s-(o=parseInt(16*s)/16))*(s+o);return Math.exp(-o*o)*Math.exp(-d)*u}(a))},"Array | Matrix":t.referToSelf(s=>o=>ar(o,s))})})),_gt=.46875,bgt=.5641895835477563,dg=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],fC=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],ygt=Math.pow(2,53),xgt=xe("exp",["typed"],n=>{var{typed:t}=n;return t("exp",{number:Fpe,Complex:function(i){return i.exp()},BigNumber:function(i){return i.exp()}})}),Sgt=xe("expm1",["typed","Complex"],n=>{var{typed:t,Complex:e}=n;return t("expm1",{number:Ppe,Complex:function(r){var s=Math.exp(r.re);return new e(s*Math.cos(r.im)-1,s*Math.sin(r.im))},BigNumber:function(r){return r.exp().minus(1)}})}),Dgt=xe("flatten",["typed"],n=>{var{typed:t}=n;return t("flatten",{Array:function(i){return ps(i)},Matrix:function(i){return i.create(ps(i.valueOf(),!0),i.datatype())}})}),Tgt=xe("format",["typed"],n=>{var{typed:t}=n;return t("format",{any:Cr,"any, Object | function | number | BigNumber":Cr})}),Eme="getMatrixDataType",Igt=xe(Eme,["typed"],n=>{var{typed:t}=n;return t(Eme,{Array:function(i){return $R(i,ro)},Matrix:function(i){return i.getDataType()}})}),Fgt=xe("hex",["typed","format"],n=>{var{typed:t,format:e}=n;return t("hex",{"number | BigNumber":function(r){return e(r,{notation:"hex"})},"number | BigNumber, number | BigNumber":function(r,s){return e(r,{notation:"hex",wordSize:s})}})}),Ogt=xe("im",["typed"],n=>{var{typed:t}=n;return t("im",{number:()=>0,"BigNumber | Fraction":e=>e.mul(0),Complex:e=>e.im,"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),kgt=xe("isInteger",["typed"],n=>{var{typed:t}=n;return t("isInteger",{number:ai,BigNumber:function(i){return i.isInt()},bigint:function(i){return!0},Fraction:function(i){return 1n===i.d},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),HM="number";function Nme(n){return n<0}function Ime(n){return n>0}function Bme(n){return Number.isNaN(n)}Nme.signature=HM,Ime.signature=HM,Bme.signature=HM;var Fme="isNegative",Vgt=xe(Fme,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Fme,{number:i=>!hc(i,0,e.relTol,e.absTol)&&Nme(i),BigNumber:i=>!gf(i,new i.constructor(0),e.relTol,e.absTol)&&i.isNeg()&&!i.isZero()&&!i.isNaN(),bigint:i=>i<0n,Fraction:i=>i.s<0n,Unit:t.referToSelf(i=>r=>t.find(i,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),Pme="isPositive",Qgt=xe(Pme,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Pme,{number:i=>!hc(i,0,e.relTol,e.absTol)&&Ime(i),BigNumber:i=>!(gf(i,new i.constructor(0),e.relTol,e.absTol)||i.isNeg()||i.isZero()||i.isNaN()),bigint:i=>i>0n,Fraction:i=>i.s>0n&&i.n>0n,Unit:t.referToSelf(i=>r=>t.find(i,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),jgt=xe("isZero",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return t("isZero",{"number | BigNumber | Complex | Fraction":i=>e(i,0),bigint:i=>0n===i,Unit:t.referToSelf(i=>r=>t.find(i,r.valueType())(r.value)),"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})});function Ok(n){var t;if(ai(n))return n<=0?isFinite(n)?1/0:NaN:n>171?1/0:ug(1,n-1);if(n<.5)return Math.PI/(Math.sin(Math.PI*n)*Ok(1-n));if(n>=171.35)return 1/0;if(n>85){var e=n*n,i=e*n,r=i*n,s=r*n;return Math.sqrt(2*Math.PI/n)*Math.pow(n/Math.E,n)*(1+1/(12*n)+1/(288*e)-139/(51840*i)-571/(2488320*r)+163879/(209018880*s)+5246819/(75246796800*s*n))}--n,t=pC[0];for(var o=1;o<pC.length;++o)t+=pC[o]/(n+o);var a=n+Rme+.5;return Math.sqrt(2*Math.PI)*Math.pow(a,n+.5)*Math.exp(-a)*t}Ok.signature="number";var Rme=4.7421875,pC=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],kme=.9189385332046728,Lme=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Rk(n){if(n<0)return NaN;if(0===n)return 1/0;if(!isFinite(n))return n;if(n<.5)return Math.log(Math.PI/Math.sin(Math.PI*n))-Rk(1-n);for(var t=5+(n-=1)+.5,e=Lme[0],i=6;i>=1;i--)e+=Lme[i]/(n+i);return kme+(n+.5)*Math.log(t)-t+Math.log(e)}Rk.signature="number";var Kgt=xe("lgamma",["Complex","typed"],n=>{var{Complex:t,typed:e}=n,s=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return e("lgamma",{number:Rk,Complex:function o(c){if(c.isNaN())return new t(NaN,NaN);if(0===c.im)return new t(Rk(c.re),0);if(c.re>=7||Math.abs(c.im)>=7)return a(c);if(c.re<=.1){var h=function prt(n,t){return(n>0||!(n<0)&&1/n==1/0)^(t>0||!(t<0)&&1/t==1/0)?-n:n}(6.283185307179586,c.im)*Math.floor(.5*c.re+.25),p=c.mul(Math.PI).sin().log(),m=o(new t(1-c.re,-c.im));return new t(1.1447298858494002,h).sub(p).sub(m)}return c.im>=0?l(c):l(c.conjugate()).conjugate()},BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(c){for(var u=c.sub(.5).mul(c.log()).sub(c).add(kme),d=new t(1,0).div(c),f=d.div(c),h=s[0],p=s[1],m=2*f.re,g=f.re*f.re+f.im*f.im,A=2;A<8;A++){var _=p;p=-g*h+s[A],h=m*h+_}var v=d.mul(f.mul(h).add(p));return u.add(v)}function l(c){var u=0,d=0,f=c;for(c=c.add(1);c.re<=7;){var h=(f=f.mul(c)).im<0?1:0;0!==h&&0===d&&u++,d=h,c=c.add(1)}return a(c).sub(f.log()).sub(new t(0,2*u*Math.PI*1))}});function kG(n,t,e,i){return function(r){if(r>0||e.predictable){if(r<=0)return NaN;var s=r.toString(16),o=s.substring(0,15);return n*(s.length-o.length)+t(+("0x"+o))}return i(r.toNumber())}}var Xgt=["typed","config","Complex"],Ygt=Fk(16),Zgt=xe("log10",Xgt,n=>{var{typed:t,config:e,Complex:i}=n;function r(o){return o.log().div(Math.LN10)}function s(o){return r(new i(o,0))}return t("log10",{number:function(a){return a>=0||e.predictable?Fk(a):s(a)},bigint:kG(Ygt,Fk,e,s),Complex:r,BigNumber:function(a){return!a.isNegative()||e.predictable?a.log():s(a.toNumber())},"Array | Matrix":t.referToSelf(o=>a=>ar(a,o))})}),evt=xe("log2",["typed","config","Complex"],n=>{var{typed:t,config:e,Complex:i}=n;function r(o){return s(new i(o,0))}return t("log2",{number:function(a){return a>=0||e.predictable?OG(a):r(a)},bigint:kG(4,OG,e,r),Complex:s,BigNumber:function(a){return!a.isNegative()||e.predictable?a.log(2):r(a.toNumber())},"Array | Matrix":t.referToSelf(o=>a=>ar(a,o))});function s(o){var a=Math.sqrt(o.re*o.re+o.im*o.im);return new i(Math.log2?Math.log2(a):Math.log(a)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),ivt=xe("multiplyScalar",["typed"],n=>{var{typed:t}=n;return t("multiplyScalar",{"number, number":Tpe,"Complex, Complex":function(i,r){return i.mul(r)},"BigNumber, BigNumber":function(i,r){return i.times(r)},"bigint, bigint":function(i,r){return i*r},"Fraction, Fraction":function(i,r){return i.mul(r)},"number | Fraction | BigNumber | Complex, Unit":(e,i)=>i.multiply(e),"Unit, number | Fraction | BigNumber | Complex | Unit":(e,i)=>e.multiply(i)})}),svt=xe("not",["typed"],n=>{var{typed:t}=n;return t("not",{"null | undefined":()=>!0,number:cfe,Complex:function(i){return 0===i.re&&0===i.im},BigNumber:function(i){return i.isZero()||i.isNaN()},bigint:e=>!e,Unit:t.referToSelf(e=>i=>t.find(e,i.valueType())(i.value)),"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),uvt=xe("number",["typed"],n=>{var{typed:t}=n,e=t("number",{"":function(){return 0},number:function(r){return r},string:function(r){if("NaN"===r)return NaN;var s=function lvt(n){var t=n.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);return t?{input:n,radix:{"0b":2,"0o":8,"0x":16}[t[1]],integerPart:t[2],fractionalPart:t[3]}:null}(r);if(s)return function cvt(n){for(var t=parseInt(n.integerPart,n.radix),e=0,i=0;i<n.fractionalPart.length;i++)e+=parseInt(n.fractionalPart[i],n.radix)/Math.pow(n.radix,i+1);var s=t+e;if(isNaN(s))throw new SyntaxError('String "'+n.input+'" is not a valid number');return s}(s);var o=0,a=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);a&&(o=Number(a[2]),r=a[1]);var l=Number(r);if(isNaN(l))throw new SyntaxError('String "'+r+'" is not a valid number');if(a){if(l>2**o-1)throw new SyntaxError('String "'.concat(r,'" is out of range'));l>=2**(o-1)&&(l-=2**o)}return l},BigNumber:function(r){return r.toNumber()},bigint:function(r){return Number(r)},Fraction:function(r){return r.valueOf()},Unit:t.referToSelf(i=>r=>{var s=r.clone();return s.value=i(r.value),s}),null:function(r){return 0},"Unit, string | Unit":function(r,s){return r.toNumber(s)},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))});return e.fromJSON=function(i){return parseFloat(i.value)},e}),hvt=xe("oct",["typed","format"],n=>{var{typed:t,format:e}=n;return t("oct",{"number | BigNumber":function(r){return e(r,{notation:"oct"})},"number | BigNumber, number | BigNumber":function(r,s){return e(r,{notation:"oct",wordSize:s})}})}),Gme=Me(8814),fvt=Gme(Date.now());function mC(n){var t;return function e(r){t=null===r?fvt:Gme(String(r))}(n),function i(){return t()}}var jme="pickRandom",mvt=xe(jme,["typed","config","?on"],n=>{var{typed:t,config:e,on:i}=n,r=mC(e.randomSeed);return i&&i("config",function(o,a){o.randomSeed!==a.randomSeed&&(r=mC(o.randomSeed))}),t(jme,{"Array | Matrix":function(a){return s(a,{})},"Array | Matrix, Object":function(a,l){return s(a,l)},"Array | Matrix, number":function(a,l){return s(a,{number:l})},"Array | Matrix, Array | Matrix":function(a,l){return s(a,{weights:l})},"Array | Matrix, Array | Matrix, number":function(a,l,c){return s(a,{number:c,weights:l})},"Array | Matrix, number, Array | Matrix":function(a,l,c){return s(a,{number:l,weights:c})}});function s(o,a){var{number:l,weights:c,elementWise:u=!0}=a,d=typeof l>"u";d&&(l=1);var f=Ci(o)?o.create:Ci(c)?c.create:null;o=o.valueOf(),c&&(c=c.valueOf()),!0===u&&(o=ps(o),c=ps(c));var h=0;if(typeof c<"u"){if(c.length!==o.length)throw new Error("Weights must have the same length as possibles");for(var p=0,m=c.length;p<m;p++){if(!sr(c[p])||c[p]<0)throw new Error("Weights must be an array of positive numbers");h+=c[p]}}for(var _,g=o.length,A=[];A.length<l;){if(typeof c>"u")_=o[Math.floor(r()*g)];else for(var v=r()*h,b=0,w=o.length;b<w;b++)if((v-=c[b])<0){_=o[b];break}A.push(_)}return d?A[0]:f?f(A):A}});function LG(n,t){var e=[];if((n=n.slice(0)).length>1)for(var i=0,r=n.shift();i<r;i++)e.push(LG(n,t));else for(var s=0,o=n.shift();s<o;s++)e.push(t());return e}var gvt=xe("random",["typed","config","?on"],n=>{var{typed:t,config:e,on:i}=n,r=mC(e.randomSeed);return i&&i("config",function(a,l){a.randomSeed!==l.randomSeed&&(r=mC(a.randomSeed))}),t("random",{"":()=>o(0,1),number:a=>o(0,a),"number, number":(a,l)=>o(a,l),"Array | Matrix":a=>s(a,0,1),"Array | Matrix, number":(a,l)=>s(a,0,l),"Array | Matrix, number, number":(a,l,c)=>s(a,l,c)});function s(a,l,c){var u=LG(a.valueOf(),()=>o(l,c));return Ci(a)?a.create(u,"number"):u}function o(a,l){return a+r()*(l-a)}}),_vt=xe("re",["typed"],n=>{var{typed:t}=n;return t("re",{"number | BigNumber | Fraction":e=>e,Complex:e=>e.re,"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),yvt=xe("sec",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("sec",{number:nme,Complex:r=>r.sec(),BigNumber:r=>new e(1).div(r.cos())},dC({typed:t}))}),xvt=xe("sign",["typed","BigNumber","Fraction","complex"],n=>{var{typed:t,BigNumber:e,complex:i,Fraction:r}=n;return t("sign",{number:RG,Complex:function(o){return 0===o.im?i(RG(o.re)):o.sign()},BigNumber:function(o){return new e(o.cmp(0))},bigint:function(o){return o>0n?1n:o<0n?-1n:0n},Fraction:function(o){return new r(0n===o.n?0:o.s)},"Array | Matrix":t.referToSelf(s=>o=>ar(o,s,!0)),Unit:t.referToSelf(s=>o=>{if(!o._isDerived()&&0!==o.units[0].unit.offset)throw new TypeError("sign is ambiguous for units with offset");return t.find(s,o.valueType())(o.value)})})}),Svt=xe("sin",["typed"],n=>{var{typed:t}=n,e=dC({typed:t});return t("sin",{number:Math.sin,"Complex | BigNumber":i=>i.sin()},e)}),Mvt=xe("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:t,equalScalar:e,Matrix:i}=n;function r(m,g){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!eu(g))throw new Error("Invalid datatype: "+g);if(Ci(m))!function s(m,g,A){"SparseMatrix"===g.type?(m._values=g._values?Ji(g._values):void 0,m._index=Ji(g._index),m._ptr=Ji(g._ptr),m._size=Ji(g._size),m._datatype=A||g._datatype):o(m,g.valueOf(),A||g._datatype)}(this,m,g);else if(m&&io(m.index)&&io(m.ptr)&&io(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=g||m.datatype;else if(io(m))o(this,m,g);else{if(m)throw new TypeError("Unsupported type of data ("+ro(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(m,g,A){m._values=[],m._index=[],m._ptr=[],m._datatype=A;var _=g.length,v=0,b=e,w=0;if(eu(A)&&(b=t.find(e,[A,A])||e,w=t.convert(0,A)),_>0){var y=0;do{m._ptr.push(m._index.length);for(var C=0;C<_;C++){var D=g[C];if(io(D)){if(0===y&&v<D.length&&(v=D.length),y<D.length){var S=D[y];b(S,w)||(m._values.push(S),m._index.push(C))}}else 0===y&&v<1&&(v=1),b(D,w)||(m._values.push(D),m._index.push(C))}y++}while(y<v)}m._ptr.push(m._index.length),m._size=[_,v]}function c(m,g,A,_){if(A-g==0)return A;for(var v=g;v<A;v++)if(_[v]===m)return v;return g}function d(m,g,A,_,v,b,w){v.splice(m,0,_),b.splice(m,0,g);for(var y=A+1;y<w.length;y++)w[y]++}function f(m,g,A,_){var v=_||0,b=e,w=0;eu(m._datatype)&&(b=t.find(e,[m._datatype,m._datatype])||e,w=t.convert(0,m._datatype),v=t.convert(v,m._datatype));var S,T,M,y=!b(v,w),C=m._size[0],D=m._size[1];if(A>D){for(T=D;T<A;T++)if(m._ptr[T]=m._values.length,y)for(S=0;S<C;S++)m._values.push(v),m._index.push(S);m._ptr[A]=m._values.length}else A<D&&(m._ptr.splice(A+1,D-A),m._values.splice(m._ptr[A],m._values.length),m._index.splice(m._ptr[A],m._index.length));if(D=A,g>C){if(y){var F=0;for(T=0;T<D;T++){m._ptr[T]=m._ptr[T]+F,M=m._ptr[T+1]+F;var L=0;for(S=C;S<g;S++,L++)m._values.splice(M+L,0,v),m._index.splice(M+L,0,S),F++}m._ptr[D]=m._values.length}}else if(g<C){var U=0;for(T=0;T<D;T++){m._ptr[T]=m._ptr[T]-U;var O=m._ptr[T+1]-U;for(M=m._ptr[T];M<O;M++)(S=m._index[M])>g-1&&(m._values.splice(M,1),m._index.splice(M,1),U++)}m._ptr[T]=m._values.length}return m._size[0]=g,m._size[1]=A,m}function p(m,g,A,_,v){var C,D,b=_[0],w=_[1],y=[];for(C=0;C<b;C++)for(y[C]=[],D=0;D<w;D++)y[C][D]=0;for(D=0;D<w;D++)for(var T=A[D+1],M=A[D];M<T;M++)y[C=g[M]][D]=m?v?Ji(m[M]):m[M]:1;return y}return(r.prototype=new i).createSparseMatrix=function(m,g){return new r(m,g)},Object.defineProperty(r,"name",{value:"SparseMatrix"}),r.prototype.constructor=r,r.prototype.type="SparseMatrix",r.prototype.isSparseMatrix=!0,r.prototype.getDataType=function(){return $R(this._values,ro)},r.prototype.storage=function(){return"sparse"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(m,g){return new r(m,g)},r.prototype.density=function(){var m=this._size[0],g=this._size[1];return 0!==m&&0!==g?this._index.length/(m*g):0},r.prototype.subset=function(m,g,A){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function a(m,g){if(!VR(g))throw new TypeError("Invalid index");if(g.isScalar())return m.get(g.min());var _=g.size();if(_.length!==m._size.length)throw new Ar(_.length,m._size.length);var v,b,w,y,C=g.min(),D=g.max();for(v=0,b=m._size.length;v<b;v++)bo(C[v],m._size[v]),bo(D[v],m._size[v]);var S=m._values,T=m._index,M=m._ptr,F=g.dimension(0),L=g.dimension(1),U=[],z=[];F.forEach(function(J,le){z[J]=le[0],U[J]=!0});var O=S?[]:void 0,G=[],j=[];return L.forEach(function(J){for(j.push(G.length),w=M[J],y=M[J+1];w<y;w++)!0===U[v=T[w]]&&(G.push(z[v]),O&&O.push(S[w]))}),j.push(G.length),new r({values:O,index:G,ptr:j,size:_,datatype:m._datatype})}(this,m);case 2:case 3:return function l(m,g,A,_){if(!g||!0!==g.isIndex)throw new TypeError("Invalid index");var w,v=g.size(),b=g.isScalar();if(Ci(A)?(w=A.size(),A=A.toArray()):w=zi(A),b){if(0!==w.length)throw new TypeError("Scalar expected");m.set(g.min(),A,_)}else{if(1!==v.length&&2!==v.length)throw new Ar(v.length,m._size.length,"<");if(w.length<v.length){for(var y=0,C=0;1===v[y]&&1===w[y];)y++;for(;1===v[y];)C++,y++;A=bhe(A,v.length,C,w)}if(!rg(v,w))throw new Ar(v,w,">");if(1===v.length)g.dimension(0).forEach(function(M,F){bo(M),m.set([M,0],A[F[0]],_)});else{var S=g.dimension(0),T=g.dimension(1);S.forEach(function(M,F){bo(M),T.forEach(function(L,U){bo(L),m.set([M,L],A[F[0]][U[0]],_)})})}}return m}(this,m,g,A);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(m){if(!io(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Ar(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=m[0],A=m[1];bo(g,this._size[0]),bo(A,this._size[1]);var _=c(g,this._ptr[A],this._ptr[A+1],this._index);return _<this._ptr[A+1]&&this._index[_]===g?this._values[_]:0},r.prototype.set=function(m,g,A){if(!io(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new Ar(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var _=m[0],v=m[1],b=this._size[0],w=this._size[1],y=e,C=0;eu(this._datatype)&&(y=t.find(e,[this._datatype,this._datatype])||e,C=t.convert(0,this._datatype)),(_>b-1||v>w-1)&&(f(this,Math.max(_+1,b),Math.max(v+1,w),A),b=this._size[0],w=this._size[1]),bo(_,b),bo(v,w);var D=c(_,this._ptr[v],this._ptr[v+1],this._index);return D<this._ptr[v+1]&&this._index[D]===_?y(g,C)?function u(m,g,A,_,v){A.splice(m,1),_.splice(m,1);for(var b=g+1;b<v.length;b++)v[b]--}(D,v,this._values,this._index,this._ptr):this._values[D]=g:y(g,C)||d(D,_,v,g,this._values,this._index,this._ptr),this},r.prototype.resize=function(m,g,A){if(!_h(m))throw new TypeError("Array or Matrix expected");var _=m.valueOf().map(b=>Array.isArray(b)&&1===b.length?b[0]:b);if(2!==_.length)throw new Error("Only two dimensions matrix are supported");return _.forEach(function(b){if(!sr(b)||!ai(b)||b<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Cr(_)+")")}),f(A?this.clone():this,_[0],_[1],g)},r.prototype.reshape=function(m,g){if(!io(m))throw new TypeError("Array expected");if(2!==m.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(J){if(!sr(J)||!ai(J)||J<=-2||0===J)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Cr(m)+")")});var A=this._size[0]*this._size[1];if(A!==(m=oG(m,A))[0]*m[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var v=g?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return v;for(var b=[],w=0;w<v._ptr.length;w++)for(var y=0;y<v._ptr[w+1]-v._ptr[w];y++)b.push(w);for(var C=v._values.slice(),D=v._index.slice(),S=0;S<v._index.length;S++){var F=D[S]*v._size[1]+b[S];b[S]=F%m[1],D[S]=Math.floor(F/m[1])}v._values.length=0,v._index.length=0,v._ptr.length=m[1]+1,v._size=m.slice();for(var L=0;L<v._ptr.length;L++)v._ptr[L]=0;for(var U=0;U<C.length;U++){var z=D[U],O=b[U],G=C[U];d(c(z,v._ptr[O],v._ptr[O+1],v._index),z,O,G,v._values,v._index,v._ptr)}return v},r.prototype.clone=function(){return new r({values:this._values?Ji(this._values):void 0,index:Ji(this._index),ptr:Ji(this._ptr),size:Ji(this._size),datatype:this._datatype})},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(m,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var A=this,_=this._size[0],v=this._size[1],b=Wb(m,A,"map");return function h(m,g,A,_,v,b,w){var y=[],C=[],D=[],S=e,T=0;eu(m._datatype)&&(S=t.find(e,[m._datatype,m._datatype])||e,T=t.convert(0,m._datatype));for(var M=function(X,H,ae){var de=b(X,H,ae);S(de,T)||(y.push(de),C.push(H))},F=_;F<=v;F++){D.push(y.length);var L=m._ptr[F],U=m._ptr[F+1];if(w)for(var z=L;z<U;z++){var O=m._index[z];O>=g&&O<=A&&M(m._values[z],O-g,F-_)}else{for(var G={},j=L;j<U;j++)G[m._index[j]]=m._values[j];for(var le=g;le<=A;le++)M(le in G?G[le]:0,le-g,F-_)}}return D.push(y.length),new r({values:y,index:C,ptr:D,size:[A-g+1,v-_+1]})}(this,0,_-1,0,v-1,function(C,D,S){return b.fn(C,[D,S],A)},g)},r.prototype.forEach=function(m,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var A=this,_=this._size[0],v=this._size[1],b=Wb(m,A,"forEach"),w=0;w<v;w++){var y=this._ptr[w],C=this._ptr[w+1];if(g)for(var D=y;D<C;D++)b.fn(this._values[D],[this._index[D],w],A);else{for(var T={},M=y;M<C;M++)T[this._index[M]]=this._values[M];for(var L=0;L<_;L++)b.fn(L in T?T[L]:0,[L,w],A)}}},r.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],g=0;g<m;g++)for(var _=this._ptr[g+1],v=this._ptr[g];v<_;v++){var b=this._index[v];yield{value:this._values[v],index:[b,g]}}},r.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},r.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},r.prototype.format=function(m){for(var g=this._size[0],A=this._size[1],_=this.density(),v="Sparse Matrix ["+Cr(g,m)+" x "+Cr(A,m)+"] density: "+Cr(_,m)+"\n",b=0;b<A;b++)for(var y=this._ptr[b+1],C=this._ptr[b];C<y;C++)v+="\n    ("+Cr(this._index[C],m)+", "+Cr(b,m)+") ==> "+(this._values?Cr(this._values[C],m):"X");return v},r.prototype.toString=function(){return Cr(this.toArray())},r.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(m){if(m){if(or(m)&&(m=m.toNumber()),!sr(m)||!ai(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var g=m>0?m:0,A=m<0?-m:0,v=this._size[1],b=Math.min(this._size[0]-A,v-g),w=[],y=[],C=[];C[0]=0;for(var D=g;D<v&&w.length<b;D++)for(var T=this._ptr[D+1],M=this._ptr[D];M<T;M++){var F=this._index[M];if(F===D-g+A){w.push(this._values[M]),y[w.length-1]=F-A;break}}return C.push(w.length),new r({values:w,index:y,ptr:C,size:[b,1]})},r.fromJSON=function(m){return new r(m)},r.diagonal=function(m,g,A,_,v){if(!io(m))throw new TypeError("Array expected, size parameter");if(2!==m.length)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(J){if(or(J)&&(J=J.toNumber()),!sr(J)||!ai(J)||J<1)throw new Error("Size values must be positive integers");return J}),A){if(or(A)&&(A=A.toNumber()),!sr(A)||!ai(A))throw new TypeError("The parameter k must be an integer number")}else A=0;var b=e,w=0;eu(v)&&(b=t.find(e,[v,v])||e,w=t.convert(0,v));var M,y=A>0?A:0,C=A<0?-A:0,D=m[0],S=m[1],T=Math.min(D-C,S-y);if(io(g)){if(g.length!==T)throw new Error("Invalid value array length");M=function(le){return g[le]}}else if(Ci(g)){var F=g.size();if(1!==F.length||F[0]!==T)throw new Error("Invalid matrix length");M=function(le){return g.get([le])}}else M=function(){return g};for(var L=[],U=[],z=[],O=0;O<S;O++){z.push(L.length);var G=O-y;if(G>=0&&G<T){var j=M(G);b(j,w)||(U.push(G+C),L.push(j))}}return z.push(L.length),new r({values:L,index:U,ptr:z,size:[D,S]})},r.prototype.swapRows=function(m,g){if(!(sr(m)&&ai(m)&&sr(g)&&ai(g)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return bo(m,this._size[0]),bo(g,this._size[0]),r._swapRows(m,g,this._size[1],this._values,this._index,this._ptr),this},r._forEachRow=function(m,g,A,_,v){for(var w=_[m+1],y=_[m];y<w;y++)v(A[y],g[y])},r._swapRows=function(m,g,A,_,v,b){for(var w=0;w<A;w++){var y=b[w],C=b[w+1],D=c(m,y,C,v),S=c(g,y,C,v);if(D<C&&S<C&&v[D]===m&&v[S]===g){if(_){var T=_[D];_[D]=_[S],_[S]=T}}else if(D<C&&v[D]===m&&(S>=C||v[S]!==g)){var M=_?_[D]:void 0;v.splice(S,0,g),_&&_.splice(S,0,M),v.splice(S<=D?D+1:D,1),_&&_.splice(S<=D?D+1:D,1)}else if(S<C&&v[S]===g&&(D>=C||v[D]!==m)){var F=_?_[S]:void 0;v.splice(D,0,m),_&&_.splice(D,0,F),v.splice(D<=S?S+1:S,1),_&&_.splice(D<=S?S+1:S,1)}}},r},{isClass:!0}),Nvt=xe("splitUnit",["typed"],n=>{var{typed:t}=n;return t("splitUnit",{"Unit, Array":function(i,r){return i.splitUnit(r)}})}),Bvt=xe("square",["typed"],n=>{var{typed:t}=n;return t("square",{number:Lpe,Complex:function(i){return i.mul(i)},BigNumber:function(i){return i.times(i)},bigint:function(i){return i*i},Fraction:function(i){return i.mul(i)},Unit:function(i){return i.pow(2)}})}),Pvt=xe("string",["typed"],n=>{var{typed:t}=n;return t("string",{"":function(){return""},number:qb,null:function(i){return"null"},boolean:function(i){return i+""},string:function(i){return i},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e)),any:function(i){return String(i)}})}),eAe="subtractScalar",Rvt=xe(eAe,["typed"],n=>{var{typed:t}=n;return t(eAe,{"number, number":Mpe,"Complex, Complex":function(i,r){return i.sub(r)},"BigNumber, BigNumber":function(i,r){return i.minus(r)},"bigint, bigint":function(i,r){return i-r},"Fraction, Fraction":function(i,r){return i.sub(r)},"Unit, Unit":t.referToSelf(e=>(i,r)=>{if(null==i.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!i.equalBase(r))throw new Error("Units do not match");var s=i.clone();return s.value=t.find(e,[s.valueType(),r.valueType()])(s.value,r.value),s.fixPrefix=!1,s})})}),Lvt=xe("tan",["typed"],n=>{var{typed:t}=n,e=dC({typed:t});return t("tan",{number:Math.tan,"Complex | BigNumber":i=>i.tan()},e)}),Hvt=xe("toBest",["typed"],n=>{var{typed:t}=n;return t("toBest",{Unit:e=>e.toBest(),"Unit, string":(e,i)=>e.toBest(i.split(",")),"Unit, string, Object":(e,i,r)=>e.toBest(i.split(","),r),"Unit, Array":(e,i)=>e.toBest(i),"Unit, Array, Object":(e,i,r)=>e.toBest(i,r)})}),zvt=xe("typeOf",["typed"],n=>{var{typed:t}=n;return t("typeOf",{any:ro})}),Gvt=xe("acosh",["typed","config","Complex"],n=>{var{typed:t,config:e,Complex:i}=n;return t("acosh",{number:function(s){return s>=1||e.predictable?Qpe(s):s<=-1?new i(Math.log(Math.sqrt(s*s-1)-s),Math.PI):new i(s,0).acosh()},Complex:function(s){return s.acosh()},BigNumber:function(s){return s.acosh()}})}),qvt=xe("acsch",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("acsch",{number:Wpe,Complex:function(r){return r.acsch()},BigNumber:function(r){return new e(1).div(r).asinh()}})}),$vt=xe("asec",["typed","config","Complex","BigNumber"],n=>{var{typed:t,config:e,Complex:i,BigNumber:r}=n;return t("asec",{number:function(o){return o<=-1||o>=1||e.predictable?$pe(o):new i(o,0).asec()},Complex:function(o){return o.asec()},BigNumber:function(o){return new r(1).div(o).acos()}})}),Yvt=xe("bignumber",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("bignumber",{"":function(){return new e(0)},number:function(r){return new e(r+"")},string:function(r){var s=r.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(s){var o=s[2],a=e(s[1]),l=new e(2).pow(Number(o));if(a.gt(l.sub(1)))throw new SyntaxError('String "'.concat(r,'" is out of range'));var c=new e(2).pow(Number(o)-1);return a.gte(c)?a.sub(l):a}return new e(r)},BigNumber:function(r){return r},bigint:function(r){return new e(r.toString())},Unit:t.referToSelf(i=>r=>{var s=r.clone();return s.value=i(r.value),s}),Fraction:function(r){return new e(String(r.n)).div(String(r.d)).times(String(r.s))},null:function(r){return new e(0)},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),aAe="combinationsWithRep",Jvt=xe(aAe,["typed"],n=>{var{typed:t}=n;return t(aAe,{"number, number":function(i,r){if(!ai(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!ai(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i<1)throw new TypeError("k must be less than or equal to n + k - 1");return r<i-1?ug(i,i+r-1)/ug(1,r):ug(r+1,i+r-1)/ug(1,i-1)},"BigNumber, BigNumber":function(i,r){var o,a,l=new(0,i.constructor)(1),c=i.minus(l);if(!lAe(i)||!lAe(r))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(i.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(o=l,r.lt(c))for(a=l;a.lte(c);a=a.plus(l))o=o.times(r.plus(a)).dividedBy(a);else for(a=l;a.lte(r);a=a.plus(l))o=o.times(c.plus(a)).dividedBy(a);return o}})});function lAe(n){return n.isInteger()&&n.gte(0)}var t_t=xe("cosh",["typed"],n=>{var{typed:t}=n;return t("cosh",{number:lhe,"Complex | BigNumber":e=>e.cosh()})}),i_t=xe("csch",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("csch",{number:tme,Complex:i=>i.csch(),BigNumber:i=>new e(1).div(i.sinh())})}),s_t=xe("isNaN",["typed"],n=>{var{typed:t}=n;return t("isNaN",{number:Bme,BigNumber:function(i){return i.isNaN()},bigint:function(i){return!1},Fraction:function(i){return!1},Complex:function(i){return i.isNaN()},Unit:function(i){return Number.isNaN(i.value)},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),a_t=xe("isPrime",["typed"],n=>{var{typed:t}=n;return t("isPrime",{number:function(i){if(i<=3)return i>1;if(i%2==0||i%3==0)return!1;for(var r=5;r*r<=i;r+=6)if(i%r==0||i%(r+2)==0)return!1;return!0},bigint:function(i){if(i<=3n)return i>1n;if(i%2n===0n||i%3n===0n)return!1;for(var r=5n;r*r<=i;r+=6n)if(i%r===0n||i%(r+2n)===0n)return!1;return!0},BigNumber:function(i){if(i.lte(3))return i.gt(1);if(i.mod(2).eq(0)||i.mod(3).eq(0))return!1;if(i.lt(Math.pow(2,32))){for(var r=i.toNumber(),s=5;s*s<=r;s+=6)if(r%s==0||r%(s+2)==0)return!1;return!0}function o(_,v,b){for(var w=1;!v.eq(0);)v.mod(2).eq(0)?(v=v.div(2),_=_.mul(_).mod(b)):(v=v.sub(1),w=_.mul(w).mod(b));return w}for(var a=i.constructor.clone({precision:2*i.toFixed(0).length}),l=0,c=(i=new a(i)).sub(1);c.mod(2).eq(0);)c=c.div(2),l+=1;var u=null;if(i.lt("3317044064679887385961981"))u=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(_=>_<i);else{var d=Math.min(i.toNumber()-2,Math.floor(2*Math.pow(i.toFixed(0).length*Math.log(10),2)));u=[];for(var f=2;f<=d;f+=1)u.push(d)}for(var h=0;h<u.length;h+=1){var p=u[h],m=o(i.sub(i).add(p),c,i);if(!m.eq(1))for(var g=0,A=m;!A.eq(i.sub(1));g+=1,A=A.mul(A).mod(i))if(g===l-1)return!1}return!0},"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),c_t=xe("matrix",["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:t,DenseMatrix:i,SparseMatrix:r}=n;return t("matrix",{"":function(){return s([])},string:function(a){return s([],a)},"string, string":function(a,l){return s([],a,l)},Array:function(a){return s(a)},Matrix:function(a){return s(a,a.storage())},"Array | Matrix, string":s,"Array | Matrix, string, string":s});function s(o,a,l){if("dense"===a||"default"===a||void 0===a)return new i(o,l);if("sparse"===a)return new r(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(a)+".")}}),pAe="matrixFromFunction",d_t=xe(pAe,["typed","matrix","isZero"],n=>{var{typed:t,matrix:e,isZero:i}=n;return t(pAe,{"Array | Matrix, function, string, string":function(o,a,l,c){return r(o,a,l,c)},"Array | Matrix, function, string":function(o,a,l){return r(o,a,l)},"Matrix, function":function(o,a){return r(o,a,"dense")},"Array, function":function(o,a){return r(o,a,"dense").toArray()},"Array | Matrix, string, function":function(o,a,l){return r(o,l,a)},"Array | Matrix, string, string, function":function(o,a,l,c){return r(o,c,a,l)}});function r(s,o,a,l){var c;return(c=void 0!==l?e(a,l):e(a)).resize(s),c.forEach(function(u,d){var f=o(d);i(f)||c.set(d,f)}),c}}),p_t=xe("ones",["typed","config","matrix","BigNumber"],n=>{var{typed:t,config:e,matrix:i,BigNumber:r}=n;return t("ones",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return s(c,d)}return"Array"===e.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,f){or(u)&&(c=!0,f[d]=u.toNumber())}),c}(l),d=u?new r(1):1;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!ai(c)||c<0)throw new Error("Parameters in function ones must be positive integers")})}(l),c){var f=i(c);return l.length>0?f.resize(l,d):f}var h=[];return l.length>0?nC(h,l,d):h}}),A_t=xe("randomInt",["typed","config","log2","?on"],n=>{var{typed:t,config:e,log2:i,on:r}=n,s=mC(e.randomSeed);return r&&r("config",function(c,u){c.randomSeed!==u.randomSeed&&(s=mC(c.randomSeed))}),t("randomInt",{"":()=>a(0,2),number:c=>a(0,c),"number, number":(c,u)=>a(c,u),bigint:c=>l(0n,c),"bigint, bigint":l,"Array | Matrix":c=>o(c,0,1),"Array | Matrix, number":(c,u)=>o(c,0,u),"Array | Matrix, number, number":(c,u,d)=>o(c,u,d)});function o(c,u,d){var f=LG(c.valueOf(),()=>a(u,d));return Ci(c)?c.create(f,"number"):f}function a(c,u){return Math.floor(c+s()*(u-c))}function l(c,u){var f=u-c;if(f<=2n**30n)return c+BigInt(a(0,Number(f)));for(var h=i(f),p=f;p>=f;){p=0n;for(var m=0;m<h;++m)p=2n*p+(s()<.5?0n:1n)}return c+p}}),v_t=xe("reshape",["typed","isInteger","matrix"],n=>{var{typed:t,isInteger:e}=n;return t("reshape",{"Matrix, Array":function(r,s){return r.reshape(s,!0)},"Array, Array":function(r,s){return s.forEach(function(o){if(!e(o))throw new TypeError("Invalid size for dimension: "+o)}),sG(r,s)}})}),b_t=xe("sech",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("sech",{number:ime,Complex:i=>i.sech(),BigNumber:i=>new e(1).div(i.cosh())})}),w_t=xe("sinh",["typed"],n=>{var{typed:t}=n;return t("sinh",{number:rme,"Complex | BigNumber":e=>e.sinh()})}),C_t=xe("sparse",["typed","SparseMatrix"],n=>{var{typed:t,SparseMatrix:e}=n;return t("sparse",{"":function(){return new e([])},string:function(r){return new e([],r)},"Array | Matrix":function(r){return new e(r)},"Array | Matrix, string":function(r,s){return new e(r,s)}})}),D_t=xe("sqrt",["config","typed","Complex"],n=>{var{config:t,typed:e,Complex:i}=n;return e("sqrt",{number:r,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.sqrt():r(o.toNumber())},Unit:function(o){return o.pow(.5)}});function r(s){return isNaN(s)?NaN:s>=0||t.predictable?Math.sqrt(s):new i(s,0).sqrt()}}),T_t=xe("squeeze",["typed"],n=>{var{typed:t}=n;return t("squeeze",{Array:function(i){return qR(Ji(i))},Matrix:function(i){var r=qR(i.toArray());return Array.isArray(r)?i.create(r,i.datatype()):r},any:function(i){return Ji(i)}})}),B_t=xe("tanh",["typed"],n=>{var{typed:t}=n;return t("tanh",{number:che,"Complex | BigNumber":e=>e.tanh()})}),P_t=xe("transpose",["typed","matrix"],n=>{var{typed:t,matrix:e}=n;return t("transpose",{Array:o=>i(e(o)).valueOf(),Matrix:i,any:Ji});function i(o){var l,a=o.size();switch(a.length){case 1:l=o.clone();break;case 2:var c=a[0],u=a[1];if(0===u)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+Cr(a)+")");switch(o.storage()){case"dense":l=function r(o,a,l){for(var d,c=o._data,u=[],f=0;f<l;f++){d=u[f]=[];for(var h=0;h<a;h++)d[h]=Ji(c[h][f])}return o.createDenseMatrix({data:u,size:[l,a],datatype:o._datatype})}(o,c,u);break;case"sparse":l=function s(o,a,l){for(var c=o._values,u=o._index,d=o._ptr,f=c?[]:void 0,h=[],p=[],m=[],g=0;g<a;g++)m[g]=0;var A,_,v;for(A=0,_=u.length;A<_;A++)m[u[A]]++;for(var b=0,w=0;w<a;w++)p.push(b),b+=m[w],m[w]=p[w];for(p.push(b),v=0;v<l;v++)for(var C=d[v+1],D=d[v];D<C;D++){var S=m[u[D]]++;h[S]=v,c&&(f[S]=Ji(c[D]))}return o.createSparseMatrix({values:f,index:h,ptr:p,size:[l,a],datatype:o._datatype})}(o,c,u)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+Cr(a)+")")}return l}}),R_t=xe("xgcd",["typed","config","matrix","BigNumber"],n=>{var{typed:t,config:e,matrix:i,BigNumber:r}=n;return t("xgcd",{"number, number":function(a,l){var c=Upe(a,l);return"Array"===e.matrix?c:i(c)},"BigNumber, BigNumber":function s(o,a){var l,c,u,A,d=new r(0),f=new r(1),h=d,p=f,m=f,g=d;if(!o.isInt()||!a.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!a.isZero();)c=o.div(a).floor(),u=o.mod(a),l=h,h=p.minus(c.times(h)),p=l,l=m,m=g.minus(c.times(m)),g=l,o=a,a=u;return A=o.lt(d)?[o.neg(),p.neg(),g.neg()]:[o,o.isZero()?0:p,g],"Array"===e.matrix?A:i(A)}})}),L_t=xe("zeros",["typed","config","matrix","BigNumber"],n=>{var{typed:t,config:e,matrix:i,BigNumber:r}=n;return t("zeros",{"":function(){return"Array"===e.matrix?s([]):s([],"default")},"...number | BigNumber | string":function(c){if("string"==typeof c[c.length-1]){var d=c.pop();return s(c,d)}return"Array"===e.matrix?s(c):s(c,"default")},Array:s,Matrix:function(c){var u=c.storage();return s(c.valueOf(),u)},"Array | Matrix, string":function(c,u){return s(c.valueOf(),u)}});function s(l,c){var u=function o(l){var c=!1;return l.forEach(function(u,d,f){or(u)&&(c=!0,f[d]=u.toNumber())}),c}(l),d=u?new r(0):0;if(function a(l){l.forEach(function(c){if("number"!=typeof c||!ai(c)||c<0)throw new Error("Parameters in function zeros must be positive integers")})}(l),c){var f=i(c);return l.length>0?f.resize(l,d):f}var h=[];return l.length>0?nC(h,l,d):h}}),H_t=xe("acoth",["typed","config","Complex","BigNumber"],n=>{var{typed:t,config:e,Complex:i,BigNumber:r}=n;return t("acoth",{number:function(o){return o>=1||o<=-1||e.predictable?jpe(o):new i(o,0).acoth()},Complex:function(o){return o.acoth()},BigNumber:function(o){return new r(1).div(o).atanh()}})}),z_t=xe("asin",["typed","config","Complex"],n=>{var{typed:t,config:e,Complex:i}=n;return t("asin",{number:function(s){return s>=-1&&s<=1||e.predictable?Math.asin(s):new i(s,0).asin()},Complex:function(s){return s.asin()},BigNumber:function(s){return s.asin()}})}),G_t=xe("bin",["typed","format"],n=>{var{typed:t,format:e}=n;return t("bin",{"number | BigNumber":function(r){return e(r,{notation:"bin"})},"number | BigNumber, number | BigNumber":function(r,s){return e(r,{notation:"bin",wordSize:s})}})}),q_t=xe("coth",["typed","BigNumber"],n=>{var{typed:t,BigNumber:e}=n;return t("coth",{number:Jpe,Complex:i=>i.coth(),BigNumber:i=>new e(1).div(i.tanh())})}),MAe="ctranspose",$_t=xe(MAe,["typed","transpose","conj"],n=>{var{typed:t,transpose:e,conj:i}=n;return t(MAe,{any:function(s){return i(e(s))}})}),X_t=xe("diag",["typed","matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:t,matrix:e,DenseMatrix:i,SparseMatrix:r}=n;return t("diag",{Array:function(c){return s(c,0,zi(c),null)},"Array, number":function(c,u){return s(c,u,zi(c),null)},"Array, BigNumber":function(c,u){return s(c,u.toNumber(),zi(c),null)},"Array, string":function(c,u){return s(c,0,zi(c),u)},"Array, number, string":function(c,u,d){return s(c,u,zi(c),d)},"Array, BigNumber, string":function(c,u,d){return s(c,u.toNumber(),zi(c),d)},Matrix:function(c){return s(c,0,c.size(),c.storage())},"Matrix, number":function(c,u){return s(c,u,c.size(),c.storage())},"Matrix, BigNumber":function(c,u){return s(c,u.toNumber(),c.size(),c.storage())},"Matrix, string":function(c,u){return s(c,0,c.size(),u)},"Matrix, number, string":function(c,u,d){return s(c,u,c.size(),d)},"Matrix, BigNumber, string":function(c,u,d){return s(c,u.toNumber(),c.size(),d)}});function s(l,c,u,d){if(!ai(c))throw new TypeError("Second parameter in function diag must be an integer");var f=c>0?c:0,h=c<0?-c:0;switch(u.length){case 1:return function o(l,c,u,d,f,h){var p=[d+f,d+h];if(u&&"sparse"!==u&&"dense"!==u)throw new TypeError("Unknown matrix type ".concat(u,'"'));var m="sparse"===u?r.diagonal(p,l,c):i.diagonal(p,l,c);return null!==u?m:m.valueOf()}(l,c,d,u[0],h,f);case 2:return function a(l,c,u,d,f,h){if(Ci(l)){var p=l.diagonal(c);return null!==u?u!==p.storage()?e(p,u):p:p.valueOf()}for(var m=Math.min(d[0]-f,d[1]-h),g=[],A=0;A<m;A++)g[A]=l[A+f][A+h];return null!==u?e(g):g}(l,c,d,u,h,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}),NAe=xe("matAlgo09xS0Sf",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o){var a=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType(),f=s._values,h=s._index,p=s._ptr,m=s._size,g=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==m.length)throw new Ar(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");var v,A=u[0],_=u[1],b=e,w=0,y=o;"string"==typeof d&&d===g&&"mixed"!==d&&(b=t.find(e,[v=d,v]),w=t.convert(0,v),y=t.find(o,[v,v]));var F,L,U,O,C=a&&f?[]:void 0,D=[],S=[],T=C?[]:void 0,M=[];for(L=0;L<_;L++){S[L]=D.length;var G=L+1;if(T)for(O=p[L+1],U=p[L];U<O;U++)M[F=h[U]]=G,T[F]=f[U];for(O=c[L+1],U=c[L];U<O;U++)if(F=l[U],T){var J=y(a[U],M[F]===G?T[F]:w);b(J,w)||(D.push(F),C.push(J))}else D.push(F)}return S[_]=D.length,r.createSparseMatrix({values:C,index:D,ptr:S,size:[A,_],datatype:d===r._datatype&&g===s._datatype?v:void 0})}}),IAe="dotMultiply",e0t=xe(IAe,["typed","matrix","equalScalar","multiplyScalar","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,multiplyScalar:r,concat:s}=n,o=bp({typed:t,equalScalar:i}),a=NAe({typed:t,equalScalar:i}),l=Mc({typed:t,equalScalar:i}),c=yo({typed:t,matrix:e,concat:s});return t(IAe,c({elop:r,SS:a,DS:o,Ss:l}))}),Rm=xe("matAlgo07xSSf",["typed","SparseMatrix"],n=>{var{typed:t,SparseMatrix:e}=n;return function(s,o,a){var l=s._size,c=s._datatype||void 0===s._data?s._datatype:s.getDataType(),u=o._size,d=o._datatype||void 0===o._data?o._datatype:o.getDataType();if(l.length!==u.length)throw new Ar(l.length,u.length);if(l[0]!==u[0]||l[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+u+")");var p,f=l[0],h=l[1],m=0,g=a;"string"==typeof c&&c===d&&"mixed"!==c&&(m=t.convert(0,p=c),g=t.find(a,[p,p]));for(var A=[],_=[],v=new Array(h+1).fill(0),b=[],w=[],y=[],C=[],D=0;D<h;D++){var S=D+1,T=0;i(s,D,y,b,S),i(o,D,C,w,S);for(var M=0;M<f;M++){var U=g(y[M]===S?b[M]:m,C[M]===S?w[M]:m);0!==U&&!1!==U&&(_.push(M),A.push(U),T++)}v[D+1]=v[D]+T}return new e({values:A,index:_,ptr:v,size:[f,h],datatype:c===s._datatype&&d===o._datatype?p:void 0})};function i(r,s,o,a,l){for(var c=r._values,u=r._index,d=r._ptr,f=d[s],h=d[s+1];f<h;f++){var p=u[f];o[p]=l,a[p]=c[f]}}}),kk="equal",r0t=xe(kk,["typed","matrix","equalScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,matrix:e,equalScalar:i,DenseMatrix:r,concat:s,SparseMatrix:o}=n,a=tu({typed:t}),l=Rm({typed:t,SparseMatrix:o}),c=Hl({typed:t,DenseMatrix:r}),u=yo({typed:t,matrix:e,concat:s});return t(kk,s0t({typed:t,equalScalar:i}),u({elop:i,SS:l,DS:a,Ss:c}))}),s0t=xe(kk,["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return t(kk,{"any, any":function(r,s){return null===r?null===s:null===s?null===r:void 0===r?void 0===s:void 0===s?void 0===r:e(r,s)}})}),l0t=xe("fraction",["typed","Fraction"],n=>{var{typed:t,Fraction:e}=n;return t("fraction",{number:function(r){if(!isFinite(r)||isNaN(r))throw new Error(r+" cannot be represented as a fraction");return new e(r)},string:function(r){return new e(r)},"number, number":function(r,s){return new e(r,s)},"bigint, bigint":function(r,s){return new e(r,s)},null:function(r){return new e(0)},BigNumber:function(r){return new e(r.toString())},bigint:function(r){return new e(r.toString())},Fraction:function(r){return r},Unit:t.referToSelf(i=>r=>{var s=r.clone();return s.value=i(r.value),s}),Object:function(r){return new e(r)},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),u0t=xe("identity",["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],n=>{var{typed:t,config:e,matrix:i,BigNumber:r,DenseMatrix:s,SparseMatrix:o}=n;return t("identity",{"":function(){return"Matrix"===e.matrix?i([]):[]},string:function(u){return i(u)},"number | BigNumber":function(u){return l(u,u,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber, string":function(u,d){return l(u,u,d)},"number | BigNumber, number | BigNumber":function(u,d){return l(u,d,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(u,d,f){return l(u,d,f)},Array:function(u){return a(u)},"Array, string":function(u,d){return a(u,d)},Matrix:function(u){return a(u.valueOf(),u.storage())},"Matrix, string":function(u,d){return a(u.valueOf(),d)}});function a(c,u){switch(c.length){case 0:return u?i(u):[];case 1:return l(c[0],c[0],u);case 2:return l(c[0],c[1],u);default:throw new Error("Vector containing two values expected")}}function l(c,u,d){var f=or(c)||or(u)?r:null;if(or(c)&&(c=c.toNumber()),or(u)&&(u=u.toNumber()),!ai(c)||c<1)throw new Error("Parameters in function identity must be positive integers");if(!ai(u)||u<1)throw new Error("Parameters in function identity must be positive integers");var h=f?new r(1):1,p=f?new f(0):0,m=[c,u];if(d){if("sparse"===d)return o.diagonal(m,h,0,p);if("dense"===d)return s.diagonal(m,h,0,p);throw new TypeError('Unknown matrix type "'.concat(d,'"'))}for(var g=nC([],m,p),A=c<u?c:u,_=0;_<A;_++)g[_][_]=h;return g}}),h0t=xe("isNumeric",["typed"],n=>{var{typed:t}=n;return t("isNumeric",{"number | BigNumber | bigint | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":t.referToSelf(e=>i=>ar(i,e))})}),p0t=xe("kron",["typed","matrix","multiplyScalar"],n=>{var{typed:t,matrix:e,multiplyScalar:i}=n;return t("kron",{"Matrix, Matrix":function(o,a){return e(r(o.toArray(),a.toArray()))},"Matrix, Array":function(o,a){return e(r(o.toArray(),a))},"Array, Matrix":function(o,a){return e(r(o,a.toArray()))},"Array, Array":r});function r(s,o){if(1===zi(s).length&&(s=[s]),1===zi(o).length&&(o=[o]),zi(s).length>2||zi(o).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(s.length)+", y = "+JSON.stringify(o.length)+")");var a=[],l=[];return s.map(function(c){return o.map(function(u){return a.push(l=[]),c.map(function(d){return u.map(function(f){return l.push(i(d,f))})})})})&&a}}),Lk="largerEq",A0t=xe(Lk,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,config:e,matrix:i,DenseMatrix:r,concat:s,SparseMatrix:o}=n,a=tu({typed:t}),l=Rm({typed:t,SparseMatrix:o}),c=Hl({typed:t,DenseMatrix:r}),u=yo({typed:t,matrix:i,concat:s}),d=hC({typed:t});return t(Lk,g0t({typed:t,config:e}),{"boolean, boolean":(f,h)=>f>=h,"BigNumber, BigNumber":function(h,p){return h.gte(p)||gf(h,p,e.relTol,e.absTol)},"bigint, bigint":function(h,p){return h>=p},"Fraction, Fraction":(f,h)=>-1!==f.compare(h),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),g0t=xe(Lk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Lk,{"number, number":function(r,s){return r>=s||hc(r,s,e.relTol,e.absTol)}})}),UG=xe("matAlgo08xS0Sid",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,s,o){var a=r._values,l=r._index,c=r._ptr,u=r._size,d=r._datatype||void 0===r._data?r._datatype:r.getDataType(),f=s._values,h=s._index,p=s._ptr,m=s._size,g=s._datatype||void 0===s._data?s._datatype:s.getDataType();if(u.length!==m.length)throw new Ar(u.length,m.length);if(u[0]!==m[0]||u[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+m+")");if(!a||!f)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var v,A=u[0],_=u[1],b=e,w=0,y=o;"string"==typeof d&&d===g&&"mixed"!==d&&(b=t.find(e,[v=d,v]),w=t.convert(0,v),y=t.find(o,[v,v]));for(var F,U,z,C=[],D=[],S=[],T=[],M=[],O=0;O<_;O++){S[O]=D.length;var G=O+1;for(U=c[O+1],F=c[O];F<U;F++)M[z=l[F]]=G,T[z]=a[F],D.push(z);for(U=p[O+1],F=p[O];F<U;F++)M[z=h[F]]===G&&(T[z]=y(T[z],f[F]));for(F=S[O];F<D.length;){var j=T[z=D[F]];b(j,w)?D.splice(F,1):(C.push(j),F++)}}return S[_]=D.length,r.createSparseMatrix({values:C,index:D,ptr:S,size:[A,_],datatype:d===r._datatype&&g===s._datatype?v:void 0})}}),HG=xe("useMatrixForArrayScalar",["typed","matrix"],n=>{var{typed:t,matrix:e}=n;return{"Array, number":t.referTo("DenseMatrix, number",i=>(r,s)=>i(e(r),s).valueOf()),"Array, BigNumber":t.referTo("DenseMatrix, BigNumber",i=>(r,s)=>i(e(r),s).valueOf()),"number, Array":t.referTo("number, DenseMatrix",i=>(r,s)=>i(r,e(s)).valueOf()),"BigNumber, Array":t.referTo("BigNumber, DenseMatrix",i=>(r,s)=>i(r,e(s)).valueOf())}}),y0t=xe("leftShift",["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,DenseMatrix:s,concat:o}=n,a=l_({typed:t}),l=bp({typed:t,equalScalar:i}),c=UG({typed:t,equalScalar:i}),u=$b({typed:t,DenseMatrix:s}),d=Mc({typed:t,equalScalar:i}),f=pf({typed:t}),h=yo({typed:t,matrix:e,concat:o}),p=HG({typed:t,matrix:e});return t("leftShift",{"number, number":Mfe,"BigNumber, BigNumber":$dt,"bigint, bigint":(m,g)=>m<<g,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():d(g,A,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():f(g,A,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):u(A,g,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):f(A,g,m,!0))},p,h({SS:c,DS:a,SD:l}))}),x0t=xe("mode",["typed","isNaN","isNumeric"],n=>{var{typed:t,isNaN:e,isNumeric:i}=n;return t("mode",{"Array | Matrix":r,"...":function(o){return r(o)}});function r(s){if(0===(s=ps(s.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var a={},l=[],c=0,u=0;u<s.length;u++){var d=s[u];if(i(d)&&e(d))throw new Error("Cannot calculate mode of an array containing NaN values");d in a||(a[d]=0),a[d]++,a[d]===c?l.push(d):a[d]>c&&(c=a[d],l=[d])}return l}}),S0t=xe("nthRoot",["typed","matrix","equalScalar","BigNumber","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,BigNumber:r,concat:s}=n,o=l_({typed:t}),a=bp({typed:t,equalScalar:i}),l=Ak({typed:t,equalScalar:i}),c=Mc({typed:t,equalScalar:i}),u=yo({typed:t,matrix:e,concat:s});function d(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return t("nthRoot",{number:kpe,"number, number":kpe,BigNumber:h=>f(h,new r(2)),"BigNumber, BigNumber":f,Complex:d,"Complex, number":d,Array:t.referTo("DenseMatrix,number",h=>p=>h(e(p),2).valueOf()),DenseMatrix:t.referTo("DenseMatrix,number",h=>p=>h(p,2)),SparseMatrix:t.referTo("SparseMatrix,number",h=>p=>h(p,2)),"SparseMatrix, SparseMatrix":t.referToSelf(h=>(p,m)=>{if(1===m.density())return l(p,m,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":t.referToSelf(h=>(p,m)=>{if(1===m.density())return o(p,m,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":t.referTo("DenseMatrix,SparseMatrix",h=>(p,m)=>h(e(p),m)),"number | BigNumber, SparseMatrix":t.referToSelf(h=>(p,m)=>{if(1===m.density())return c(m,p,h,!0);throw new Error("Root must be non-zero")})},u({scalar:"number | BigNumber",SD:a,Ss:c,sS:!1}));function f(h,p){var m=r.precision,g=r.clone({precision:m+2}),A=new r(0),_=new g(1),v=p.isNegative();if(v&&(p=p.neg()),p.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!p.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return v?new g(1/0):0;if(!h.isFinite())return v?A:h;var b=h.abs().pow(_.div(p));return b=h.isNeg()?b.neg():b,new r((v?_.div(b):b).toPrecision(m))}}),M0t=xe("numeric",["number","?bignumber","?fraction"],n=>{var{number:t,bignumber:e,fraction:i}=n,r={string:!0,number:!0,BigNumber:!0,Fraction:!0},s={number:o=>t(o),BigNumber:e?o=>e(o):fG,bigint:o=>BigInt(o),Fraction:i?o=>i(o):Uhe};return function(a){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"number";if(void 0!==(arguments.length>2?arguments[2]:void 0))throw new SyntaxError("numeric() takes one or two arguments");var u=ro(a);if(!(u in r))throw new TypeError("Cannot convert "+a+' of type "'+u+'"; valid input types are '+Object.keys(r).join(", "));if(!(l in s))throw new TypeError("Cannot convert "+a+' to type "'+l+'"; valid output types are '+Object.keys(s).join(", "));return l===u?a:s[l](a)}}),N0t=xe("prod",["typed","config","multiplyScalar","numeric"],n=>{var{typed:t,config:e,multiplyScalar:i,numeric:r}=n;return t("prod",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(a,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(a){return s(a)}});function s(o){var a;if(o_(o,function(l){try{a=void 0===a?l:i(a,l)}catch(c){throw Pu(c,"prod",l)}}),"string"==typeof a&&(a=r(a,n_(a,e))),void 0===a)throw new Error("Cannot calculate prod of an empty array");return a}});function Yb(n,t,e,i){if(!(this instanceof Yb))throw new SyntaxError("Constructor must be called with the new operator");this.fn=n,this.count=t,this.min=e,this.max=i,this.message="Wrong number of arguments in function "+n+" ("+t+" provided, "+e+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(Yb.prototype=new Error).constructor=Error,Yb.prototype.name="ArgumentsError",Yb.prototype.isArgumentsError=!0;var F0t=xe("resize",["config","matrix"],n=>{var{config:t,matrix:e}=n;return function(s,o,a){if(2!==arguments.length&&3!==arguments.length)throw new Yb("resize",arguments.length,2,3);if(Ci(o)&&(o=o.valueOf()),or(o[0])&&(o=o.map(function(u){return or(u)?u.toNumber():u})),Ci(s))return s.resize(o,a,!0);if("string"==typeof s)return function i(r,s,o){if(void 0!==o){if("string"!=typeof o||1!==o.length)throw new TypeError("Single character expected as defaultValue")}else o=" ";if(1!==s.length)throw new Ar(s.length,1);var a=s[0];if("number"!=typeof a||!ai(a))throw new TypeError("Invalid size, must contain positive integers (size: "+Cr(s)+")");if(r.length>a)return r.substring(0,a);if(r.length<a){for(var l=r,c=0,u=a-r.length;c<u;c++)l+=o;return l}return r}(s,o,a);var l=!Array.isArray(s)&&"Array"!==t.matrix;if(0===o.length){for(;Array.isArray(s);)s=s[0];return Ji(s)}Array.isArray(s)||(s=[s]);var c=nC(s=Ji(s),o,a);return l?e(c):c}}),UAe="rightArithShift",O0t=xe(UAe,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,DenseMatrix:s,concat:o}=n,a=l_({typed:t}),l=bp({typed:t,equalScalar:i}),c=UG({typed:t,equalScalar:i}),u=$b({typed:t,DenseMatrix:s}),d=Mc({typed:t,equalScalar:i}),f=pf({typed:t}),h=yo({typed:t,matrix:e,concat:o}),p=HG({typed:t,matrix:e});return t(UAe,{"number, number":Tfe,"BigNumber, BigNumber":Kdt,"bigint, bigint":(m,g)=>m>>g,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():d(g,A,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():f(g,A,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):u(A,g,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):f(A,g,m,!0))},p,h({SS:c,DS:a,SD:l}))}),AC="Number of decimals in function round must be an integer",k0t=xe("round",["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],n=>{var{typed:t,config:e,matrix:i,equalScalar:r,zeros:s,BigNumber:o,DenseMatrix:a}=n,l=Mc({typed:t,equalScalar:r}),c=Hl({typed:t,DenseMatrix:a}),u=pf({typed:t});function d(f){return Math.abs(TM(f).exponent)}return t("round",{number:function(h){var p=UM(h,d(e.relTol));return UM(hc(h,p,e.relTol,e.absTol)?p:h)},"number, number":function(h,p){var m=d(e.relTol);if(p>=m)return UM(h,p);var g=UM(h,m);return UM(hc(h,g,e.relTol,e.absTol)?g:h,p)},"number, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(AC);return new o(h).toDecimalPlaces(p.toNumber())},Complex:function(h){return h.round()},"Complex, number":function(h,p){if(p%1)throw new TypeError(AC);return h.round(p)},"Complex, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(AC);var m=p.toNumber();return h.round(m)},BigNumber:function(h){var p=new o(h).toDecimalPlaces(d(e.relTol));return(gf(h,p,e.relTol,e.absTol)?p:h).toDecimalPlaces(0)},"BigNumber, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(AC);var m=d(e.relTol);if(p>=m)return h.toDecimalPlaces(p.toNumber());var g=h.toDecimalPlaces(m);return(gf(h,g,e.relTol,e.absTol)?g:h).toDecimalPlaces(p.toNumber())},bigint:f=>f,"bigint, number":(f,h)=>f,"bigint, BigNumber":(f,h)=>f,Fraction:function(h){return h.round()},"Fraction, number":function(h,p){if(p%1)throw new TypeError(AC);return h.round(p)},"Fraction, BigNumber":function(h,p){if(!p.isInteger())throw new TypeError(AC);return h.round(p.toNumber())},"Unit, number, Unit":t.referToSelf(f=>function(h,p,m){var g=h.toNumeric(m);return m.multiply(f(g,p))}),"Unit, BigNumber, Unit":t.referToSelf(f=>(h,p,m)=>f(h,p.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(f=>(h,p,m)=>ar(h,g=>f(g,p,m),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(f=>(h,p)=>f(h,0,p)),"Array | Matrix":t.referToSelf(f=>h=>ar(h,f,!0)),"SparseMatrix, number | BigNumber":t.referToSelf(f=>(h,p)=>l(h,p,f,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(f=>(h,p)=>u(h,p,f,!1)),"Array, number | BigNumber":t.referToSelf(f=>(h,p)=>u(i(h),p,f,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":t.referToSelf(f=>(h,p)=>r(h,0)?s(p.size(),p.storage()):c(p,h,f,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":t.referToSelf(f=>(h,p)=>r(h,0)?s(p.size(),p.storage()):u(p,h,f,!0)),"number | Complex | BigNumber | Fraction, Array":t.referToSelf(f=>(h,p)=>u(i(p),h,f,!0).valueOf())})}),U0t=xe("size",["typed","config","?matrix"],n=>{var{typed:t,config:e,matrix:i}=n;return t("size",{Matrix:function(s){return s.create(s.size(),"number")},Array:zi,string:function(s){return"Array"===e.matrix?[s.length]:i([s.length],"dense","number")},"number | Complex | BigNumber | Unit | boolean | null":function(s){return"Array"===e.matrix?[]:i?i([],"dense","number"):Hhe()}})}),Uk="smaller",V0t=xe(Uk,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,config:e,bignumber:i,matrix:r,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=tu({typed:t}),c=Rm({typed:t,SparseMatrix:a}),u=Hl({typed:t,DenseMatrix:s}),d=yo({typed:t,matrix:r,concat:o}),f=hC({typed:t});function h(p,m){return p.lt(m)&&!gf(p,m,e.relTol,e.absTol)}return t(Uk,z0t({typed:t,config:e}),{"boolean, boolean":(p,m)=>p<m,"BigNumber, BigNumber":h,"bigint, bigint":(p,m)=>p<m,"Fraction, Fraction":(p,m)=>-1===p.compare(m),"Fraction, BigNumber":function(m,g){return h(i(m),g)},"BigNumber, Fraction":function(m,g){return h(m,i(g))},"Complex, Complex":function(m,g){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:c,DS:l,Ss:u}))}),z0t=xe(Uk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Uk,{"number, number":function(r,s){return r<s&&!hc(r,s,e.relTol,e.absTol)}})}),G0t=xe("to",["typed","matrix","concat"],n=>{var{typed:t,matrix:e,concat:i}=n;return t("to",{"Unit, Unit | string":(s,o)=>s.to(o)},yo({typed:t,matrix:e,concat:i})({Ds:!0}))}),QAe="unaryMinus",q0t=xe(QAe,["typed"],n=>{var{typed:t}=n;return t(QAe,{number:Npe,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>i=>{var r=i.clone();return r.value=t.find(e,r.valueType())(i.value),r}),"Array | Matrix":t.referToSelf(e=>i=>ar(i,e,!0))})}),Hk="unequal",$0t=xe(Hk,["typed","config","equalScalar","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,equalScalar:i,matrix:r,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=tu({typed:t}),c=Rm({typed:t,SparseMatrix:a}),u=Hl({typed:t,DenseMatrix:s}),d=yo({typed:t,matrix:r,concat:o});return t(Hk,K0t({typed:t,equalScalar:i}),d({elop:function f(h,p){return!i(h,p)},SS:c,DS:l,Ss:u}))}),K0t=xe(Hk,["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return t(Hk,{"any, any":function(r,s){return null===r?null!==s:null===s?null!==r:void 0===r?void 0!==s:void 0===s?void 0!==r:!e(r,s)}})}),Y0t=xe("xor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,matrix:e,DenseMatrix:i,concat:r,SparseMatrix:s}=n,o=tu({typed:t}),a=Rm({typed:t,SparseMatrix:s}),l=Hl({typed:t,DenseMatrix:i}),c=yo({typed:t,matrix:e,concat:r});return t("xor",{"number, number":yG,"Complex, Complex":function(d,f){return(0!==d.re||0!==d.im)!=(0!==f.re||0!==f.im)},"bigint, bigint":yG,"BigNumber, BigNumber":function(d,f){return(!d.isZero()&&!d.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":t.referToSelf(u=>(d,f)=>u(d.value||0,f.value||0))},c({SS:a,DS:o,Ss:l}))}),J0t=xe("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:t,matrix:e,addScalar:i,equalScalar:r,DenseMatrix:s,concat:a}=n,l=l_({typed:t}),c=CG({typed:t,equalScalar:r}),u=$b({typed:t,DenseMatrix:s}),d=yo({typed:t,matrix:e,concat:a});return t("add",{"any, any":i,"any, any, ...any":t.referToSelf(f=>(h,p,m)=>{for(var g=f(h,p),A=0;A<m.length;A++)g=f(g,m[A]);return g})},d({elop:i,DS:l,SS:c,Ss:u}))}),tbt=xe("atan2",["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,BigNumber:r,DenseMatrix:s,concat:o}=n,a=bp({typed:t,equalScalar:i}),l=tu({typed:t}),c=NAe({typed:t,equalScalar:i}),u=Mc({typed:t,equalScalar:i}),d=Hl({typed:t,DenseMatrix:s}),f=yo({typed:t,matrix:e,concat:o});return t("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":(h,p)=>r.atan2(h,p)},f({scalar:"number | BigNumber",SS:c,DS:l,SD:a,Ss:u,sS:d}))}),ibt=xe("bitXor",["typed","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,matrix:e,DenseMatrix:i,concat:r,SparseMatrix:s}=n,o=tu({typed:t}),a=Rm({typed:t,SparseMatrix:s}),l=Hl({typed:t,DenseMatrix:i});return t("bitXor",{"number, number":Dfe,"BigNumber, BigNumber":Wdt,"bigint, bigint":(u,d)=>u^d},yo({typed:t,matrix:e,concat:r})({SS:a,DS:o,Ss:l}))}),sbt=xe("cbrt",["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],n=>{var{config:t,typed:e,isNegative:i,unaryMinus:r,matrix:s,Complex:o,BigNumber:a,Fraction:l}=n;return e("cbrt",{number:LM,Complex:c,"Complex, boolean":c,BigNumber:function(f){return f.cbrt()},Unit:function u(d){if(d.value&&sg(d.value)){var f=d.clone();return f.value=1,(f=f.pow(1/3)).value=c(d.value),f}var p,h=i(d.value);h&&(d.value=r(d.value)),p=or(d.value)?new a(1).div(3):EM(d.value)?new l(1,3):1/3;var m=d.pow(p);return h&&(m.value=r(m.value)),m}});function c(d,f){var h=d.arg()/3,p=d.abs(),m=new o(LM(p),0).mul(new o(0,h).exp());if(f){var g=[m,new o(LM(p),0).mul(new o(0,h+2*Math.PI/3).exp()),new o(LM(p),0).mul(new o(0,h-2*Math.PI/3).exp())];return"Array"===t.matrix?g:s(g)}return m}}),Vk="compare",abt=xe(Vk,["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],n=>{var{typed:t,config:e,equalScalar:i,matrix:r,BigNumber:s,Fraction:o,DenseMatrix:a,concat:l}=n,c=tu({typed:t}),u=mk({typed:t,equalScalar:i}),d=Hl({typed:t,DenseMatrix:a}),f=yo({typed:t,matrix:r,concat:l}),h=hC({typed:t});return t(Vk,lbt({typed:t,config:e}),{"boolean, boolean":function(m,g){return m===g?0:m>g?1:-1},"BigNumber, BigNumber":function(m,g){return gf(m,g,e.relTol,e.absTol)?new s(0):new s(m.cmp(g))},"bigint, bigint":function(m,g){return m===g?0n:m>g?1n:-1n},"Fraction, Fraction":function(m,g){return new o(m.compare(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,f({SS:u,DS:c,Ss:d}))}),lbt=xe(Vk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Vk,{"number, number":function(r,s){return hc(r,s,e.relTol,e.absTol)?0:r>s?1:-1}})}),KAe="compareText",cbt=["typed","matrix","concat"];iG.signature="any, any";var ubt=xe(KAe,cbt,n=>{var{typed:t,matrix:e,concat:i}=n,r=yo({typed:t,matrix:e,concat:i});return t(KAe,iG,r({elop:iG,Ds:!0}))}),hbt=xe("count",["typed","size","prod"],n=>{var{typed:t,size:e,prod:i}=n;return t("count",{string:function(s){return s.length},"Matrix | Array":function(s){return i(e(s))}})}),pbt=xe("deepEqual",["typed","equal"],n=>{var{typed:t,equal:e}=n;return t("deepEqual",{"any, any":function(s,o){return i(s.valueOf(),o.valueOf())}});function i(r,s){if(Array.isArray(r)){if(Array.isArray(s)){var o=r.length;if(o!==s.length)return!1;for(var a=0;a<o;a++)if(!i(r[a],s[a]))return!1;return!0}return!1}return!Array.isArray(s)&&e(r,s)}}),ZAe="divideScalar",Abt=xe(ZAe,["typed","numeric"],n=>{var{typed:t}=n;return t(ZAe,{"number, number":function(r,s){return r/s},"Complex, Complex":function(r,s){return r.div(s)},"BigNumber, BigNumber":function(r,s){return r.div(s)},"bigint, bigint":function(r,s){return r/s},"Fraction, Fraction":function(r,s){return r.div(s)},"Unit, number | Complex | Fraction | BigNumber | Unit":(i,r)=>i.divide(r),"number | Fraction | Complex | BigNumber, Unit":(i,r)=>r.divideInto(i)})}),vbt=xe("dotDivide",["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,matrix:e,equalScalar:i,divideScalar:r,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=bp({typed:t,equalScalar:i}),c=tu({typed:t}),u=Rm({typed:t,SparseMatrix:a}),d=Mc({typed:t,equalScalar:i}),f=Hl({typed:t,DenseMatrix:s});return t("dotDivide",yo({typed:t,matrix:e,concat:o})({elop:r,SS:u,DS:c,SD:l,Ss:d,sS:f}))}),bbt=xe("equalText",["typed","compareText","isZero"],n=>{var{typed:t,compareText:e,isZero:i}=n;return t("equalText",{"any, any":function(s,o){return i(e(s,o))}})}),VG="floor",ybt=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],wbt=new Dk(10),xbt=xe(VG,["typed","config","round"],n=>{var{typed:t,config:e,round:i}=n;function r(s){var o=Math.floor(s),a=i(s);return o===a?o:hc(s,a,e.relTol,e.absTol)&&!hc(s,o,e.relTol,e.absTol)?a:o}return t(VG,{number:r,"number, number":function(o,a){if(!ai(a))throw new RangeError("number of decimals in function floor must be an integer");if(a<0||a>15)throw new RangeError("number of decimals in floor number must be in range 0 - 15");var l=10**a;return r(o*l)/l}})}),tge=xe(VG,ybt,n=>{var{typed:t,config:e,round:i,matrix:r,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Mc({typed:t,equalScalar:s}),c=Hl({typed:t,DenseMatrix:a}),u=pf({typed:t}),d=xbt({typed:t,config:e,round:i});function f(h){var p=(A,_)=>gf(A,_,e.relTol,e.absTol),m=h.floor(),g=i(h);return m.eq(g)?m:p(h,g)&&!p(h,m)?g:m}return t("floor",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.floor()},"Complex, number":function(p,m){return p.floor(m)},"Complex, BigNumber":function(p,m){return p.floor(m.toNumber())},BigNumber:f,"BigNumber, BigNumber":function(p,m){var g=wbt.pow(m);return f(p.mul(g)).div(g)},bigint:h=>h,"bigint, number":(h,p)=>h,"bigint, BigNumber":(h,p)=>h,Fraction:function(p){return p.floor()},"Fraction, number":function(p,m){return p.floor(m)},"Fraction, BigNumber":function(p,m){return p.floor(m.toNumber())},"Unit, number, Unit":t.referToSelf(h=>function(p,m,g){var A=p.toNumeric(g);return g.multiply(h(A,m))}),"Unit, BigNumber, Unit":t.referToSelf(h=>(p,m,g)=>h(p,m.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(h=>(p,m,g)=>ar(p,A=>h(A,m,g),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(h=>(p,m)=>h(p,0,m)),"Array | Matrix":t.referToSelf(h=>p=>ar(p,h,!0)),"Array, number | BigNumber":t.referToSelf(h=>(p,m)=>ar(p,g=>h(g,m),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(h=>(p,m)=>l(p,m,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(p,m)=>u(p,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(h=>(p,m)=>u(r(m),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(h=>(p,m)=>s(p,0)?o(m.size(),m.storage()):"dense"===m.storage()?u(m,p,h,!0):c(m,p,h,!0))})}),ige=xe("mod",["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:t,config:e,round:i,matrix:r,equalScalar:s,zeros:o,DenseMatrix:a,concat:l}=n,c=tge({typed:t,config:e,round:i,matrix:r,equalScalar:s,zeros:o,DenseMatrix:a}),u=bp({typed:t,equalScalar:s}),d=tu({typed:t}),f=mk({typed:t,equalScalar:s}),h=Mc({typed:t,equalScalar:s}),p=Hl({typed:t,DenseMatrix:a});return t("mod",{"number, number":function g(A,_){return 0===_?A:A-_*c(A/_)},"BigNumber, BigNumber":function(_,v){return v.isZero()?_:_.sub(v.mul(c(_.div(v))))},"bigint, bigint":function(_,v){if(0n===v)return _;if(_<0){var b=_%v;return 0n===b?b:b+v}return _%v},"Fraction, Fraction":function(_,v){return v.equals(0)?_:_.sub(v.mul(c(_.div(v))))}},yo({typed:t,matrix:r,concat:l})({SS:f,DS:d,SD:u,Ss:h,sS:p}))}),Sbt=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],zG="number | BigNumber | Fraction | Matrix | Array",Ebt="".concat(zG,", ").concat(zG,", ...").concat(zG);function sge(n){return!n.some(t=>Array.isArray(t))}var Dbt=xe("gcd",Sbt,n=>{var{typed:t,matrix:e,config:i,round:r,equalScalar:s,zeros:o,BigNumber:a,DenseMatrix:l,concat:c}=n,u=ige({typed:t,config:i,round:r,matrix:e,equalScalar:s,zeros:o,DenseMatrix:l,concat:c}),d=l_({typed:t}),f=CG({typed:t,equalScalar:s}),h=$b({typed:t,DenseMatrix:l});return t("gcd",{"number, number":function m(A,_){if(!ai(A)||!ai(_))throw new Error("Parameters in function gcd must be integer numbers");for(var v;0!==_;)v=u(A,_),A=_,_=v;return A<0?-A:A},"BigNumber, BigNumber":function g(A,_){if(!A.isInt()||!_.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var v=new a(0);!_.isZero();){var b=u(A,_);A=_,_=b}return A.lt(v)?A.neg():A},"Fraction, Fraction":(A,_)=>A.gcd(_)},yo({typed:t,matrix:e,concat:c})({SS:f,DS:d,Ss:h}),{[Ebt]:t.referToSelf(A=>(_,v,b)=>{for(var w=A(_,v),y=0;y<b.length;y++)w=A(w,b[y]);return w}),Array:t.referToSelf(A=>_=>{if(1===_.length&&Array.isArray(_[0])&&sge(_[0]))return A(..._[0]);if(sge(_))return A(..._);throw new Yb("gcd() supports only 1d matrices!")}),Matrix:t.referToSelf(A=>_=>A(_.toArray()))})}),oge="hasNumericValue",Tbt=xe(oge,["typed","isNumeric"],n=>{var{typed:t,isNumeric:e}=n;return t(oge,{boolean:()=>!0,string:function(r){return r.trim().length>0&&!isNaN(Number(r))},any:function(r){return e(r)}})}),Ibt=xe("hypot",["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],n=>{var{typed:t,abs:e,addScalar:i,divideScalar:r,multiplyScalar:s,sqrt:o,smaller:a,isPositive:l}=n;return t("hypot",{"... number | BigNumber":c,Array:c,Matrix:u=>c(ps(u.toArray(),!0))});function c(u){for(var d=0,f=0,h=0;h<u.length;h++){if(sg(u[h]))throw new TypeError("Unexpected type of argument to hypot");var p=e(u[h]);a(f,p)?(d=s(d,s(r(f,p),r(f,p))),d=i(d,1),f=p):d=i(d,l(p)?s(r(p,f),r(p,f)):p)}return s(f,o(d))}}),Pbt=xe("ImmutableDenseMatrix",["smaller","DenseMatrix"],n=>{var{smaller:t,DenseMatrix:e}=n;function i(r,s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!eu(s))throw new Error("Invalid datatype: "+s);if(Ci(r)||io(r)){var o=new e(r,s);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(r&&io(r.data)&&io(r.size))this._data=r.data,this._size=r.size,this._datatype=r.datatype,this._min=typeof r.min<"u"?r.min:null,this._max=typeof r.max<"u"?r.max:null;else{if(r)throw new TypeError("Unsupported type of data ("+ro(r)+")");this._data=[],this._size=[0],this._datatype=s,this._min=null,this._max=null}}return(i.prototype=new e).type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(r){switch(arguments.length){case 1:var s=e.prototype.subset.call(this,r);return Ci(s)?new i({data:s._data,size:s._size,datatype:s._datatype}):s;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},i.prototype.clone=function(){return new i({data:Ji(this._data),size:Ji(this._size),datatype:this._datatype})},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(r){return new i(r)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var r=null;this.forEach(function(s){(null===r||t(s,r))&&(r=s)}),this._min=null!==r?r:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var r=null;this.forEach(function(s){(null===r||t(r,s))&&(r=s)}),this._max=null!==r?r:void 0}return this._max},i},{isClass:!0}),kbt=xe("Index",["ImmutableDenseMatrix","getMatrixDataType"],n=>{var{ImmutableDenseMatrix:t,getMatrixDataType:e}=n;function i(s){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var o=0,a=arguments.length;o<a;o++){var l=arguments[o],c=io(l),u=Ci(l),d=typeof l,f=null;if(ZQ(l))this._dimensions.push(l),this._isScalar=!1;else if(c||u){var h=void 0;"boolean"===e(l)?(c&&(h=r(lge(l).valueOf())),u&&(h=r(lge(l._data).valueOf())),f=l.valueOf().length):h=r(l.valueOf()),this._dimensions.push(h);var p=h.size();(1!==p.length||1!==p[0]||null!==f)&&(this._isScalar=!1)}else if("number"===d)this._dimensions.push(r([l]));else if("bigint"===d)this._dimensions.push(r([Number(l)]));else{if("string"!==d)throw new TypeError("Dimension must be an Array, Matrix, number, bigint, string, or Range");this._dimensions.push(l)}this._sourceSize.push(f)}}function r(s){for(var o=0,a=s.length;o<a;o++)if("number"!=typeof s[o]||!ai(s[o]))throw new TypeError("Index parameters must be positive integer numbers");return new t(s)}return i.prototype.type="Index",i.prototype.isIndex=!0,i.prototype.clone=function(){var s=new i;return s._dimensions=Ji(this._dimensions),s._isScalar=this._isScalar,s._sourceSize=this._sourceSize,s},i.create=function(s){var o=new i;return i.apply(o,s),o},i.prototype.size=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?1:l.size()[0]}return s},i.prototype.max=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.max()}return s},i.prototype.min=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s[o]="string"==typeof l?l:l.min()}return s},i.prototype.forEach=function(s){for(var o=0,a=this._dimensions.length;o<a;o++)s(this._dimensions[o],o,this)},i.prototype.dimension=function(s){return"number"!=typeof s?null:this._dimensions[s]||null},i.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},i.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},i.prototype.isScalar=function(){return this._isScalar},i.prototype.valueOf=i.prototype.toArray=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?l:l.toArray())}return s},i.prototype.toString=function(){for(var s=[],o=0,a=this._dimensions.length;o<a;o++){var l=this._dimensions[o];s.push("string"==typeof l?JSON.stringify(l):l.toString())}return"["+s.join(", ")+"]"},i.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},i.fromJSON=function(s){return i.create(s.dimensions)},i},{isClass:!0});function lge(n){var t=[];return n.forEach((e,i)=>{e&&t.push(i)}),t}var zk="larger",Ubt=xe(zk,["typed","config","bignumber","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,config:e,bignumber:i,matrix:r,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=tu({typed:t}),c=Rm({typed:t,SparseMatrix:a}),u=Hl({typed:t,DenseMatrix:s}),d=yo({typed:t,matrix:r,concat:o}),f=hC({typed:t});function h(p,m){return p.gt(m)&&!gf(p,m,e.relTol,e.absTol)}return t(zk,Hbt({typed:t,config:e}),{"boolean, boolean":(p,m)=>p>m,"BigNumber, BigNumber":h,"bigint, bigint":(p,m)=>p>m,"Fraction, Fraction":(p,m)=>1===p.compare(m),"Fraction, BigNumber":function(m,g){return h(i(m),g)},"BigNumber, Fraction":function(m,g){return h(m,i(g))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},f,d({SS:c,DS:l,Ss:u}))}),Hbt=xe(zk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(zk,{"number, number":function(r,s){return r>s&&!hc(r,s,e.relTol,e.absTol)}})}),Vbt=["config","typed","typeOf","divideScalar","Complex"],zbt=Math.log(16),Qbt=xe("log",Vbt,n=>{var{typed:t,typeOf:e,config:i,divideScalar:r,Complex:s}=n;function o(l){return l.log()}function a(l){return o(new s(l,0))}return t("log",{number:function(c){return c>=0||i.predictable?Rpe(c):a(c)},bigint:kG(zbt,Rpe,i,a),Complex:o,BigNumber:function(c){return!c.isNegative()||i.predictable?c.ln():a(c.toNumber())},"any, any":t.referToSelf(l=>(c,u)=>{if("Fraction"===e(c)&&"Fraction"===e(u)){var d=c.log(u);if(null!==d)return d}return r(l(c),l(u))})})});function VM(n){var{DenseMatrix:t}=n;return function(i,r,s){var o=i.size();if(2!==o.length)throw new RangeError("Matrix must be two dimensional (size: "+Cr(o)+")");var a=o[0];if(a!==o[1])throw new RangeError("Matrix must be square (size: "+Cr(o)+")");var c=[];if(Ci(r)){var u=r.size(),d=r._data;if(1===u.length){if(u[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<a;f++)c[f]=[d[f]];return new t({data:c,size:[a,1],datatype:r._datatype})}if(2===u.length){if(u[0]!==a||1!==u[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(HR(r)){if(s){c=[];for(var h=0;h<a;h++)c[h]=[d[h][0]];return new t({data:c,size:[a,1],datatype:r._datatype})}return r}if(Gb(r)){for(var p=0;p<a;p++)c[p]=[0];for(var m=r._values,g=r._index,A=r._ptr,_=A[1],v=A[0];v<_;v++)c[g[v]][0]=m[v];return new t({data:c,size:[a,1],datatype:r._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(io(r)){var w=zi(r);if(1===w.length){if(w[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var y=0;y<a;y++)c[y]=[r[y]];return new t({data:c,size:[a,1]})}if(2===w.length){if(w[0]!==a||1!==w[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<a;C++)c[C]=[r[C][0]];return new t({data:c,size:[a,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var jbt=xe("lsolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:t,matrix:e,divideScalar:i,multiplyScalar:r,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=VM({DenseMatrix:a});return t("lsolve",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=(f=l(d,f,!0))._data,p=d._size[0],m=d._size[1],g=d._values,A=d._index,_=d._ptr,v=[],b=0;b<m;b++){var w=h[b][0]||0;if(o(w,0))v[b]=[0];else{for(var y=0,C=[],D=[],T=_[b+1],M=_[b];M<T;M++){var F=A[M];F===b?y=g[M]:F>b&&(C.push(g[M]),D.push(F))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(w,y),U=0,z=D.length;U<z;U++){var O=D[U];h[O]=[s(h[O][0]||0,r(L,C[U]))]}v[b]=[L]}}return new a({data:v,size:[p,1]})}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(e(f),h).valueOf()}});function c(d,f){for(var h=(f=l(d,f,!0))._data,p=d._size[0],m=d._size[1],g=[],A=d._data,_=0;_<m;_++){var v=h[_][0]||0,b=void 0;if(o(v,0))b=0;else{var w=A[_][_];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(v,w);for(var y=_+1;y<p;y++)h[y]=[s(h[y][0]||0,r(b,A[y][_]))]}g[_]=[b]}return new a({data:g,size:[p,1]})}}),dge="matrixFromColumns",Wbt=xe(dge,["typed","matrix","flatten","size"],n=>{var{typed:t,matrix:e,flatten:i,size:r}=n;return t(dge,{"...Array":function(l){return s(l)},"...Matrix":function(l){return e(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=o(a[0]),c=[],u=0;u<l;u++)c[u]=[];for(var d of a){var f=o(d);if(f!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|f));for(var h=i(d),p=0;p<l;p++)c[p].push(h[p])}return c}function o(a){var l=r(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Kbt=xe("nthRoots",["config","typed","divideScalar","Complex"],n=>{var{typed:t,Complex:r}=n,s=[function(l){return new r(l,0)},function(l){return new r(0,l)},function(l){return new r(-l,0)},function(l){return new r(0,-l)}];function o(a,l){if(l<0)throw new Error("Root must be greater than zero");if(0===l)throw new Error("Root must be non-zero");if(l%1!=0)throw new Error("Root must be an integer");if(0===a||0===a.abs())return[new r(0,0)];var u,c="number"==typeof a;(c||0===a.re||0===a.im)&&(u=c?2*+(a<0):0===a.im?2*+(a.re<0):2*+(a.im<0)+1);for(var d=a.arg(),f=a.abs(),h=[],p=Math.pow(f,1/l),m=0;m<l;m++){var g=(u+4*m)/l;g!==Math.round(g)?h.push(new r({r:p,phi:(d+2*Math.PI*m)/l})):h.push(s[g%4](p))}return h}return t("nthRoots",{Complex:function(l){return o(l,2)},"Complex, number":o})}),fge="partitionSelect",Ybt=xe(fge,["typed","isNumeric","isNaN","compare"],n=>{var{typed:t,isNumeric:e,isNaN:i,compare:r}=n,s=r,o=(c,u)=>-r(c,u);return t(fge,{"Array | Matrix, number":function(u,d){return a(u,d,s)},"Array | Matrix, number, string":function(u,d,f){if("asc"===f)return a(u,d,s);if("desc"===f)return a(u,d,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(c,u,d){if(!ai(u)||u<0)throw new Error("k must be a non-negative integer");if(Ci(c)){if(c.size().length>1)throw new Error("Only one dimensional matrices supported");return l(c.valueOf(),u,d)}if(Array.isArray(c))return l(c,u,d)}function l(c,u,d){if(u>=c.length)throw new Error("k out of bounds");for(var f=0;f<c.length;f++)if(e(c[f])&&i(c[f]))return c[f];for(var h=0,p=c.length-1;h<p;){for(var m=h,g=p,A=c[Math.floor(Math.random()*(p-h+1))+h];m<g;)if(d(c[m],A)>=0){var _=c[g];c[g]=c[m],c[m]=_,--g}else++m;d(c[m],A)>0&&--m,u<=m?p=m:h=m+1}return c[u]}}),Jbt=xe("qr",["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],n=>{var{typed:t,matrix:e,zeros:i,identity:r,isZero:s,equal:o,sign:a,sqrt:l,conj:c,unaryMinus:u,addScalar:d,divideScalar:f,multiplyScalar:h,subtractScalar:p,complex:m}=n;return Ul(t("qr",{DenseMatrix:function(b){return A(b)},SparseMatrix:function(b){return function _(v){throw new Error("qr not implemented for sparse matrices yet")}()},Array:function(b){var y=A(e(b));return{Q:y.Q.valueOf(),R:y.R.valueOf()}}}),{_denseQRimpl:g});function g(v){var T,M,F,b=v._size[0],w=v._size[1],y=r([b],"dense"),C=y._data,D=v.clone(),S=D._data,L=i([b],"");for(F=0;F<Math.min(w,b);++F){var U=S[F][F],z=u(o(U,0)?1:a(U)),O=c(z),G=0;for(T=F;T<b;T++)G=d(G,h(S[T][F],c(S[T][F])));var j=h(z,l(G));if(!s(j)){var J=p(U,j);for(L[F]=1,T=F+1;T<b;T++)L[T]=f(S[T][F],J);var le=u(c(f(J,j))),ye=void 0;for(M=F;M<w;M++){for(ye=0,T=F;T<b;T++)ye=d(ye,h(c(L[T]),S[T][M]));for(ye=h(ye,le),T=F;T<b;T++)S[T][M]=h(p(S[T][M],h(L[T],ye)),O)}for(T=0;T<b;T++){for(ye=0,M=F;M<b;M++)ye=d(ye,h(C[T][M],L[M]));for(ye=h(ye,le),M=F;M<b;++M)C[T][M]=f(p(C[T][M],h(ye,c(L[M]))),O)}}}return{Q:y,R:D,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}function A(v){var b=g(v),w=b.R._data;if(v._data.length>0)for(var y="Complex"===w[0][0].type?m(0):0,C=0;C<w.length;++C)for(var D=0;D<C&&D<(w[0]||[]).length;++D)w[C][D]=y;return b}}),mge="rightLogShift",tyt=xe(mge,["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,zeros:r,DenseMatrix:s,concat:o}=n,a=l_({typed:t}),l=bp({typed:t,equalScalar:i}),c=UG({typed:t,equalScalar:i}),u=$b({typed:t,DenseMatrix:s}),d=Mc({typed:t,equalScalar:i}),f=pf({typed:t}),h=yo({typed:t,matrix:e,concat:o}),p=HG({typed:t,matrix:e});return t(mge,{"number, number":Nfe,"SparseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():d(g,A,m,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(m=>(g,A)=>i(A,0)?g.clone():f(g,A,m,!1)),"number | BigNumber, SparseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):u(A,g,m,!0)),"number | BigNumber, DenseMatrix":t.referToSelf(m=>(g,A)=>i(g,0)?r(A.size(),A.storage()):f(A,g,m,!0))},p,h({SS:c,DS:a,SD:l}))}),Qk="smallerEq",iyt=xe(Qk,["typed","config","matrix","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,config:e,matrix:i,DenseMatrix:r,concat:s,SparseMatrix:o}=n,a=tu({typed:t}),l=Rm({typed:t,SparseMatrix:o}),c=Hl({typed:t,DenseMatrix:r}),u=yo({typed:t,matrix:i,concat:s}),d=hC({typed:t});return t(Qk,ryt({typed:t,config:e}),{"boolean, boolean":(f,h)=>f<=h,"BigNumber, BigNumber":function(h,p){return h.lte(p)||gf(h,p,e.relTol,e.absTol)},"bigint, bigint":(f,h)=>f<=h,"Fraction, Fraction":(f,h)=>1!==f.compare(h),"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},d,u({SS:l,DS:a,Ss:c}))}),ryt=xe(Qk,["typed","config"],n=>{var{typed:t,config:e}=n;return t(Qk,{"number, number":function(r,s){return r<=s||hc(r,s,e.relTol,e.absTol)}})}),oyt=xe("subtract",["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,subtractScalar:r,DenseMatrix:o,concat:a}=n,l=l_({typed:t}),c=tu({typed:t}),u=mk({typed:t,equalScalar:i}),d=$b({typed:t,DenseMatrix:o}),f=Hl({typed:t,DenseMatrix:o});return t("subtract",{"any, any":r},yo({typed:t,matrix:e,concat:a})({elop:r,SS:u,DS:l,SD:c,Ss:f,sS:d}))}),cyt=xe("trace",["typed","matrix","add"],n=>{var{typed:t,matrix:e,add:i}=n;return t("trace",{Array:function(a){return r(e(a))},SparseMatrix:function s(o){var a=o._values,l=o._index,c=o._ptr,u=o._size,f=u[1];if(u[0]===f){var h=0;if(a.length>0)for(var p=0;p<f;p++)for(var g=c[p+1],A=c[p];A<g;A++){var _=l[A];if(_===p){h=i(h,a[A]);break}if(_>p)break}return h}throw new RangeError("Matrix must be square (size: "+Cr(u)+")")},DenseMatrix:r,any:Ji});function r(o){var a=o._size,l=o._data;switch(a.length){case 1:if(1===a[0])return Ji(l[0]);throw new RangeError("Matrix must be square (size: "+Cr(a)+")");case 2:var c=a[0];if(c===a[1]){for(var d=0,f=0;f<c;f++)d=i(d,l[f][f]);return d}throw new RangeError("Matrix must be square (size: "+Cr(a)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Cr(a)+")")}}}),dyt=xe("usolve",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:t,matrix:e,divideScalar:i,multiplyScalar:r,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=VM({DenseMatrix:a});return t("usolve",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=(f=l(d,f,!0))._data,p=d._size[0],g=d._values,A=d._index,_=d._ptr,v=[],b=d._size[1]-1;b>=0;b--){var w=h[b][0]||0;if(o(w,0))v[b]=[0];else{for(var y=0,C=[],D=[],S=_[b],M=_[b+1]-1;M>=S;M--){var F=A[M];F===b?y=g[M]:F<b&&(C.push(g[M]),D.push(F))}if(o(y,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var L=i(w,y),U=0,z=D.length;U<z;U++){var O=D[U];h[O]=[s(h[O][0],r(L,C[U]))]}v[b]=[L]}}return new a({data:v,size:[p,1]})}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(e(f),h).valueOf()}});function c(d,f){for(var h=(f=l(d,f,!0))._data,p=d._size[0],g=[],A=d._data,_=d._size[1]-1;_>=0;_--){var v=h[_][0]||0,b=void 0;if(o(v,0))b=0;else{var w=A[_][_];if(o(w,0))throw new Error("Linear system cannot be solved since matrix is singular");b=i(v,w);for(var y=_-1;y>=0;y--)h[y]=[s(h[y][0]||0,r(b,A[y][_]))]}g[_]=[b]}return new a({data:g,size:[p,1]})}}),fyt=xe("catalan",["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],n=>{var{typed:t,addScalar:e,divideScalar:i,multiplyScalar:r,combinations:s,isNegative:o,isInteger:a}=n;return t("catalan",{"number | BigNumber":function(c){if(!a(c)||o(c))throw new TypeError("Non-negative integer value expected in function catalan");return i(s(r(c,2),c),e(c,1))}})}),gC=Me(7955),_ge="compareNatural",myt=xe(_ge,["typed","compare"],n=>{var{typed:t,compare:e}=n,i=e.signatures["boolean,boolean"];return t(_ge,{"any, any":function r(l,c){var f,u=ro(l),d=ro(c);if(!("number"!==u&&"BigNumber"!==u&&"Fraction"!==u||"number"!==d&&"BigNumber"!==d&&"Fraction"!==d))return"0"!==(f=e(l,c)).toString()?f>0?1:-1:gC(u,d);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(u)||h.includes(d))return 0!==(f=s(r,l,c))?f:gC(u,d);if(u!==d)return gC(u,d);if("Complex"===u)return function Ayt(n,t){return n.re>t.re?1:n.re<t.re?-1:n.im>t.im?1:n.im<t.im?-1:0}(l,c);if("Unit"===u)return l.equalBase(c)?r(l.value,c.value):o(r,l.formatUnits(),c.formatUnits());if("boolean"===u)return i(l,c);if("string"===u)return gC(l,c);if("Object"===u)return function a(l,c,u){var d=Object.keys(c),f=Object.keys(u);d.sort(gC),f.sort(gC);var h=o(l,d,f);if(0!==h)return h;for(var p=0;p<d.length;p++){var m=l(c[d[p]],u[f[p]]);if(0!==m)return m}return 0}(r,l,c);if("null"===u||"undefined"===u)return 0;throw new TypeError('Unsupported type of value "'+u+'"')}});function s(l,c,u){return Gb(c)&&Gb(u)?o(l,c.toJSON().values,u.toJSON().values):Gb(c)?s(l,c.toArray(),u):Gb(u)?s(l,c,u.toArray()):HR(c)?s(l,c.toJSON().data,u):HR(u)?s(l,c,u.toJSON().data):Array.isArray(c)?Array.isArray(u)?o(l,c,u):s(l,c,[u]):s(l,[c],u)}function o(l,c,u){for(var d=0,f=Math.min(c.length,u.length);d<f;d++){var h=l(c[d],u[d]);if(0!==h)return h}return c.length>u.length?1:c.length<u.length?-1:0}}),bge="composition",vyt=xe(bge,["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],n=>{var{typed:t,addScalar:e,combinations:i,isPositive:r,isInteger:o,larger:a}=n;return t(bge,{"number | BigNumber, number | BigNumber":function(c,u){if(!(o(c)&&r(c)&&o(u)&&r(u)))throw new TypeError("Positive integer value expected in function composition");if(a(u,c))throw new TypeError("k must be less than or equal to n in function composition");return i(e(c,-1),e(u,-1))}})}),byt=xe("distance",["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],n=>{var{typed:t,addScalar:e,subtractScalar:i,multiplyScalar:r,divideScalar:s,deepEqual:o,sqrt:a,abs:l}=n;return t("distance",{"Array, Array, Array":function(w,y,C){if(2===w.length&&2===y.length&&2===C.length){if(!u(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!u(y))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!u(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(o(y,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var D=i(C[1],y[1]),S=i(y[0],C[0]),T=i(r(C[0],y[1]),r(y[0],C[1]));return g(w[0],w[1],D,S,T)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(w,y,C){if(2===Object.keys(w).length&&2===Object.keys(y).length&&2===Object.keys(C).length){if(!u(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!u(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(o(p(y),p(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in w&&"pointY"in w&&"lineOnePtX"in y&&"lineOnePtY"in y&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var D=i(C.lineTwoPtY,y.lineOnePtY),S=i(y.lineOnePtX,C.lineTwoPtX),T=i(r(C.lineTwoPtX,y.lineOnePtY),r(y.lineOnePtX,C.lineTwoPtY));return g(w.pointX,w.pointY,D,S,T)}throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(w,y){if(2===w.length&&3===y.length){if(!u(w))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!d(y))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return g(w[0],w[1],y[0],y[1],y[2])}if(3===w.length&&6===y.length){if(!d(w))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(y))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return A(w[0],w[1],w[2],y[0],y[1],y[2],y[3],y[4],y[5])}if(w.length===y.length&&w.length>0){if(!f(w))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!f(y))throw new TypeError("All values of an array should be numbers or BigNumbers");return _(w,y)}throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(w,y){if(2===Object.keys(w).length&&3===Object.keys(y).length){if(!u(w))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!d(y))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"xCoeffLine"in y&&"yCoeffLine"in y&&"constant"in y)return g(w.pointX,w.pointY,y.xCoeffLine,y.yCoeffLine,y.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(w).length&&6===Object.keys(y).length){if(!d(w))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(y))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in w&&"pointY"in w&&"x0"in y&&"y0"in y&&"z0"in y&&"a"in y&&"b"in y&&"c"in y)return A(w.pointX,w.pointY,w.pointZ,y.x0,y.y0,y.z0,y.a,y.b,y.c);throw new TypeError("Key names do not match")}if(2===Object.keys(w).length&&2===Object.keys(y).length){if(!u(w))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!u(y))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointTwoX"in y&&"pointTwoY"in y)return _([w.pointOneX,w.pointOneY],[y.pointTwoX,y.pointTwoY]);throw new TypeError("Key names do not match")}if(3===Object.keys(w).length&&3===Object.keys(y).length){if(!d(w))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!d(y))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in w&&"pointOneY"in w&&"pointOneZ"in w&&"pointTwoX"in y&&"pointTwoY"in y&&"pointTwoZ"in y)return _([w.pointOneX,w.pointOneY,w.pointOneZ],[y.pointTwoX,y.pointTwoY,y.pointTwoZ]);throw new TypeError("Key names do not match")}throw new TypeError("Invalid Arguments: Try again")},Array:function(w){if(!function m(b){if(2===b[0].length&&c(b[0][0])&&c(b[0][1])){if(b.some(w=>2!==w.length||!c(w[0])||!c(w[1])))return!1}else{if(!(3===b[0].length&&c(b[0][0])&&c(b[0][1])&&c(b[0][2])))return!1;if(b.some(w=>3!==w.length||!c(w[0])||!c(w[1])||!c(w[2])))return!1}return!0}(w))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function v(b){for(var w=[],y=[],C=[],D=0;D<b.length-1;D++)for(var S=D+1;S<b.length;S++)2===b[0].length?(y=[b[D][0],b[D][1]],C=[b[S][0],b[S][1]]):3===b[0].length&&(y=[b[D][0],b[D][1],b[D][2]],C=[b[S][0],b[S][1],b[S][2]]),w.push(_(y,C));return w}(w)}});function c(b){return"number"==typeof b||or(b)}function u(b){return b.constructor!==Array&&(b=p(b)),c(b[0])&&c(b[1])}function d(b){return b.constructor!==Array&&(b=p(b)),c(b[0])&&c(b[1])&&c(b[2])}function f(b){return Array.isArray(b)||(b=p(b)),b.every(c)}function h(b){return b.constructor!==Array&&(b=p(b)),c(b[0])&&c(b[1])&&c(b[2])&&c(b[3])&&c(b[4])&&c(b[5])}function p(b){for(var w=Object.keys(b),y=[],C=0;C<w.length;C++)y.push(b[w[C]]);return y}function g(b,w,y,C,D){var S=l(e(e(r(y,b),r(C,w)),D)),T=a(e(r(y,y),r(C,C)));return s(S,T)}function A(b,w,y,C,D,S,T,M,F){var L=[i(r(i(D,w),F),r(i(S,y),M)),i(r(i(S,y),T),r(i(C,b),F)),i(r(i(C,b),M),r(i(D,w),T))];L=a(e(e(r(L[0],L[0]),r(L[1],L[1])),r(L[2],L[2])));var U=a(e(e(r(T,T),r(M,M)),r(F,F)));return s(L,U)}function _(b,w){for(var y=b.length,C=0,D=0,S=0;S<y;S++)D=i(b[S],w[S]),C=e(r(D,D),C);return a(C)}}),wyt=xe("dot",["typed","addScalar","multiplyScalar","conj","size"],n=>{var{typed:t,addScalar:e,multiplyScalar:i,conj:r,size:s}=n;return t("dot",{"Array | DenseMatrix, Array | DenseMatrix":function a(u,d){var f=o(u,d),h=Ci(u)?u._data:u,p=Ci(u)?u._datatype||u.getDataType():void 0,m=Ci(d)?d._data:d,g=Ci(d)?d._datatype||d.getDataType():void 0,A=2===c(u).length,_=2===c(d).length,v=e,b=i;if(p&&g&&p===g&&"string"==typeof p&&"mixed"!==p){var w=p;v=t.find(e,[w,w]),b=t.find(i,[w,w])}if(!A&&!_){for(var y=b(r(h[0]),m[0]),C=1;C<f;C++)y=v(y,b(r(h[C]),m[C]));return y}if(!A&&_){for(var D=b(r(h[0]),m[0][0]),S=1;S<f;S++)D=v(D,b(r(h[S]),m[S][0]));return D}if(A&&!_){for(var T=b(r(h[0][0]),m[0]),M=1;M<f;M++)T=v(T,b(r(h[M][0]),m[M]));return T}if(A&&_){for(var F=b(r(h[0][0]),m[0][0]),L=1;L<f;L++)F=v(F,b(r(h[L][0]),m[L][0]));return F}},"SparseMatrix, SparseMatrix":function l(u,d){o(u,d);for(var f=u._index,h=u._values,p=d._index,m=d._values,g=0,A=e,_=i,v=0,b=0;v<f.length&&b<p.length;){var w=f[v],y=p[b];w<y?v++:w>y?b++:w===y&&(g=A(g,_(h[v],m[b])),v++,b++)}return g}});function o(u,d){var p,m,f=c(u),h=c(d);if(1===f.length)p=f[0];else{if(2!==f.length||1!==f[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");p=f[0]}if(1===h.length)m=h[0];else{if(2!==h.length||1!==h[1])throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");m=h[0]}if(p!==m)throw new RangeError("Vectors must have equal length ("+p+" != "+m+")");if(0===p)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function c(u){return Ci(u)?u.size():s(u)}}),Syt=xe("FibonacciHeap",["smaller","larger"],n=>{var{smaller:t,larger:e}=n,i=1/Math.log((1+Math.sqrt(5))/2);function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(u,d,f){d.left.right=d.right,d.right.left=d.left,f.degree--,f.child===d&&(f.child=d.right),0===f.degree&&(f.child=null),d.left=u,d.right=u.right,u.right=d,d.right.left=d,d.parent=null,d.mark=!1}function a(u,d){var f=d.parent;f&&(d.mark?(o(u,d,f),a(f)):d.mark=!0)}r.prototype.type="FibonacciHeap",r.prototype.isFibonacciHeap=!0,r.prototype.insert=function(u,d){var f={key:u,value:d,degree:0};if(this._minimum){var h=this._minimum;f.left=h,f.right=h.right,h.right=f,f.right.left=f,t(u,h.key)&&(this._minimum=f)}else f.left=f,f.right=f,this._minimum=f;return this._size++,f},r.prototype.size=function(){return this._size},r.prototype.clear=function(){this._minimum=null,this._size=0},r.prototype.isEmpty=function(){return 0===this._size},r.prototype.extractMinimum=function(){var u=this._minimum;if(null===u)return u;for(var d=this._minimum,f=u.degree,h=u.child;f>0;){var p=h.right;h.left.right=h.right,h.right.left=h.left,h.left=d,h.right=d.right,d.right=h,h.right.left=h,h.parent=null,h=p,f--}return u.left.right=u.right,u.right.left=u.left,d=u===u.right?null:function c(u,d){var g,f=Math.floor(Math.log(d)*i)+1,h=new Array(f),p=0,m=u;if(m)for(p++,m=m.right;m!==u;)p++,m=m.right;for(;p>0;){for(var A=m.degree,_=m.right;g=h[A];){if(e(m.key,g.key)){var v=g;g=m,m=v}l(g,m),h[A]=null,A++}h[A]=m,m=_,p--}u=null;for(var b=0;b<f;b++)(g=h[b])&&(u?(g.left.right=g.right,g.right.left=g.left,g.left=u,g.right=u.right,u.right=g,g.right.left=g,t(g.key,u.key)&&(u=g)):u=g);return u}(d=u.right,this._size),this._size--,this._minimum=d,u},r.prototype.remove=function(u){this._minimum=function s(u,d,f){d.key=f;var h=d.parent;return h&&t(d.key,h.key)&&(o(u,d,h),a(u,h)),t(d.key,u.key)&&(u=d),u}(this._minimum,u,-1),this.extractMinimum()};var l=function(d,f){d.left.right=d.right,d.right.left=d.left,d.parent=f,f.child?(d.left=f.child,d.right=f.child.right,f.child.right=d,d.right.left=d):(f.child=d,d.right=d,d.left=d),f.degree++,d.mark=!1};return r},{isClass:!0}),Dyt=xe("index",["typed","Index"],n=>{var{typed:t,Index:e}=n;return t("index",{"...number | string | BigNumber | Range | Array | Matrix":function(r){var s=r.map(function(a){return or(a)?a.toNumber():io(a)||Ci(a)?a.map(function(l){return or(l)?l.toNumber():l}):a}),o=new e;return e.apply(o,s),o}})}),Tyt=xe("invmod",["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],n=>{var{typed:t,BigNumber:i,xgcd:r,equal:s,smaller:o,mod:a,add:l,isInteger:c}=n;return t("invmod",{"number, number":u,"BigNumber, BigNumber":u});function u(d,f){if(!c(d)||!c(f))throw new Error("Parameters in function invmod must be integer numbers");if(d=a(d,f),s(f,0))throw new Error("Divisor must be non zero");var h=r(d,f);h=h.valueOf();var[p,m]=h;return s(p,i(1))?(m=a(m,f),o(m,i(0))&&(m=l(m,f)),m):NaN}}),Iyt=xe("lcm",["typed","matrix","equalScalar","concat"],n=>{var{typed:t,matrix:e,equalScalar:i,concat:r}=n,s=bp({typed:t,equalScalar:i}),o=Ak({typed:t,equalScalar:i}),a=Mc({typed:t,equalScalar:i}),l=yo({typed:t,matrix:e,concat:r}),c="number | BigNumber | Fraction | Matrix | Array",u={};return u["".concat(c,", ").concat(c,", ...").concat(c)]=t.referToSelf(f=>(h,p,m)=>{for(var g=f(h,p),A=0;A<m.length;A++)g=f(g,m[A]);return g}),t("lcm",{"number, number":Ope,"BigNumber, BigNumber":function d(f,h){if(!f.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(f.isZero())return f;if(h.isZero())return h;for(var p=f.times(h);!h.isZero();){var m=h;h=f.mod(m),f=m}return p.div(f).abs()},"Fraction, Fraction":(f,h)=>f.lcm(h)},l({SS:o,DS:s,Ss:a}),u)}),Fyt=xe("log1p",["typed","config","divideScalar","log","Complex"],n=>{var{typed:t,config:e,divideScalar:i,log:r,Complex:s}=n;return t("log1p",{number:function(l){return l>=-1||e.predictable?rhe(l):o(new s(l,0))},Complex:o,BigNumber:function(l){var c=l.plus(1);return!c.isNegative()||e.predictable?c.ln():o(new s(l.toNumber(),0))},"Array | Matrix":t.referToSelf(a=>l=>ar(l,a)),"any, any":t.referToSelf(a=>(l,c)=>i(a(l),r(c)))});function o(a){var l=a.re+1;return new s(Math.log(Math.sqrt(l*l+a.im*a.im)),Math.atan2(a.im,l))}}),Oyt=xe("lsolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:t,matrix:e,divideScalar:i,multiplyScalar:r,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=VM({DenseMatrix:a});return t("lsolveAll",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=[l(d,f,!0)._data.map(ye=>ye[0])],p=d._size[0],m=d._size[1],g=d._values,A=d._index,_=d._ptr,v=0;v<m;v++)for(var b=h.length,w=0;w<b;w++){for(var y=h[w],C=[],D=[],T=_[v+1],M=0,F=_[v];F<T;F++){var L=A[F];L===v?M=g[F]:L>v&&(C.push(g[F]),D.push(L))}if(o(M,0))if(o(y[v],0)){if(0===w){var G=[...y];G[v]=1;for(var j=0,J=D.length;j<J;j++){var le=D[j];G[le]=s(G[le],C[j])}h.push(G)}}else{if(0===w)return[];h.splice(w,1),w-=1,b-=1}else{y[v]=i(y[v],M);for(var U=0,z=D.length;U<z;U++){var O=D[U];y[O]=s(y[O],r(y[v],C[U]))}}}return h.map(ye=>new a({data:ye.map(R=>[R]),size:[p,1]}))}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(e(f),h).map(g=>g.valueOf())}});function c(d,f){for(var h=[l(d,f,!0)._data.map(D=>D[0])],p=d._data,m=d._size[0],g=d._size[1],A=0;A<g;A++)for(var _=h.length,v=0;v<_;v++){var b=h[v];if(o(p[A][A],0))if(o(b[A],0)){if(0===v){var y=[...b];y[A]=1;for(var C=A+1;C<g;C++)y[C]=s(y[C],p[C][A]);h.push(y)}}else{if(0===v)return[];h.splice(v,1),v-=1,_-=1}else{b[A]=i(b[A],p[A][A]);for(var w=A+1;w<g;w++)b[w]=s(b[w],r(b[A],p[w][A]))}}return h.map(D=>new a({data:D.map(S=>[S]),size:[m,1]}))}}),Mge="matrixFromRows",kyt=xe(Mge,["typed","matrix","flatten","size"],n=>{var{typed:t,matrix:e,flatten:i,size:r}=n;return t(Mge,{"...Array":function(l){return s(l)},"...Matrix":function(l){return e(s(l.map(c=>c.toArray())))}});function s(a){if(0===a.length)throw new TypeError("At least one row is needed to construct a matrix.");var l=o(a[0]),c=[];for(var u of a){var d=o(u);if(d!==l)throw new TypeError("The vectors had different length: "+(0|l)+" \u2260 "+(0|d));c.push(i(u))}return c}function o(a){var l=r(a);if(1===l.length)return l[0];if(2===l.length){if(1===l[0])return l[1];if(1===l[1])return l[0];throw new TypeError("At least one of the arguments is not a vector.")}throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Uyt=xe("multiply",["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],n=>{var{typed:t,matrix:e,addScalar:i,multiplyScalar:r,equalScalar:s,dot:o}=n,a=Mc({typed:t,equalScalar:s}),l=pf({typed:t});function c(w,y){switch(w.length){case 1:switch(y.length){case 1:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(w[0]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+w[0]+") must match Matrix rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;case 2:switch(y.length){case 1:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+w[1]+") must match Vector length ("+y[0]+")");break;case 2:if(w[1]!==y[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+w[1]+") must match Matrix B rows ("+y[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+y.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+w.length+" dimensions)")}}var h=t("_multiplyMatrixVector",{"DenseMatrix, any":function m(w,y){var U,C=w._data,D=w._size,S=w._datatype||w.getDataType(),T=y._data,M=y._datatype||y.getDataType(),F=D[0],L=D[1],z=i,O=r;S&&M&&S===M&&"string"==typeof S&&"mixed"!==S&&(z=t.find(i,[U=S,U]),O=t.find(r,[U,U]));for(var G=[],j=0;j<F;j++){for(var J=C[j],le=O(J[0],T[0]),ye=1;ye<L;ye++)le=z(le,O(J[ye],T[ye]));G[j]=le}return w.createDenseMatrix({data:G,size:[F],datatype:S===w._datatype&&M===y._datatype?U:void 0})},"SparseMatrix, any":function _(w,y){var C=w._values,D=w._index,S=w._ptr,T=w._datatype||void 0===w._data?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var j,M=y._data,F=y._datatype||y.getDataType(),L=w._size[0],U=y._size[0],z=[],O=[],G=[],J=i,le=r,ye=s,R=0;T&&F&&T===F&&"string"==typeof T&&"mixed"!==T&&(J=t.find(i,[j=T,j]),le=t.find(r,[j,j]),ye=t.find(s,[j,j]),R=t.convert(0,j));var X=[],H=[];G[0]=0;for(var ae=0;ae<U;ae++){var de=M[ae];if(!ye(de,R))for(var ee=S[ae+1],ie=S[ae];ie<ee;ie++){var ge=D[ie];H[ge]?X[ge]=J(X[ge],le(de,C[ie])):(H[ge]=!0,O.push(ge),X[ge]=le(de,C[ie]))}}for(var Ce=O.length,ve=0;ve<Ce;ve++)z[ve]=X[O[ve]];return G[1]=O.length,w.createSparseMatrix({values:z,index:O,ptr:G,size:[L,1],datatype:T===w._datatype&&F===y._datatype?j:void 0})}}),p=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function g(w,y){var O,C=w._data,D=w._size,S=w._datatype||w.getDataType(),T=y._data,M=y._size,F=y._datatype||y.getDataType(),L=D[0],U=D[1],z=M[1],G=i,j=r;S&&F&&S===F&&"string"==typeof S&&"mixed"!==S&&"mixed"!==S&&(G=t.find(i,[O=S,O]),j=t.find(r,[O,O]));for(var J=[],le=0;le<L;le++){var ye=C[le];J[le]=[];for(var R=0;R<z;R++){for(var X=j(ye[0],T[0][R]),H=1;H<U;H++)X=G(X,j(ye[H],T[H][R]));J[le][R]=X}}return w.createDenseMatrix({data:J,size:[L,z],datatype:S===w._datatype&&F===y._datatype?O:void 0})},"DenseMatrix, SparseMatrix":function A(w,y){var C=w._data,D=w._size,S=w._datatype||w.getDataType(),T=y._values,M=y._index,F=y._ptr,L=y._size,U=y._datatype||void 0===y._data?y._datatype:y.getDataType();if(!T)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var G,z=D[0],O=L[1],j=i,J=r,le=s,ye=0;S&&U&&S===U&&"string"==typeof S&&"mixed"!==S&&(j=t.find(i,[G=S,G]),J=t.find(r,[G,G]),le=t.find(s,[G,G]),ye=t.convert(0,G));for(var R=[],X=[],H=[],ae=y.createSparseMatrix({values:R,index:X,ptr:H,size:[z,O],datatype:S===w._datatype&&U===y._datatype?G:void 0}),de=0;de<O;de++){H[de]=X.length;var he=F[de],ee=F[de+1];if(ee>he)for(var ie=0,ge=0;ge<z;ge++){for(var Ce=ge+1,ve=void 0,Ne=he;Ne<ee;Ne++){var se=M[Ne];ie!==Ce?(ve=J(C[ge][se],T[Ne]),ie=Ce):ve=j(ve,J(C[ge][se],T[Ne]))}ie===Ce&&!le(ve,ye)&&(X.push(ge),R.push(ve))}}return H[O]=X.length,ae},"SparseMatrix, DenseMatrix":function v(w,y){var C=w._values,D=w._index,S=w._ptr,T=w._datatype||void 0===w._data?w._datatype:w.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var O,M=y._data,F=y._datatype||y.getDataType(),L=w._size[0],U=y._size[0],z=y._size[1],G=i,j=r,J=s,le=0;T&&F&&T===F&&"string"==typeof T&&"mixed"!==T&&(G=t.find(i,[O=T,O]),j=t.find(r,[O,O]),J=t.find(s,[O,O]),le=t.convert(0,O));for(var ye=[],R=[],X=[],H=w.createSparseMatrix({values:ye,index:R,ptr:X,size:[L,z],datatype:T===w._datatype&&F===y._datatype?O:void 0}),ae=[],de=[],he=0;he<z;he++){X[he]=R.length;for(var ee=he+1,ie=0;ie<U;ie++){var ge=M[ie][he];if(!J(ge,le))for(var ve=S[ie+1],Ne=S[ie];Ne<ve;Ne++){var se=D[Ne];de[se]!==ee?(de[se]=ee,R.push(se),ae[se]=j(ge,C[Ne])):ae[se]=G(ae[se],j(ge,C[Ne]))}}for(var fe=R.length,at=X[he];at<fe;at++)ye[at]=ae[R[at]]}return X[z]=R.length,H},"SparseMatrix, SparseMatrix":function b(w,y){var j,C=w._values,D=w._index,S=w._ptr,T=w._datatype||void 0===w._data?w._datatype:w.getDataType(),M=y._values,F=y._index,L=y._ptr,U=y._datatype||void 0===y._data?y._datatype:y.getDataType(),z=w._size[0],O=y._size[1],G=C&&M,J=i,le=r;T&&U&&T===U&&"string"==typeof T&&"mixed"!==T&&(J=t.find(i,[j=T,j]),le=t.find(r,[j,j]));for(var he,ie,ge,ve,Ne,se,ye=G?[]:void 0,R=[],X=[],H=w.createSparseMatrix({values:ye,index:R,ptr:X,size:[z,O],datatype:T===w._datatype&&U===y._datatype?j:void 0}),ae=G?[]:void 0,de=[],Oe=0;Oe<O;Oe++){X[Oe]=R.length;var fe=Oe+1;for(ve=L[Oe+1],ge=L[Oe];ge<ve;ge++)if(se=F[ge],G)for(ie=S[se+1],he=S[se];he<ie;he++)de[Ne=D[he]]!==fe?(de[Ne]=fe,R.push(Ne),ae[Ne]=le(M[ge],C[he])):ae[Ne]=J(ae[Ne],le(M[ge],C[he]));else for(ie=S[se+1],he=S[se];he<ie;he++)de[Ne=D[he]]!==fe&&(de[Ne]=fe,R.push(Ne));if(G)for(var Ge=R.length,$e=X[Oe];$e<Ge;$e++)ye[$e]=ae[R[$e]]}return X[O]=R.length,H}});return t("multiply",r,{"Array, Array":t.referTo("Matrix, Matrix",w=>(y,C)=>{c(zi(y),zi(C));var D=w(e(y),e(C));return Ci(D)?D.valueOf():D}),"Matrix, Matrix":function(y,C){var D=y.size(),S=C.size();return c(D,S),1===D.length?1===S.length?function u(w,y,C){if(0===C)throw new Error("Cannot multiply two empty vectors");return o(w,y)}(y,C,D[0]):function d(w,y){if("dense"!==y.storage())throw new Error("Support for SparseMatrix not implemented");return function f(w,y){var z,C=w._data,D=w._size,S=w._datatype||w.getDataType(),T=y._data,M=y._size,F=y._datatype||y.getDataType(),L=D[0],U=M[1],O=i,G=r;S&&F&&S===F&&"string"==typeof S&&"mixed"!==S&&(O=t.find(i,[z=S,z]),G=t.find(r,[z,z]));for(var j=[],J=0;J<U;J++){for(var le=G(C[0],T[0][J]),ye=1;ye<L;ye++)le=O(le,G(C[ye],T[ye][J]));j[J]=le}return w.createDenseMatrix({data:j,size:[U],datatype:S===w._datatype&&F===y._datatype?z:void 0})}(w,y)}(y,C):1===S.length?h(y,C):p(y,C)},"Matrix, Array":t.referTo("Matrix,Matrix",w=>(y,C)=>w(y,e(C))),"Array, Matrix":t.referToSelf(w=>(y,C)=>w(e(y,C.storage()),C)),"SparseMatrix, any":function(y,C){return a(y,C,r,!1)},"DenseMatrix, any":function(y,C){return l(y,C,r,!1)},"any, SparseMatrix":function(y,C){return a(C,y,r,!0)},"any, DenseMatrix":function(y,C){return l(C,y,r,!0)},"Array, any":function(y,C){return l(e(y),C,r,!1).valueOf()},"any, Array":function(y,C){return l(e(C),y,r,!0).valueOf()},"any, any":r,"any, any, ...any":t.referToSelf(w=>(y,C,D)=>{for(var S=w(y,C),T=0;T<D.length;T++)S=w(S,D[T]);return S})})}),Nge="setCartesian",Vyt=xe(Nge,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s,DenseMatrix:o}=n;return t(Nge,{"Array | Matrix, Array | Matrix":function(l,c){var u=[];if(0!==i(e(l),new s(0))&&0!==i(e(c),new s(0))){var d=ps(Array.isArray(l)?l:l.toArray()).sort(r),f=ps(Array.isArray(c)?c:c.toArray()).sort(r);u=[];for(var h=0;h<d.length;h++)for(var p=0;p<f.length;p++)u.push([d[h],f[p]])}return Array.isArray(l)&&Array.isArray(c)?u:new o(u)}})}),Ige="setDistinct",Qyt=xe(Ige,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s,DenseMatrix:o}=n;return t(Ige,{"Array | Matrix":function(l){var c;if(0===i(e(l),new s(0)))c=[];else{var u=ps(Array.isArray(l)?l:l.toArray()).sort(r);(c=[]).push(u[0]);for(var d=1;d<u.length;d++)0!==r(u[d],u[d-1])&&c.push(u[d])}return Array.isArray(l)?c:new o(c)}})}),Bge="setIsSubset",jyt=xe(Bge,["typed","size","subset","compareNatural","Index"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s}=n;return t(Bge,{"Array | Matrix, Array | Matrix":function(a,l){if(0===i(e(a),new s(0)))return!0;if(0===i(e(l),new s(0)))return!1;for(var d,c=iC(ps(Array.isArray(a)?a:a.toArray()).sort(r)),u=iC(ps(Array.isArray(l)?l:l.toArray()).sort(r)),f=0;f<c.length;f++){d=!1;for(var h=0;h<u.length;h++)if(0===r(c[f].value,u[h].value)&&c[f].identifier===u[h].identifier){d=!0;break}if(!1===d)return!1}return!0}})}),Fge="setPowerset",Wyt=xe(Fge,["typed","size","subset","compareNatural","Index"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s}=n;return t(Fge,{"Array | Matrix":function(c){if(0===i(e(c),new s(0)))return[];for(var u=ps(Array.isArray(c)?c:c.toArray()).sort(r),d=[],f=0;f.toString(2).length<=u.length;)d.push(o(u,f.toString(2).split("").reverse())),f++;return function a(l){for(var c=[],u=l.length-1;u>0;u--)for(var d=0;d<u;d++)l[d].length>l[d+1].length&&(c=l[d],l[d]=l[d+1],l[d+1]=c);return l}(d)}});function o(l,c){for(var u=[],d=0;d<c.length;d++)"1"===c[d]&&u.push(l[d]);return u}});function Pge(n,t,e,i,r,s,o){var a=0;for(e[o]=n;a>=0;){var l=e[o+a],c=e[i+l];-1===c?(a--,s[t++]=l):(e[i+l]=e[r+c],e[o+ ++a]=c)}return t}function p_(n){return-n-2}var e1t=xe("csAmd",["add","multiply","transpose"],n=>{var{add:t,multiply:e,transpose:i}=n;return function(u,d){if(!d||u<=0||u>3)return null;var f=d._size,h=f[0],p=f[1],m=0,g=Math.max(16,10*Math.sqrt(p)),A=function r(c,u,d,f,h){var p=i(u);if(1===c&&f===d)return t(u,p);if(2===c){for(var m=p._index,g=p._ptr,A=0,_=0;_<d;_++){var v=g[_];if(g[_]=A,!(g[_+1]-v>h))for(var b=g[_+1];v<b;v++)m[A++]=m[v]}return g[d]=A,u=i(p),e(p,u)}return e(p,u)}(u,d,h,p,g=Math.min(p-2,g));!function Yyt(n,t,e){for(var i=n._values,r=n._index,s=n._ptr,a=n._size[1],l=0,c=0;c<a;c++){var u=s[c];for(s[c]=l;u<s[c+1];u++)t(r[u],c,i?i[u]:1,e)&&(r[l]=r[u],i&&(i[l]=i[u]),l++)}s[a]=l,r.splice(l,r.length-l),i&&i.splice(l,i.length-l)}(A,l,null);for(var J,le,ye,R,X,H,ae,de,he,ee,ie,ge,Ce,ve,Ne,se,_=A._index,v=A._ptr,b=v[p],w=[],y=[],D=p+1,S=2*(p+1),T=3*(p+1),M=4*(p+1),F=5*(p+1),L=6*(p+1),U=7*(p+1),z=w,O=function s(c,u,d,f,h,p,m,g,A,_,v,b){for(var w=0;w<c;w++)d[f+w]=u[w+1]-u[w];d[f+c]=0;for(var y=0;y<=c;y++)d[h+y]=-1,p[y]=-1,d[m+y]=-1,d[g+y]=-1,d[A+y]=1,d[_+y]=1,d[v+y]=0,d[b+y]=d[f+y];var C=a(0,0,d,_,c);return d[v+c]=-2,u[c]=-1,d[_+c]=0,C}(p,v,y,0,T,z,S,U,D,L,M,F),G=function o(c,u,d,f,h,p,m,g,A,_,v){for(var b=0,w=0;w<c;w++){var y=d[f+w];if(0===y)d[h+w]=-2,b++,u[w]=-1,d[p+w]=0;else if(y>m)d[g+w]=0,d[h+w]=-1,b++,u[w]=p_(c),d[g+c]++;else{var C=d[A+y];-1!==C&&(_[C]=w),d[v+w]=d[A+y],d[A+y]=w}}return b}(p,v,y,F,M,L,g,D,T,z,S),j=0;G<p;){for(ye=-1;j<p&&-1===(ye=y[T+j]);j++);-1!==y[S+ye]&&(z[y[S+ye]]=-1),y[T+j]=y[S+ye];var Oe=y[M+ye],fe=y[D+ye];G+=fe;var at=0;y[D+ye]=-fe;var Ge=v[ye],$e=0===Oe?Ge:b,re=$e;for(R=1;R<=Oe+1;R++){for(R>Oe?(H=ye,ae=Ge,de=y[0+ye]-Oe):(ae=v[H=_[Ge++]],de=y[0+H]),X=1;X<=de;X++)!((he=y[D+(J=_[ae++])])<=0)&&(at+=he,y[D+J]=-he,_[re++]=J,-1!==y[S+J]&&(z[y[S+J]]=z[J]),-1!==z[J]?y[S+z[J]]=y[S+J]:y[T+y[F+J]]=y[S+J]);H!==ye&&(v[H]=p_(ye),y[L+H]=0)}for(0!==Oe&&(b=re),y[F+ye]=at,v[ye]=$e,y[0+ye]=re-$e,y[M+ye]=-2,O=a(O,m,y,L,p),ee=$e;ee<re;ee++)if(!((ie=y[M+(J=_[ee])])<=0)){var K=O-(he=-y[D+J]);for(Ge=v[J],ge=v[J]+ie-1;Ge<=ge;Ge++)y[L+(H=_[Ge])]>=O?y[L+H]-=he:0!==y[L+H]&&(y[L+H]=y[F+H]+K)}for(ee=$e;ee<re;ee++){for(Ce=(ge=v[J=_[ee]])+y[M+J]-1,ve=ge,Ne=0,se=0,Ge=ge;Ge<=Ce;Ge++)if(0!==y[L+(H=_[Ge])]){var W=y[L+H]-O;W>0?(se+=W,_[ve++]=H,Ne+=H):(v[H]=p_(ye),y[L+H]=0)}y[M+J]=ve-ge+1;var we=ve,ke=ge+y[0+J];for(Ge=Ce+1;Ge<ke;Ge++){var Ve=y[D+(le=_[Ge])];Ve<=0||(se+=Ve,_[ve++]=le,Ne+=le)}0===se?(v[J]=p_(ye),at-=he=-y[D+J],fe+=he,G+=he,y[D+J]=0,y[M+J]=-1):(y[F+J]=Math.min(y[F+J],se),_[ve]=_[we],_[we]=_[ge],_[ge]=ye,y[0+J]=ve-ge+1,y[S+J]=y[U+(Ne=(Ne<0?-Ne:Ne)%p)],y[U+Ne]=J,z[J]=Ne)}for(y[F+ye]=at,O=a(O+(m=Math.max(m,at)),m,y,L,p),ee=$e;ee<re;ee++)if(!(y[D+(J=_[ee])]>=0))for(J=y[U+(Ne=z[J])],y[U+Ne]=-1;-1!==J&&-1!==y[S+J];J=y[S+J],O++){for(de=y[0+J],ie=y[M+J],Ge=v[J]+1;Ge<=v[J]+de-1;Ge++)y[L+_[Ge]]=O;var Qe=J;for(le=y[S+J];-1!==le;){var pt=y[0+le]===de&&y[M+le]===ie;for(Ge=v[le]+1;pt&&Ge<=v[le]+de-1;Ge++)y[L+_[Ge]]!==O&&(pt=0);pt?(v[le]=p_(J),y[D+J]+=y[D+le],y[D+le]=0,y[M+le]=-1,y[S+Qe]=le=y[S+le]):(Qe=le,le=y[S+le])}}for(Ge=$e,ee=$e;ee<re;ee++)!((he=-y[D+(J=_[ee])])<=0)&&(y[D+J]=he,se=y[F+J]+at-he,-1!==y[T+(se=Math.min(se,p-G-he))]&&(z[y[T+se]]=J),y[S+J]=y[T+se],z[J]=-1,y[T+se]=J,j=Math.min(j,se),y[F+J]=se,_[Ge++]=J);y[D+ye]=fe,0==(y[0+ye]=Ge-$e)&&(v[ye]=-1,y[L+ye]=0),0!==Oe&&(b=Ge)}for(J=0;J<p;J++)v[J]=p_(v[J]);for(le=0;le<=p;le++)y[T+le]=-1;for(le=p;le>=0;le--)y[D+le]>0||(y[S+le]=y[T+v[le]],y[T+v[le]]=le);for(H=p;H>=0;H--)y[D+H]<=0||-1!==v[H]&&(y[S+H]=y[T+v[H]],y[T+v[H]]=H);for(ye=0,J=0;J<=p;J++)-1===v[J]&&(ye=Pge(J,ye,y,T,S,w,L));return w.splice(w.length-1,1),w};function a(c,u,d,f,h){if(c<2||c+u<0){for(var p=0;p<h;p++)0!==d[f+p]&&(d[f+p]=1);c=2}return c}function l(c,u){return c!==u}});function t1t(n,t,e,i,r,s,o){var a,l,u,c=0;if(n<=t||e[i+t]<=e[r+n])return-1;e[r+n]=e[i+t];var d=e[s+n];if(e[s+n]=t,-1===d)c=1,u=n;else{for(c=2,u=d;u!==e[o+u];u=e[o+u]);for(a=d;a!==u;a=l)l=e[o+a],e[o+a]=u}return{jleaf:c,q:u}}var r1t=xe("csCounts",["transpose"],n=>{var{transpose:t}=n;return function(e,i,r,s){if(!e||!i||!r)return null;var c,u,d,f,h,m,o=e._size,a=o[0],l=o[1],g=4*l+(s?l+a+1:0),A=[],v=l,b=2*l,w=3*l,y=4*l,C=5*l+1;for(d=0;d<g;d++)A[d]=-1;var D=[],S=t(e),T=S._index,M=S._ptr;for(d=0;d<l;d++)for(D[u=r[d]]=-1===A[w+u]?1:0;-1!==u&&-1===A[w+u];u=i[u])A[w+u]=d;if(s){for(d=0;d<l;d++)A[r[d]]=d;for(c=0;c<a;c++){for(d=l,m=M[c+1],h=M[c];h<m;h++)d=Math.min(d,A[T[h]]);A[C+c]=A[y+d],A[y+d]=c}}for(c=0;c<l;c++)A[0+c]=c;for(d=0;d<l;d++){for(-1!==i[u=r[d]]&&D[i[u]]--,f=s?A[y+d]:u;-1!==f;f=s?A[C+f]:-1)for(h=M[f];h<M[f+1];h++){var F=t1t(c=T[h],u,A,w,v,b,0);F.jleaf>=1&&D[u]++,2===F.jleaf&&D[F.q]--}-1!==i[u]&&(A[0+u]=i[u])}for(u=0;u<l;u++)-1!==i[u]&&(D[i[u]]+=D[u]);return D}}),a1t=xe("csSqr",["add","multiply","transpose"],n=>{var{add:t,multiply:e,transpose:i}=n,r=e1t({add:t,multiply:e,transpose:i}),s=r1t({transpose:i});return function(l,c,u){var p,d=c._ptr,h=c._size[1],m={};if(m.q=r(l,c),l&&!m.q)return null;if(u){var g=l?function $yt(n,t,e,i){for(var r=n._values,s=n._index,o=n._ptr,a=n._size,l=n._datatype,c=a[0],u=a[1],d=i&&n._values?[]:null,f=[],h=[],p=0,m=0;m<u;m++){h[m]=p;for(var g=e?e[m]:m,_=o[g+1],v=o[g];v<_;v++)f[p]=t?t[s[v]]:s[v],d&&(d[p]=r[v]),p++}return h[u]=p,n.createSparseMatrix({values:d,index:f,ptr:h,size:[c,u],datatype:l})}(c,null,m.q,0):c;m.parent=function Xyt(n,t){if(!n)return null;var d,f,e=n._index,i=n._ptr,r=n._size,s=r[0],o=r[1],a=[],l=[],u=o;if(t)for(d=0;d<s;d++)l[u+d]=-1;for(var h=0;h<o;h++){a[h]=-1,l[0+h]=-1;for(var m=i[h+1],g=i[h];g<m;g++){var A=e[g];for(d=t?l[u+A]:A;-1!==d&&d<h;d=f)f=l[0+d],l[0+d]=h,-1===f&&(a[d]=h);t&&(l[u+A]=h)}}return a}(g,1);var A=function Kyt(n,t){if(!n)return null;var i,e=0,r=[],s=[],a=t,l=2*t;for(i=0;i<t;i++)s[0+i]=-1;for(i=t-1;i>=0;i--)-1!==n[i]&&(s[a+i]=s[0+n[i]],s[0+n[i]]=i);for(i=0;i<t;i++)-1===n[i]&&(e=Pge(i,e,s,0,a,r,l));return r}(m.parent,h);if(m.cp=s(g,m.parent,A,1),g&&m.parent&&m.cp&&function o(a,l){var c=a._ptr,u=a._index,d=a._size,f=d[0],h=d[1];l.pinv=[],l.leftmost=[];var y,C,D,T,p=l.parent,m=l.pinv,g=l.leftmost,A=[],v=f,b=f+h,w=f+2*h;for(C=0;C<h;C++)A[v+C]=-1,A[b+C]=-1,A[w+C]=0;for(y=0;y<f;y++)g[y]=-1;for(C=h-1;C>=0;C--)for(T=c[C+1],D=c[C];D<T;D++)g[u[D]]=C;for(y=f-1;y>=0;y--)m[y]=-1,-1!==(C=g[y])&&(0==A[w+C]++&&(A[b+C]=y),A[0+y]=A[v+C],A[v+C]=y);for(l.lnz=0,l.m2=f,C=0;C<h;C++)if(y=A[v+C],l.lnz++,y<0&&(y=l.m2++),m[y]=C,!(--w[C]<=0)){l.lnz+=A[w+C];var M=p[C];-1!==M&&(0===A[w+M]&&(A[b+M]=A[b+C]),A[0+A[b+C]]=A[v+M],A[v+M]=A[0+y],A[w+M]+=A[w+C])}for(y=0;y<f;y++)m[y]<0&&(m[y]=C++);return!0}(g,m))for(m.unz=0,p=0;p<h;p++)m.unz+=m.cp[p]}else m.unz=4*d[h]+h,m.lnz=m.unz;return m}});function QG(n,t){return n[t]<0}function Oge(n,t){n[t]=p_(n[t])}function Rge(n){return n<0?p_(n):n}function l1t(n,t,e,i,r){var c,u,d,s=t._index,o=t._ptr,l=t._size[1],f=0;for(i[0]=n;f>=0;){n=i[f];var h=r?r[n]:n;QG(o,n)||(Oge(o,n),i[l+f]=h<0?0:Rge(o[h]));var p=1;for(u=i[l+f],d=h<0?0:Rge(o[h+1]);u<d;u++)if(!QG(o,c=s[u])){i[l+f]=u,i[++f]=c,p=0;break}p&&(f--,i[--e]=n)}return e}var h1t=xe("csSpsolve",["divideScalar","multiply","subtract"],n=>{var{divideScalar:t,multiply:e,subtract:i}=n;return function(s,o,a,l,c,u,d){var b,w,y,C,f=s._values,h=s._index,p=s._ptr,g=s._size[1],A=o._values,_=o._index,v=o._ptr,D=function c1t(n,t,e,i,r){var u,f,s=n._ptr,a=t._index,l=t._ptr,c=n._size[1],h=c;for(f=l[e+1],u=l[e];u<f;u++){var p=a[u];QG(s,p)||(h=l1t(p,n,h,i,r))}for(u=h;u<c;u++)Oge(s,i[u]);return h}(s,o,a,l,u);for(b=D;b<g;b++)c[l[b]]=0;for(y=v[a+1],b=w=v[a];b<y;b++)c[_[b]]=A[b];for(var S=D;S<g;S++){var T=l[S],M=u?u[T]:T;if(!(M<0))for(w=p[M],y=p[M+1],c[T]=t(c[T],f[d?w:y-1]),b=d?w+1:w,C=d?y:y-1;b<C;b++){var F=h[b];c[F]=i(c[F],e(f[b],c[T]))}}return D}}),m1t=xe("csLu",["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],n=>{var{abs:t,divideScalar:e,multiply:i,subtract:r,larger:s,largerEq:o,SparseMatrix:a}=n,l=h1t({divideScalar:e,multiply:i,subtract:r});return function(u,d,f){if(!u)return null;var m,p=u._size[1],g=100,A=100;d&&(m=d.q,g=d.lnz||g,A=d.unz||A);var M,F,_=[],v=[],b=[],w=new a({values:_,index:v,ptr:b,size:[p,p]}),y=[],C=[],D=[],S=new a({values:y,index:C,ptr:D,size:[p,p]}),T=[],L=[],U=[];for(M=0;M<p;M++)L[M]=0,T[M]=-1,b[M+1]=0;g=0,A=0;for(var z=0;z<p;z++){b[z]=g,D[z]=A;var O=m?m[z]:z,G=l(w,u,O,U,L,T,1),j=-1,J=-1;for(F=G;F<p;F++)if(T[M=U[F]]<0){var le=t(L[M]);s(le,J)&&(J=le,j=M)}else C[A]=T[M],y[A++]=L[M];if(-1===j||J<=0)return null;T[O]<0&&o(t(L[O]),i(J,f))&&(j=O);var ye=L[j];for(C[A]=z,y[A++]=ye,T[j]=z,v[g]=j,_[g++]=1,F=G;F<p;F++)T[M=U[F]]<0&&(v[g]=M,_[g++]=e(L[M],ye)),L[M]=0}for(b[p]=g,D[p]=A,F=0;F<g;F++)v[F]=T[v[F]];return _.splice(g,_.length-g),v.splice(g,v.length-g),y.splice(A,y.length-A),C.splice(A,C.length-A),{L:w,U:S,pinv:T}}}),g1t=xe("slu",["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],n=>{var{typed:t,abs:e,add:i,multiply:r,transpose:s,divideScalar:o,subtract:a,larger:l,largerEq:c,SparseMatrix:u}=n,d=a1t({add:i,multiply:r,transpose:s}),f=m1t({abs:e,divideScalar:o,multiply:r,subtract:a,larger:l,largerEq:c,SparseMatrix:u});return t("slu",{"SparseMatrix, number, number":function(p,m,g){if(!ai(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(g<0||g>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var A=d(m,p,!1),_=f(p,A,g);return{L:_.L,U:_.U,p:_.pinv,q:A.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}),_1t=xe("sort",["typed","matrix","compare","compareNatural"],n=>{var{typed:t,matrix:e,compare:i,compareNatural:r}=n,s=i,o=(u,d)=>-i(u,d);return t("sort",{Array:function(d){return l(d),d.sort(s)},Matrix:function(d){return c(d),e(d.toArray().sort(s),d.storage())},"Array, function":function(d,f){return l(d),d.sort(f)},"Matrix, function":function(d,f){return c(d),e(d.toArray().sort(f),d.storage())},"Array, string":function(d,f){return l(d),d.sort(a(f))},"Matrix, string":function(d,f){return c(d),e(d.toArray().sort(a(f)),d.storage())}});function a(u){if("asc"===u)return s;if("desc"===u)return o;if("natural"===u)return r;throw new Error('String "asc", "desc", or "natural" expected')}function l(u){if(1!==zi(u).length)throw new Error("One dimensional array expected")}function c(u){if(1!==u.size().length)throw new Error("One dimensional matrix expected")}}),y1t=xe("unaryPlus",["typed","config","numeric"],n=>{var{typed:t,config:e,numeric:i}=n;return t("unaryPlus",{number:Ipe,Complex:function(s){return s},BigNumber:function(s){return s},bigint:function(s){return s},Fraction:function(s){return s},Unit:function(s){return s.clone()},"Array | Matrix":t.referToSelf(r=>s=>ar(s,r,!0)),boolean:function(s){return i(s?1:0,e.number)},string:function(s){return i(s,n_(s,e))}})}),x1t=xe("usolveAll",["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],n=>{var{typed:t,matrix:e,divideScalar:i,multiplyScalar:r,subtractScalar:s,equalScalar:o,DenseMatrix:a}=n,l=VM({DenseMatrix:a});return t("usolveAll",{"SparseMatrix, Array | Matrix":function(f,h){return function u(d,f){for(var h=[l(d,f,!0)._data.map(ye=>ye[0])],p=d._size[0],g=d._values,A=d._index,_=d._ptr,v=d._size[1]-1;v>=0;v--)for(var b=h.length,w=0;w<b;w++){for(var y=h[w],C=[],D=[],S=_[v],M=0,F=_[v+1]-1;F>=S;F--){var L=A[F];L===v?M=g[F]:L<v&&(C.push(g[F]),D.push(L))}if(o(M,0))if(o(y[v],0)){if(0===w){var G=[...y];G[v]=1;for(var j=0,J=D.length;j<J;j++){var le=D[j];G[le]=s(G[le],C[j])}h.push(G)}}else{if(0===w)return[];h.splice(w,1),w-=1,b-=1}else{y[v]=i(y[v],M);for(var U=0,z=D.length;U<z;U++){var O=D[U];y[O]=s(y[O],r(y[v],C[U]))}}}return h.map(ye=>new a({data:ye.map(R=>[R]),size:[p,1]}))}(f,h)},"DenseMatrix, Array | Matrix":function(f,h){return c(f,h)},"Array, Array | Matrix":function(f,h){return c(e(f),h).map(g=>g.valueOf())}});function c(d,f){for(var h=[l(d,f,!0)._data.map(D=>D[0])],p=d._data,m=d._size[0],A=d._size[1]-1;A>=0;A--)for(var _=h.length,v=0;v<_;v++){var b=h[v];if(o(p[A][A],0))if(o(b[A],0)){if(0===v){var y=[...b];y[A]=1;for(var C=A-1;C>=0;C--)y[C]=s(y[C],p[C][A]);h.push(y)}}else{if(0===v)return[];h.splice(v,1),v-=1,_-=1}else{b[A]=i(b[A],p[A][A]);for(var w=A-1;w>=0;w--)b[w]=s(b[w],r(b[A],p[w][A]))}}return h.map(D=>new a({data:D.map(S=>[S]),size:[m,1]}))}}),S1t=xe("zpk2tf",["typed","add","multiply","Complex","number"],n=>{var{typed:t,add:e,multiply:i,Complex:r,number:s}=n;return t("zpk2tf",{"Array,Array,number":function(c,u,d){return o(c,u,d)},"Array,Array":function(c,u){return o(c,u,1)},"Matrix,Matrix,number":function(c,u,d){return o(c.valueOf(),u.valueOf(),d)},"Matrix,Matrix":function(c,u){return o(c.valueOf(),u.valueOf(),1)}});function o(l,c,u){l.some(_=>"BigNumber"===_.type)&&(l=l.map(_=>s(_))),c.some(_=>"BigNumber"===_.type)&&(c=c.map(_=>s(_)));for(var d=[r(1,0)],f=[r(1,0)],h=0;h<l.length;h++){var p=l[h];"number"==typeof p&&(p=r(p,0)),d=a(d,[r(1,0),r(-p.re,-p.im)])}for(var m=0;m<c.length;m++){var g=c[m];"number"==typeof g&&(g=r(g,0)),f=a(f,[r(1,0),r(-g.re,-g.im)])}for(var A=0;A<d.length;A++)d[A]=i(d[A],u);return[d,f]}function a(l,c){for(var u=[],d=0;d<l.length+c.length-1;d++){u[d]=r(0,0);for(var f=0;f<l.length;f++)d-f>=0&&d-f<c.length&&(u[d]=e(u[d],i(l[f],c[d-f])))}return u}}),GG="ceil",E1t=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],D1t=new Dk(10),M1t=xe(GG,["typed","config","round"],n=>{var{typed:t,config:e,round:i}=n;function r(s){var o=Math.ceil(s),a=i(s);return o===a?o:hc(s,a,e.relTol,e.absTol)&&!hc(s,o,e.relTol,e.absTol)?a:o}return t(GG,{number:r,"number, number":function(o,a){if(!ai(a))throw new RangeError("number of decimals in function ceil must be an integer");if(a<0||a>15)throw new RangeError("number of decimals in ceil number must be in range 0-15");var l=10**a;return r(o*l)/l}})}),T1t=xe(GG,E1t,n=>{var{typed:t,config:e,round:i,matrix:r,equalScalar:s,zeros:o,DenseMatrix:a}=n,l=Mc({typed:t,equalScalar:s}),c=Hl({typed:t,DenseMatrix:a}),u=pf({typed:t}),d=M1t({typed:t,config:e,round:i});function f(h){var p=(A,_)=>gf(A,_,e.relTol,e.absTol),m=h.ceil(),g=i(h);return m.eq(g)?m:p(h,g)&&!p(h,m)?g:m}return t("ceil",{number:d.signatures.number,"number,number":d.signatures["number,number"],Complex:function(p){return p.ceil()},"Complex, number":function(p,m){return p.ceil(m)},"Complex, BigNumber":function(p,m){return p.ceil(m.toNumber())},BigNumber:f,"BigNumber, BigNumber":function(p,m){var g=D1t.pow(m);return f(p.mul(g)).div(g)},bigint:h=>h,"bigint, number":(h,p)=>h,"bigint, BigNumber":(h,p)=>h,Fraction:function(p){return p.ceil()},"Fraction, number":function(p,m){return p.ceil(m)},"Fraction, BigNumber":function(p,m){return p.ceil(m.toNumber())},"Unit, number, Unit":t.referToSelf(h=>function(p,m,g){var A=p.toNumeric(g);return g.multiply(h(A,m))}),"Unit, BigNumber, Unit":t.referToSelf(h=>(p,m,g)=>h(p,m.toNumber(),g)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(h=>(p,m,g)=>ar(p,A=>h(A,m,g),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(h=>(p,m)=>h(p,0,m)),"Array | Matrix":t.referToSelf(h=>p=>ar(p,h,!0)),"Array, number | BigNumber":t.referToSelf(h=>(p,m)=>ar(p,g=>h(g,m),!0)),"SparseMatrix, number | BigNumber":t.referToSelf(h=>(p,m)=>l(p,m,h,!1)),"DenseMatrix, number | BigNumber":t.referToSelf(h=>(p,m)=>u(p,m,h,!1)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(h=>(p,m)=>u(r(m),p,h,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(h=>(p,m)=>s(p,0)?o(m.size(),m.storage()):"dense"===m.storage()?u(m,p,h,!0):c(m,p,h,!0))})}),I1t=xe("cross",["typed","matrix","subtract","multiply"],n=>{var{typed:t,matrix:e,subtract:i,multiply:r}=n;return t("cross",{"Matrix, Matrix":function(a,l){return e(s(a.toArray(),l.toArray()))},"Matrix, Array":function(a,l){return e(s(a.toArray(),l))},"Array, Matrix":function(a,l){return e(s(a,l.toArray()))},"Array, Array":s});function s(o,a){var l=Math.max(zi(o).length,zi(a).length);o=qR(o),a=qR(a);var c=zi(o),u=zi(a);if(1!==c.length||1!==u.length||3!==c[0]||3!==u[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+c.join(", ")+"], B = ["+u.join(", ")+"])");var d=[i(r(o[1],a[2]),r(o[2],a[1])),i(r(o[2],a[0]),r(o[0],a[2])),i(r(o[0],a[1]),r(o[1],a[0]))];return l>1?[d]:d}}),F1t=xe("det",["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],n=>{var{typed:t,matrix:e,subtractScalar:i,multiply:r,divideScalar:s,isZero:o,unaryMinus:a}=n;return t("det",{any:function(u){return Ji(u)},"Array | Matrix":function(u){var d;switch((d=Ci(u)?u.size():Array.isArray(u)?(u=e(u)).size():[]).length){case 0:return Ji(u);case 1:if(1===d[0])return Ji(u.valueOf()[0]);if(0===d[0])return 1;throw new RangeError("Matrix must be square (size: "+Cr(d)+")");case 2:var f=d[0],h=d[1];if(f===h)return function l(c,u,d){if(1===u)return Ji(c[0][0]);if(2===u)return i(r(c[0][0],c[1][1]),r(c[1][0],c[0][1]));for(var f=!1,h=new Array(u).fill(0).map((C,D)=>D),p=0;p<u;p++){var m=h[p];if(o(c[m][p])){var g=void 0;for(g=p+1;g<u;g++)if(!o(c[h[g]][p])){m=h[g],h[g]=h[p],h[p]=m,f=!f;break}if(g===u)return c[m][p]}for(var A=c[m][p],_=0===p?1:c[h[p-1]][p-1],v=p+1;v<u;v++)for(var b=h[v],w=p+1;w<u;w++)c[b][w]=s(i(r(c[b][w],A),r(c[b][p],c[m][w])),_)}var y=c[h[u-1]][u-1];return f?a(y):y}(u.clone().valueOf(),f);if(0===h)return 1;throw new RangeError("Matrix must be square (size: "+Cr(d)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Cr(d)+")")}}})}),P1t=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],O1t=xe("fix",["typed","ceil","floor"],n=>{var{typed:t,ceil:e,floor:i}=n;return t("fix",{number:function(s){return s>0?i(s):e(s)},"number, number":function(s,o){return s>0?i(s,o):e(s,o)}})}),R1t=xe("fix",P1t,n=>{var{typed:t,Complex:e,matrix:i,ceil:r,floor:s,equalScalar:o,zeros:a,DenseMatrix:l}=n,c=Hl({typed:t,DenseMatrix:l}),u=pf({typed:t}),d=O1t({typed:t,ceil:r,floor:s});return t("fix",{number:d.signatures.number,"number, number | BigNumber":d.signatures["number,number"],Complex:function(h){return new e(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,p){return new e(h.re>0?s(h.re,p):r(h.re,p),h.im>0?s(h.im,p):r(h.im,p))},"Complex, BigNumber":function(h,p){var m=p.toNumber();return new e(h.re>0?s(h.re,m):r(h.re,m),h.im>0?s(h.im,m):r(h.im,m))},BigNumber:function(h){return h.isNegative()?r(h):s(h)},"BigNumber, number | BigNumber":function(h,p){return h.isNegative()?r(h,p):s(h,p)},bigint:f=>f,"bigint, number":(f,h)=>f,"bigint, BigNumber":(f,h)=>f,Fraction:function(h){return h.s<0n?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,p){return h.s<0n?r(h,p):s(h,p)},"Unit, number, Unit":t.referToSelf(f=>function(h,p,m){var g=h.toNumeric(m);return m.multiply(f(g,p))}),"Unit, BigNumber, Unit":t.referToSelf(f=>(h,p,m)=>f(h,p.toNumber(),m)),"Array | Matrix, number | BigNumber, Unit":t.referToSelf(f=>(h,p,m)=>ar(h,g=>f(g,p,m),!0)),"Array | Matrix | Unit, Unit":t.referToSelf(f=>(h,p)=>f(h,0,p)),"Array | Matrix":t.referToSelf(f=>h=>ar(h,f,!0)),"Array | Matrix, number | BigNumber":t.referToSelf(f=>(h,p)=>ar(h,m=>f(m,p),!0)),"number | Complex | Fraction | BigNumber, Array":t.referToSelf(f=>(h,p)=>u(i(p),h,f,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":t.referToSelf(f=>(h,p)=>o(h,0)?a(p.size(),p.storage()):"dense"===p.storage()?u(p,h,f,!0):c(p,h,f,!0))})}),L1t=xe("inv",["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],n=>{var{typed:t,matrix:e,divideScalar:i,addScalar:r,multiply:s,unaryMinus:o,det:a,identity:l,abs:c}=n;return t("inv",{"Array | Matrix":function(f){var h=Ci(f)?f.size():zi(f);switch(h.length){case 1:if(1===h[0])return Ci(f)?e([i(1,f.valueOf()[0])]):[i(1,f[0])];throw new RangeError("Matrix must be square (size: "+Cr(h)+")");case 2:var p=h[0],m=h[1];if(p===m)return Ci(f)?e(u(f.valueOf(),p,m),f.storage()):u(f,p,m);throw new RangeError("Matrix must be square (size: "+Cr(h)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+Cr(h)+")")}},any:function(f){return i(1,f)}});function u(d,f,h){var p,m,g,A,_;if(1===f){if(0===(A=d[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[i(1,A)]]}if(2===f){var v=a(d);if(0===v)throw Error("Cannot calculate inverse, determinant is zero");return[[i(d[1][1],v),i(o(d[0][1]),v)],[i(o(d[1][0]),v),i(d[0][0],v)]]}var b=d.concat();for(p=0;p<f;p++)b[p]=b[p].concat();for(var w=l(f).valueOf(),y=0;y<h;y++){var C=c(b[y][y]),D=y;for(p=y+1;p<f;)c(b[p][y])>C&&(C=c(b[p][y]),D=p),p++;if(0===C)throw Error("Cannot calculate inverse, determinant is zero");(p=D)!==y&&(_=b[y],b[y]=b[p],b[p]=_,_=w[y],w[y]=w[p],w[p]=_);var S=b[y],T=w[y];for(p=0;p<f;p++){var M=b[p],F=w[p];if(p!==y){if(0!==M[y]){for(g=i(o(M[y]),S[y]),m=y;m<h;m++)M[m]=r(M[m],s(g,S[m]));for(m=0;m<h;m++)F[m]=r(F[m],s(g,T[m]))}}else{for(g=S[y],m=y;m<h;m++)M[m]=i(M[m],g);for(m=0;m<h;m++)F[m]=i(F[m],g)}}}return w}}),H1t=xe("pinv",["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],n=>{var{typed:t,matrix:e,inv:i,deepEqual:r,equal:s,dotDivide:o,dot:a,ctranspose:l,divideScalar:c,multiply:u,add:d,Complex:f}=n;return t("pinv",{"Array | Matrix":function(v){var b=Ci(v)?v.size():zi(v);switch(b.length){case 1:return A(v)?l(v):1===b[0]?i(v):o(l(v),a(v,v));case 2:if(A(v))return l(v);var w=b[0],y=b[1];if(w===y)try{return i(v)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return Ci(v)?e(h(v.valueOf(),w,y),v.storage()):h(v,w,y);default:throw new RangeError("Matrix must be two dimensional (size: "+Cr(b)+")")}},any:function(v){return s(v,0)?Ji(v):c(1,v)}});function h(_,v,b){var{C:w,F:y}=function m(_,v,b){var w=function p(_,v,b){for(var w=Ji(_),y=0,C=0;C<v;C++){if(b<=y)return w;for(var D=C;g(w[D][y]);)if(v===++D&&(D=C,b===++y))return w;[w[D],w[C]]=[w[C],w[D]];for(var S=w[C][y],T=0;T<b;T++)w[C][T]=o(w[C][T],S);for(var M=0;M<v;M++)if(M!==C){S=w[M][y];for(var F=0;F<b;F++)w[M][F]=d(w[M][F],u(-1,u(S,w[C][F])))}y++}return w}(_,v,b),y=_.map((D,S)=>D.filter((T,M)=>M<v&&!g(a(w[M],w[M]))));return{C:y,F:w.filter((D,S)=>!g(a(w[S],w[S])))}}(_,v,b),C=u(i(u(l(w),w)),l(w)),D=u(l(y),i(u(y,l(y))));return u(D,C)}function g(_){return s(d(_,f(1,1)),d(0,f(1,1)))}function A(_){return r(d(_,f(1,1)),d(u(_,0),f(1,1)))}}),z1t=xe("pow",["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],n=>{var{typed:t,config:e,identity:i,multiply:r,matrix:s,inv:o,number:a,fraction:l,Complex:c}=n;return t("pow",{"number, number":u,"Complex, Complex":function(p,m){return p.pow(m)},"BigNumber, BigNumber":function(p,m){return m.isInteger()||p>=0||e.predictable?p.pow(m):new c(p.toNumber(),0).pow(m.toNumber(),0)},"bigint, bigint":(h,p)=>h**p,"Fraction, Fraction":function(p,m){var g=p.pow(m);if(null!=g)return g;if(e.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return u(p.valueOf(),m.valueOf())},"Array, number":d,"Array, BigNumber":function(p,m){return d(p,m.toNumber())},"Matrix, number":f,"Matrix, BigNumber":function(p,m){return f(p,m.toNumber())},"Unit, number | BigNumber":function(p,m){return p.pow(m)}});function u(h,p){if(e.predictable&&!ai(p)&&h<0)try{var m=l(p),g=a(m);if((p===g||Math.abs((p-g)/p)<1e-14)&&m.d%2n===1n)return(m.n%2n===0n?1:-1)*Math.pow(-h,p)}catch{}return e.predictable&&(h<-1&&p===1/0||h>-1&&h<0&&p===-1/0)?NaN:ai(p)||h>=0||e.predictable?Hpe(h,p):h*h<1&&p===1/0||h*h>1&&p===-1/0?0:new c(h,0).pow(p,0)}function d(h,p){if(!ai(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var m=zi(h);if(2!==m.length)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(p<0)try{return d(o(h),-p)}catch(_){throw"Cannot calculate inverse, determinant is zero"===_.message?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):_}for(var g=i(m[0]).valueOf(),A=h;p>=1;)!(1&~p)&&(g=r(A,g)),p>>=1,A=r(A,A);return g}function f(h,p){return s(d(h.valueOf(),p))}}),Wge="setDifference",G1t=xe(Wge,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s,DenseMatrix:o}=n;return t(Wge,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===i(e(l),new s(0)))u=[];else{if(0===i(e(c),new s(0)))return ps(l.toArray());var d=iC(ps(Array.isArray(l)?l:l.toArray()).sort(r)),f=iC(ps(Array.isArray(c)?c:c.toArray()).sort(r));u=[];for(var h,p=0;p<d.length;p++){h=!1;for(var m=0;m<f.length;m++)if(0===r(d[p].value,f[m].value)&&d[p].identifier===f[m].identifier){h=!0;break}h||u.push(d[p])}}return Array.isArray(l)&&Array.isArray(c)?WR(u):new o(WR(u))}})}),$ge="setMultiplicity",q1t=xe($ge,["typed","size","subset","compareNatural","Index"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s}=n;return t($ge,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(a,l){if(0===i(e(l),new s(0)))return 0;for(var c=ps(Array.isArray(l)?l:l.toArray()),u=0,d=0;d<c.length;d++)0===r(c[d],a)&&u++;return u}})}),Kge="setSymDifference",$1t=xe(Kge,["typed","size","concat","subset","setDifference","Index"],n=>{var{typed:t,size:e,concat:i,subset:r,setDifference:s,Index:o}=n;return t(Kge,{"Array | Matrix, Array | Matrix":function(l,c){if(0===r(e(l),new o(0)))return ps(c);if(0===r(e(c),new o(0)))return ps(l);var u=ps(l),d=ps(c);return i(s(u,d),s(d,u))}})}),Y1t=xe("Spa",["addScalar","equalScalar","FibonacciHeap"],n=>{var{addScalar:t,equalScalar:e,FibonacciHeap:i}=n;function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new i}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(s,o){if(this._values[s])this._values[s].value=o;else{var a=this._heap.insert(s,o);this._values[s]=a}},r.prototype.get=function(s){var o=this._values[s];return o?o.value:0},r.prototype.accumulate=function(s,o){var a=this._values[s];a?a.value=t(a.value,o):(a=this._heap.insert(s,o),this._values[s]=a)},r.prototype.forEach=function(s,o,a){var l=this._heap,c=this._values,u=[],d=l.extractMinimum();for(d&&u.push(d);d&&d.key<=o;)d.key>=s&&(e(d.value,0)||a(d.key,d.value,this)),(d=l.extractMinimum())&&u.push(d);for(var f=0;f<u.length;f++){var h=u[f];c[(d=l.insert(h.key,h.value)).key]=d}},r.prototype.swap=function(s,o){var a=this._values[s],l=this._values[o];if(!a&&l)a=this._heap.insert(s,l.value),this._heap.remove(l),this._values[s]=a,this._values[o]=void 0;else if(a&&!l)l=this._heap.insert(o,a.value),this._heap.remove(a),this._values[o]=l,this._values[s]=void 0;else if(a&&l){var c=a.value;a.value=l.value,l.value=c}},r},{isClass:!0}),J1t=xe("sqrtm",["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],n=>{var{typed:t,abs:e,add:i,multiply:r,map:s,sqrt:o,subtract:a,inv:l,size:c,max:u,identity:d}=n,h=1e-6;return t("sqrtm",{"Array | Matrix":function(g){var A=Ci(g)?g.size():zi(g);switch(A.length){case 1:if(1===A[0])return s(g,o);throw new RangeError("Matrix must be square (size: "+Cr(A)+")");case 2:if(A[0]===A[1])return function p(m){var g,A=0,_=m,v=d(c(m));do{var b=_;if(_=r(.5,i(b,l(v))),v=r(.5,i(v,l(b))),(g=u(e(a(_,b))))>h&&++A>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(g>h);return _}(g);throw new RangeError("Matrix must be square (size: "+Cr(A)+")");default:throw new RangeError("Matrix must be at most two dimensional (size: "+Cr(A)+")")}}})});function Yge(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function qG(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Yge(Object(e),!0).forEach(function(i){(0,xl.A)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Yge(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}var nwt=xe("Unit",["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","toBest","number","Complex","BigNumber","Fraction"],n=>{var w,y,C,{on:t,config:e,addScalar:i,subtractScalar:r,multiplyScalar:s,divideScalar:o,pow:a,abs:l,fix:c,round:u,equal:d,isNumeric:f,format:h,number:m,Complex:g,BigNumber:A,Fraction:_}=n,v=m;function b(re,K){if(!(this instanceof b))throw new Error("Constructor must be called with the new operator");if(null!=re&&!f(re)&&!sg(re))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,void 0===K)this.units=[],this.dimensions=X.map(we=>0);else if("string"==typeof K){var W=b.parse(K);this.units=W.units,this.dimensions=W.dimensions}else{if(!vh(K)||null!==K.value)throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.fixPrefix=K.fixPrefix,this.skipAutomaticSimplification=K.skipAutomaticSimplification,this.dimensions=K.dimensions.slice(0),this.units=K.units.map(we=>Ul({},we))}this.value=this._normalize(re)}function D(){for(;" "===C||"\t"===C;)M()}function T(re){return re>="0"&&re<="9"}function M(){y++,C=w.charAt(y)}function F(re){C=w.charAt(y=re)}function L(){var re="",K=y;if("+"===C?M():"-"===C&&(re+=C,M()),!function S(re){return re>="0"&&re<="9"||"."===re}(C))return F(K),null;if("."===C){if(re+=C,M(),!T(C))return F(K),null}else{for(;T(C);)re+=C,M();"."===C&&(re+=C,M())}for(;T(C);)re+=C,M();if("E"===C||"e"===C){var W="",we=y;if(W+=C,M(),("+"===C||"-"===C)&&(W+=C,M()),!T(C))return F(we),re;for(re+=W;T(C);)re+=C,M()}return re}function U(){for(var re="";T(C)||b.isValidAlpha(C);)re+=C,M();var K=re.charAt(0);return b.isValidAlpha(K)?re:null}function z(re){return C===re?(M(),re):null}Object.defineProperty(b,"name",{value:"Unit"}),b.prototype.constructor=b,b.prototype.type="Unit",b.prototype.isUnit=!0,b.parse=function(re,K){if(K=K||{},y=-1,C="","string"!=typeof(w=re))throw new TypeError("Invalid argument in Unit.parse, string expected");var W=new b;W.units=[];var we=1,ke=!1;M(),D();var Ve=L(),Qe=null;if(Ve){if("BigNumber"===e.number)Qe=new A(Ve);else if("Fraction"===e.number)try{Qe=new _(Ve)}catch{Qe=parseFloat(Ve)}else Qe=parseFloat(Ve);D(),z("*")?(we=1,ke=!0):z("/")&&(we=-1,ke=!0)}for(var pt=[],Bt=1;;){for(D();"("===C;)pt.push(we),Bt*=we,we=1,M(),D();var yt;if(!C)break;var Mn=C;if(null===(yt=U()))throw new SyntaxError('Unexpected "'+Mn+'" in "'+w+'" at index '+y.toString());var rt=O(yt);if(null===rt)throw new SyntaxError('Unit "'+yt+'" not found.');var Sn=we*Bt;if(D(),z("^")){D();var En=L();if(null===En)throw new SyntaxError('In "'+re+'", "^" must be followed by a floating-point number');Sn*=En}W.units.push({unit:rt.unit,prefix:rt.prefix,power:Sn});for(var ei=0;ei<X.length;ei++)W.dimensions[ei]+=(rt.unit.dimensions[ei]||0)*Sn;for(D();")"===C;){if(0===pt.length)throw new SyntaxError('Unmatched ")" in "'+w+'" at index '+y.toString());Bt/=pt.pop(),M(),D()}ke=!1,z("*")?(we=1,ke=!0):z("/")?(we=-1,ke=!0):we=1,rt.unit.base&&(Ce.auto[rt.unit.base.key]={unit:rt.unit,prefix:rt.prefix})}if(D(),C)throw new SyntaxError('Could not parse: "'+re+'"');if(ke)throw new SyntaxError('Trailing characters: "'+re+'"');if(0!==pt.length)throw new SyntaxError('Unmatched "(" in "'+w+'"');if(0===W.units.length&&!K.allowNoUnits)throw new SyntaxError('"'+re+'" contains no units');return W.value=void 0!==Qe?W._normalize(Qe):null,W},b.prototype.clone=function(){var re=new b;re.fixPrefix=this.fixPrefix,re.skipAutomaticSimplification=this.skipAutomaticSimplification,re.value=Ji(this.value),re.dimensions=this.dimensions.slice(0),re.units=[];for(var K=0;K<this.units.length;K++)for(var W in re.units[K]={},this.units[K])ti(this.units[K],W)&&(re.units[K][W]=this.units[K][W]);return re},b.prototype.valueType=function(){return ro(this.value)},b.prototype._isDerived=function(){return 0!==this.units.length&&(this.units.length>1||Math.abs(this.units[0].power-1)>1e-15)},b.prototype._normalize=function(re){if(null==re||0===this.units.length)return re;for(var K=re,W=b._getNumberConverter(ro(re)),we=0;we<this.units.length;we++){var ke=W(this.units[we].unit.value),Ve=W(this.units[we].prefix.value),Qe=W(this.units[we].power);K=s(K,a(s(ke,Ve),Qe))}return K},b.prototype._denormalize=function(re,K){if(null==re||0===this.units.length)return re;for(var W=re,we=b._getNumberConverter(ro(re)),ke=0;ke<this.units.length;ke++){var Ve=we(this.units[ke].unit.value),Qe=we(this.units[ke].prefix.value),pt=we(this.units[ke].power);W=o(W,a(s(Ve,Qe),pt))}return W};var O=RM(re=>{if(ti(ee,re)){var K=ee[re];return{unit:K,prefix:K.prefixes[""]}}for(var we in ee)if(ti(ee,we)&&vrt(re,we)){var ke=ee[we],Qe=re.substring(0,re.length-we.length),pt=ti(ke.prefixes,Qe)?ke.prefixes[Qe]:void 0;if(void 0!==pt)return{unit:ke,prefix:pt}}return null},{hasher:re=>re[0],limit:100});function G(re){return re.equalBase(H.NONE)&&null!==re.value&&!e.predictable?re.value:re}function j(re){return b._getNumberConverter(ro(re))(1)}function J(re){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=re.skipAutomaticSimplification||null===re.value?re.clone():re.simplify();(function le(re){var K=!1;for(var W in typeof re.value<"u"&&null!==re.value&&sg(re.value)&&(K=Math.abs(re.value.re)<1e-14),re.units)ti(re.units,W)&&re.units[W].unit&&("VA"===re.units[W].unit.name&&K?re.units[W].unit=ee.VAR:"VAR"===re.units[W].unit.name&&!K&&(re.units[W].unit=ee.VA))})(W),function ye(re,K){1===re.units.length&&!re.fixPrefix&&Math.abs(re.units[0].power-Math.round(re.units[0].power))<1e-14&&(re.units[0].prefix=re._bestPrefix(K))}(W,K.offset);var we=W._denormalize(W.value),ke=null!==W.value?h(we,K||{}):"",Ve=W.formatUnits();return{simp:W,valueStr:ke,unitStr:Ve}}b.isValuelessUnit=function(re){return null!==O(re)},b.prototype.hasBase=function(re){if("string"==typeof re&&(re=H[re]),!re)return!1;for(var K=0;K<X.length;K++)if(Math.abs((this.dimensions[K]||0)-(re.dimensions[K]||0))>1e-12)return!1;return!0},b.prototype.equalBase=function(re){for(var K=0;K<X.length;K++)if(Math.abs((this.dimensions[K]||0)-(re.dimensions[K]||0))>1e-12)return!1;return!0},b.prototype.equals=function(re){return this.equalBase(re)&&d(this.value,re.value)},b.prototype.multiply=function(re){for(var K=this.clone(),W=vh(re)?re:new b(re),we=0;we<X.length;we++)K.dimensions[we]=(this.dimensions[we]||0)+(W.dimensions[we]||0);for(var ke=0;ke<W.units.length;ke++){var Ve=qG({},W.units[ke]);K.units.push(Ve)}if(null!==this.value||null!==W.value){var Qe=null===this.value?this._normalize(j(W.value)):this.value,pt=null===W.value?W._normalize(j(this.value)):W.value;K.value=s(Qe,pt)}else K.value=null;return vh(re)&&(K.skipAutomaticSimplification=!1),G(K)},b.prototype.divideInto=function(re){return new b(re).divide(this)},b.prototype.divide=function(re){for(var K=this.clone(),W=vh(re)?re:new b(re),we=0;we<X.length;we++)K.dimensions[we]=(this.dimensions[we]||0)-(W.dimensions[we]||0);for(var ke=0;ke<W.units.length;ke++){var Ve=qG(qG({},W.units[ke]),{},{power:-W.units[ke].power});K.units.push(Ve)}if(null!==this.value||null!==W.value){var Qe=null===this.value?this._normalize(j(W.value)):this.value,pt=null===W.value?W._normalize(j(this.value)):W.value;K.value=o(Qe,pt)}else K.value=null;return vh(re)&&(K.skipAutomaticSimplification=!1),G(K)},b.prototype.pow=function(re){for(var K=this.clone(),W=0;W<X.length;W++)K.dimensions[W]=(this.dimensions[W]||0)*re;for(var we=0;we<K.units.length;we++)K.units[we].power*=re;return K.value=null!==K.value?a(K.value,re):null,K.skipAutomaticSimplification=!1,G(K)},b.prototype.abs=function(){var re=this.clone();if(null!==re.value)if(re._isDerived()||0===re.units.length||0===re.units[0].unit.offset)re.value=l(re.value);else{var K=re._numberConverter(),W=K(re.units[0].unit.value),we=K(re.units[0].unit.offset),ke=s(W,we);re.value=r(l(i(re.value,ke)),ke)}for(var Ve in re.units)("VA"===re.units[Ve].unit.name||"VAR"===re.units[Ve].unit.name)&&(re.units[Ve].unit=ee.W);return re},b.prototype.to=function(re){var W,K=null===this.value?this._normalize(1):this.value;if("string"==typeof re)W=b.parse(re);else{if(!vh(re))throw new Error("String or Unit expected as parameter");W=re.clone()}if(!this.equalBase(W))throw new Error("Units do not match ('".concat(W.toString(),"' != '").concat(this.toString(),"')"));if(null!==W.value)throw new Error("Cannot convert to a unit with a value");if(null===this.value||this._isDerived()||0===this.units.length||0===W.units.length||this.units[0].unit.offset===W.units[0].unit.offset)W.value=Ji(K);else{var we=b._getNumberConverter(ro(K)),Qe=s(this.units[0].unit.value,this.units[0].unit.offset),yt=s(W.units[0].unit.value,W.units[0].unit.offset);W.value=i(K,we(r(Qe,yt)))}return W.fixPrefix=!0,W.skipAutomaticSimplification=!0,W},b.prototype.toNumber=function(re){return v(this.toNumeric(re))},b.prototype.toNumeric=function(re){var K;return(K=re?this.to(re):this.clone())._isDerived()||0===K.units.length?K._denormalize(K.value):K._denormalize(K.value,K.units[0].prefix.value)},b.prototype.toString=function(){return this.format()},b.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.units.length>0?this.formatUnits():null,fixPrefix:this.fixPrefix}},b.fromJSON=function(re){var K,W=new b(re.value,null!==(K=re.unit)&&void 0!==K?K:void 0);return W.fixPrefix=re.fixPrefix||!1,W},b.prototype.valueOf=b.prototype.toString,b.prototype.simplify=function(){var W,ke,re=this.clone(),K=[];for(var we in ve)if(ti(ve,we)&&re.hasBase(H[we])){W=we;break}if("NONE"===W)re.units=[];else if(W&&ti(ve,W)&&(ke=ve[W]),ke)re.units=[{unit:ke.unit,prefix:ke.prefix,power:1}];else{for(var Ve=!1,Qe=0;Qe<X.length;Qe++){var pt=X[Qe];Math.abs(re.dimensions[Qe]||0)>1e-12&&(ti(ve,pt)?K.push({unit:ve[pt].unit,prefix:ve[pt].prefix,power:re.dimensions[Qe]||0}):Ve=!0)}K.length<re.units.length&&!Ve&&(re.units=K)}return re},b.prototype.toSI=function(){for(var re=this.clone(),K=[],W=0;W<X.length;W++){var we=X[W];if(Math.abs(re.dimensions[W]||0)>1e-12){if(!ti(Ce.si,we))throw new Error("Cannot express custom unit "+we+" in SI units");K.push({unit:Ce.si[we].unit,prefix:Ce.si[we].prefix,power:re.dimensions[W]||0})}}return re.units=K,re.fixPrefix=!0,re.skipAutomaticSimplification=!0,null!==this.value?(re.value=null,this.to(re)):re},b.prototype.formatUnits=function(){for(var re="",K="",W=0,we=0,ke=0;ke<this.units.length;ke++)this.units[ke].power>0?(W++,re+=" "+this.units[ke].prefix.name+this.units[ke].unit.name,Math.abs(this.units[ke].power-1)>1e-15&&(re+="^"+this.units[ke].power)):this.units[ke].power<0&&we++;if(we>0)for(var Ve=0;Ve<this.units.length;Ve++)this.units[Ve].power<0&&(W>0?(K+=" "+this.units[Ve].prefix.name+this.units[Ve].unit.name,Math.abs(this.units[Ve].power+1)>1e-15&&(K+="^"+-this.units[Ve].power)):(K+=" "+this.units[Ve].prefix.name+this.units[Ve].unit.name,K+="^"+this.units[Ve].power));re=re.substr(1),K=K.substr(1),W>1&&we>0&&(re="("+re+")"),we>1&&W>0&&(K="("+K+")");var Qe=re;return W>0&&we>0&&(Qe+=" / "),Qe+K},b.prototype.toBest=function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(re&&!Array.isArray(re))throw new Error("Invalid unit type. Expected string or Unit.");var W=this.units[0].unit.prefixes;if(re&&re.length>0){var ke=re.map(Qe=>{var pt=null;if("string"==typeof Qe){if(!(pt=b.parse(Qe)))throw new Error("Invalid unit type. Expected compatible string or Unit.")}else if(!vh(Qe))throw new Error("Invalid unit type. Expected compatible string or Unit.");null===pt&&(pt=Qe.clone());try{return this.to(pt.formatUnits()),pt}catch{throw new Error("Invalid unit type. Expected compatible string or Unit.")}}).map(Qe=>Qe.units[0].prefix);this.units[0].unit.prefixes=ke.reduce((Qe,pt)=>(Qe[pt.name]=pt,Qe),{}),this.units[0].prefix=ke[0]}var Ve=J(this,K).simp;return this.units[0].unit.prefixes=W,Ve.fixPrefix=!0,Ve},b.prototype.format=function(re){var{simp:K,valueStr:W,unitStr:we}=J(this,re),ke=W;return K.value&&sg(K.value)&&(ke="("+ke+")"),we.length>0&&ke.length>0&&(ke+=" "),ke+we},b.prototype._bestPrefix=function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.2;if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var K=null!==this.value?l(this.value):0,W=l(this.units[0].unit.value),we=this.units[0].prefix;if(0===K)return we;var ke=this.units[0].power,Ve=Math.log(K/Math.pow(we.value*W,ke))/Math.LN10-re;if(Ve>-2.200001&&Ve<1.800001)return we;Ve=Math.abs(Ve);var Qe=this.units[0].unit.prefixes;for(var pt in Qe)if(ti(Qe,pt)){var Bt=Qe[pt];if(Bt.scientific){var yt=Math.abs(Math.log(K/Math.pow(Bt.value*W,ke))/Math.LN10-re);(yt<Ve||yt===Ve&&Bt.name.length<we.name.length)&&(we=Bt,Ve=yt)}}return we},b.prototype.splitUnit=function(re){for(var K=this.clone(),W=[],we=0;we<re.length&&(K=K.to(re[we]),we!==re.length-1);we++){var ke=K.toNumeric(),Ve=u(ke),Bt=new b(d(Ve,ke)?Ve:c(K.toNumeric()),re[we].toString());W.push(Bt),K=r(K,Bt)}for(var yt=0,Mn=0;Mn<W.length;Mn++)yt=i(yt,W[Mn].value);return d(yt,this.value)&&(K.value=0),W.push(K),W};var R={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};R.SHORTLONG=Ul({},R.SHORT,R.LONG),R.BINARY_SHORT=Ul({},R.BINARY_SHORT_SI,R.BINARY_SHORT_IEC),R.BINARY_LONG=Ul({},R.BINARY_LONG_SI,R.BINARY_LONG_IEC);var X=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],H={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var ae in H)ti(H,ae)&&(H[ae].key=ae);var he={name:"",base:{},value:1,offset:0,dimensions:X.map(re=>0)},ee={meter:{name:"meter",base:H.LENGTH,prefixes:R.LONG,value:1,offset:0},inch:{name:"inch",base:H.LENGTH,prefixes:R.NONE,value:.0254,offset:0},foot:{name:"foot",base:H.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yard:{name:"yard",base:H.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mile:{name:"mile",base:H.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},link:{name:"link",base:H.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rod:{name:"rod",base:H.LENGTH,prefixes:R.NONE,value:5.0292,offset:0},chain:{name:"chain",base:H.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:H.LENGTH,prefixes:R.NONE,value:1e-10,offset:0},m:{name:"m",base:H.LENGTH,prefixes:R.SHORT,value:1,offset:0},in:{name:"in",base:H.LENGTH,prefixes:R.NONE,value:.0254,offset:0},ft:{name:"ft",base:H.LENGTH,prefixes:R.NONE,value:.3048,offset:0},yd:{name:"yd",base:H.LENGTH,prefixes:R.NONE,value:.9144,offset:0},mi:{name:"mi",base:H.LENGTH,prefixes:R.NONE,value:1609.344,offset:0},li:{name:"li",base:H.LENGTH,prefixes:R.NONE,value:.201168,offset:0},rd:{name:"rd",base:H.LENGTH,prefixes:R.NONE,value:5.02921,offset:0},ch:{name:"ch",base:H.LENGTH,prefixes:R.NONE,value:20.1168,offset:0},mil:{name:"mil",base:H.LENGTH,prefixes:R.NONE,value:254e-7,offset:0},m2:{name:"m2",base:H.SURFACE,prefixes:R.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:H.SURFACE,prefixes:R.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:H.SURFACE,prefixes:R.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:H.SURFACE,prefixes:R.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:H.SURFACE,prefixes:R.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:H.SURFACE,prefixes:R.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:H.SURFACE,prefixes:R.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:H.SURFACE,prefixes:R.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:H.SURFACE,prefixes:R.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:H.SURFACE,prefixes:R.NONE,value:1e4,offset:0},m3:{name:"m3",base:H.VOLUME,prefixes:R.CUBIC,value:1,offset:0},L:{name:"L",base:H.VOLUME,prefixes:R.SHORT,value:.001,offset:0},l:{name:"l",base:H.VOLUME,prefixes:R.SHORT,value:.001,offset:0},litre:{name:"litre",base:H.VOLUME,prefixes:R.LONG,value:.001,offset:0},cuin:{name:"cuin",base:H.VOLUME,prefixes:R.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:H.VOLUME,prefixes:R.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:H.VOLUME,prefixes:R.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:H.VOLUME,prefixes:R.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:H.VOLUME,prefixes:R.NONE,value:15e-6,offset:0},drop:{name:"drop",base:H.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:H.VOLUME,prefixes:R.NONE,value:5e-8,offset:0},minim:{name:"minim",base:H.VOLUME,prefixes:R.NONE,value:6.1611519921875e-8,offset:0},fluiddram:{name:"fluiddram",base:H.VOLUME,prefixes:R.NONE,value:36966911953125e-19,offset:0},fluidounce:{name:"fluidounce",base:H.VOLUME,prefixes:R.NONE,value:295735295625e-16,offset:0},gill:{name:"gill",base:H.VOLUME,prefixes:R.NONE,value:.00011829411825,offset:0},cc:{name:"cc",base:H.VOLUME,prefixes:R.NONE,value:1e-6,offset:0},cup:{name:"cup",base:H.VOLUME,prefixes:R.NONE,value:.0002365882365,offset:0},pint:{name:"pint",base:H.VOLUME,prefixes:R.NONE,value:.000473176473,offset:0},quart:{name:"quart",base:H.VOLUME,prefixes:R.NONE,value:.000946352946,offset:0},gallon:{name:"gallon",base:H.VOLUME,prefixes:R.NONE,value:.003785411784,offset:0},beerbarrel:{name:"beerbarrel",base:H.VOLUME,prefixes:R.NONE,value:.117347765304,offset:0},oilbarrel:{name:"oilbarrel",base:H.VOLUME,prefixes:R.NONE,value:.158987294928,offset:0},hogshead:{name:"hogshead",base:H.VOLUME,prefixes:R.NONE,value:.238480942392,offset:0},g:{name:"g",base:H.MASS,prefixes:R.SHORT,value:.001,offset:0},gram:{name:"gram",base:H.MASS,prefixes:R.LONG,value:.001,offset:0},ton:{name:"ton",base:H.MASS,prefixes:R.SHORT,value:907.18474,offset:0},t:{name:"t",base:H.MASS,prefixes:R.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:H.MASS,prefixes:R.LONG,value:1e3,offset:0},grain:{name:"grain",base:H.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:H.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:H.MASS,prefixes:R.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:H.MASS,prefixes:R.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:H.MASS,prefixes:R.NONE,value:45.359237,offset:0},stick:{name:"stick",base:H.MASS,prefixes:R.NONE,value:.115,offset:0},stone:{name:"stone",base:H.MASS,prefixes:R.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:H.MASS,prefixes:R.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:H.MASS,prefixes:R.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:H.MASS,prefixes:R.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:H.MASS,prefixes:R.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:H.MASS,prefixes:R.NONE,value:45.359237,offset:0},s:{name:"s",base:H.TIME,prefixes:R.SHORT,value:1,offset:0},min:{name:"min",base:H.TIME,prefixes:R.NONE,value:60,offset:0},h:{name:"h",base:H.TIME,prefixes:R.NONE,value:3600,offset:0},second:{name:"second",base:H.TIME,prefixes:R.LONG,value:1,offset:0},sec:{name:"sec",base:H.TIME,prefixes:R.LONG,value:1,offset:0},minute:{name:"minute",base:H.TIME,prefixes:R.NONE,value:60,offset:0},hour:{name:"hour",base:H.TIME,prefixes:R.NONE,value:3600,offset:0},day:{name:"day",base:H.TIME,prefixes:R.NONE,value:86400,offset:0},week:{name:"week",base:H.TIME,prefixes:R.NONE,value:604800,offset:0},month:{name:"month",base:H.TIME,prefixes:R.NONE,value:2629800,offset:0},year:{name:"year",base:H.TIME,prefixes:R.NONE,value:31557600,offset:0},decade:{name:"decade",base:H.TIME,prefixes:R.NONE,value:315576e3,offset:0},century:{name:"century",base:H.TIME,prefixes:R.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:H.TIME,prefixes:R.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:H.FREQUENCY,prefixes:R.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:H.FREQUENCY,prefixes:R.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:H.ANGLE,prefixes:R.SHORT,value:1,offset:0},radian:{name:"radian",base:H.ANGLE,prefixes:R.LONG,value:1,offset:0},deg:{name:"deg",base:H.ANGLE,prefixes:R.SHORT,value:null,offset:0},degree:{name:"degree",base:H.ANGLE,prefixes:R.LONG,value:null,offset:0},grad:{name:"grad",base:H.ANGLE,prefixes:R.SHORT,value:null,offset:0},gradian:{name:"gradian",base:H.ANGLE,prefixes:R.LONG,value:null,offset:0},cycle:{name:"cycle",base:H.ANGLE,prefixes:R.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:H.ANGLE,prefixes:R.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:H.ANGLE,prefixes:R.NONE,value:null,offset:0},A:{name:"A",base:H.CURRENT,prefixes:R.SHORT,value:1,offset:0},ampere:{name:"ampere",base:H.CURRENT,prefixes:R.LONG,value:1,offset:0},K:{name:"K",base:H.TEMPERATURE,prefixes:R.SHORT,value:1,offset:0},degC:{name:"degC",base:H.TEMPERATURE,prefixes:R.SHORT,value:1,offset:273.15},degF:{name:"degF",base:H.TEMPERATURE,prefixes:R.SHORT,value:new _(5,9),offset:459.67},degR:{name:"degR",base:H.TEMPERATURE,prefixes:R.SHORT,value:new _(5,9),offset:0},kelvin:{name:"kelvin",base:H.TEMPERATURE,prefixes:R.LONG,value:1,offset:0},celsius:{name:"celsius",base:H.TEMPERATURE,prefixes:R.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:H.TEMPERATURE,prefixes:R.LONG,value:new _(5,9),offset:459.67},rankine:{name:"rankine",base:H.TEMPERATURE,prefixes:R.LONG,value:new _(5,9),offset:0},mol:{name:"mol",base:H.AMOUNT_OF_SUBSTANCE,prefixes:R.SHORT,value:1,offset:0},mole:{name:"mole",base:H.AMOUNT_OF_SUBSTANCE,prefixes:R.LONG,value:1,offset:0},cd:{name:"cd",base:H.LUMINOUS_INTENSITY,prefixes:R.SHORT,value:1,offset:0},candela:{name:"candela",base:H.LUMINOUS_INTENSITY,prefixes:R.LONG,value:1,offset:0},N:{name:"N",base:H.FORCE,prefixes:R.SHORT,value:1,offset:0},newton:{name:"newton",base:H.FORCE,prefixes:R.LONG,value:1,offset:0},dyn:{name:"dyn",base:H.FORCE,prefixes:R.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:H.FORCE,prefixes:R.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:H.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:H.FORCE,prefixes:R.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:H.FORCE,prefixes:R.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:H.FORCE,prefixes:R.NONE,value:9.80665,offset:0},J:{name:"J",base:H.ENERGY,prefixes:R.SHORT,value:1,offset:0},joule:{name:"joule",base:H.ENERGY,prefixes:R.LONG,value:1,offset:0},erg:{name:"erg",base:H.ENERGY,prefixes:R.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:H.ENERGY,prefixes:R.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:H.ENERGY,prefixes:R.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:H.ENERGY,prefixes:R.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:H.ENERGY,prefixes:R.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:H.POWER,prefixes:R.SHORT,value:1,offset:0},watt:{name:"watt",base:H.POWER,prefixes:R.LONG,value:1,offset:0},hp:{name:"hp",base:H.POWER,prefixes:R.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:H.POWER,prefixes:R.SHORT,value:g.I,offset:0},VA:{name:"VA",base:H.POWER,prefixes:R.SHORT,value:1,offset:0},Pa:{name:"Pa",base:H.PRESSURE,prefixes:R.SHORT,value:1,offset:0},psi:{name:"psi",base:H.PRESSURE,prefixes:R.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:H.PRESSURE,prefixes:R.NONE,value:101325,offset:0},bar:{name:"bar",base:H.PRESSURE,prefixes:R.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:H.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:H.PRESSURE,prefixes:R.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:H.PRESSURE,prefixes:R.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:H.PRESSURE,prefixes:R.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:H.ELECTRIC_CHARGE,prefixes:R.LONG,value:1,offset:0},C:{name:"C",base:H.ELECTRIC_CHARGE,prefixes:R.SHORT,value:1,offset:0},farad:{name:"farad",base:H.ELECTRIC_CAPACITANCE,prefixes:R.LONG,value:1,offset:0},F:{name:"F",base:H.ELECTRIC_CAPACITANCE,prefixes:R.SHORT,value:1,offset:0},volt:{name:"volt",base:H.ELECTRIC_POTENTIAL,prefixes:R.LONG,value:1,offset:0},V:{name:"V",base:H.ELECTRIC_POTENTIAL,prefixes:R.SHORT,value:1,offset:0},ohm:{name:"ohm",base:H.ELECTRIC_RESISTANCE,prefixes:R.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:H.ELECTRIC_INDUCTANCE,prefixes:R.LONG,value:1,offset:0},H:{name:"H",base:H.ELECTRIC_INDUCTANCE,prefixes:R.SHORT,value:1,offset:0},siemens:{name:"siemens",base:H.ELECTRIC_CONDUCTANCE,prefixes:R.LONG,value:1,offset:0},S:{name:"S",base:H.ELECTRIC_CONDUCTANCE,prefixes:R.SHORT,value:1,offset:0},weber:{name:"weber",base:H.MAGNETIC_FLUX,prefixes:R.LONG,value:1,offset:0},Wb:{name:"Wb",base:H.MAGNETIC_FLUX,prefixes:R.SHORT,value:1,offset:0},tesla:{name:"tesla",base:H.MAGNETIC_FLUX_DENSITY,prefixes:R.LONG,value:1,offset:0},T:{name:"T",base:H.MAGNETIC_FLUX_DENSITY,prefixes:R.SHORT,value:1,offset:0},b:{name:"b",base:H.BIT,prefixes:R.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:H.BIT,prefixes:R.BINARY_LONG,value:1,offset:0},B:{name:"B",base:H.BIT,prefixes:R.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:H.BIT,prefixes:R.BINARY_LONG,value:8,offset:0}},ie={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fldr:"fluiddram",fluiddrams:"fluiddram",floz:"fluidounce",fluidounces:"fluidounce",gi:"gill",gills:"gill",cp:"cup",cups:"cup",pt:"pint",pints:"pint",qt:"quart",quarts:"quart",gal:"gallon",gallons:"gallon",bbl:"beerbarrel",beerbarrels:"beerbarrel",obl:"oilbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function ge(re){if("BigNumber"===re.number){var K=FG(A);ee.rad.value=new A(1),ee.deg.value=K.div(180),ee.grad.value=K.div(200),ee.cycle.value=K.times(2),ee.arcsec.value=K.div(648e3),ee.arcmin.value=K.div(10800)}else ee.rad.value=1,ee.deg.value=Math.PI/180,ee.grad.value=Math.PI/200,ee.cycle.value=2*Math.PI,ee.arcsec.value=Math.PI/648e3,ee.arcmin.value=Math.PI/10800;ee.radian.value=ee.rad.value,ee.degree.value=ee.deg.value,ee.gradian.value=ee.grad.value}ge(e),t&&t("config",function(re,K){re.number!==K.number&&ge(re)});var Ce={si:{NONE:{unit:he,prefix:R.NONE[""]},LENGTH:{unit:ee.m,prefix:R.SHORT[""]},MASS:{unit:ee.g,prefix:R.SHORT.k},TIME:{unit:ee.s,prefix:R.SHORT[""]},CURRENT:{unit:ee.A,prefix:R.SHORT[""]},TEMPERATURE:{unit:ee.K,prefix:R.SHORT[""]},LUMINOUS_INTENSITY:{unit:ee.cd,prefix:R.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:ee.mol,prefix:R.SHORT[""]},ANGLE:{unit:ee.rad,prefix:R.SHORT[""]},BIT:{unit:ee.bits,prefix:R.SHORT[""]},FORCE:{unit:ee.N,prefix:R.SHORT[""]},ENERGY:{unit:ee.J,prefix:R.SHORT[""]},POWER:{unit:ee.W,prefix:R.SHORT[""]},PRESSURE:{unit:ee.Pa,prefix:R.SHORT[""]},ELECTRIC_CHARGE:{unit:ee.C,prefix:R.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:ee.F,prefix:R.SHORT[""]},ELECTRIC_POTENTIAL:{unit:ee.V,prefix:R.SHORT[""]},ELECTRIC_RESISTANCE:{unit:ee.ohm,prefix:R.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:ee.H,prefix:R.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:ee.S,prefix:R.SHORT[""]},MAGNETIC_FLUX:{unit:ee.Wb,prefix:R.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:ee.T,prefix:R.SHORT[""]},FREQUENCY:{unit:ee.Hz,prefix:R.SHORT[""]}}};Ce.cgs=JSON.parse(JSON.stringify(Ce.si)),Ce.cgs.LENGTH={unit:ee.m,prefix:R.SHORT.c},Ce.cgs.MASS={unit:ee.g,prefix:R.SHORT[""]},Ce.cgs.FORCE={unit:ee.dyn,prefix:R.SHORT[""]},Ce.cgs.ENERGY={unit:ee.erg,prefix:R.NONE[""]},Ce.us=JSON.parse(JSON.stringify(Ce.si)),Ce.us.LENGTH={unit:ee.ft,prefix:R.NONE[""]},Ce.us.MASS={unit:ee.lbm,prefix:R.NONE[""]},Ce.us.TEMPERATURE={unit:ee.degF,prefix:R.NONE[""]},Ce.us.FORCE={unit:ee.lbf,prefix:R.NONE[""]},Ce.us.ENERGY={unit:ee.BTU,prefix:R.BTU[""]},Ce.us.POWER={unit:ee.hp,prefix:R.NONE[""]},Ce.us.PRESSURE={unit:ee.psi,prefix:R.NONE[""]},Ce.auto=JSON.parse(JSON.stringify(Ce.si));var ve=Ce.auto;for(var Ne in b.setUnitSystem=function(re){if(!ti(Ce,re))throw new Error("Unit system "+re+" does not exist. Choices are: "+Object.keys(Ce).join(", "));ve=Ce[re]},b.getUnitSystem=function(){for(var re in Ce)if(ti(Ce,re)&&Ce[re]===ve)return re},b.typeConverters={BigNumber:function(K){return null!=K&&K.isFraction?new A(String(K.n)).div(String(K.d)).times(String(K.s)):new A(K+"")},Fraction:function(K){return new _(K)},Complex:function(K){return K},number:function(K){return null!=K&&K.isFraction?m(K):K}},b.prototype._numberConverter=function(){var re=b.typeConverters[this.valueType()];if(re)return re;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},b._getNumberConverter=function(re){if(!b.typeConverters[re])throw new TypeError('Unsupported type "'+re+'"');return b.typeConverters[re]},ee)if(ti(ee,Ne)){var se=ee[Ne];se.dimensions=se.base.dimensions}for(var Oe in ie)if(ti(ie,Oe)){var fe=ee[ie[Oe]],at={};for(var Ge in fe)ti(fe,Ge)&&(at[Ge]=fe[Ge]);at.name=Oe,ee[Oe]=at}return b.isValidAlpha=function(K){return/^[a-zA-Z]$/.test(K)},b.createUnit=function(re,K){if("object"!=typeof re)throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(K&&K.override)for(var W in re)if(ti(re,W)&&b.deleteUnit(W),re[W].aliases)for(var we=0;we<re[W].aliases.length;we++)b.deleteUnit(re[W].aliases[we]);var ke;for(var Ve in re)ti(re,Ve)&&(ke=b.createUnitSingle(Ve,re[Ve]));return ke},b.createUnitSingle=function(re,K){if((typeof K>"u"||null===K)&&(K={}),"string"!=typeof re)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(ti(ee,re))throw new Error('Cannot create unit "'+re+'": a unit with that name already exists');!function $e(re){for(var K=0;K<re.length;K++){if(C=re.charAt(K),0===K&&!b.isValidAlpha(C))throw new Error('Invalid unit name (must begin with alpha character): "'+re+'"');if(K>0&&!b.isValidAlpha(C)&&!T(C))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+re+'"')}}(re);var Ve,Qe,pt,W=null,we=[],ke=0;if(K&&"Unit"===K.type)W=K.clone();else if("string"==typeof K)""!==K&&(Ve=K);else{if("object"!=typeof K)throw new TypeError('Cannot create unit "'+re+'" from "'+K.toString()+'": expecting "string" or "Unit" or "Object"');Ve=K.definition,Qe=K.prefixes,ke=K.offset,pt=K.baseName,K.aliases&&(we=K.aliases.valueOf())}if(we)for(var Bt=0;Bt<we.length;Bt++)if(ti(ee,we[Bt]))throw new Error('Cannot create alias "'+we[Bt]+'": a unit with that name already exists');if(Ve&&"string"==typeof Ve&&!W)try{W=b.parse(Ve,{allowNoUnits:!0})}catch(mt){throw mt.message='Could not create unit "'+re+'" from "'+Ve+'": '+mt.message,mt}else Ve&&"Unit"===Ve.type&&(W=Ve.clone());we=we||[],ke=ke||0,Qe=Qe&&Qe.toUpperCase&&R[Qe.toUpperCase()]||R.NONE;var yt={};if(W){yt={name:re,value:W.value,dimensions:W.dimensions.slice(0),prefixes:Qe,offset:ke};var En=!1;for(var ei in H)if(ti(H,ei)){for(var Kt=!0,ni=0;ni<X.length;ni++)if(Math.abs((yt.dimensions[ni]||0)-(H[ei].dimensions[ni]||0))>1e-12){Kt=!1;break}if(Kt){En=!0,yt.base=H[ei];break}}if(!En){pt=pt||re+"_STUFF";var Y={dimensions:W.dimensions.slice(0)};Y.key=pt,H[pt]=Y,ve[pt]={unit:yt,prefix:R.NONE[""]},yt.base=H[pt]}}else{if(X.indexOf(pt=pt||re+"_STUFF")>=0)throw new Error('Cannot create new base unit "'+re+'": a base unit with that name already exists (and cannot be overridden)');for(var Mn in X.push(pt),H)ti(H,Mn)&&(H[Mn].dimensions[X.length-1]=0);for(var rt={dimensions:[]},Sn=0;Sn<X.length;Sn++)rt.dimensions[Sn]=0;rt.dimensions[X.length-1]=1,rt.key=pt,H[pt]=rt,yt={name:re,value:1,dimensions:H[pt].dimensions.slice(0),prefixes:Qe,offset:ke,base:H[pt]},ve[pt]={unit:yt,prefix:R.NONE[""]}}b.UNITS[re]=yt;for(var Fe=0;Fe<we.length;Fe++){var Ee=we[Fe],Ze={};for(var it in yt)ti(yt,it)&&(Ze[it]=yt[it]);Ze.name=Ee,b.UNITS[Ee]=Ze}return delete O.cache,new b(null,re)},b.deleteUnit=function(re){delete b.UNITS[re],delete O.cache},b.PREFIXES=R,b.BASE_DIMENSIONS=X,b.BASE_UNITS=H,b.UNIT_SYSTEMS=Ce,b.UNITS=ee,b},{isClass:!0}),Zge="createUnit",rwt=xe(Zge,["typed","Unit"],n=>{var{typed:t,Unit:e}=n;return t(Zge,{"Object, Object":function(r,s){return e.createUnit(r,s)},Object:function(r){return e.createUnit(r,{})},"string, Unit | string | Object, Object":function(r,s,o){var a={};return a[r]=s,e.createUnit(a,o)},"string, Unit | string | Object":function(r,s){var o={};return o[r]=s,e.createUnit(o,{})},string:function(r){var s={};return s[r]={},e.createUnit(s,{})}})}),owt=xe("dotPow",["typed","equalScalar","matrix","pow","DenseMatrix","concat","SparseMatrix"],n=>{var{typed:t,equalScalar:e,matrix:i,pow:r,DenseMatrix:s,concat:o,SparseMatrix:a}=n,l=tu({typed:t}),c=Rm({typed:t,SparseMatrix:a}),u=Mc({typed:t,equalScalar:e}),d=Hl({typed:t,DenseMatrix:s}),f=yo({typed:t,matrix:i,concat:o}),h={};for(var p in r.signatures)Object.prototype.hasOwnProperty.call(r.signatures,p)&&!p.includes("Matrix")&&!p.includes("Array")&&(h[p]=r.signatures[p]);var m=t(h);return t("dotPow",f({elop:m,SS:c,DS:l,Ss:u,sS:d}))}),lwt=xe("expm",["typed","abs","add","identity","inv","multiply"],n=>{var{typed:t,abs:e,add:i,identity:r,inv:s,multiply:o}=n;return t("expm",{Matrix:function(d){var f=d.size();if(2!==f.length||f[0]!==f[1])throw new RangeError("Matrix must be square (size: "+Cr(f)+")");for(var h=f[0],m=function a(u){for(var d=u.size()[0],f=0,h=0;h<d;h++){for(var p=0,m=0;m<d;m++)p+=e(u.get([h,m]));f=Math.max(p,f)}return f}(d),g=function l(u,d){for(var h=0;h<30;h++)for(var p=0;p<=h;p++){var m=h-p;if(c(u,p,m)<d)return{q:p,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(m,1e-15),A=g.q,_=g.j,v=o(d,Math.pow(2,-_)),b=r(h),w=r(h),y=1,C=v,D=-1,S=1;S<=A;S++)S>1&&(C=o(C,v),D=-D),b=i(b,o(y=y*(A-S+1)/((2*A-S+1)*S),C)),w=i(w,o(y*D,C));for(var T=o(s(w),b),M=0;M<_;M++)T=o(T,T);return Gb(d)?d.createSparseMatrix(T):T}});function c(u,d,f){for(var h=1,p=2;p<=d;p++)h*=p;for(var m=h,g=d+1;g<=2*d;g++)m*=g;var A=m*(2*d+1);return 8*Math.pow(u/Math.pow(2,f),2*d)*h*h/(m*A)}}),uwt=xe("fft",["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],n=>{var{typed:t,addScalar:i,multiplyScalar:r,divideScalar:s,exp:o,tau:a,i:l,dotDivide:c,conj:u,pow:d,ceil:f,log2:h}=n;return t("fft",{Array:p,Matrix:function(v){return v.create(p(v.valueOf()),v.datatype())}});function p(_){var v=zi(_);return 1===v.length?A(_):m(_.map(b=>p(b,v.slice(1))),0)}function m(_,v){var b=zi(_);if(0!==v)return new Array(b[0]).fill(0).map((y,C)=>m(_[C],v-1));if(1===b.length)return A(_);function w(y){var C=zi(y);return new Array(C[1]).fill(0).map((D,S)=>new Array(C[0]).fill(0).map((T,M)=>y[M][S]))}return w(m(w(_),1))}function A(_){var v=_.length;if(1===v)return[_[0]];if(v%2==0){for(var b=[...A(_.filter((D,S)=>S%2==0)),...A(_.filter((D,S)=>S%2==1))],w=0;w<v/2;w++){var y=b[w],C=r(b[w+v/2],o(r(r(a,l),s(-w,v))));b[w]=i(y,C),b[w+v/2]=i(y,r(-1,C))}return b}return function g(_){for(var v=_.length,b=o(s(r(-1,r(l,a)),v)),w=[],y=1-v;y<v;y++)w.push(d(b,s(d(y,2),2)));for(var C=d(2,f(h(v+v-1))),D=[...new Array(v).fill(0).map((O,G)=>r(_[G],w[v-1+G])),...new Array(C-v).fill(0)],S=[...new Array(v+v-1).fill(0).map((O,G)=>s(1,w[G])),...new Array(C-(v+v-1)).fill(0)],T=A(D),M=A(S),F=new Array(C).fill(0).map((O,G)=>r(T[G],M[G])),L=c(u(p(u(F))),C),U=[],z=v-1;z<v+v-1;z++)U.push(r(L[z],w[z]));return U}(_)}}),hwt=xe("gamma",["typed","config","multiplyScalar","pow","BigNumber","Complex"],n=>{var{typed:t,config:e,BigNumber:s,Complex:o}=n;return t("gamma",{number:Ok,Complex:function a(c){if(0===c.im)return Ok(c.re);if(c.re<.5){var u=new o(1-c.re,-c.im),d=new o(Math.PI*c.re,Math.PI*c.im);return new o(Math.PI).div(d.sin()).div(a(u))}c=new o(c.re-1,c.im);for(var f=new o(pC[0],0),h=1;h<pC.length;++h){var p=new o(pC[h],0);f=f.add(p.div(c.add(h)))}var m=new o(c.re+Rme+.5,c.im),g=Math.sqrt(2*Math.PI),A=m.pow(c.add(.5)),_=m.neg().exp();return f.mul(g).mul(A).mul(_)},BigNumber:function(u){if(u.isInteger())return u.isNegative()||u.isZero()?new s(1/0):l(u.minus(1));if(!u.isFinite())return new s(u.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(c){if(c<8)return new s([1,1,2,6,24,120,720,5040][c]);var u=e.precision+(0|Math.log(c.toNumber())),d=s.clone({precision:u});if(c%2==1)return c.times(l(new s(c-1)));for(var f=c,h=new d(c),p=c.toNumber();f>2;)h=h.times(p+=f-=2);return new s(h.toPrecision(s.precision))}}),pwt=xe("ifft",["typed","fft","dotDivide","conj"],n=>{var{typed:t,fft:e,dotDivide:i,conj:r}=n;return t("ifft",{"Array | Matrix":function(o){var a=Ci(o)?o.size():zi(o);return i(r(e(r(o))),a.reduce((l,c)=>l*c,1))}})}),Awt=xe("setSize",["typed","compareNatural"],n=>{var{typed:t,compareNatural:e}=n;return t("setSize",{"Array | Matrix":function(r){return Array.isArray(r)?ps(r).length:ps(r.toArray()).length},"Array | Matrix, boolean":function(r,s){if(!1===s||0===r.length)return Array.isArray(r)?ps(r).length:ps(r.toArray()).length;for(var o=ps(Array.isArray(r)?r:r.toArray()).sort(e),a=1,l=1;l<o.length;l++)0!==e(o[l],o[l-1])&&a++;return a}})}),_wt=xe("divide",["typed","matrix","multiply","equalScalar","divideScalar","inv"],n=>{var{typed:t,matrix:e,multiply:i,equalScalar:r,divideScalar:s,inv:o}=n,a=Mc({typed:t,equalScalar:r}),l=pf({typed:t});return t("divide",Wde({"Array | Matrix, Array | Matrix":function(u,d){return i(u,o(d))},"DenseMatrix, any":function(u,d){return l(u,d,s,!1)},"SparseMatrix, any":function(u,d){return a(u,d,s,!1)},"Array, any":function(u,d){return l(e(u),d,s,!1).valueOf()},"any, Array | Matrix":function(u,d){return i(u,o(d))}},s.signatures))}),ywt=xe("factorial",["typed","gamma"],n=>{var{typed:t,gamma:e}=n;return t("factorial",{number:function(r){if(r<0)throw new Error("Value must be non-negative");return e(r+1)},BigNumber:function(r){if(r.isNegative())throw new Error("Value must be non-negative");return e(r.plus(1))},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),Cwt=xe("intersect",["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],n=>{var{typed:t,config:e,abs:i,add:r,addScalar:s,matrix:o,multiply:a,multiplyScalar:l,divideScalar:c,subtract:u,smaller:d,equalScalar:f,flatten:h,isZero:p,isNumeric:m}=n;return t("intersect",{"Array, Array, Array":g,"Array, Array, Array, Array":A,"Matrix, Matrix, Matrix":function(M,F,L){var U=g(M.valueOf(),F.valueOf(),L.valueOf());return null===U?null:o(U)},"Matrix, Matrix, Matrix, Matrix":function(M,F,L,U){var z=A(M.valueOf(),F.valueOf(),L.valueOf(),U.valueOf());return null===z?null:o(z)}});function g(T,M,F){if(T=_(T),M=_(M),F=_(F),!b(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!function w(T){return 4===T.length&&m(T[0])&&m(T[1])&&m(T[2])&&m(T[3])}(F))throw new TypeError("Array with 4 numbers expected as third argument");return function S(T,M,F,L,U,z,O,G,j,J){var le=l(T,O),ye=l(L,O),R=l(M,G),X=l(U,G),H=l(F,j),ae=l(z,j),de=u(u(u(J,le),R),H),he=u(u(u(s(s(ye,X),ae),le),R),H),ee=c(de,he);return[s(T,l(ee,u(L,T))),s(M,l(ee,u(U,M))),s(F,l(ee,u(z,F)))]}(T[0],T[1],T[2],M[0],M[1],M[2],F[0],F[1],F[2],F[3])}function A(T,M,F,L){if(T=_(T),M=_(M),F=_(F),L=_(L),2===T.length){if(!v(T))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!v(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!v(F))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!v(L))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function y(T,M,F,L){var U=T,z=F,O=u(U,M),G=u(z,L),j=u(l(O[0],G[1]),l(G[0],O[1]));if(p(j)||d(i(j),e.relTol))return null;var J=l(G[0],U[1]),le=l(G[1],U[0]),ye=l(G[0],z[1]),R=l(G[1],z[0]),X=c(s(u(u(J,le),ye),R),j);return r(a(O,X),U)}(T,M,F,L)}if(3===T.length){if(!b(T))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!b(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!b(F))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!b(L))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return function D(T,M,F,L,U,z,O,G,j,J,le,ye){var R=C(T,O,J,O,M,G,le,G,F,j,ye,j),X=C(J,O,L,T,le,G,U,M,ye,j,z,F),H=C(T,O,L,T,M,G,U,M,F,j,z,F),ae=C(J,O,J,O,le,G,le,G,ye,j,ye,j),de=C(L,T,L,T,U,M,U,M,z,F,z,F),he=u(l(R,X),l(H,ae)),ee=u(l(de,ae),l(X,X));if(p(ee))return null;var ie=c(he,ee),ge=c(s(R,l(ie,X)),ae),Ce=s(T,l(ie,u(L,T))),ve=s(M,l(ie,u(U,M))),Ne=s(F,l(ie,u(z,F))),se=s(O,l(ge,u(J,O))),Oe=s(G,l(ge,u(le,G))),fe=s(j,l(ge,u(ye,j)));return f(Ce,se)&&f(ve,Oe)&&f(Ne,fe)?[Ce,ve,Ne]:null}(T[0],T[1],T[2],M[0],M[1],M[2],F[0],F[1],F[2],L[0],L[1],L[2])}throw new TypeError("Arrays with two or thee dimensional points expected")}function _(T){return 1===T.length?T[0]:T.length>1&&Array.isArray(T[0])&&T.every(M=>Array.isArray(M)&&1===M.length)?h(T):T}function v(T){return 2===T.length&&m(T[0])&&m(T[1])}function b(T){return 3===T.length&&m(T[0])&&m(T[1])&&m(T[2])}function C(T,M,F,L,U,z,O,G,j,J,le,ye){var R=l(u(T,M),u(F,L)),X=l(u(U,z),u(O,G)),H=l(u(j,J),u(le,ye));return s(s(R,X),H)}}),Ewt=xe("lup",["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],n=>{var{typed:t,matrix:e,abs:i,addScalar:r,divideScalar:s,multiplyScalar:o,subtractScalar:a,larger:l,equalScalar:c,unaryMinus:u,DenseMatrix:d,SparseMatrix:f,Spa:h}=n;return t("lup",{DenseMatrix:function(A){return p(A)},SparseMatrix:function(A){return function m(g){var z,O,G,A=g._size[0],_=g._size[1],v=Math.min(A,_),b=g._values,w=g._index,y=g._ptr,C=[],D=[],S=[],T=[A,v],M=[],F=[],L=[],U=[v,_],j=[],J=[];for(z=0;z<A;z++)j[z]=z,J[z]=z;var ye=function(){var X=new h;O<A&&(S.push(C.length),C.push(1),D.push(O)),L.push(M.length);var ae=y[O+1];for(G=y[O];G<ae;G++)X.set(j[z=w[G]],b[G]);O>0&&X.forEach(0,O-1,function(ie,ge){f._forEachRow(ie,C,D,S,function(Ce,ve){Ce>ie&&X.accumulate(Ce,u(o(ve,ge)))})});var de=O,he=X.get(O),ee=i(he);X.forEach(O+1,A-1,function(ie,ge){var Ce=i(ge);l(Ce,ee)&&(de=ie,ee=Ce,he=ge)}),O!==de&&(f._swapRows(O,de,T[1],C,D,S),f._swapRows(O,de,U[1],M,F,L),X.swap(O,de),function(X,H){var ae=J[X],de=J[H];j[ae]=H,j[de]=X,J[X]=de,J[H]=ae}(O,de)),X.forEach(0,A-1,function(ie,ge){ie<=O?(M.push(ge),F.push(ie)):(ge=s(ge,he),c(ge,0)||(C.push(ge),D.push(ie)))})};for(O=0;O<_;O++)ye();return L.push(M.length),S.push(C.length),{L:new f({values:C,index:D,ptr:S,size:T}),U:new f({values:M,index:F,ptr:L,size:U}),p:j,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}(A)},Array:function(A){var v=p(e(A));return{L:v.L.valueOf(),U:v.U.valueOf(),p:v.p}}});function p(g){var S,T,M,A=g._size[0],_=g._size[1],v=Math.min(A,_),b=Ji(g._data),w=[],y=[A,v],C=[],D=[v,_],F=[];for(S=0;S<A;S++)F[S]=S;for(T=0;T<_;T++){if(T>0)for(S=0;S<A;S++){var L=Math.min(S,T),U=0;for(M=0;M<L;M++)U=r(U,o(b[S][M],b[M][T]));b[S][T]=a(b[S][T],U)}var z=T,O=0,G=0;for(S=T;S<A;S++){var j=b[S][T],J=i(j);l(J,O)&&(z=S,O=J,G=j)}if(T!==z&&(F[T]=[F[z],F[z]=F[T]][0],d._swapRows(T,z,b)),T<A)for(S=T+1;S<A;S++)c(b[S][T],0)||(b[S][T]=s(b[S][T],G))}for(T=0;T<_;T++)for(S=0;S<A;S++)0===T&&(S<_&&(C[S]=[]),w[S]=[]),S<T?(S<_&&(C[S][T]=b[S][T]),T<A&&(w[S][T]=0)):S!==T?(S<_&&(C[S][T]=0),T<A&&(w[S][T]=b[S][T])):(S<_&&(C[S][T]=b[S][T]),T<A&&(w[S][T]=1));var ye=new d({data:w,size:y}),R=new d({data:C,size:D}),X=[];for(S=0,v=F.length;S<v;S++)X[F[S]]=S;return{L:ye,U:R,p:X,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}}),ave="multinomial",Mwt=xe(ave,["typed","add","divide","multiply","factorial","isInteger","isPositive"],n=>{var{typed:t,add:e,divide:i,multiply:r,factorial:s,isInteger:o,isPositive:a}=n;return t(ave,{"Array | Matrix":function(c){var u=0,d=1;return o_(c,function(f){if(!o(f)||!a(f))throw new TypeError("Positive integer value expected in function multinomial");u=e(u,f),d=r(d,s(f))}),i(s(u),d)}})}),lve="permutations",Nwt=xe(lve,["typed","factorial"],n=>{var{typed:t,factorial:e}=n;return t(lve,{"number | BigNumber":e,"number, number":function(r,s){if(!ai(r)||r<0)throw new TypeError("Positive integer value expected in function permutations");if(!ai(s)||s<0)throw new TypeError("Positive integer value expected in function permutations");if(s>r)throw new TypeError("second argument k must be less than or equal to first argument n");return ug(r-s+1,r)},"BigNumber, BigNumber":function(r,s){var o,a;if(!cve(r)||!cve(s))throw new TypeError("Positive integer value expected in function permutations");if(s.gt(r))throw new TypeError("second argument k must be less than or equal to first argument n");for(o=r.mul(0).add(1),a=r.minus(s).plus(1);a.lte(r);a=a.plus(1))o=o.times(a);return o}})});function cve(n){return n.isInteger()&&n.gte(0)}var uve="polynomialRoot",Bwt=xe(uve,["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],n=>{var{typed:t,isZero:e,equalScalar:i,add:r,subtract:s,multiply:o,divide:a,sqrt:l,unaryMinus:c,cbrt:u,typeOf:d,im:f,re:h}=n;return t(uve,{"number|Complex, ...number|Complex":(p,m)=>{for(var g=[p,...m];g.length>0&&e(g[g.length-1]);)g.pop();if(g.length<2)throw new RangeError("Polynomial [".concat(p,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(g.length){case 2:return[c(a(g[0],g[1]))];case 3:var[A,_,v]=g,b=o(2,v),w=o(_,_),y=o(4,v,A);if(i(w,y))return[a(c(_),b)];var C=l(s(w,y));return[a(s(C,_),b),a(s(c(C),_),b)];case 4:var[D,S,T,M]=g,F=c(o(3,M)),L=o(T,T),U=o(3,M,S),z=r(o(2,T,T,T),o(27,M,M,D)),O=o(9,M,T,S);if(i(L,U)&&i(z,O))return[a(T,F)];var ye,G=s(L,U),j=s(z,O),J=r(o(18,M,T,S,D),o(T,T,S,S)),le=r(o(4,T,T,T,D),o(4,M,S,S,S),o(27,M,M,D,D));return i(J,le)?[a(s(o(4,M,T,S),r(o(9,M,M,D),o(T,T,T))),o(M,G)),a(s(o(9,M,D),o(T,S)),o(2,G))]:(ye=i(L,U)?j:a(r(j,l(s(o(j,j),o(4,G,G,G)))),2),u(ye,!0).toArray().map(H=>a(r(T,H,a(G,H)),F)).map(H=>"Complex"===d(H)&&i(h(H),h(H)+f(H))?h(H):H));default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(g))}}})}),dve="setIntersect",Pwt=xe(dve,["typed","size","subset","compareNatural","Index","DenseMatrix"],n=>{var{typed:t,size:e,subset:i,compareNatural:r,Index:s,DenseMatrix:o}=n;return t(dve,{"Array | Matrix, Array | Matrix":function(l,c){var u;if(0===i(e(l),new s(0))||0===i(e(c),new s(0)))u=[];else{var d=iC(ps(Array.isArray(l)?l:l.toArray()).sort(r)),f=iC(ps(Array.isArray(c)?c:c.toArray()).sort(r));u=[];for(var h=0;h<d.length;h++)for(var p=0;p<f.length;p++)if(0===r(d[h].value,f[p].value)&&d[h].identifier===f[p].identifier){u.push(d[h]);break}}return Array.isArray(l)&&Array.isArray(c)?WR(u):new o(WR(u))}})});function hve(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}var Lwt=xe("solveODE",["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],n=>{var{typed:t,add:e,subtract:i,multiply:r,divide:s,max:o,map:a,abs:l,isPositive:c,isNegative:u,larger:d,smaller:f,matrix:h,bignumber:p,unaryMinus:m}=n;function g(D){return function(S,T,M,F){if(2!==T.length||!T.every(y)&&!T.every(vh))throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var U=T[0],z=T[1],O=d(z,U),G=F.firstStep;if(void 0!==G&&!c(G))throw new Error('"firstStep" must be positive');var j=F.maxStep;if(void 0!==j&&!c(j))throw new Error('"maxStep" must be positive');var J=F.minStep;if(J&&u(J))throw new Error('"minStep" must be positive or zero');var le=[U,z,G,J,j].filter(we=>void 0!==we);if(!le.every(y)&&!le.every(vh))throw new Error('Inconsistent type of "t" dependant variables');for(var R=F.tol?F.tol:1e-4,X=F.minDelta?F.minDelta:.2,H=F.maxDelta?F.maxDelta:5,ae=F.maxIter?F.maxIter:1e4,de=[U,z,...M,j,J].some(or),[he,ee,ie,ge]=de?[p(D.a),p(D.c),p(D.b),p(D.bp)]:[D.a,D.c,D.b,D.bp],Ce=G?O?G:m(G):s(i(z,U),1),ve=[U],Ne=[M],se=i(ie,ge),Oe=0,fe=0,at=function b(D){return D?f:d}(O),Ge=function w(D){var S=D?d:f;return function(T,M,F){var L=e(T,F);return S(L,M)?i(M,T):F}}(O);at(ve[Oe],z);){var $e=[];Ce=Ge(ve[Oe],z,Ce),$e.push(S(ve[Oe],Ne[Oe]));for(var re=1;re<ee.length;++re)$e.push(S(e(ve[Oe],r(ee[re],Ce)),e(Ne[Oe],r(Ce,he[re],$e))));var K=o(l(a(r(se,$e),we=>vh(we)?we.value:we)));K<R&&R/K>1/4&&(ve.push(e(ve[Oe],Ce)),Ne.push(e(Ne[Oe],r(Ce,ie,$e))),Oe++);var W=.84*(R/K)**.2;if(f(W,X)?W=X:d(W,H)&&(W=H),W=de?p(W):W,Ce=r(Ce,W),j&&d(l(Ce),j)?Ce=O?j:m(j):J&&f(l(Ce),J)&&(Ce=O?J:m(J)),++fe>ae)throw new Error("Maximum number of iterations reached, try changing options")}return{t:ve,y:Ne}}}function A(D,S,T,M){return g({a:[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],c:[null,.5,3/4,1],b:[2/9,1/3,4/9,0],bp:[7/24,1/4,1/3,1/8]})(D,S,T,M)}function _(D,S,T,M){return g({a:[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],c:[null,.2,.3,.8,8/9,1,1],b:[35/384,0,500/1113,125/192,-2187/6784,11/84,0],bp:[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40]})(D,S,T,M)}function v(D,S,T,M){var F=M.method?M.method:"RK45",L={RK23:A,RK45:_};if(F.toUpperCase()in L){var U=function Owt(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?hve(Object(e),!0).forEach(function(i){(0,xl.A)(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):hve(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}({},M);return delete U.method,L[F.toUpperCase()](D,S,T,U)}var z=Object.keys(L).map(G=>'"'.concat(G,'"')),O="".concat(z.slice(0,-1).join(", ")," and ").concat(z.slice(-1));throw new Error('Unavailable method "'.concat(F,'". Available methods are ').concat(O))}function y(D){return or(D)||sr(D)}function C(D,S,T,M){var F=v(D,S.toArray(),T.toArray(),M);return{t:h(F.t),y:h(F.y)}}return t("solveODE",{"function, Array, Array, Object":v,"function, Matrix, Matrix, Object":C,"function, Array, Array":(D,S,T)=>v(D,S,T,{}),"function, Matrix, Matrix":(D,S,T)=>C(D,S,T,{}),"function, Array, number | BigNumber | Unit":(D,S,T)=>{var M=v(D,S,[T],{});return{t:M.t,y:M.y.map(F=>F[0])}},"function, Matrix, number | BigNumber | Unit":(D,S,T)=>{var M=v(D,S.toArray(),[T],{});return{t:h(M.t),y:h(M.y.map(F=>F[0]))}},"function, Array, number | BigNumber | Unit, Object":(D,S,T,M)=>{var F=v(D,S,[T],M);return{t:F.t,y:F.y.map(L=>L[0])}},"function, Matrix, number | BigNumber | Unit, Object":(D,S,T,M)=>{var F=v(D,S.toArray(),[T],M);return{t:h(F.t),y:h(F.y.map(L=>L[0]))}}})}),fve="stirlingS2",Hwt=xe(fve,["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],n=>{var{typed:t,addScalar:e,multiplyScalar:r,isNegative:c,isInteger:u,number:d,bignumber:f,larger:h}=n,p=[],m=[];return t(fve,{"number | BigNumber, number | BigNumber":function(A,_){if(!u(A)||c(A)||!u(_)||c(_))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(_,A))throw new TypeError("k must be less than or equal to n in function stirlingS2");var v=!(sr(A)&&sr(_)),b=v?m:p,w=v?f:d,y=d(A),C=d(_);if(b[y]&&b[y].length>C)return b[y][C];for(var D=0;D<=y;++D)if(b[D]||(b[D]=[w(0===D?1:0)]),0!==D)for(var S=b[D],T=b[D-1],M=S.length;M<=D&&M<=C;++M)S[M]=M===D?1:e(r(w(M),T[M]),T[M-1]);return b[y][C]}})}),zwt=xe("unit",["typed","Unit"],n=>{var{typed:t,Unit:e}=n;return t("unit",{Unit:function(r){return r.clone()},string:function(r){return e.isValuelessUnit(r)?new e(null,r):e.parse(r,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(r,s){return new e(r,s)},"number | BigNumber | Fraction":function(r){return new e(r)},"Array | Matrix":t.referToSelf(i=>r=>ar(r,i))})}),mve="bellNumbers",Gwt=xe(mve,["typed","addScalar","isNegative","isInteger","stirlingS2"],n=>{var{typed:t,addScalar:e,isNegative:i,isInteger:r,stirlingS2:s}=n;return t(mve,{"number | BigNumber":function(a){if(!r(a)||i(a))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,c=0;c<=a;c++)l=e(l,s(a,c));return l}})});var Kwt=xe("eigs",["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],n=>{var{config:t,typed:e,matrix:i,addScalar:r,subtract:s,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:d,divideScalar:f,inv:h,bignumber:p,multiply:m,add:g,larger:A,column:_,flatten:v,number:b,complex:w,sqrt:y,diag:C,size:D,reshape:S,qr:T,usolve:M,usolveAll:F,im:L,re:U,smaller:z,matrixFromColumns:O,dot:G}=n,j=function qwt(n){var{config:t,addScalar:e,subtract:i,abs:r,atan:s,cos:o,sin:a,multiplyScalar:l,inv:c,bignumber:u,multiply:d,add:f}=n;function g(S,T,M){return Math.abs(T-S)<=t.relTol?Math.PI/4:.5*Math.atan(2*M/(T-S))}function A(S,T,M){var F=i(T,S);return r(F)<=t.relTol?u(-1).acos().div(4):l(.5,s(d(2,M,c(F))))}function _(S,T,M,F){for(var L=S.length,U=Math.cos(T),z=Math.sin(T),O=Array(L).fill(0),G=Array(L).fill(0),j=0;j<L;j++)O[j]=U*S[j][M]-z*S[j][F],G[j]=z*S[j][M]+U*S[j][F];for(var J=0;J<L;J++)S[J][M]=O[J],S[J][F]=G[J];return S}function v(S,T,M,F){for(var L=S.length,U=o(T),z=a(T),O=Array(L).fill(u(0)),G=Array(L).fill(u(0)),j=0;j<L;j++)O[j]=i(l(U,S[j][M]),l(z,S[j][F])),G[j]=e(l(z,S[j][M]),l(U,S[j][F]));for(var J=0;J<L;J++)S[J][M]=O[J],S[J][F]=G[J];return S}function b(S,T,M,F){for(var L=S.length,U=u(o(T)),z=u(a(T)),O=l(U,U),G=l(z,z),j=Array(L).fill(u(0)),J=Array(L).fill(u(0)),le=d(u(2),U,z,S[M][F]),ye=e(i(l(O,S[M][M]),le),l(G,S[F][F])),R=f(l(G,S[M][M]),le,l(O,S[F][F])),X=0;X<L;X++)j[X]=i(l(U,S[M][X]),l(z,S[F][X])),J[X]=e(l(z,S[M][X]),l(U,S[F][X]));S[M][M]=ye,S[F][F]=R,S[M][F]=u(0),S[F][M]=u(0);for(var H=0;H<L;H++)H!==M&&H!==F&&(S[M][H]=j[H],S[H][M]=j[H],S[F][H]=J[H],S[H][F]=J[H]);return S}function w(S,T,M,F){for(var L=S.length,U=Math.cos(T),z=Math.sin(T),O=U*U,G=z*z,j=Array(L).fill(0),J=Array(L).fill(0),le=O*S[M][M]-2*U*z*S[M][F]+G*S[F][F],ye=G*S[M][M]+2*U*z*S[M][F]+O*S[F][F],R=0;R<L;R++)j[R]=U*S[M][R]-z*S[F][R],J[R]=z*S[M][R]+U*S[F][R];S[M][M]=le,S[F][F]=ye,S[M][F]=0,S[F][M]=0;for(var X=0;X<L;X++)X!==M&&X!==F&&(S[M][X]=j[X],S[X][M]=j[X],S[F][X]=J[X],S[X][F]=J[X]);return S}function y(S){for(var T=S.length,M=0,F=[0,1],L=0;L<T;L++)for(var U=L+1;U<T;U++)Math.abs(M)<Math.abs(S[L][U])&&(M=Math.abs(S[L][U]),F=[L,U]);return[F,M]}function C(S){for(var T=S.length,M=0,F=[0,1],L=0;L<T;L++)for(var U=L+1;U<T;U++)r(M)<r(S[L][U])&&(M=r(S[L][U]),F=[L,U]);return[F,M]}function D(S,T,M){var U,F=S.length,L=Array(F);if(M){U=Array(F);for(var z=0;z<F;z++)U[z]=Array(F)}for(var O=0;O<F;O++){for(var G=0,j=S[0],J=0;J<S.length;J++)r(S[J])<r(j)&&(j=S[G=J]);if(L[O]=S.splice(G,1)[0],M)for(var le=0;le<F;le++)U[O][le]=T[le][G],T[le].splice(G,1)}if(!M)return{values:L};var ye=U.map((R,X)=>({value:L[X],vector:R}));return{values:L,eigenvectors:ye}}return function h(S,T){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.relTol,F=arguments.length>3?arguments[3]:void 0,L=arguments.length>4?arguments[4]:void 0;if("number"===F)return function p(S,T,M){var U,z,F=S.length,L=Math.abs(T/F);if(M){z=new Array(F);for(var O=0;O<F;O++)z[O]=Array(F).fill(0),z[O][O]=1}for(var G=y(S);Math.abs(G[1])>=Math.abs(L);){var j=G[0][0],J=G[0][1];S=w(S,U=g(S[j][j],S[J][J],S[j][J]),j,J),M&&(z=_(z,U,j,J)),G=y(S)}for(var le=Array(F).fill(0),ye=0;ye<F;ye++)le[ye]=S[ye][ye];return D(Ji(le),z,M)}(S,M,L);if("BigNumber"===F)return function m(S,T,M){var U,z,F=S.length,L=r(T/F);if(M){z=new Array(F);for(var O=0;O<F;O++)z[O]=Array(F).fill(0),z[O][O]=1}for(var G=C(S);r(G[1])>=r(L);){var j=G[0][0],J=G[0][1];S=b(S,U=A(S[j][j],S[J][J],S[j][J]),j,J),M&&(z=v(z,U,j,J)),G=C(S)}for(var le=Array(F).fill(0),ye=0;ye<F;ye++)le[ye]=S[ye][ye];return D(Ji(le),z,M)}(S,M,L);throw TypeError("Unsupported data type: "+F)}}({config:t,addScalar:r,subtract:s,column:_,flatten:v,equal:o,abs:a,atan:l,cos:c,sin:u,multiplyScalar:d,inv:h,bignumber:p,complex:w,multiply:m,add:g}),J=function jwt(n){var{addScalar:t,subtract:e,flatten:i,multiply:r,multiplyScalar:s,divideScalar:o,sqrt:a,abs:l,bignumber:c,diag:u,size:d,reshape:f,inv:h,qr:p,usolve:m,usolveAll:g,equal:A,complex:_,larger:v,smaller:b,dot:y}=n;function F(R,X,H,ae){var de=t(R,ae),he=e(s(R,ae),s(X,H)),ee=s(de,.5),ie=s(a(e(s(de,de),s(4,he))),.5);return[t(ee,ie),e(ee,ie)]}function L(R,X,H,ae,de,he,ee,ie){var ge="BigNumber"===ie,Ce="Complex"===ie,ve=ge?c(0):Ce?_(0):0,Ne=ge?c(1):Ce?_(1):1;if(b(l(H),ee))return[[Ne,ve],[ve,Ne]];if(v(l(e(de,he)),ee))return[[e(de,ae),e(he,ae)],[H,H]];var se=e(R,de),Oe=e(ae,de);return b(l(X),ee)&&b(l(Oe),ee)?[[se,Ne],[H,ve]]:[[X,ve],[Oe,Ne]]}function U(R,X){for(var H=0;H<R.length;H++)R[H].push(...Array(X-R[H].length).fill(0));for(var ae=R.length;ae<X;ae++)R.push(Array(X).fill(0)),R[ae][ae]=1;return R}function O(R,X,H){for(var ae=0;ae<R.length;ae++)if(H(R[ae],X))return ae;return-1}function G(R,X,H,ae,de){for(var ee,he="BigNumber"===de?c(1e3):1e3,ie=0;ie<5;++ie){ee=j(X,H,de);try{ee=m(R,ee)}catch{continue}if(v(le(ee),he))break}if(ie>=5)return null;for(ie=0;;){var ge=m(R,ee);if(b(le(J(ee,[ge])),ae))break;if(++ie>=10)return null;ee=ye(ge)}return ee}function j(R,X,H){var ae="BigNumber"===H,de="Complex"===H,he=Array(R).fill(0).map(ee=>2*Math.random()-1);return ae&&(he=he.map(ee=>c(ee))),de&&(he=he.map(ee=>_(ee))),ye(he=J(he,X),H)}function J(R,X){var H=d(R);for(var ae of X)ae=f(ae,H),R=e(R,r(o(y(ae,R),y(ae,ae)),ae));return R}function le(R){return l(a(y(R,R)))}function ye(R,X){var ae="Complex"===X,de="BigNumber"===X?c(1):ae?_(1):1;return r(o(de,le(R)),R)}return function C(R,X,H,ae){var de=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],he=function D(R,X,H,ae,de){var se,he="BigNumber"===ae,ee="Complex"===ae,ie=he?c(0):0,ge=he?c(1):ee?_(1):1,Ce=he?c(1):1,ve=he?c(10):2,Ne=s(ve,ve);de&&(se=Array(X).fill(ge));for(var Oe=!1;!Oe;){Oe=!0;for(var fe=0;fe<X;fe++){for(var at=ie,Ge=ie,$e=0;$e<X;$e++)fe!==$e&&(at=t(at,l(R[$e][fe])),Ge=t(Ge,l(R[fe][$e])));if(!A(at,0)&&!A(Ge,0)){for(var re=Ce,K=at,W=o(Ge,ve),we=s(Ge,ve);b(K,W);)K=s(K,Ne),re=s(re,ve);for(;v(K,we);)K=o(K,Ne),re=o(re,ve);if(b(o(t(K,Ge),re),s(t(at,Ge),.95))){Oe=!1;for(var Ve=o(1,re),Qe=0;Qe<X;Qe++)fe!==Qe&&(R[fe][Qe]=s(R[fe][Qe],Ve),R[Qe][fe]=s(R[Qe][fe],re));de&&(se[fe]=s(se[fe],Ve))}}}}return de?u(se):null}(R,X,0,ae,de);!function S(R,X,H,ae,de,he){var ee="BigNumber"===ae,ie="Complex"===ae,ge=ee?c(0):ie?_(0):0;ee&&(H=c(H));for(var Ce=0;Ce<X-2;Ce++){for(var ve=0,Ne=ge,se=Ce+1;se<X;se++){var Oe=R[se][Ce];b(l(Ne),l(Oe))&&(Ne=Oe,ve=se)}if(!b(l(Ne),H)){if(ve!==Ce+1){var fe=R[ve];R[ve]=R[Ce+1],R[Ce+1]=fe;for(var at=0;at<X;at++){var Ge=R[at][ve];R[at][ve]=R[at][Ce+1],R[at][Ce+1]=Ge}if(de){var $e=he[ve];he[ve]=he[Ce+1],he[Ce+1]=$e}}for(var re=Ce+2;re<X;re++){var K=o(R[re][Ce],Ne);if(0!==K){for(var W=0;W<X;W++)R[re][W]=e(R[re][W],s(K,R[Ce+1][W]));for(var we=0;we<X;we++)R[we][Ce+1]=t(R[we][Ce+1],s(K,R[we][re]));if(de)for(var ke=0;ke<X;ke++)he[re][ke]=e(he[re][ke],s(K,he[Ce+1][ke]))}}}}}(R,X,H,ae,de,he);var{values:ee,C:ie}=function T(R,X,H,ae,de){var he="BigNumber"===ae,ee="Complex"===ae,ie=he?c(1):ee?_(1):1;he&&(H=c(H));for(var ge=Ji(R),Ce=[],ve=X,Ne=[],se=de?u(Array(X).fill(ie)):void 0,Oe=de?u(Array(ve).fill(ie)):void 0,fe=0;fe<=100;){fe+=1;for(var at=ge[ve-1][ve-1],Ge=0;Ge<ve;Ge++)ge[Ge][Ge]=e(ge[Ge][Ge],at);var{Q:$e,R:re}=p(ge);ge=r(re,$e);for(var K=0;K<ve;K++)ge[K][K]=t(ge[K][K],at);if(de&&(Oe=r(Oe,$e)),1===ve||b(l(ge[ve-1][ve-2]),H)){fe=0,Ce.push(ge[ve-1][ve-1]),de&&(Ne.unshift([[1]]),U(Oe,X),se=r(se,Oe),ve>1&&(Oe=u(Array(ve-1).fill(ie)))),ve-=1,ge.pop();for(var W=0;W<ve;W++)ge[W].pop()}else if(2===ve||b(l(ge[ve-2][ve-3]),H)){fe=0;var we=F(ge[ve-2][ve-2],ge[ve-2][ve-1],ge[ve-1][ve-2],ge[ve-1][ve-1]);Ce.push(...we),de&&(Ne.unshift(L(ge[ve-2][ve-2],ge[ve-2][ve-1],ge[ve-1][ve-2],ge[ve-1][ve-1],we[0],we[1],H,ae)),U(Oe,X),se=r(se,Oe),ve>2&&(Oe=u(Array(ve-2).fill(ie)))),ve-=2,ge.pop(),ge.pop();for(var ke=0;ke<ve;ke++)ge[ke].pop(),ge[ke].pop()}if(0===ve)break}if(Ce.sort((pt,Bt)=>+e(l(pt),l(Bt))),fe>100){var Ve=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+Ce.join(", "));throw Ve.values=Ce,Ve.vectors=[],Ve}var Qe=de?r(se,function z(R,X){for(var H=[],ae=0;ae<X;ae++)H[ae]=Array(X).fill(0);var de=0;for(var he of R){for(var ee=he.length,ie=0;ie<ee;ie++)for(var ge=0;ge<ee;ge++)H[de+ie][de+ge]=he[ie][ge];de+=ee}return H}(Ne,X)):void 0;return{values:Ce,C:Qe}}(R,X,H,ae,de);if(de){var ge=function M(R,X,H,ae,de,he,ee){var ie=h(H),ge=r(ie,R,H),Ce="BigNumber"===ee,ve="Complex"===ee,Ne=Ce?c(0):ve?_(0):0,se=Ce?c(1):ve?_(1):1,Oe=[],fe=[];for(var at of de){var Ge=O(Oe,at,A);-1===Ge?(Oe.push(at),fe.push(1)):fe[Ge]+=1}for(var $e=[],re=Oe.length,K=Array(X).fill(Ne),W=u(Array(X).fill(se)),we=function(){var Qe=Oe[ke],pt=e(ge,r(Qe,W)),Bt=g(pt,K);for(Bt.shift();Bt.length<fe[ke];){var yt=G(pt,X,Bt,he,ee);if(null===yt)break;Bt.push(yt)}var Mn=r(h(ae),H);Bt=Bt.map(rt=>r(Mn,rt)),$e.push(...Bt.map(rt=>({value:Qe,vector:i(rt)})))},ke=0;ke<re;ke++)we();return $e}(R,X,ie,he,ee,H,ae);return{values:ee,eigenvectors:ge}}return{values:ee}}}({config:t,addScalar:r,subtract:s,multiply:m,multiplyScalar:d,flatten:v,divideScalar:f,sqrt:y,abs:a,bignumber:p,diag:C,size:D,reshape:S,qr:T,inv:h,usolve:M,usolveAll:F,equal:o,complex:w,larger:A,smaller:z,matrixFromColumns:O,dot:G});return e("eigs",{Array:function(he){return le(i(he))},"Array, number|BigNumber":function(he,ee){return le(i(he),{precision:ee})},"Array, Object":(de,he)=>le(i(de),he),Matrix:function(he){return le(he,{matricize:!0})},"Matrix, number|BigNumber":function(he,ee){return le(he,{precision:ee,matricize:!0})},"Matrix, Object":function(he,ee){var ie={matricize:!0};return Ul(ie,ee),le(he,ie)}});function le(de){var he,ee=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=!("eigenvectors"in ee)||ee.eigenvectors,Ce=function ye(de,he,ee){var ie=de.toArray(),ge=de.size();if(2!==ge.length||ge[0]!==ge[1])throw new RangeError("Matrix must be square (size: ".concat(Cr(ge),")"));var Ce=ge[0];if(function X(de,he,ee){for(var ie=0;ie<he;ie++)for(var ge=0;ge<he;ge++)if(A(p(a(L(de[ie][ge]))),ee))return!1;return!0}(ie,Ce,he)&&(function H(de,he){for(var ee=0;ee<he;ee++)for(var ie=0;ie<he;ie++)de[ee][ie]=U(de[ee][ie])}(ie,Ce),function R(de,he,ee){for(var ie=0;ie<he;ie++)for(var ge=ie;ge<he;ge++)if(A(p(a(s(de[ie][ge],de[ge][ie]))),ee))return!1;return!0}(ie,Ce,he))){var ve=ae(de,ie,Ce);return j(ie,Ce,he,ve,ee)}var Ne=ae(de,ie,Ce);return J(ie,Ce,he,Ne,ee)}(de,null!==(he=ee.precision)&&void 0!==he?he:t.relTol,ie);return ee.matricize&&(Ce.values=i(Ce.values),ie&&(Ce.eigenvectors=Ce.eigenvectors.map(ve=>{var{value:Ne,vector:se}=ve;return{value:Ne,vector:i(se)}}))),ie&&Object.defineProperty(Ce,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),Ce}function ae(de,he,ee){var ie=de.datatype();if("number"===ie||"BigNumber"===ie||"Complex"===ie)return ie;for(var ge=!1,Ce=!1,ve=!1,Ne=0;Ne<ee;Ne++)for(var se=0;se<ee;se++){var Oe=he[Ne][se];if(sr(Oe)||EM(Oe))ge=!0;else if(or(Oe))Ce=!0;else{if(!sg(Oe))throw TypeError("Unsupported type in Matrix: "+ro(Oe));ve=!0}}if(Ce&&ve&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),ve){for(var fe=0;fe<ee;fe++)for(var at=0;at<ee;at++)he[fe][at]=w(he[fe][at]);return"Complex"}if(Ce){for(var Ge=0;Ge<ee;Ge++)for(var $e=0;$e<ee;$e++)he[Ge][$e]=p(he[Ge][$e]);return"BigNumber"}if(ge){for(var re=0;re<ee;re++)for(var K=0;K<ee;K++)he[re][K]=b(he[re][K]);return"number"}throw TypeError("Matrix contains unsupported types only.")}}),Ave="kldivergence",Ywt=xe(Ave,["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],n=>{var{typed:t,matrix:e,divide:i,sum:r,multiply:s,map:o,dotDivide:a,log:l,isNumeric:c}=n;return t(Ave,{"Array, Array":function(f,h){return u(e(f),e(h))},"Matrix, Array":function(f,h){return u(f,e(h))},"Array, Matrix":function(f,h){return u(e(f),h)},"Matrix, Matrix":function(f,h){return u(f,h)}});function u(d,f){var h=f.size().length,p=d.size().length;if(h>1)throw new Error("first object must be one dimensional");if(p>1)throw new Error("second object must be one dimensional");if(h!==p)throw new Error("Length of two vectors must be equal");if(0===r(d))throw new Error("Sum of elements in first object must be non zero");if(0===r(f))throw new Error("Sum of elements in second object must be non zero");var A=i(d,r(d)),_=i(f,r(f)),v=r(s(A,o(a(A,_),b=>l(b))));return c(v)?v:Number.NaN}});function gve(n,t){var e,i=t.length,r=[];if(n)for(e=0;e<i;e++)r[n[e]]=t[e];else for(e=0;e<i;e++)r[e]=t[e];return r}var Zwt=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Jwt=xe("lusolve",Zwt,n=>{var{typed:t,matrix:e,lup:i,slu:r,usolve:s,lsolve:o,DenseMatrix:a}=n,l=VM({DenseMatrix:a});return t("lusolve",{"Array, Array | Matrix":function(f,h){f=e(f);var p=i(f);return u(p.L,p.U,p.p,null,h).valueOf()},"DenseMatrix, Array | Matrix":function(f,h){var p=i(f);return u(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix":function(f,h){var p=i(f);return u(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(f,h,p,m){var g=r(f,p,m);return u(g.L,g.U,g.p,g.q,h)},"Object, Array | Matrix":function(f,h){return u(f.L,f.U,f.p,f.q,h)}});function c(d){if(Ci(d))return d;if(io(d))return e(d);throw new TypeError("Invalid Matrix LU decomposition")}function u(d,f,h,p,m){d=c(d),f=c(f),h&&((m=l(d,m,!0))._data=gve(h,m._data));var g=o(d,m),A=s(f,g);return p&&(A._data=gve(p,A._data)),A}}),ext=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],txt=xe("setUnion",ext,n=>{var{typed:t,size:e,concat:i,subset:r,setIntersect:s,setSymDifference:o,Index:a}=n;return t("setUnion",{"Array | Matrix, Array | Matrix":function(c,u){if(0===r(e(c),new a(0)))return ps(u);if(0===r(e(u),new a(0)))return ps(c);var d=ps(c),f=ps(u);return i(o(d,f),s(d,f))}})}),nxt=["typed","add","divide","compare","partitionSelect"],ixt=xe("median",nxt,n=>{var{typed:t,add:e,divide:i,compare:r,partitionSelect:s}=n;function o(c){try{var u=(c=ps(c.valueOf())).length;if(0===u)throw new Error("Cannot calculate median of an empty array");if(u%2==0){for(var d=u/2-1,f=s(c,d+1),h=c[d],p=0;p<d;++p)r(c[p],h)>0&&(h=c[p]);return l(h,f)}var m=s(c,(u-1)/2);return a(m)}catch(g){throw Pu(g,"median")}}var a=t({"number | BigNumber | Complex | Unit":function(u){return u}}),l=t({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(u,d){return i(e(u,d),2)}});return t("median",{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(u,d){throw new Error("median(A, dim) is not yet supported")},"...":function(u){if(rC(u))throw new TypeError("Scalar values expected in function median");return o(u)}})}),rxt=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],sxt=xe("corr",rxt,n=>{var{typed:t,matrix:e,sqrt:i,sum:r,add:s,subtract:o,multiply:a,pow:l,divide:c}=n;return t("corr",{"Array, Array":function(h,p){return u(h,p)},"Matrix, Matrix":function(h,p){var m=u(h.toArray(),p.toArray());return Array.isArray(m)?e(m):m}});function u(f,h){var p=[];if(Array.isArray(f[0])&&Array.isArray(h[0])){if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var m=0;m<f.length;m++){if(f[m].length!==h[m].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");p.push(d(f[m],h[m]))}return p}if(f.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return d(f,h)}function d(f,h){var p=f.length,m=r(f),g=r(h),A=f.reduce((y,C,D)=>s(y,a(C,h[D])),0),_=r(f.map(y=>l(y,2))),v=r(h.map(y=>l(y,2))),b=o(a(p,A),a(m,g)),w=i(a(o(a(p,_),l(m,2)),o(a(p,v),l(g,2))));return c(b,w)}}),oxt=["typed","add","multiply","Complex","divide","matrix"],axt=xe("freqz",oxt,n=>{var{typed:t,add:e,multiply:i,Complex:r,divide:s,matrix:o}=n;return t("freqz",{"Array, Array":function(u,d){return a(u,d,l(512))},"Array, Array, Array":function(u,d,f){return a(u,d,f)},"Array, Array, number":function(u,d,f){if(f<0)throw new Error("w must be a positive number");return a(u,d,l(f))},"Matrix, Matrix":function(u,d){var f=l(512),{w:h,h:p}=a(u.valueOf(),d.valueOf(),f);return{w:o(h),h:o(p)}},"Matrix, Matrix, Matrix":function(u,d,f){var{h}=a(u.valueOf(),d.valueOf(),f.valueOf());return{h:o(h),w:o(f)}},"Matrix, Matrix, number":function(u,d,f){if(f<0)throw new Error("w must be a positive number");var h=l(f),{h:p}=a(u.valueOf(),d.valueOf(),h);return{h:o(p),w:o(h)}}});function a(c,u,d){for(var f=[],h=[],p=0;p<d.length;p++){for(var m=r(0,0),g=r(0,0),A=0;A<c.length;A++)m=e(m,i(c[A],r(Math.cos(-A*d[p]),Math.sin(-A*d[p]))));for(var _=0;_<u.length;_++)g=e(g,i(u[_],r(Math.cos(-_*d[p]),Math.sin(-_*d[p]))));f.push(m),h.push(g)}for(var v=[],b=0;b<f.length;b++)v.push(s(f[b],h[b]));return{h:v,w:d}}function l(c){for(var u=[],d=0;d<c;d++)u.push(d/c*Math.PI);return u}}),lxt=["typed","abs","map","median","subtract"],cxt=xe("mad",lxt,n=>{var{typed:t,abs:e,map:i,median:r,subtract:s}=n;return t("mad",{"Array | Matrix":o,"...":function(l){return o(l)}});function o(a){if(0===(a=ps(a.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=r(a);return r(i(a,function(c){return e(s(c,l))}))}catch(c){throw c instanceof TypeError&&c.message.includes("median")?new TypeError(c.message.replace("median","mad")):Pu(c,"mad")}}}),uxt=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],dxt=xe("zeta",uxt,n=>{var{typed:t,config:e,multiply:i,pow:r,divide:s,factorial:o,equal:a,smallerEq:l,isNegative:c,gamma:u,sin:d,subtract:f,add:h,Complex:p,BigNumber:m,pi:g}=n;return t("zeta",{number:y=>A(y,C=>C,()=>20),BigNumber:y=>A(y,C=>new m(C),()=>Math.abs(Math.log10(e.relTol))),Complex:function _(y){return 0===y.re&&0===y.im?new p(-.5):1===y.re?new p(NaN,NaN):y.re===1/0&&0===y.im?new p(1):y.im===1/0||y.re===-1/0?new p(NaN,NaN):v(y,C=>C,C=>Math.round(19.5+.9*Math.abs(C.im)),C=>C.re)}});function A(y,C,D){return a(y,0)?C(-.5):a(y,1)?C(NaN):isFinite(y)?v(y,C,D,S=>S):c(y)?C(NaN):C(1)}function v(y,C,D,S){var T=D(y);if(S(y)>-(T-1)/2)return function w(y,C,D){for(var S=s(1,i(b(D(0),C),f(1,r(2,f(1,y))))),T=D(0),M=D(1);l(M,C);M=h(M,1))T=h(T,s(i((-1)**(M-1),b(M,C)),r(M,y)));return i(S,T)}(y,C(T),C);var M=i(r(2,y),r(C(g),f(y,1)));return M=i(M,d(i(s(C(g),2),y))),M=i(M,u(f(1,y))),i(M,v(f(1,y),C,D,S))}function b(y,C){for(var D=y,S=y;l(S,C);S=h(S,1)){var T=s(i(o(h(C,f(S,1))),r(4,S)),i(o(f(C,S)),o(i(2,S))));D=h(D,T)}return i(C,D)}}),hxt=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],fxt=xe("norm",hxt,n=>{var{typed:t,abs:e,add:i,pow:r,conj:s,sqrt:o,multiply:a,equalScalar:l,larger:c,smaller:u,matrix:d,ctranspose:f,eigs:h}=n;return t("norm",{number:Math.abs,Complex:function(D){return D.abs()},BigNumber:function(D){return D.abs()},boolean:function(D){return Math.abs(D)},Array:function(D){return y(d(D),2)},Matrix:function(D){return y(D,2)},"Array, number | BigNumber | string":function(D,S){return y(d(D),S)},"Matrix, number | BigNumber | string":function(D,S){return y(D,S)}});function y(C,D){var S=C.size();if(1===S.length)return function g(C,D){if(D===Number.POSITIVE_INFINITY||"inf"===D)return function p(C){var D=0;return C.forEach(function(S){var T=e(S);c(T,D)&&(D=T)},!0),D}(C);if(D===Number.NEGATIVE_INFINITY||"-inf"===D)return function m(C){var D;return C.forEach(function(S){var T=e(S);(!D||u(T,D))&&(D=T)},!0),D||0}(C);if("fro"===D)return y(C,2);if("number"==typeof D&&!isNaN(D)){if(!l(D,0)){var S=0;return C.forEach(function(T){S=i(r(e(T),D),S)},!0),r(S,1/D)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}(C,D);if(2===S.length){if(S[0]&&S[1])return function w(C,D){if(1===D)return function _(C){var D=[],S=0;return C.forEach(function(T,M){var F=M[1],L=i(D[F]||0,e(T));c(L,S)&&(S=L),D[F]=L},!0),S}(C);if(D===Number.POSITIVE_INFINITY||"inf"===D)return function b(C){var D=[],S=0;return C.forEach(function(T,M){var F=M[0],L=i(D[F]||0,e(T));c(L,S)&&(S=L),D[F]=L},!0),S}(C);if("fro"===D)return function A(C){var D=0;return C.forEach(function(S,T){D=i(D,a(S,s(S)))}),e(o(D))}(C);if(2===D)return function v(C){var D=C.size();if(D[0]!==D[1])throw new RangeError("Invalid matrix dimensions");var S=f(C),T=a(S,C),M=h(T).values.toArray();return e(o(M[M.length-1]))}(C);throw new Error("Unsupported parameter value "+D)}(C,D);throw new RangeError("Invalid matrix dimensions")}}}),Eve="rotationMatrix",pxt=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],mxt=xe(Eve,pxt,n=>{var{typed:t,config:e,multiplyScalar:i,addScalar:r,unaryMinus:s,norm:o,BigNumber:a,matrix:l,DenseMatrix:c,SparseMatrix:u,cos:d,sin:f}=n;return t(Eve,{"":function(){return"Matrix"===e.matrix?l([]):[]},string:function(v){return l(v)},"number | BigNumber | Complex | Unit":function(v){return h(v,"Matrix"===e.matrix?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(v,b){return h(v,b)},"number | BigNumber | Complex | Unit, Array":function(v,b){var w=l(b);return p(w),A(v,w,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(v,b){p(b);var w=b.storage()||("Matrix"===e.matrix?"dense":void 0);return A(v,b,w)},"number | BigNumber | Complex | Unit, Array, string":function(v,b,w){var y=l(b);return p(y),A(v,y,w)},"number | BigNumber | Complex | Unit, Matrix, string":function(v,b,w){return p(b),A(v,b,w)}});function h(_,v){var w=or(_)?new a(-1):-1,y=d(_),C=f(_);return g([[y,i(w,C)],[C,y]],v)}function p(_){var v=_.size();if(v.length<1||3!==v[0])throw new RangeError("Vector must be of dimensions 1x3")}function m(_){return _.reduce((v,b)=>i(v,b))}function g(_,v){if(v){if("sparse"===v)return new u(_);if("dense"===v)return new c(_);throw new TypeError('Unknown matrix type "'.concat(v,'"'))}return _}function A(_,v,b){var w=o(v);if(0===w)throw new RangeError("Rotation around zero vector");var y=or(_)?a:null,C=y?new y(1):1,D=y?new y(-1):-1,S=y?new y(v.get([0])/w):v.get([0])/w,T=y?new y(v.get([1])/w):v.get([1])/w,M=y?new y(v.get([2])/w):v.get([2])/w,F=d(_),L=r(C,s(F)),U=f(_);return g([[r(F,m([S,S,L])),r(m([S,T,L]),m([D,M,U])),r(m([S,M,L]),m([T,U]))],[r(m([S,T,L]),m([M,U])),r(F,m([T,T,L])),r(m([T,M,L]),m([D,S,U]))],[r(m([S,M,L]),m([D,T,U])),r(m([T,M,L]),m([S,U])),r(F,m([M,M,L]))]],b)}}),Axt=["typed","matrix","identity","multiply","qr","norm","subtract"],gxt=xe("schur",Axt,n=>{var{typed:t,matrix:e,identity:i,multiply:r,qr:s,norm:o,subtract:a}=n;return t("schur",{Array:function(u){var d=l(e(u));return{U:d.U.valueOf(),T:d.T.valueOf()}},Matrix:function(u){return l(u)}});function l(c){var p,u=c.size()[0],d=c,f=i(u),h=0;do{p=d;var m=s(d),g=m.Q;if(d=r(m.R,g),f=r(f,g),h++>100)break}while(o(a(d,p))>1e-4);return{U:f,T:d}}}),vxt=["typed","multiply","rotationMatrix"],_xt=xe("rotate",vxt,n=>{var{typed:t,multiply:e,rotationMatrix:i}=n;return t("rotate",{"Array , number | BigNumber | Complex | Unit":function(o,a){return r(o,2),e(i(a),o).toArray()},"Matrix , number | BigNumber | Complex | Unit":function(o,a){return r(o,2),e(i(a),o)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return r(o,3),e(i(a,l),o)},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(o,a,l){return r(o,3),e(i(a,l),o)}});function r(s,o){var a=Array.isArray(s)?zi(s):s.size();if(a.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(o));if(2===a.length&&1!==a[1])throw new RangeError("Vector must be of dimensions 1x".concat(o));if(a[0]!==o)throw new RangeError("Vector must be of dimensions 1x".concat(o))}}),bxt=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],yxt=xe("sylvester",bxt,n=>{var{typed:t,schur:e,matrixFromColumns:i,matrix:r,multiply:s,range:o,concat:a,transpose:l,index:c,subset:u,add:d,subtract:f,identity:h,lusolve:p,abs:m}=n;return t("sylvester",{"Matrix, Matrix, Matrix":g,"Array, Matrix, Matrix":function(_,v,b){return g(r(_),v,b)},"Array, Array, Matrix":function(_,v,b){return g(r(_),r(v),b)},"Array, Matrix, Array":function(_,v,b){return g(r(_),v,r(b))},"Matrix, Array, Matrix":function(_,v,b){return g(_,r(v),b)},"Matrix, Array, Array":function(_,v,b){return g(_,r(v),r(b))},"Matrix, Matrix, Array":function(_,v,b){return g(_,v,r(b))},"Array, Array, Array":function(_,v,b){return g(r(_),r(v),r(b)).toArray()}});function g(A,_,v){for(var b=_.size()[0],w=A.size()[0],y=e(A),C=y.T,D=y.U,S=e(s(-1,_)),T=S.T,M=S.U,F=s(s(l(D),v),M),L=o(0,w),U=[],z=(ve,Ne)=>a(ve,Ne,1),O=(ve,Ne)=>a(ve,Ne,0),G=0;G<b;G++)if(G<b-1&&m(u(T,c(G+1,G)))>1e-5){for(var j=O(u(F,c(L,G)),u(F,c(L,G+1))),J=0;J<G;J++)j=d(j,O(s(U[J],u(T,c(J,G))),s(U[J],u(T,c(J,G+1)))));var le=s(h(w),s(-1,u(T,c(G,G)))),ye=s(h(w),s(-1,u(T,c(G+1,G)))),R=s(h(w),s(-1,u(T,c(G,G+1)))),X=s(h(w),s(-1,u(T,c(G+1,G+1)))),H=O(z(d(C,le),ye),z(R,d(C,X))),ae=p(H,j);U[G]=ae.subset(c(o(0,w),0)),U[G+1]=ae.subset(c(o(w,2*w),0)),G++}else{for(var de=u(F,c(L,G)),he=0;he<G;he++)de=d(de,s(U[he],u(T,c(he,G))));var ee=u(T,c(G,G)),ie=f(C,s(ee,h(w)));U[G]=p(ie,de)}var ge=r(i(...U));return s(D,s(ge,l(M)))}}),wxt=["typed","matrix","sylvester","multiply","transpose"],xxt=xe("lyap",wxt,n=>{var{typed:t,matrix:e,sylvester:i,multiply:r,transpose:s}=n;return t("lyap",{"Matrix, Matrix":function(a,l){return i(a,s(a),r(-1,l))},"Array, Matrix":function(a,l){return i(e(a),s(e(a)),r(-1,l))},"Matrix, Array":function(a,l){return i(a,s(e(a)),e(r(-1,l)))},"Array, Array":function(a,l){return i(e(a),s(e(a)),e(r(-1,l))).toArray()}})}),gn=rpt({config:Qt}),oo=cpt({}),Ive=Ept({BigNumber:gn,config:Qt}),Cxt=bpt({}),Sxt=nmt({BigNumber:gn,config:Qt}),Zb=Hmt({}),Bve=Ppt({Complex:oo}),Ext=wpt({BigNumber:gn,config:Qt}),Dxt=Tpt({BigNumber:gn,config:Qt}),Mxt=Ipt({BigNumber:gn,config:Qt}),Gk=Qmt({}),Txt=xpt({BigNumber:gn,config:Qt}),Nxt=ypt({}),Ixt=Dpt({BigNumber:gn,config:Qt}),Bxt=qmt({}),Fve=Kmt({}),Fxt=Bpt({BigNumber:gn,config:Qt}),Pxt=ymt({BigNumber:gn,config:Qt}),Pve=Spt({BigNumber:gn,config:Qt}),Oxt=_pt({}),Rxt=Opt({}),fr=Zmt({Matrix:Gk}),kxt=dmt({BigNumber:gn,config:Qt}),Lxt=Mpt({BigNumber:gn,config:Qt}),WG=Cpt({BigNumber:gn,config:Qt}),Ove=tAt({}),Uxt=Fpt({BigNumber:gn,config:Qt}),Le=iAt({BigNumber:gn,Complex:oo,DenseMatrix:fr,Fraction:Zb}),Hxt=umt({BigNumber:gn,config:Qt}),Ou=hAt({typed:Le}),Vxt=pAt({Complex:oo,config:Qt,typed:Le}),zxt=EAt({BigNumber:gn,typed:Le}),Qxt=MAt({BigNumber:gn,Complex:oo,config:Qt,typed:Le}),zl=NAt({typed:Le}),Gxt=BAt({typed:Le}),jxt=PAt({BigNumber:gn,Complex:oo,config:Qt,typed:Le}),qxt=kAt({typed:Le}),Rve=HAt({typed:Le}),Wxt=zAt({Complex:oo,config:Qt,typed:Le}),$xt=jAt({typed:Le}),Kxt=WAt({typed:Le}),Xxt=KAt({typed:Le}),Yxt=YAt({typed:Le}),jk=JAt({typed:Le}),qk=ngt({Complex:oo,typed:Le}),Jb=rgt({typed:Le}),$G=ogt({typed:Le}),Zxt=lgt({BigNumber:gn,typed:Le}),Jxt=ugt({BigNumber:gn,typed:Le}),eCt=hgt({typed:Le}),Sr=mgt({config:Qt,typed:Le}),tCt=vgt({typed:Le}),kve=xgt({typed:Le}),nCt=Sgt({Complex:oo,typed:Le}),iCt=nfe({typed:Le}),ey=Dgt({typed:Le}),rCt=ofe({typed:Le}),vC=Tgt({typed:Le}),KG=Igt({typed:Le}),sCt=Fgt({format:vC,typed:Le}),XG=Ogt({typed:Le}),wd=kgt({typed:Le}),m_=Vgt({config:Qt,typed:Le}),ty=Qgt({config:Qt,typed:Le}),vf=jgt({equalScalar:Sr,typed:Le}),oCt=Npt({BigNumber:gn,config:Qt}),aCt=Kgt({Complex:oo,typed:Le}),lCt=Zgt({Complex:oo,config:Qt,typed:Le}),YG=evt({Complex:oo,config:Qt,typed:Le}),ny=afe({typed:Le}),Fa=ivt({typed:Le}),Wk=svt({typed:Le}),hg=uvt({typed:Le}),cCt=hvt({format:vC,typed:Le}),uCt=mvt({config:Qt,typed:Le}),dCt=vfe({typed:Le}),hCt=gvt({config:Qt,typed:Le}),ZG=_vt({typed:Le}),fCt=yvt({BigNumber:gn,typed:Le}),Lve=xvt({BigNumber:gn,Fraction:Zb,complex:qk,typed:Le}),$k=Svt({typed:Le}),Ql=Mvt({Matrix:Gk,equalScalar:Sr,typed:Le}),pCt=Nvt({typed:Le}),mCt=Bvt({typed:Le}),ACt=Pvt({typed:Le}),_f=Rvt({typed:Le}),gCt=Lvt({typed:Le}),Uve=Hvt({typed:Le}),JG=zvt({typed:Le}),vCt=Gvt({Complex:oo,config:Qt,typed:Le}),_Ct=qvt({BigNumber:gn,typed:Le}),bCt=$vt({BigNumber:gn,Complex:oo,config:Qt,typed:Le}),xd=Yvt({BigNumber:gn,typed:Le}),yCt=Jvt({typed:Le}),wCt=t_t({typed:Le}),xCt=i_t({BigNumber:gn,typed:Le}),fg=s_t({typed:Le}),CCt=a_t({typed:Le}),zM=pG({isInteger:wd,typed:Le}),pn=c_t({DenseMatrix:fr,Matrix:Gk,SparseMatrix:Ql,typed:Le}),SCt=d_t({isZero:vf,matrix:pn,typed:Le}),ECt=p_t({BigNumber:gn,config:Qt,matrix:pn,typed:Le}),DCt=A_t({config:Qt,log2:YG,typed:Le}),Hve=v_t({isInteger:wd,matrix:pn,typed:Le}),MCt=b_t({BigNumber:gn,typed:Le}),TCt=w_t({typed:Le}),NCt=C_t({SparseMatrix:Ql,typed:Le}),xp=D_t({Complex:oo,config:Qt,typed:Le}),ICt=T_t({typed:Le}),BCt=B_t({typed:Le}),QM=P_t({matrix:pn,typed:Le}),Vve=R_t({BigNumber:gn,config:Qt,matrix:pn,typed:Le}),Nc=L_t({BigNumber:gn,config:Qt,matrix:pn,typed:Le}),FCt=H_t({BigNumber:gn,Complex:oo,config:Qt,typed:Le}),PCt=z_t({Complex:oo,config:Qt,typed:Le}),OCt=G_t({format:vC,typed:Le}),as=mfe({isInteger:wd,matrix:pn,typed:Le}),RCt=q_t({BigNumber:gn,typed:Le}),e9=$_t({conj:Jb,transpose:QM,typed:Le}),zve=X_t({DenseMatrix:fr,SparseMatrix:Ql,matrix:pn,typed:Le}),kCt=e0t({concat:as,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,typed:Le}),Cd=r0t({DenseMatrix:fr,SparseMatrix:Ql,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),GM=l0t({Fraction:Zb,typed:Le}),A_=u0t({BigNumber:gn,DenseMatrix:fr,SparseMatrix:Ql,config:Qt,matrix:pn,typed:Le}),iy=h0t({typed:Le}),LCt=p0t({matrix:pn,multiplyScalar:Fa,typed:Le}),Kk=A0t({DenseMatrix:fr,SparseMatrix:Ql,concat:as,config:Qt,matrix:pn,typed:Le}),UCt=y0t({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le,zeros:Nc}),HCt=x0t({isNaN:fg,isNumeric:iy,typed:Le}),VCt=S0t({BigNumber:gn,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),bf=M0t({bignumber:xd,fraction:GM,number:hg}),Qve=N0t({config:Qt,multiplyScalar:Fa,numeric:bf,typed:Le}),zCt=F0t({config:Qt,matrix:pn}),QCt=O0t({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le,zeros:Nc}),_C=k0t({BigNumber:gn,DenseMatrix:fr,config:Qt,equalScalar:Sr,matrix:pn,typed:Le,zeros:Nc}),Gl=U0t({matrix:pn,config:Qt,typed:Le}),Ru=V0t({DenseMatrix:fr,SparseMatrix:Ql,bignumber:xd,concat:as,config:Qt,matrix:pn,typed:Le}),GCt=G0t({concat:as,matrix:pn,typed:Le}),km=q0t({typed:Le}),jCt=$0t({DenseMatrix:fr,SparseMatrix:Ql,concat:as,config:Qt,equalScalar:Sr,matrix:pn,typed:Le}),qCt=Y0t({DenseMatrix:fr,SparseMatrix:Ql,concat:as,matrix:pn,typed:Le}),Kr=J0t({DenseMatrix:fr,SparseMatrix:Ql,addScalar:zl,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),WCt=tbt({BigNumber:gn,DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),$Ct=Bfe({concat:as,equalScalar:Sr,matrix:pn,typed:Le}),KCt=Vfe({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),XCt=ibt({DenseMatrix:fr,SparseMatrix:Ql,concat:as,matrix:pn,typed:Le}),Gve=sbt({BigNumber:gn,Complex:oo,Fraction:Zb,config:Qt,isNegative:m_,matrix:pn,typed:Le,unaryMinus:km}),ry=abt({BigNumber:gn,DenseMatrix:fr,Fraction:Zb,concat:as,config:Qt,equalScalar:Sr,matrix:pn,typed:Le}),jve=ubt({concat:as,matrix:pn,typed:Le}),YCt=hbt({prod:Qve,size:Gl,typed:Le}),jM=pbt({equal:Cd,typed:Le}),ca=Abt({numeric:bf,typed:Le}),qM=vbt({DenseMatrix:fr,SparseMatrix:Ql,concat:as,divideScalar:ca,equalScalar:Sr,matrix:pn,typed:Le}),ZCt=bbt({compareText:jve,isZero:vf,typed:Le}),qve=tge({DenseMatrix:fr,config:Qt,equalScalar:Sr,matrix:pn,round:_C,typed:Le,zeros:Nc}),JCt=Dbt({BigNumber:gn,DenseMatrix:fr,concat:as,config:Qt,equalScalar:Sr,matrix:pn,round:_C,typed:Le,zeros:Nc}),eSt=Tbt({isNumeric:iy,typed:Le}),tSt=Ibt({abs:Ou,addScalar:zl,divideScalar:ca,isPositive:ty,multiplyScalar:Fa,smaller:Ru,sqrt:xp,typed:Le}),Wve=Pbt({DenseMatrix:fr,smaller:Ru}),ru=kbt({ImmutableDenseMatrix:Wve,getMatrixDataType:KG}),ku=Ubt({DenseMatrix:fr,SparseMatrix:Ql,bignumber:xd,concat:as,config:Qt,matrix:pn,typed:Le}),t9=Qbt({Complex:oo,config:Qt,divideScalar:ca,typeOf:JG,typed:Le}),$ve=jbt({DenseMatrix:fr,divideScalar:ca,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,subtractScalar:_f,typed:Le}),n9=Wbt({flatten:ey,matrix:pn,size:Gl,typed:Le}),i9=$fe({config:Qt,isNaN:fg,larger:ku,numeric:bf,typed:Le}),nSt=Pfe({config:Qt,isNaN:fg,numeric:bf,smaller:Ru,typed:Le}),Kve=ige({DenseMatrix:fr,concat:as,config:Qt,equalScalar:Sr,matrix:pn,round:_C,typed:Le,zeros:Nc}),iSt=Kbt({Complex:oo,config:Qt,divideScalar:ca,typed:Le}),rSt=Rfe({deepEqual:jM,flatten:ey,matrix:pn,size:Gl,typed:Le}),sSt=dfe({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),Xk=Ybt({compare:ry,isNaN:fg,isNumeric:iy,typed:Le}),r9=Jbt({addScalar:zl,complex:qk,conj:Jb,divideScalar:ca,equal:Cd,identity:A_,isZero:vf,matrix:pn,multiplyScalar:Fa,sign:Lve,sqrt:xp,subtractScalar:_f,typed:Le,unaryMinus:km,zeros:Nc}),oSt=tyt({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le,zeros:Nc}),bC=iyt({DenseMatrix:fr,SparseMatrix:Ql,concat:as,config:Qt,matrix:pn,typed:Le}),yh=Lfe({add:Kr,matrix:pn,typed:Le,zeros:Nc}),nl=oyt({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,subtractScalar:_f,typed:Le,unaryMinus:km}),aSt=cyt({add:Kr,matrix:pn,typed:Le}),s9=dyt({DenseMatrix:fr,divideScalar:ca,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,subtractScalar:_f,typed:Le}),lSt=fyt({addScalar:zl,combinations:jk,divideScalar:ca,isInteger:wd,isNegative:m_,multiplyScalar:Fa,typed:Le}),Lm=myt({compare:ry,typed:Le}),cSt=vyt({addScalar:zl,combinations:jk,isInteger:wd,isNegative:m_,isPositive:ty,larger:ku,typed:Le}),uSt=jfe({matrix:pn,number:hg,subtract:nl,typed:Le}),dSt=byt({abs:Ou,addScalar:zl,deepEqual:jM,divideScalar:ca,multiplyScalar:Fa,sqrt:xp,subtractScalar:_f,typed:Le}),Yk=wyt({addScalar:zl,conj:Jb,multiplyScalar:Fa,size:Gl,typed:Le}),Xve=Syt({larger:ku,smaller:Ru}),Yve=Dyt({Index:ru,typed:Le}),hSt=Tyt({BigNumber:gn,add:Kr,config:Qt,equal:Cd,isInteger:wd,mod:Kve,smaller:Ru,typed:Le,xgcd:Vve}),fSt=Iyt({concat:as,equalScalar:Sr,matrix:pn,typed:Le}),pSt=Fyt({Complex:oo,config:Qt,divideScalar:ca,log:t9,typed:Le}),mSt=Oyt({DenseMatrix:fr,divideScalar:ca,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,subtractScalar:_f,typed:Le}),ASt=kyt({flatten:ey,matrix:pn,size:Gl,typed:Le}),zs=Uyt({addScalar:zl,dot:Yk,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,typed:Le}),yC=Xfe({bignumber:xd,matrix:pn,add:Kr,config:Qt,equal:Cd,isPositive:ty,isZero:vf,larger:ku,largerEq:Kk,smaller:Ru,smallerEq:bC,typed:Le}),gSt=Zfe({Index:ru,matrix:pn,range:yC,typed:Le}),vSt=Vyt({DenseMatrix:fr,Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),_St=Qyt({DenseMatrix:fr,Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),bSt=jyt({Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),ySt=Wyt({Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),Zve=g1t({SparseMatrix:Ql,abs:Ou,add:Kr,divideScalar:ca,larger:ku,largerEq:Kk,multiply:zs,subtract:nl,transpose:QM,typed:Le}),wSt=_1t({compare:ry,compareNatural:Lm,matrix:pn,typed:Le}),o9=y1t({config:Qt,numeric:bf,typed:Le}),Jve=x1t({DenseMatrix:fr,divideScalar:ca,equalScalar:Sr,matrix:pn,multiplyScalar:Fa,subtractScalar:_f,typed:Le}),xSt=S1t({Complex:oo,add:Kr,multiply:zs,number:hg,typed:Le}),CSt=ffe({concat:as,equalScalar:Sr,matrix:pn,not:Wk,typed:Le,zeros:Nc}),a9=T1t({DenseMatrix:fr,config:Qt,equalScalar:Sr,matrix:pn,round:_C,typed:Le,zeros:Nc}),e_e=epe({Index:ru,matrix:pn,range:yC,typed:Le}),SSt=I1t({matrix:pn,multiply:zs,subtract:nl,typed:Le}),t_e=F1t({divideScalar:ca,isZero:vf,matrix:pn,multiply:zs,subtractScalar:_f,typed:Le,unaryMinus:km}),n_e=R1t({Complex:oo,DenseMatrix:fr,ceil:a9,equalScalar:Sr,floor:qve,matrix:pn,typed:Le,zeros:Nc}),sy=L1t({abs:Ou,addScalar:zl,det:t_e,divideScalar:ca,identity:A_,matrix:pn,multiply:zs,typed:Le,unaryMinus:km}),ESt=H1t({Complex:oo,add:Kr,ctranspose:e9,deepEqual:jM,divideScalar:ca,dot:Yk,dotDivide:qM,equal:Cd,inv:sy,matrix:pn,multiply:zs,typed:Le}),Cp=z1t({Complex:oo,config:Qt,fraction:GM,identity:A_,inv:sy,matrix:pn,multiply:zs,number:hg,typed:Le}),i_e=G1t({DenseMatrix:fr,Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),DSt=q1t({Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),r_e=$1t({Index:ru,concat:as,setDifference:i_e,size:Gl,subset:yh,typed:Le}),s_e=Y1t({FibonacciHeap:Xve,addScalar:zl,equalScalar:Sr}),MSt=J1t({abs:Ou,add:Kr,identity:A_,inv:sy,map:ny,max:i9,multiply:zs,size:Gl,sqrt:xp,subtract:nl,typed:Le}),l9=wfe({add:Kr,config:Qt,numeric:bf,typed:Le}),Oi=nwt({BigNumber:gn,Complex:oo,Fraction:Zb,abs:Ou,addScalar:zl,config:Qt,divideScalar:ca,equal:Cd,fix:n_e,format:vC,isNumeric:iy,multiplyScalar:Fa,number:hg,pow:Cp,round:_C,subtractScalar:_f,toBest:Uve}),TSt=zpt({BigNumber:gn,Unit:Oi,config:Qt}),NSt=Cmt({BigNumber:gn,Unit:Oi,config:Qt}),ISt=hmt({BigNumber:gn,Unit:Oi,config:Qt}),BSt=qpt({BigNumber:gn,Unit:Oi,config:Qt}),FSt=pmt({BigNumber:gn,Unit:Oi,config:Qt}),PSt=Wpt({BigNumber:gn,Unit:Oi,config:Qt}),OSt=Qpt({BigNumber:gn,Unit:Oi,config:Qt}),RSt=rwt({Unit:Oi,typed:Le}),kSt=smt({BigNumber:gn,Unit:Oi,config:Qt}),LSt=owt({DenseMatrix:fr,SparseMatrix:Ql,concat:as,equalScalar:Sr,matrix:pn,pow:Cp,typed:Le}),USt=Vpt({BigNumber:gn,Unit:Oi,config:Qt}),HSt=jpt({BigNumber:gn,Unit:Oi,config:Qt}),VSt=lwt({abs:Ou,add:Kr,identity:A_,inv:sy,multiply:zs,typed:Le}),zSt=mmt({BigNumber:gn,Unit:Oi,config:Qt}),o_e=uwt({addScalar:zl,ceil:a9,conj:Jb,divideScalar:ca,dotDivide:qM,exp:kve,i:Bve,log2:YG,matrix:pn,multiplyScalar:Fa,pow:Cp,tau:Pve,typed:Le}),c9=hwt({BigNumber:gn,Complex:oo,config:Qt,multiplyScalar:Fa,pow:Cp,typed:Le}),QSt=kpt({BigNumber:gn,Unit:Oi,config:Qt}),GSt=imt({BigNumber:gn,Unit:Oi,config:Qt}),jSt=pwt({conj:Jb,dotDivide:qM,fft:o_e,typed:Le}),qSt=$pt({BigNumber:gn,Unit:Oi,config:Qt}),WSt=Ypt({BigNumber:gn,Unit:Oi,config:Qt}),$St=gmt({BigNumber:gn,Unit:Oi,config:Qt}),KSt=Hpt({BigNumber:gn,Unit:Oi,config:Qt}),XSt=Smt({BigNumber:gn,Unit:Oi,config:Qt}),YSt=_mt({BigNumber:gn,Unit:Oi,config:Qt}),ZSt=omt({BigNumber:gn,Unit:Oi,config:Qt}),JSt=Xpt({BigNumber:gn,Unit:Oi,config:Qt}),eEt=Imt({BigNumber:gn,Unit:Oi,config:Qt}),tEt=Mmt({BigNumber:gn,Unit:Oi,config:Qt}),nEt=Bmt({BigNumber:gn,Unit:Oi,config:Qt}),iEt=rmt({BigNumber:gn,Unit:Oi,config:Qt}),rEt=amt({BigNumber:gn,Unit:Oi,config:Qt}),sEt=Upt({BigNumber:gn,Unit:Oi,config:Qt}),oEt=lmt({BigNumber:gn,Unit:Oi,config:Qt}),aEt=wmt({BigNumber:gn,Unit:Oi,config:Qt}),lEt=Awt({compareNatural:Lm,typed:Le}),cEt=Rpt({BigNumber:gn,Unit:Oi,config:Qt}),uEt=xmt({BigNumber:gn,Unit:Oi,config:Qt}),dEt=cmt({BigNumber:gn,Unit:Oi,config:Qt}),hEt=fmt({BigNumber:gn,Unit:Oi,config:Qt}),fEt=Zpt({BigNumber:gn,Unit:Oi,config:Qt}),pEt=Gpt({BigNumber:gn,Unit:Oi,config:Qt}),Ic=_wt({divideScalar:ca,equalScalar:Sr,inv:sy,matrix:pn,multiply:zs,typed:Le}),mEt=emt({BigNumber:gn,Unit:Oi,config:Qt}),WM=ywt({gamma:c9,typed:Le}),AEt=Amt({BigNumber:gn,Unit:Oi,config:Qt}),gEt=Dmt({BigNumber:gn,Unit:Oi,config:Qt}),vEt=Cwt({abs:Ou,add:Kr,addScalar:zl,config:Qt,divideScalar:ca,equalScalar:Sr,flatten:ey,isNumeric:iy,isZero:vf,matrix:pn,multiply:zs,multiplyScalar:Fa,smaller:Ru,subtract:nl,typed:Le}),a_e=Ewt({DenseMatrix:fr,Spa:s_e,SparseMatrix:Ql,abs:Ou,addScalar:zl,divideScalar:ca,equalScalar:Sr,larger:ku,matrix:pn,multiplyScalar:Fa,subtractScalar:_f,typed:Le,unaryMinus:km}),_Et=Kpt({BigNumber:gn,Unit:Oi,config:Qt}),bEt=Emt({BigNumber:gn,Unit:Oi,config:Qt}),yEt=Mwt({add:Kr,divide:Ic,factorial:WM,isInteger:wd,isPositive:ty,multiply:zs,typed:Le}),wEt=Nwt({factorial:WM,typed:Le}),xEt=Tmt({BigNumber:gn,Unit:Oi,config:Qt}),CEt=Bwt({add:Kr,cbrt:Gve,divide:Ic,equalScalar:Sr,im:XG,isZero:vf,multiply:zs,re:ZG,sqrt:xp,subtract:nl,typeOf:JG,typed:Le,unaryMinus:km}),l_e=Pwt({DenseMatrix:fr,Index:ru,compareNatural:Lm,size:Gl,subset:yh,typed:Le}),SEt=Lwt({abs:Ou,add:Kr,bignumber:xd,divide:Ic,isNegative:m_,isPositive:ty,larger:ku,map:ny,matrix:pn,max:i9,multiply:zs,smaller:Ru,subtract:nl,typed:Le,unaryMinus:km}),c_e=Hwt({bignumber:xd,addScalar:zl,combinations:jk,divideScalar:ca,factorial:WM,isInteger:wd,isNegative:m_,larger:ku,multiplyScalar:Fa,number:hg,pow:Cp,subtractScalar:_f,typed:Le}),EEt=zwt({Unit:Oi,typed:Le}),DEt=Gwt({addScalar:zl,isInteger:wd,isNegative:m_,stirlingS2:c_e,typed:Le}),MEt=zfe({add:Kr,typed:Le,unaryPlus:o9}),u_e=Kwt({abs:Ou,add:Kr,addScalar:zl,atan:Rve,bignumber:xd,column:e_e,complex:qk,config:Qt,cos:$G,diag:zve,divideScalar:ca,dot:Yk,equal:Cd,flatten:ey,im:XG,inv:sy,larger:ku,matrix:pn,matrixFromColumns:n9,multiply:zs,multiplyScalar:Fa,number:hg,qr:r9,re:ZG,reshape:Hve,sin:$k,size:Gl,smaller:Ru,sqrt:xp,subtract:nl,typed:Le,usolve:s9,usolveAll:Jve}),TEt=tmt({BigNumber:gn,Unit:Oi,config:Qt}),NEt=vmt({BigNumber:gn,Unit:Oi,config:Qt}),IEt=Ywt({divide:Ic,dotDivide:qM,isNumeric:iy,log:t9,map:ny,matrix:pn,multiply:zs,sum:l9,typed:Le}),d_e=Jwt({DenseMatrix:fr,lsolve:$ve,lup:a_e,matrix:pn,slu:Zve,typed:Le,usolve:s9}),h_e=npe({add:Kr,divide:Ic,typed:Le}),BEt=bmt({BigNumber:gn,Unit:Oi,config:Qt}),FEt=Lpt({BigNumber:gn,Unit:Oi,config:Qt}),PEt=rpe({bignumber:xd,add:Kr,compare:ry,divide:Ic,isInteger:wd,larger:ku,mapSlices:zM,multiply:zs,partitionSelect:Xk,smaller:Ru,smallerEq:bC,subtract:nl,typed:Le}),OEt=txt({Index:ru,concat:as,setIntersect:l_e,setSymDifference:r_e,size:Gl,subset:yh,typed:Le}),u9=ope({add:Kr,divide:Ic,isNaN:fg,mapSlices:zM,multiply:zs,subtract:nl,typed:Le}),REt=Jpt({BigNumber:gn,Unit:Oi,config:Qt}),f_e=ixt({add:Kr,compare:ry,divide:Ic,partitionSelect:Xk,typed:Le}),kEt=sxt({add:Kr,divide:Ic,matrix:pn,mean:h_e,multiply:zs,pow:Cp,sqrt:xp,subtract:nl,sum:l9,typed:Le}),LEt=axt({Complex:oo,add:Kr,divide:Ic,matrix:pn,multiply:zs,typed:Le}),UEt=cxt({abs:Ou,map:ny,median:f_e,subtract:nl,typed:Le}),HEt=cpe({map:ny,sqrt:xp,typed:Le,variance:u9}),VEt=dxt({BigNumber:gn,Complex:oo,add:Kr,config:Qt,divide:Ic,equal:Cd,factorial:WM,gamma:c9,isNegative:m_,multiply:zs,pi:WG,pow:Cp,sin:$k,smallerEq:bC,subtract:nl,typed:Le}),d9=fxt({abs:Ou,add:Kr,conj:Jb,ctranspose:e9,eigs:u_e,equalScalar:Sr,larger:ku,matrix:pn,multiply:zs,pow:Cp,smaller:Ru,sqrt:xp,typed:Le}),p_e=mxt({BigNumber:gn,DenseMatrix:fr,SparseMatrix:Ql,addScalar:zl,config:Qt,cos:$G,matrix:pn,multiplyScalar:Fa,norm:d9,sin:$k,typed:Le,unaryMinus:km}),zEt=Nmt({BigNumber:gn,Unit:Oi,config:Qt}),m_e=gxt({identity:A_,matrix:pn,multiply:zs,norm:d9,qr:r9,subtract:nl,typed:Le}),QEt=_xt({multiply:zs,rotationMatrix:p_e,typed:Le}),A_e=yxt({abs:Ou,add:Kr,concat:as,identity:A_,index:Yve,lusolve:d_e,matrix:pn,matrixFromColumns:n9,multiply:zs,range:yC,schur:m_e,subset:yh,subtract:nl,transpose:QM,typed:Le}),GEt=xxt({matrix:pn,multiply:zs,sylvester:A_e,transpose:QM,typed:Le}),wC={},$M={},g_e={},su=nrt({mathWithTransform:$M}),xC=wrt({Node:su}),pg=Nrt({Node:su}),oy=Brt({Node:su}),v_e=Prt({Node:su}),CC=Rrt({Node:su}),__e=Lrt({Node:su,ResultSet:Fve}),b_e=Hrt({Node:su}),g_=zrt({Node:su}),y_e=Grt({Node:su}),jEt=Wrt({classes:g_e}),h9=Xrt({math:wC,typed:Le}),w_e=Zrt({Node:su,typed:Le}),qEt=est({Chain:h9,typed:Le}),SC=nst({Node:su,subset:yh}),x_e=sst({matrix:pn,Node:su,subset:yh}),EC=ast({Node:su,size:Gl}),v_=ust({Unit:Oi,Node:su,math:wC}),__=hst({Node:su,SymbolNode:v_,math:wC}),Sp=pst({AccessorNode:SC,ArrayNode:CC,AssignmentNode:x_e,BlockNode:__e,ConditionalNode:b_e,ConstantNode:g_,FunctionAssignmentNode:w_e,FunctionNode:__,IndexNode:EC,ObjectNode:xC,OperatorNode:pg,ParenthesisNode:oy,RangeNode:y_e,RelationalNode:v_e,SymbolNode:v_,config:Qt,numeric:bf,typed:Le}),C_e=gst({ConstantNode:g_,FunctionNode:__,OperatorNode:pg,ParenthesisNode:oy,parse:Sp,typed:Le}),f9=wst({bignumber:xd,fraction:GM,AccessorNode:SC,ArrayNode:CC,ConstantNode:g_,FunctionNode:__,IndexNode:EC,ObjectNode:xC,OperatorNode:pg,SymbolNode:v_,config:Qt,mathWithTransform:$M,matrix:pn,typed:Le}),WEt=Cst({parse:Sp,typed:Le}),p9=Est({AccessorNode:SC,ArrayNode:CC,ConstantNode:g_,FunctionNode:__,IndexNode:EC,ObjectNode:xC,OperatorNode:pg,ParenthesisNode:oy,SymbolNode:v_,add:Kr,divide:Ic,equal:Cd,isZero:vf,multiply:zs,parse:Sp,pow:Cp,subtract:nl,typed:Le}),Zk=Mst({parse:Sp,typed:Le}),S_e=Ist({evaluate:Zk}),E_e=Pst({evaluate:Zk,parse:Sp}),Jk=Lst({AccessorNode:SC,ArrayNode:CC,ConstantNode:g_,FunctionNode:__,IndexNode:EC,ObjectNode:xC,OperatorNode:pg,ParenthesisNode:oy,SymbolNode:v_,equal:Cd,parse:Sp,replacer:Ove,resolve:C_e,simplifyConstant:f9,simplifyCore:p9,typed:Le}),$Et=Hst({OperatorNode:pg,parse:Sp,simplify:Jk,typed:Le}),KEt=zst({parse:Sp,typed:Le}),XEt=Gst({Parser:E_e,typed:Le}),YEt=qst({bignumber:xd,fraction:GM,AccessorNode:SC,ArrayNode:CC,ConstantNode:g_,FunctionNode:__,IndexNode:EC,ObjectNode:xC,OperatorNode:pg,ParenthesisNode:oy,SymbolNode:v_,add:Kr,config:Qt,divide:Ic,equal:Cd,isZero:vf,mathWithTransform:$M,matrix:pn,multiply:zs,parse:Sp,pow:Cp,simplify:Jk,simplifyConstant:f9,simplifyCore:p9,subtract:nl,typed:Le}),ZEt=$st({ConstantNode:g_,FunctionNode:__,OperatorNode:pg,ParenthesisNode:oy,SymbolNode:v_,config:Qt,equal:Cd,isZero:vf,numeric:bf,parse:Sp,simplify:Jk,typed:Le}),JEt=Tut({Help:S_e,mathWithTransform:$M,typed:Le});Ul(wC,{e:Ive,false:Cxt,fineStructure:Sxt,i:Bve,Infinity:Ext,LN10:Dxt,LOG10E:Mxt,NaN:Txt,null:Nxt,phi:Ixt,SQRT1_2:Fxt,sackurTetrode:Pxt,tau:Pve,true:Oxt,E:Ive,version:Rxt,efimovFactor:kxt,LN2:Lxt,pi:WG,replacer:Ove,reviver:jEt,SQRT2:Uxt,typed:Le,PI:WG,weakMixingAngle:Hxt,abs:Ou,acos:Vxt,acot:zxt,acsc:Qxt,addScalar:zl,arg:Gxt,asech:jxt,asinh:qxt,atan:Rve,atanh:Wxt,bigint:$xt,bitNot:Kxt,boolean:Xxt,clone:Yxt,combinations:jk,complex:qk,conj:Jb,cos:$G,cot:Zxt,csc:Jxt,cube:eCt,equalScalar:Sr,erf:tCt,exp:kve,expm1:nCt,filter:iCt,flatten:ey,forEach:rCt,format:vC,getMatrixDataType:KG,hex:sCt,im:XG,isInteger:wd,isNegative:m_,isPositive:ty,isZero:vf,LOG2E:oCt,lgamma:aCt,log10:lCt,log2:YG,map:ny,multiplyScalar:Fa,not:Wk,number:hg,oct:cCt,pickRandom:uCt,print:dCt,random:hCt,re:ZG,sec:fCt,sign:Lve,sin:$k,splitUnit:pCt,square:mCt,string:ACt,subtractScalar:_f,tan:gCt,toBest:Uve,typeOf:JG,acosh:vCt,acsch:_Ct,asec:bCt,bignumber:xd,chain:qEt,combinationsWithRep:yCt,cosh:wCt,csch:xCt,isNaN:fg,isPrime:CCt,mapSlices:zM,matrix:pn,matrixFromFunction:SCt,ones:ECt,randomInt:DCt,reshape:Hve,sech:MCt,sinh:TCt,sparse:NCt,sqrt:xp,squeeze:ICt,tanh:BCt,transpose:QM,xgcd:Vve,zeros:Nc,acoth:FCt,asin:PCt,bin:OCt,concat:as,coth:RCt,ctranspose:e9,diag:zve,dotMultiply:kCt,equal:Cd,fraction:GM,identity:A_,isNumeric:iy,kron:LCt,largerEq:Kk,leftShift:UCt,mode:HCt,nthRoot:VCt,numeric:bf,prod:Qve,resize:zCt,rightArithShift:QCt,round:_C,size:Gl,smaller:Ru,to:GCt,unaryMinus:km,unequal:jCt,xor:qCt,add:Kr,atan2:WCt,bitAnd:$Ct,bitOr:KCt,bitXor:XCt,cbrt:Gve,compare:ry,compareText:jve,count:YCt,deepEqual:jM,divideScalar:ca,dotDivide:qM,equalText:ZCt,floor:qve,gcd:JCt,hasNumericValue:eSt,hypot:tSt,larger:ku,log:t9,lsolve:$ve,matrixFromColumns:n9,max:i9,min:nSt,mod:Kve,nthRoots:iSt,nullish:rSt,or:sSt,partitionSelect:Xk,qr:r9,rightLogShift:oSt,smallerEq:bC,subset:yh,subtract:nl,trace:aSt,usolve:s9,catalan:lSt,compareNatural:Lm,composition:cSt,diff:uSt,distance:dSt,dot:Yk,index:Yve,invmod:hSt,lcm:fSt,log1p:pSt,lsolveAll:mSt,matrixFromRows:ASt,multiply:zs,range:yC,row:gSt,setCartesian:vSt,setDistinct:_St,setIsSubset:bSt,setPowerset:ySt,slu:Zve,sort:wSt,unaryPlus:o9,usolveAll:Jve,zpk2tf:xSt,and:CSt,ceil:a9,column:e_e,cross:SSt,det:t_e,fix:n_e,inv:sy,pinv:ESt,pow:Cp,setDifference:i_e,setMultiplicity:DSt,setSymDifference:r_e,sqrtm:MSt,sum:l9,vacuumImpedance:TSt,wienDisplacement:NSt,atomicMass:ISt,bohrMagneton:BSt,boltzmann:FSt,conductanceQuantum:PSt,coulomb:OSt,createUnit:RSt,deuteronMass:kSt,dotPow:LSt,electricConstant:USt,elementaryCharge:HSt,expm:VSt,faraday:zSt,fft:o_e,gamma:c9,gravitationConstant:QSt,hartreeEnergy:GSt,ifft:jSt,inverseConductanceQuantum:qSt,klitzing:WSt,loschmidt:$St,magneticConstant:KSt,molarMass:XSt,molarPlanckConstant:YSt,neutronMass:ZSt,nuclearMagneton:JSt,planckCharge:eEt,planckLength:tEt,planckTemperature:nEt,protonMass:iEt,quantumOfCirculation:rEt,reducedPlanckConstant:sEt,rydberg:oEt,secondRadiation:aEt,setSize:lEt,speedOfLight:cEt,stefanBoltzmann:uEt,thomsonCrossSection:dEt,avogadro:hEt,bohrRadius:fEt,coulombConstant:pEt,divide:Ic,electronMass:mEt,factorial:WM,firstRadiation:AEt,gravity:gEt,intersect:vEt,lup:a_e,magneticFluxQuantum:_Et,molarMassC12:bEt,multinomial:yEt,parse:Sp,permutations:wEt,planckMass:xEt,polynomialRoot:CEt,resolve:C_e,setIntersect:l_e,simplifyConstant:f9,solveODE:SEt,stirlingS2:c_e,unit:EEt,bellNumbers:DEt,compile:WEt,cumsum:MEt,eigs:u_e,fermiCoupling:TEt,gasConstant:NEt,kldivergence:IEt,lusolve:d_e,mean:h_e,molarVolume:BEt,planckConstant:FEt,quantileSeq:PEt,setUnion:OEt,simplifyCore:p9,variance:u9,classicalElectronRadius:REt,evaluate:Zk,median:f_e,simplify:Jk,symbolicEqual:$Et,corr:kEt,freqz:LEt,leafCount:KEt,mad:UEt,parser:XEt,rationalize:YEt,std:HEt,zeta:VEt,derivative:ZEt,norm:d9,rotationMatrix:p_e,help:JEt,planckTime:zEt,schur:m_e,rotate:QEt,sylvester:A_e,lyap:GEt,config:Qt}),Ul($M,wC,{mapSlices:Out({isInteger:wd,typed:Le}),filter:qut({typed:Le}),forEach:Yut({typed:Le}),map:tdt({typed:Le}),or:_dt({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),and:Tdt({add:Kr,concat:as,equalScalar:Sr,matrix:pn,not:Wk,typed:Le,zeros:Nc}),concat:Fdt({isInteger:wd,matrix:pn,typed:Le}),index:Rdt({Index:ru,getMatrixDataType:KG}),print:Udt({add:Kr,matrix:pn,typed:Le,zeros:Nc}),sum:Gdt({add:Kr,config:Qt,numeric:bf,typed:Le}),bitAnd:eht({add:Kr,concat:as,equalScalar:Sr,matrix:pn,not:Wk,typed:Le,zeros:Nc}),min:rht({config:Qt,isNaN:fg,numeric:bf,smaller:Ru,typed:Le}),nullish:lht({deepEqual:jM,flatten:ey,matrix:pn,size:Gl,typed:Le}),subset:mht({add:Kr,matrix:pn,typed:Le,zeros:Nc}),bitOr:Sht({DenseMatrix:fr,concat:as,equalScalar:Sr,matrix:pn,typed:Le}),cumsum:Mht({add:Kr,typed:Le,unaryPlus:o9}),diff:Iht({bignumber:xd,matrix:pn,number:hg,subtract:nl,typed:Le}),max:Oht({config:Qt,isNaN:fg,larger:ku,numeric:bf,typed:Le}),range:Uht({bignumber:xd,matrix:pn,add:Kr,config:Qt,equal:Cd,isPositive:ty,isZero:vf,larger:ku,largerEq:Kk,smaller:Ru,smallerEq:bC,typed:Le}),row:Qht({Index:ru,matrix:pn,range:yC,typed:Le}),column:Wht({Index:ru,matrix:pn,range:yC,typed:Le}),mean:Yht({add:Kr,divide:Ic,typed:Le}),quantileSeq:tft({add:Kr,bignumber:xd,compare:ry,divide:Ic,isInteger:wd,larger:ku,mapSlices:zM,multiply:zs,partitionSelect:Xk,smaller:Ru,smallerEq:bC,subtract:nl,typed:Le}),variance:rft({add:Kr,divide:Ic,isNaN:fg,mapSlices:zM,multiply:zs,subtract:nl,typed:Le}),std:lft({map:ny,sqrt:xp,typed:Le,variance:u9})}),Ul(g_e,{BigNumber:gn,Complex:oo,Fraction:Zb,Matrix:Gk,Node:su,ObjectNode:xC,OperatorNode:pg,ParenthesisNode:oy,Range:Bxt,RelationalNode:v_e,ResultSet:Fve,ArrayNode:CC,BlockNode:__e,ConditionalNode:b_e,ConstantNode:g_,DenseMatrix:fr,RangeNode:y_e,Chain:h9,FunctionAssignmentNode:w_e,SparseMatrix:Ql,ImmutableDenseMatrix:Wve,Index:ru,AccessorNode:SC,AssignmentNode:x_e,FibonacciHeap:Xve,IndexNode:EC,Spa:s_e,Unit:Oi,SymbolNode:v_,FunctionNode:__,Help:S_e,Parser:E_e}),h9.createProxy(wC);const e2t=()=>({pageName:"PAGE_DEMOS_MISCELLANEOUS_INDEX"}),t2t=(n,t)=>({"bg-green-100":n,"bg-red-100":t});function n2t(n,t){if(1&n&&(q(0,"div",18)(1,"strong"),pe(2,"Result:"),$(),pe(3),$()),2&n){const e=lt();Se("ngClass",q1(2,t2t,!e.error,e.error)),te(3),di(" ",e.status_message()," ")}}function i2t(n,t){if(1&n&&(q(0,"span",21),pe(1),$()),2&n){const e=lt().$implicit;te(),di(" (with ",e.variables,") ")}}function r2t(n,t){if(1&n){const e=Bi();q(0,"button",19),ct("click",function(){const r=$t(e).$implicit;return Gt(lt().tryExample(r))}),pe(1),ht(2,i2t,2,1,"span",20),$()}if(2&n){const e=t.$implicit;te(),di(" ",e.expression," "),te(),Se("ngIf",e.variables)}}let s2t=(()=>{class n extends yr{constructor(e,i,r,s){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.expression="(x + y)",this.variables='{"x": 3, "y": 4}',this.error=!1,this.examples=[{expression:"2 * sin(45 deg) + sqrt(16)",variables:""},{expression:"x^2 + y^2",variables:'{"x": 3, "y": 4}'},{expression:'derivative("x^2 + 2x", "x")',variables:""},{expression:"log(10) + ln(e)",variables:""},{expression:"round(2.7) + ceil(3.2)",variables:""}]}evaluate(){try{let e={};if(this.variables)try{e=JSON.parse(this.variables)}catch{throw new Error("Invalid variables format. Use valid JSON.")}const i=Zk(this.expression,e);this.status_message.set("number"==typeof i?vC(i,{precision:14}):i),this.error=!1}catch(e){this.status_message.set(`Error: ${e.message}`),this.error=!0}}clear(){this.expression="",this.variables="",this.status_message.set(""),this.error=!1}tryExample(e){this.expression=e.expression,this.variables=e.variables,this.evaluate()}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-math-parsing"]],features:[Ln([{provide:ra,useValue:"PAGE_MISCELANEOUS_MATH_PARSING"}]),mn],decls:31,vars:7,consts:[["align","center"],[1,"container","mx-auto","p-6"],[1,"max-w-2xl","mx-auto","bg-white","rounded-lg","shadow"],[1,"text-2xl","font-bold","mb-4"],[1,"mb-4"],[1,"block","text-sm","font-medium","mb-2"],["placeholder","e.g., 2 * sin(45 deg)",1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],["placeholder",'e.g., {"x": 10, "y": 5}',"value",'{"x": 10, "y": 5}',1,"w-full","p-2","border","rounded",3,"ngModelChange","keyup.enter","ngModel"],[1,"flex","gap-2","mb-4",2,"color","blueviolet","color","bisque"],[1,"px-4","py-2","bg-blue-500","rounded","hover:bg-blue-600",2,"background-color","#cccccc","color","black",3,"click"],[1,"px-4","py-2","bg-gray-500","rounded","hover:bg-gray-600",2,"background-color","#cccccc","color","black",3,"click"],["class","p-4 rounded",3,"ngClass",4,"ngIf"],[1,"mt-6"],[1,"font-bold","mb-2"],[1,"grid","gap-2"],["class","text-left p-2 hover:bg-gray-100 rounded",3,"click",4,"ngFor","ngForOf"],["align","right"],[3,"routerLink","queryParams"],[1,"p-4","rounded",3,"ngClass"],[1,"text-left","p-2","hover:bg-gray-100","rounded",3,"click"],["class","text-sm text-gray-500",4,"ngIf"],[1,"text-sm","text-gray-500"]],template:function(i,r){1&i&&(q(0,"div",0),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",1)(4,"div",2)(5,"h2",3),pe(6,"Math Expression Parser"),$(),Ye(7,"hr"),q(8,"div",4)(9,"label",5),pe(10,"Enter Expression:"),$(),q(11,"input",6),Mo("ngModelChange",function(o){return Vo(r.expression,o)||(r.expression=o),o}),ct("keyup.enter",function(){return r.evaluate()}),$()(),q(12,"div",4)(13,"label",5),pe(14,"Variables (JSON format):"),$(),q(15,"input",7),Mo("ngModelChange",function(o){return Vo(r.variables,o)||(r.variables=o),o}),ct("keyup.enter",function(){return r.evaluate()}),$()(),q(16,"div",8)(17,"button",9),ct("click",function(){return r.evaluate()}),pe(18," Calculate "),$(),q(19,"button",10),ct("click",function(){return r.clear()}),pe(20," Clear "),$()(),ht(21,n2t,4,5,"div",11),q(22,"div",12)(23,"h3",13),pe(24,"Example Expressions:"),$(),q(25,"div",14),ht(26,r2t,3,2,"button",15),$()()()(),Ye(27,"hr"),q(28,"div",16)(29,"a",17),pe(30,"[Back to Menu]"),$()()()),2&i&&(te(11),Do("ngModel",r.expression),te(4),Do("ngModel",r.variables),te(6),Se("ngIf",null!==r.status_message()),te(5),Se("ngForOf",r.examples),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(6,e2t)))},dependencies:[ZI,Ma,pa,sd,$h,Xh,rs,yr]})}}return n})();const o2t=["signature"],a2t=["video"],l2t=["canvas"],c2t=["_sourceList"],u2t=["_engineList"],d2t=()=>({pageName:"PAGE_DEMOS_MISCELLANEOUS_INDEX"});function h2t(n,t){if(1&n&&Ye(0,"img",30),2&n){const e=lt();Se("src",e.capturedImage,Js)("hidden",e.capturedImageHidden)}}function f2t(n,t){if(1&n&&(q(0,"option",31),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}function p2t(n,t){if(1&n&&(q(0,"option",31),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),An(e._value)}}let m2t=(()=>{class n extends yr{constructor(e,i,r,s,o){super(e,i,r,s,bl),this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this.ocrService=o,this.options={backgroundColor:"#F4F5F5",width:100,height:100,css:{"border-radius":"16px"}},this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[capture image]",this.videoStyle="width: 150px;height:150px; transform : scaleX(1);",this.videoStream=null,this.isFrontCamera=!0,this.capturedImage=null,this.tituloListadOrigen="[CAPTURE ORIGIN]",this.titleEngineList="[OCR ENGINES]",this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!1,this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0,this.selectedIndex=1,this.selectedIndexEngines=1}ngOnInit(){this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0,this.startCamera(),this.queryParams()}ngAfterViewInit(){}ngOnDestroy(){this.stopCamera()}queryParams(){this.route.queryParams.subscribe(e=>{this.__sourceList=new Array,this.__sourceList.push(new br(0,"(CHOOSE OPTION...)",!1,"")),this.__sourceList.push(new br(1,"(FROM CANVAS)",!0,"")),this.__sourceList.push(new br(2,"(FROM CAMERA)",!1,"")),this.__engineList=new Array,this.__engineList.push(new br(0,"(CHOOSE OPCION...)",!1,"")),this.__engineList.push(new br(1,"(TESSERACT / javascript)",!0,"JS")),this.__engineList.push(new br(2,"(TESSERACT / C++) ",!1,"CPP"));let i=e.langName?e.langName:"";if(""!==i)for(var r=1;r<this.__engineList.length;r++)this.__engineList[r]._shortName==i&&(this.__engineList[r]._selected=!0);else this.__engineList[1]._selected=!0})}selectionChange(){switch(this.selectedIndex=this._sourceList.nativeElement.options.selectedIndex,this.selectedIndex){case 1:this.hiddenCanvasContainer=!1,this.hiddenCameraContainer=!0;break;case 2:this.hiddenCanvasContainer=!0,this.hiddenCameraContainer=!1}this.status_message.set("")}selectionChangeEngines(){this.selectedIndexEngines=this._engineList.nativeElement.options.selectedIndex}onBeginSign(){}onEndSign(){}saveSignature(){if(0==this.selectedIndex)return void this.status_message.set("Please choose the option    [CAPTURE ORIGIN]");this.status_message.set("[...parsing...]");let e=this.signature?.toDataURL();switch(this.selectionChangeEngines(),this.selectedIndexEngines){case 1:this.uploadImageNodeJs(e);break;case 2:this.uploadImageCPP(e);break;default:this.status_message.set("Please choose the option [OCR ENGINE]")}}clearSignature(){this.signature?.clear(),this.status_message.set(""),this.statusButton="[save]"}uploadImageNodeJs(e){this.statusButton="[...parsing...]",this.statusButtonSaveImage="[...parsing...]",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.ocrService.uploadBase64ImageNodeJs(e).subscribe(i=>{this.status_message.set(JSON.parse(JSON.stringify(i)).message),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0},i=>{console.error("Error uploading image:",i),this.status_message.set(i),this.statusButton="[save]"})}uploadImageCPP(e){this.statusButton="[...parsing...]",this.statusButtonSaveImage="[...parsing...]",this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!0,this.ocrService.uploadBase64ImageCPP(e).subscribe(i=>{this.status_message.set(JSON.parse(JSON.stringify(i)).message),this.statusButton="[save]",this.statusButtonSaveImage="[save image]",this.captureButtonStatus="[start capture]",this.captureButtonDisabled=!1,this.saveImageButtonDisabled=!0},i=>{console.error("Error uploading image:",i),this.status_message.set(i),this.statusButton="[save]"})}startCamera(){var e=this;return(0,Tt.A)(function*(){try{e.videoStream=yield navigator.mediaDevices.getUserMedia({video:{facingMode:e.isFrontCamera?"user":"environment"}}),e.videoStream&&(e.videoElement.nativeElement.srcObject=e.videoStream)}catch(i){console.error("Error accessing the camera:",i)}})()}stopCamera(){this.videoStream&&(this.videoStream.getTracks().forEach(e=>e.stop()),this.videoStream=null)}capturePhoto(){if("[capture image]"==this.captureButtonStatus){this.cameraContainerHidden=!0,this.capturedImageHidden=!1,this.captureButtonDisabled=!0,this.saveImageButtonDisabled=!1;const e=this.videoElement.nativeElement,i=this.canvas.nativeElement,r=i.getContext("2d");r&&(i.width=e.videoWidth/4,i.height=e.videoHeight/4,r.drawImage(e,0,0,i.width,i.height),this.capturedImage=i.toDataURL("image/png"))}else this.cameraContainerHidden=!1,this.capturedImageHidden=!0,this.captureButtonStatus="[capture image]"}saveImage(){if(0!=this.selectedIndex)switch(this.status_message.set("[..parsing...]"),this.selectionChangeEngines(),this.selectedIndexEngines){case 1:this.capturedImage&&this.uploadImageNodeJs(this.capturedImage);break;case 2:this.capturedImage&&this.uploadImageCPP(this.capturedImage);break;default:this.status_message.set("Pleae choose the option [OCR ENGINE]")}else this.status_message.set("Please choose the option [CAPTURE ORIGIN]")}dataURLToBlob(e){const i=atob(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return new Blob([s],{type:r})}flipCamera(){var e=this;return(0,Tt.A)(function*(){e.isFrontCamera=!e.isFrontCamera,e.stopCamera(),yield e.startCamera()})()}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs),oe(mse))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-ocr-photo-capture"]],viewQuery:function(i,r){if(1&i&&(Tn(o2t,5),Tn(a2t,7),Tn(l2t,5),Tn(c2t,5),Tn(u2t,5)),2&i){let s;Ut(s=Ht())&&(r.signature=s.first),Ut(s=Ht())&&(r.videoElement=s.first),Ut(s=Ht())&&(r.canvas=s.first),Ut(s=Ht())&&(r._sourceList=s.first),Ut(s=Ht())&&(r._engineList=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_MISCELANEOUS_OCR"}]),mn],decls:54,vars:21,consts:[["signature",""],["video",""],["canvas",""],["_sourceList",""],["_engineList",""],["align","center",1,"content"],["id","canvasContainer",3,"hidden"],["aling","center"],[3,"beginSign","endSign","options"],["type","button",1,"btn","btn-primary",3,"click","value","disabled"],[1,"btn","btn-secondary",3,"click"],["id","cameraContainer",3,"hidden"],[1,"camera-container",3,"hidden"],["autoplay",""],["hidden",""],["alt","Captured Photo",3,"src","hidden",4,"ngIf"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-success",3,"click"],[2,"padding","2px","width","100px","height","10px","background-color","azure"],["align","left","id","SourceListDiv",1,"form-group"],["for","sourceList"],["id","tituloListadoLenguajes"],["id","sourceList","name","sourceList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],["align","left","id","EngineListDiv",1,"form-group"],["for","engineList"],["id","titleEngines"],["id","engineList","name","engineList",3,"change"],["align","right"],[3,"routerLink","queryParams"],["alt","Captured Photo",3,"src","hidden"],[3,"value","selected"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",5),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",6)(4,"div",7),pe(5,"Please use the finger or the mouse pointer to draw"),$(),Ye(6,"br"),q(7,"ngx-signature-pad",8,0),ct("beginSign",function(){return $t(s),Gt(r.onBeginSign())})("endSign",function(){return $t(s),Gt(r.onEndSign())}),$(),Ye(9,"hr"),q(10,"input",9),ct("click",function(){return $t(s),Gt(r.saveSignature())}),$(),pe(11," | "),q(12,"button",10),ct("click",function(){return $t(s),Gt(r.clearSignature())}),pe(13,"Clear Signature"),$(),Ye(14,"br"),$(),q(15,"div",11)(16,"div",12),Ye(17,"video",13,1)(19,"canvas",14,2),$(),ht(21,h2t,1,2,"img",15),Ye(22,"hr"),q(23,"button",16),ct("click",function(){return $t(s),Gt(r.capturePhoto())}),pe(24),$(),pe(25," | "),q(26,"button",16),ct("click",function(){return $t(s),Gt(r.saveImage())}),pe(27),$(),pe(28," | "),q(29,"button",17),ct("click",function(){return $t(s),Gt(r.flipCamera())}),pe(30,"Flip Camera"),$()(),Ye(31,"hr"),q(32,"span",18),pe(33),$(),Ye(34,"hr"),q(35,"div",19)(36,"label",20)(37,"span",21),pe(38),$()(),pe(39," \xa0"),q(40,"select",22,3),ct("change",function(){return $t(s),Gt(r.selectionChange())}),ht(42,f2t,2,3,"option",23),$()(),q(43,"div",24)(44,"label",25)(45,"span",26),pe(46),$()(),pe(47," \xa0"),q(48,"select",27,4),ct("change",function(){return $t(s),Gt(r.selectionChangeEngines())}),ht(50,p2t,2,3,"option",23),$()(),q(51,"div",28)(52,"a",29),pe(53,"[Back to Menu]"),$()()()}2&i&&(te(3),Se("hidden",r.hiddenCanvasContainer),te(4),Se("options",r.options),te(3),j1("value",r.statusButton),Se("disabled","..parsing.."==r.statusButton),te(5),Se("hidden",r.hiddenCameraContainer),te(),Se("hidden",r.cameraContainerHidden),te(),Qh(r.videoStyle),te(4),Se("ngIf",r.capturedImage),te(2),Se("disabled",r.captureButtonDisabled),te(),An(r.captureButtonStatus),te(2),Se("disabled",r.saveImageButtonDisabled),te(),An(r.statusButtonSaveImage),te(6),An(r.status_message()),te(5),An(r.tituloListadOrigen),te(4),Se("ngForOf",r.__sourceList),te(4),An(r.titleEngineList),te(4),Se("ngForOf",r.__engineList),te(2),Se("routerLink","/PageUrlList")("queryParams",Us(20,d2t)))},dependencies:[Ma,pa,wu,xu,Gde,rs,yr],styles:["#signatureCanvas[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#f0f8ff}.signature-pad[_ngcontent-%COMP%]{border:2px solid #000}.form-group[_ngcontent-%COMP%]{width:350px;margin-bottom:1em;display:flex;align-items:center;background-color:#ccc}label[_ngcontent-%COMP%]{width:150px;margin-left:5px}input[type=text][_ngcontent-%COMP%]{width:10px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{flex:1}"]})}}return n})();const eL=function v2t(n,t){return n===t||n!=n&&t!=t},tL=function _2t(n,t){for(var e=n.length;e--;)if(eL(n[e][0],t))return e;return-1};var y2t=Array.prototype.splice;function DC(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}DC.prototype.clear=function A2t(){this.__data__=[],this.size=0},DC.prototype.delete=function w2t(n){var t=this.__data__,e=tL(t,n);return!(e<0||(e==t.length-1?t.pop():y2t.call(t,e,1),--this.size,0))},DC.prototype.get=function C2t(n){var t=this.__data__,e=tL(t,n);return e<0?void 0:t[e][1]},DC.prototype.has=function E2t(n){return tL(this.__data__,n)>-1},DC.prototype.set=function M2t(n,t){var e=this.__data__,i=tL(e,n);return i<0?(++this.size,e.push([n,t])):e[i][1]=t,this};const nL=DC,D_e="object"==typeof global&&global&&global.Object===Object&&global;var U2t="object"==typeof self&&self&&self.Object===Object&&self;const MC=D_e||U2t||Function("return this")();var V2t=MC.Symbol,M_e=Object.prototype,z2t=M_e.hasOwnProperty,Q2t=M_e.toString,KM=V2t?V2t.toStringTag:void 0;var W2t=Object.prototype.toString;var T_e=V2t?V2t.toStringTag:void 0;const rL=function Z2t(n){return null==n?void 0===n?"[object Undefined]":"[object Null]":T_e&&T_e in Object(n)?function G2t(n){var t=z2t.call(n,KM),e=n[KM];try{n[KM]=void 0;var i=!0}catch{}var r=Q2t.call(n);return i&&(t?n[KM]=e:delete n[KM]),r}(n):function $2t(n){return W2t.call(n)}(n)},ay=function J2t(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},m9=function rDt(n){if(!ay(n))return!1;var t=rL(n);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},A9=MC["__core-js_shared__"];var N_e=function(){var n=/[^.]+$/.exec(A9&&A9.keys&&A9.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();var cDt=Function.prototype.toString;var fDt=/^\[object .+?Constructor\]$/,vDt=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const bDt=function _Dt(n){return!(!ay(n)||function oDt(n){return!!N_e&&N_e in n}(n))&&(m9(n)?vDt:fDt).test(function uDt(n){if(null!=n){try{return cDt.call(n)}catch{}try{return n+""}catch{}}return""}(n))},g9=function xDt(n,t){var e=function yDt(n,t){return n?.[t]}(n,t);return bDt(e)?e:void 0},I_e=g9(MC,"Map"),XM=g9(Object,"create");var BDt=Object.prototype.hasOwnProperty;var RDt=Object.prototype.hasOwnProperty;function TC(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}TC.prototype.clear=function EDt(){this.__data__=XM?XM(null):{},this.size=0},TC.prototype.delete=function MDt(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},TC.prototype.get=function FDt(n){var t=this.__data__;if(XM){var e=t[n];return"__lodash_hash_undefined__"===e?void 0:e}return BDt.call(t,n)?t[n]:void 0},TC.prototype.has=function kDt(n){var t=this.__data__;return XM?void 0!==t[n]:RDt.call(t,n)},TC.prototype.set=function HDt(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=XM&&void 0===t?"__lodash_hash_undefined__":t,this};const B_e=TC,sL=function qDt(n,t){var e=n.__data__;return function GDt(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n}(t)?e["string"==typeof t?"string":"hash"]:e.map};function NC(n){var t=-1,e=null==n?0:n.length;for(this.clear();++t<e;){var i=n[t];this.set(i[0],i[1])}}NC.prototype.clear=function zDt(){this.size=0,this.__data__={hash:new B_e,map:new(I_e||nL),string:new B_e}},NC.prototype.delete=function WDt(n){var t=sL(this,n).delete(n);return this.size-=t?1:0,t},NC.prototype.get=function KDt(n){return sL(this,n).get(n)},NC.prototype.has=function YDt(n){return sL(this,n).has(n)},NC.prototype.set=function JDt(n,t){var e=sL(this,n),i=e.size;return e.set(n,t),this.size+=e.size==i?0:1,this};const tMt=NC;function IC(n){var t=this.__data__=new nL(n);this.size=t.size}IC.prototype.clear=function N2t(){this.__data__=new nL,this.size=0},IC.prototype.delete=function B2t(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e},IC.prototype.get=function P2t(n){return this.__data__.get(n)},IC.prototype.has=function R2t(n){return this.__data__.has(n)},IC.prototype.set=function iMt(n,t){var e=this.__data__;if(e instanceof nL){var i=e.__data__;if(!I_e||i.length<199)return i.push([n,t]),this.size=++e.size,this;e=this.__data__=new tMt(i)}return e.set(n,t),this.size=e.size,this};const sMt=IC;var oMt=function(){try{var n=g9(Object,"defineProperty");return n({},"",{}),n}catch{}}();const oL=oMt,v9=function aMt(n,t,e){"__proto__"==t&&oL?oL(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e},_9=function lMt(n,t,e){(void 0!==e&&!eL(n[t],e)||void 0===e&&!(t in n))&&v9(n,t,e)};var uMt=function cMt(n){return function(t,e,i){for(var r=-1,s=Object(t),o=i(t),a=o.length;a--;){var l=o[n?a:++r];if(!1===e(s[l],l,s))break}return t}}();const dMt=uMt;var F_e="object"==typeof exports&&exports&&!exports.nodeType&&exports,P_e=F_e&&"object"==typeof module&&module&&!module.nodeType&&module,O_e=P_e&&P_e.exports===F_e?MC.Buffer:void 0,R_e=O_e?O_e.allocUnsafe:void 0;const k_e=MC.Uint8Array,_Mt=function vMt(n,t){var e=t?function AMt(n){var t=new n.constructor(n.byteLength);return new k_e(t).set(new k_e(n)),t}(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)};var L_e=Object.create,wMt=function(){function n(){}return function(t){if(!ay(t))return{};if(L_e)return L_e(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}();const xMt=wMt;var SMt=function CMt(n,t){return function(e){return n(t(e))}}(Object.getPrototypeOf,Object);const U_e=SMt;var EMt=Object.prototype;const H_e=function DMt(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||EMt)},YM=function NMt(n){return null!=n&&"object"==typeof n},V_e=function BMt(n){return YM(n)&&"[object Arguments]"==rL(n)};var z_e=Object.prototype,FMt=z_e.hasOwnProperty,PMt=z_e.propertyIsEnumerable,OMt=V_e(function(){return arguments}())?V_e:function(n){return YM(n)&&FMt.call(n,"callee")&&!PMt.call(n,"callee")};const b9=OMt,y9=Array.isArray,Q_e=function LMt(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=9007199254740991},w9=function UMt(n){return null!=n&&Q_e(n.length)&&!m9(n)};var G_e="object"==typeof exports&&exports&&!exports.nodeType&&exports,j_e=G_e&&"object"==typeof module&&module&&!module.nodeType&&module,q_e=j_e&&j_e.exports===G_e?MC.Buffer:void 0;const W_e=(q_e?q_e.isBuffer:void 0)||function zMt(){return!1};var $_e=Function.prototype.toString,XMt=Object.prototype.hasOwnProperty,YMt=$_e.call(Object);var Jo={};Jo["[object Float32Array]"]=Jo["[object Float64Array]"]=Jo["[object Int8Array]"]=Jo["[object Int16Array]"]=Jo["[object Int32Array]"]=Jo["[object Uint8Array]"]=Jo["[object Uint8ClampedArray]"]=Jo["[object Uint16Array]"]=Jo["[object Uint32Array]"]=!0,Jo["[object Arguments]"]=Jo["[object Array]"]=Jo["[object ArrayBuffer]"]=Jo["[object Boolean]"]=Jo["[object DataView]"]=Jo["[object Date]"]=Jo["[object Error]"]=Jo["[object Function]"]=Jo["[object Map]"]=Jo["[object Number]"]=Jo["[object Object]"]=Jo["[object RegExp]"]=Jo["[object Set]"]=Jo["[object String]"]=Jo["[object WeakMap]"]=!1;var K_e="object"==typeof exports&&exports&&!exports.nodeType&&exports,ZM=K_e&&"object"==typeof module&&module&&!module.nodeType&&module,x9=ZM&&ZM.exports===K_e&&D_e.process,TTt=function(){try{return ZM&&ZM.require&&ZM.require("util").types||x9&&x9.binding&&x9.binding("util")}catch{}}(),Y_e=TTt&&TTt.isTypedArray;const Z_e=Y_e?function ETt(n){return function(t){return n(t)}}(Y_e):function CTt(n){return YM(n)&&Q_e(n.length)&&!!Jo[rL(n)]},C9=function ITt(n,t){if(("constructor"!==t||"function"!=typeof n[t])&&"__proto__"!=t)return n[t]};var FTt=Object.prototype.hasOwnProperty;const OTt=function PTt(n,t,e){var i=n[t];(!FTt.call(n,t)||!eL(i,e)||void 0===e&&!(t in n))&&v9(n,t,e)};var VTt=/^(?:0|[1-9]\d*)$/;const J_e=function zTt(n,t){var e=typeof n;return!!(t=t??9007199254740991)&&("number"==e||"symbol"!=e&&VTt.test(n))&&n>-1&&n%1==0&&n<t};var GTt=Object.prototype.hasOwnProperty;const qTt=function jTt(n,t){var e=y9(n),i=!e&&b9(n),r=!e&&!i&&W_e(n),s=!e&&!i&&!r&&Z_e(n),o=e||i||r||s,a=o?function LTt(n,t){for(var e=-1,i=Array(n);++e<n;)i[e]=t(e);return i}(n.length,String):[],l=a.length;for(var c in n)(t||GTt.call(n,c))&&(!o||!("length"==c||r&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||J_e(c,l)))&&a.push(c);return a};var XTt=Object.prototype.hasOwnProperty;const ZTt=function YTt(n){if(!ay(n))return function WTt(n){var t=[];if(null!=n)for(var e in Object(n))t.push(e);return t}(n);var t=H_e(n),e=[];for(var i in n)"constructor"==i&&(t||!XTt.call(n,i))||e.push(i);return e},e0e=function JTt(n){return w9(n)?qTt(n,!0):ZTt(n)},tNt=function eNt(n){return function RTt(n,t,e,i){var r=!e;e||(e={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=i?i(e[a],n[a],a,e,n):void 0;void 0===l&&(l=n[a]),r?v9(e,a,l):OTt(e,a,l)}return e}(n,e0e(n))},iNt=function nNt(n,t,e,i,r,s,o){var a=C9(n,e),l=C9(t,e),c=o.get(l);if(c)_9(n,e,c);else{var u=s?s(a,l,e+"",n,t,o):void 0,d=void 0===u;if(d){var f=y9(l),h=!f&&W_e(l),p=!f&&!h&&Z_e(l);u=l,f||h||p?y9(a)?u=a:function HMt(n){return YM(n)&&w9(n)}(a)?u=function bMt(n,t){var e=-1,i=n.length;for(t||(t=Array(i));++e<i;)t[e]=n[e];return t}(a):h?(d=!1,u=function fMt(n,t){if(t)return n.slice();var e=n.length,i=R_e?R_e(e):new n.constructor(e);return n.copy(i),i}(l,!0)):p?(d=!1,u=_Mt(l,!0)):u=[]:function ZMt(n){if(!YM(n)||"[object Object]"!=rL(n))return!1;var t=U_e(n);if(null===t)return!0;var e=XMt.call(t,"constructor")&&t.constructor;return"function"==typeof e&&e instanceof e&&$_e.call(e)==YMt}(l)||b9(l)?(u=a,b9(a)?u=tNt(a):(!ay(a)||m9(a))&&(u=function MMt(n){return"function"!=typeof n.constructor||H_e(n)?{}:xMt(U_e(n))}(l))):d=!1}d&&(o.set(l,u),r(u,l,i,s,o),o.delete(l)),_9(n,e,u)}},rNt=function t0e(n,t,e,i,r){n!==t&&dMt(t,function(s,o){if(r||(r=new sMt),ay(s))iNt(n,t,o,e,t0e,i,r);else{var a=i?i(C9(n,o),s,o+"",n,t,r):void 0;void 0===a&&(a=s),_9(n,o,a)}},e0e)},n0e=function sNt(n){return n};var i0e=Math.max;const dNt=function uNt(n){return function(){return n}};var hNt=oL?function(n,t){return oL(n,"toString",{configurable:!0,enumerable:!1,value:dNt(t),writable:!0})}:n0e,ANt=Date.now,vNt=function gNt(n){var t=0,e=0;return function(){var i=ANt(),r=16-(i-e);if(e=i,r>0){if(++t>=800)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(hNt);const _Nt=vNt,yNt=function bNt(n,t){return _Nt(function lNt(n,t,e){return t=i0e(void 0===t?n.length-1:t,0),function(){for(var i=arguments,r=-1,s=i0e(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=e(o),function oNt(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}(n,this,a)}}(n,t,n0e),n+"")};var SNt=function CNt(n){return yNt(function(t,e){var i=-1,r=e.length,s=r>1?e[r-1]:void 0,o=r>2?e[2]:void 0;for(s=n.length>3&&"function"==typeof s?(r--,s):void 0,o&&function wNt(n,t,e){if(!ay(e))return!1;var i=typeof t;return!!("number"==i?w9(e)&&J_e(t,e.length):"string"==i&&t in e)&&eL(e[t],n)}(e[0],e[1],o)&&(s=r<3?void 0:s,r=1),t=Object(t);++i<r;){var a=e[i];a&&n(t,a,i,s)}return t})}(function(n,t,e){rNt(n,t,e)});const r0e=SNt;let ENt=(()=>{class n{constructor(){this.colorschemesOptions=new Qr(void 0)}setColorschemesOptions(e){this.pColorschemesOptions=e,this.colorschemesOptions.next(e)}getColorschemesOptions(){return this.pColorschemesOptions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s0e=(()=>{class n{constructor(e,i,r){this.zone=i,this.themeService=r,this.type="bar",this.plugins=[],this.chartClick=new Cn,this.chartHover=new Cn,this.subs=[],this.ctx=e.nativeElement.getContext("2d"),this.subs.push(this.themeService.colorschemesOptions.pipe(p2()).subscribe(s=>this.themeChanged(s)))}ngOnChanges(e){const i=["type"],r=Object.getOwnPropertyNames(e);if(r.some(s=>i.includes(s))||r.every(s=>e[s].isFirstChange()))this.render();else{const s=this.getChartConfiguration();this.chart&&(Object.assign(this.chart.config.data,s.data),this.chart.config.plugins&&Object.assign(this.chart.config.plugins,s.plugins),this.chart.config.options&&Object.assign(this.chart.config.options,s.options)),this.update()}}ngOnDestroy(){this.chart&&(this.chart.destroy(),this.chart=void 0),this.subs.forEach(e=>e.unsubscribe())}render(){return this.chart&&this.chart.destroy(),kA.register(...this.plugins),this.zone.runOutsideAngular(()=>this.chart=new kA(this.ctx,this.getChartConfiguration()))}update(e){this.chart&&this.zone.runOutsideAngular(()=>this.chart?.update(e))}hideDataset(e,i){this.chart&&(this.chart.getDatasetMeta(e).hidden=i,this.update())}isDatasetHidden(e){return this.chart?.getDatasetMeta(e)?.hidden}toBase64Image(){return this.chart?.toBase64Image()}themeChanged(e){this.themeOverrides=e,this.chart&&(this.chart.config.options&&Object.assign(this.chart.config.options,this.getChartOptions()),this.update())}getChartOptions(){return r0e({onHover:(e,i)=>{!this.chartHover.observed&&!this.chartHover.observers?.length||this.zone.run(()=>this.chartHover.emit({event:e,active:i}))},onClick:(e,i)=>{!this.chartClick.observed&&!this.chartClick.observers?.length||this.zone.run(()=>this.chartClick.emit({event:e,active:i}))}},this.themeOverrides,this.options,{plugins:{legend:{display:this.legend}}})}getChartConfiguration(){return{type:this.type,data:this.getChartData(),options:this.getChartOptions()}}getChartData(){return this.data?this.data:{labels:this.labels||[],datasets:this.datasets||[]}}}return n.\u0275fac=function(e){return new(e||n)(oe($n),oe(qn),oe(ENt))},n.\u0275dir=Mt({type:n,selectors:[["canvas","baseChart",""]],inputs:{type:"type",legend:"legend",data:"data",options:"options",plugins:"plugins",labels:"labels",datasets:"datasets"},outputs:{chartClick:"chartClick",chartHover:"chartHover"},exportAs:["base-chart"],features:[js]}),n})();const DNt=[[255,99,132],[54,162,235],[255,206,86],[231,233,237],[75,192,192],[151,187,205],[220,220,220],[247,70,74],[70,191,189],[253,180,92],[148,159,177],[77,83,96]],MNt={datasets:{line:{backgroundColor:n=>Lu(Uu(n.datasetIndex),.4),borderColor:n=>Lu(Uu(n.datasetIndex),1),pointBackgroundColor:n=>Lu(Uu(n.datasetIndex),1),pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:n=>Lu(Uu(n.datasetIndex),.8)},bar:{backgroundColor:n=>Lu(Uu(n.datasetIndex),.6),borderColor:n=>Lu(Uu(n.datasetIndex),1),hoverBackgroundColor:n=>Lu(Uu(n.datasetIndex),.8),hoverBorderColor:n=>Lu(Uu(n.datasetIndex),1)},get radar(){return this.line},doughnut:{backgroundColor:n=>Lu(Uu(n.dataIndex),.6),borderColor:"#fff",hoverBackgroundColor:n=>Lu(Uu(n.dataIndex),1),hoverBorderColor:n=>Lu(Uu(n.dataIndex),1)},get pie(){return this.doughnut},polarArea:{backgroundColor:n=>Lu(Uu(n.dataIndex),.6),borderColor:n=>Lu(Uu(n.dataIndex),1),hoverBackgroundColor:n=>Lu(Uu(n.dataIndex),.8),hoverBorderColor:n=>Lu(Uu(n.dataIndex),1)},get bubble(){return this.doughnut},get scatter(){return this.doughnut},get area(){return this.polarArea}}};function Lu(n,t){return"rgba("+n.concat(t).join(",")+")"}function S9(n,t){return Math.floor(Math.random()*(t-n+1))+n}function Uu(n=0){return DNt[n]||function TNt(){return[S9(0,255),S9(0,255),S9(0,255)]}()}let o0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();kA.register(...Ble);let NNt=(()=>{class n{constructor(e){e?.plugins&&kA.register(...e?.plugins);const i=r0e(MNt,e?.defaults||{});os.set(i)}static forRoot(e){return{ngModule:n,providers:[{provide:o0e,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(dt(o0e,8))},n.\u0275mod=gi({type:n}),n.\u0275inj=pi({imports:[[]]}),n})();const INt=()=>({pageName:"PAGE_DEMOS_MACHINE_LEARNING_INDEX"});function BNt(n,t){if(1&n&&(q(0,"option",16),pe(1),$()),2&n){const e=t.$implicit;Se("value",e._index)("selected",e._selected),te(),di("",e._value," ")}}function FNt(n,t){if(1&n&&(q(0,"div",17),pe(1),$()),2&n){const e=lt();te(),di(" ",e.errorMessage," ")}}function PNt(n,t){if(1&n&&(q(0,"div",18)(1,"h3"),pe(2,"Prediction Result:"),$(),q(3,"p")(4,"strong"),pe(5,"Input Mission Number:"),$(),pe(6),$(),q(7,"p")(8,"strong"),pe(9,"Predicted Total Time:"),$(),pe(10),ml(11,"number"),$(),q(12,"p")(13,"strong"),pe(14,"Predicted Duration:"),$(),pe(15),ml(16,"number"),$()()),2&n){const e=lt();te(6),di(" ",e.predictionResult.input_mission_number,""),te(4),di(" ",DI(11,3,e.predictionResult.predicted_total_time_hours,"1.2-2")," hours"),te(5),di(" ",DI(16,6,e.predictionResult.predicted_duration_days,"1.2-2")," days")}}let ONt=(()=>{class n extends yr{constructor(e,i,r,s,o,a){super(e,s,i,r,bl),this.configService=e,this.route=i,this.speechService=r,this.backendService=s,this.predictService=o,this.decimalPipe=a,this.title="Apollo Mission Time Predictor",this.inputMissionNumber=18,this.predictionResult=null,this.errorMessage=null,this.isLoading=!1,this.historicalData=[{mission:8,time:147},{mission:10,time:193},{mission:11,time:195},{mission:12,time:244},{mission:13,time:142},{mission:14,time:217},{mission:15,time:295},{mission:16,time:265},{mission:17,time:301}],this.chartType="line",this.chartOptions={responsive:!0,maintainAspectRatio:!1,scales:{x:{title:{display:!0,text:"Mission Number"}},y:{title:{display:!0,text:"Total Mission Time (Hours)"}}},plugins:{title:{display:!0,text:"Apollo Mission Duration Prediction"}}},this.chartData={labels:[],datasets:[{data:[],label:"Actual Mission Times (Hours)",borderColor:"#3e95cd",backgroundColor:"rgba(62, 149, 205, 0.2)",fill:!1,pointRadius:6,pointHoverRadius:8,tension:.1},{data:[],label:"Predicted Mission Time (Hours)",borderColor:"#ff6384",backgroundColor:"rgba(255, 99, 132, 0.2)",fill:!1,pointRadius:8,pointHoverRadius:10,pointStyle:"triangle",showLine:!1}]},this.linearRegressionEngine=3}ngOnInit(){this.queryParams()}queryParams(){this.route.queryParams.subscribe({next:e=>{this.__languajeList=new Array,this.__languajeList.push(new br(0,'(C++ Engine              : "Exact Solution (Least Squares Method))         ',!0,"CPP")),this.__languajeList.push(new br(1,'(Python/TensorFlow Engine: "Approximate Solution (Iterative Optimization)) ',!1,"PY"));let i=e.langName?e.langName:"";if(""!==i){console.log(` LangName : ${i}`);for(var r=0;r<this.__languajeList.length;r++)if(this.__languajeList[r]._shortName==i){this.__languajeList[r]._selected=!0,this.linearRegressionEngine=this.__languajeList[r]._index;break}}else this.linearRegressionEngine=0;this.initializeChart()},complete:()=>{}})}initializeChart(){const e=this.historicalData.map(r=>`Apollo ${r.mission}`),i=this.historicalData.map(r=>r.time);this.chartData.labels=e,this.chartData.datasets[0].data=i,this.chartData.datasets[1].data=[],this.chart&&this.chart.update()}predict(){if(null===this.inputMissionNumber||this.inputMissionNumber<1)return this.errorMessage="Please enter a valid mission number (1 or higher).",void(this.predictionResult=null);this.errorMessage=null,this.isLoading=!0,0==this.linearRegressionEngine&&this.predictService.predictTime_netcore_cpp(this.inputMissionNumber).subscribe({next:e=>{this.predictionResult=e;let i=this.decimalPipe.transform(e.predicted_total_time_hours,"1.2-2"),r=this.decimalPipe.transform(e.predicted_duration_days,"1.2-2");this.status_message.set(`Input Mission Number : ${e.input_mission_number}, Predicted Total Time : ${i} Hours,  Predicted Duration :${r} Days `),this.updateChart(e.input_mission_number,e.predicted_total_time_hours)},error:e=>{console.error("API Error:",e),this.errorMessage=`Error calling API: ${e.message||"Unknown error"}`,this.status_message.set(this.errorMessage),this.predictionResult=null},complete:()=>{this.isLoading=!1}}),1==this.linearRegressionEngine&&this.predictService.predictTime_tensorflow_python(this.inputMissionNumber).subscribe({next:e=>{this.predictionResult=e;let i=this.decimalPipe.transform(e.predicted_total_time_hours,"1.2-2"),r=this.decimalPipe.transform(e.predicted_duration_days,"1.2-2");this.status_message.set(`Input Mission Number : ${e.input_mission_number}, Predicted Total Time : ${i} Hours,  Predicted Duration :${r} Days `),this.updateChart(e.input_mission_number,e.predicted_total_time_hours)},error:e=>{console.error("API Error:",e),this.errorMessage=`Error calling API: ${e.message||"Unknown error"}`,this.status_message.set(this.errorMessage),this.predictionResult=null,this.isLoading=!1},complete:()=>{this.isLoading=!1}})}updateChart(e,i){const r=[...this.historicalData.map(c=>`Apollo ${c.mission}`)],s=[...this.historicalData.map(c=>c.time)],o=`Apollo ${e}`;r.includes(o)||(r.push(o),s.push(NaN)),this.chartData.labels=r,this.chartData.datasets[0].data=s;const a=new Array(r.length).fill(NaN),l=r.indexOf(o);-1!==l&&(a[l]=i),this.chartData.datasets[1].data=a,this.chart&&this.chart.update()}onLinearRegressionEngineChange(e){const i=e.target;i instanceof HTMLSelectElement&&(this.linearRegressionEngine=Number(i.value))}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe(Wr),oe(vs),oe($r),oe(Ase),oe(N0))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-linear-regression"]],viewQuery:function(i,r){if(1&i&&Tn(s0e,5),2&i){let s;Ut(s=Ht())&&(r.chart=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_MACHINE_LEARNING_LINEAR_REGRESSION"}]),mn],decls:23,vars:13,consts:[["_languajeList",""],["align","center"],[1,"container"],[1,"controls"],["id","LanguageList","name","LanguajeList",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"input-section"],["for","missionNumber"],["type","number","id","missionNumber","placeholder","e.g., 18",3,"ngModelChange","ngModel","disabled"],[3,"click","disabled"],["class","error",4,"ngIf"],["class","result",4,"ngIf"],[1,"chart-container"],["baseChart","",3,"data","options","type"],["align","right"],[3,"routerLink","queryParams"],[3,"value","selected"],[1,"error"],[1,"result"]],template:function(i,r){if(1&i){const s=Bi();q(0,"div",1),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",2)(4,"div",3)(5,"label"),pe(6," Engine: "),q(7,"select",4,0),ct("change",function(a){return $t(s),Gt(r.onLinearRegressionEngineChange(a))}),ht(9,BNt,2,3,"option",5),$()()(),q(10,"div",6)(11,"label",7),pe(12,"Enter Mission Number to Predict:"),$(),q(13,"input",8),Mo("ngModelChange",function(a){return $t(s),Vo(r.inputMissionNumber,a)||(r.inputMissionNumber=a),Gt(a)}),$(),q(14,"button",9),ct("click",function(){return $t(s),Gt(r.predict())}),pe(15),$()(),ht(16,FNt,2,1,"div",10)(17,PNt,17,9,"div",11),q(18,"div",12),Ye(19,"canvas",13),$()(),q(20,"div",14)(21,"a",15),pe(22,"[Back to Menu]"),$()()()}2&i&&(te(9),Se("ngForOf",r.__languajeList),te(4),Do("ngModel",r.inputMissionNumber),Se("disabled",r.isLoading),te(),Se("disabled",r.isLoading||null===r.inputMissionNumber||r.inputMissionNumber<1),te(),di(" ",r.isLoading?"Predicting...":"Predict Time"," "),te(),Se("ngIf",r.errorMessage),te(),Se("ngIf",r.predictionResult),te(2),Se("data",r.chartData)("options",r.chartOptions)("type",r.chartType),te(2),Se("routerLink","/PageUrlList")("queryParams",Us(12,INt)))},dependencies:[s0e,Ma,pa,wu,xu,sd,aw,$h,Xh,rs,yr,N0],styles:[".container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px;font-family:Arial,sans-serif}.controls[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center;margin-bottom:1.5rem;width:100%}.input-section[_ngcontent-%COMP%]{margin-bottom:20px}.input-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}.input-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100px;padding:5px;margin-right:10px}.input-section[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;cursor:pointer}.error[_ngcontent-%COMP%]{color:red;margin:10px 0}.result[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:15px;border-radius:5px;margin:10px 0}.chart-container[_ngcontent-%COMP%]{margin-top:20px;width:100%;height:400px;border:1px solid #ddd;border-radius:4px;overflow:hidden}"]})}}return n})();const RNt=()=>({pageName:"PAGE_ABOUT_INDEX"});let kNt=(()=>{class n extends fD{constructor(e,i,r,s){super(e,i,r,s,"PAGE_ABOUT_CONTACT_FORM"),this.configService=e,this.backendService=i,this.route=r,this.speechService=s}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-contact-form"]],features:[mn],decls:11,vars:4,consts:[[1,"content"],["align","center"],["href","https://apereznwo.github.io/PWA_DEMO_ENV_CONTACT/","target","_blank"],["align","right"],[3,"routerLink","queryParams"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"div",1)(2,"h2"),pe(3),$()(),Ye(4,"hr"),q(5,"a",2),pe(6,"[GO TO CONTACT FORM]"),$(),Ye(7,"hr"),q(8,"div",3)(9,"a",4),pe(10,"[Back to Menu]"),$()()()),2&i&&(te(3),An(r.pageTitle),te(6),Se("routerLink","/PageUrlList")("queryParams",Us(3,RNt)))},dependencies:[rs],styles:[".contact-form-container[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px}.form-group[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;box-sizing:border-box}button[_ngcontent-%COMP%]{padding:10px 15px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:disabled{background-color:#ccc}.error[_ngcontent-%COMP%]{color:red;font-size:12px}"]})}}return n})();const LNt=(n,t)=>t.path,UNt=n=>({pageName:n});function HNt(n,t){1&n&&(q(0,"span",7),pe(1,"[Loading...]"),$())}function VNt(n,t){if(1&n&&(q(0,"tr")(1,"th",18),pe(2),$(),q(3,"td")(4,"a",19),Ye(5,"ngb-highlight",20),$()()()),2&n){const e=lt().$implicit,i=lt();te(2),An(e.id),te(2),Se("routerLink","/"+e.path)("queryParams",Fl(5,UNt,e.queryParams)),te(),Se("result",e.caption)("term",i.searchTerm)}}function zNt(n,t){if(1&n&&ht(0,VNt,6,7,"tr",17),2&n){const e=t.$implicit;Se("ngIf",!(""==e.path&&""==e.caption))}}function QNt(n,t){1&n&&(q(0,"tr")(1,"td",21),pe(2,"[NO SE ENCONTRARON DATOS]"),$()())}const GNt={asc:"desc",desc:"","":"asc"};let qNt=(()=>{class n{constructor(){this.sortable="",this.direction="",this.sortevent=new Cn}rotatePage(){this.direction=GNt[this.direction],this.sortevent.emit({column:this.sortable,direction:this.direction})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=Mt({type:n,selectors:[["th","sortevent",""]],hostVars:4,hostBindings:function(i,r){1&i&&ct("click",function(){return r.rotatePage()}),2&i&&oi("asc","asc"===r.direction)("desc","desc"===r.direction)},inputs:{sortable:"sortable",direction:"direction"},outputs:{sortevent:"sortevent"}})}}return n})(),WNt=(()=>{class n{constructor(e){this.pipe=e,this._loading=new Qr(!0),this._total=new Qr(0),this._search$=new Rn,this._Pagelist=new Qr([]),this._state={page:1,pageSize:10,searchTerm:"",sortColumn:"",sortDirection:""},this._search$.pipe($s(()=>this._loading.next(!0)),nw(200),Ta(()=>this._search()),b2(200),$s(()=>this._loading.next(!1))).subscribe(i=>{this._Pagelist.next(i.searchPages),this._total.next(i.total)}),this._search$.next()}_search(){let e,i,r={searchPages:e,total:i};const{pageSize:a,page:l,searchTerm:c}=this._state;return e=M9,e=e.filter(u=>function jNt(n,t,e){return n.caption?.toLowerCase().includes(t?.toLowerCase())}(u,c)),i=e.length,e=e.slice((l-1)*a,(l-1)*a+a),r={searchPages:e,total:i},Yn(r)}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(e){this._Pagelist=e}get page(){return this._state.page}set page(e){this._set({page:e})}get pageSize(){return this._state.pageSize}set pageSize(e){this._set({pageSize:e})}get searchTerm(){return this._state.searchTerm}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}_set(e){Object.assign(this._state,e),this._search$.next()}onSort({column:e,direction:i}){this.headers?.forEach(r=>{r.sortable!==e&&(r.direction="")}),this.sortColumn=e,this.sortDirection=i}speakText(e){this.searchTerm=e}clearText(){this.searchTerm=""}static{this.\u0275fac=function(i){return new(i||n)(oe(N0))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-index"]],viewQuery:function(i,r){if(1&i&&Tn(qNt,5),2&i){let s;Ut(s=Ht())&&(r.headers=s)}},decls:43,vars:17,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"clickEventSpeak","clickEventClearText"],[1,"col","col-form-label"],[1,"table","table-striped","table-dark"],["scope","col","sortable","id"],["scope","col","sortable","path"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],["routerLink","/Home"],[4,"ngIf"],["scope","row"],[3,"routerLink","queryParams"],[3,"result","term"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2,"[INDEX]"),$(),Ye(3,"hr"),q(4,"form")(5,"div",1)(6,"label",2),pe(7,"Full Text Search:"),$(),q(8,"div",3)(9,"input",4),Mo("ngModelChange",function(o){return Vo(r.searchTerm,o)||(r.searchTerm=o),o}),$()(),q(10,"span",5)(11,"div")(12,"app-speech-panel",6),ct("clickEventSpeak",function(o){return r.speakText(o)})("clickEventClearText",function(){return r.clearText()}),$()()(),ht(13,HNt,2,0,"span",7),ml(14,"async"),$(),q(15,"table",8)(16,"thead")(17,"tr")(18,"th",9),pe(19,"#"),$(),q(20,"th",10),pe(21,"[Pagina]"),$()()(),q(22,"tbody"),tc(23,zNt,1,1,"tr",null,LNt,!1,QNt,3,0,"tr"),ml(26,"async"),$()(),q(27,"div",11)(28,"ngb-pagination",12),ml(29,"async"),Mo("pageChange",function(o){return Vo(r.page,o)||(r.page=o),o}),$(),q(30,"select",13),Mo("ngModelChange",function(o){return Vo(r.pageSize,o)||(r.pageSize=o),o}),q(31,"option",14),pe(32,"2 items por Pagina"),$(),q(33,"option",14),pe(34,"4 items por Pagina"),$(),q(35,"option",14),pe(36,"6 tems por Pagina"),$(),q(37,"option",14),pe(38,"10 items por Pagina"),$()()()()(),Ye(39,"hr"),q(40,"div",15)(41,"a",16),pe(42,"[Home]"),$()()),2&i&&(te(9),Do("ngModel",r.searchTerm),te(4),fi(13,xc(14,11,r.loading)?13:-1),te(10),nc(xc(26,13,r._Pagelist)),te(5),Se("collectionSize",xc(29,15,r.total)),Do("page",r.page),Se("pageSize",r.pageSize),te(2),Do("ngModel",r.pageSize),te(),Se("ngValue",2),te(2),Se("ngValue",4),te(2),Se("ngValue",6),te(2),Se("ngValue",10))},dependencies:[pa,Yh,wu,xu,sd,V0,$h,Kh,Xh,od,lD,cD,rs,WF,pv],styles:["a[_ngcontent-%COMP%]:link{color:#00ff40}a[_ngcontent-%COMP%]:visited{color:green}a[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#add8e6}input[type=checkbox][_ngcontent-%COMP%]{outline:1px solid rgb(0,17,255);color:#8a2be2;pointer-events:none}"]})}}return n})();const $Nt=["_fractal_image"],KNt=()=>({pageName:"PAGE_DEMOS_MISCELLANEOUS_INDEX"});function XNt(n,t){if(1&n){const e=Bi();q(0,"button",16),ct("click",function(){return $t(e),Gt(lt().GeneratePDF())}),pe(1),$()}if(2&n){const e=lt();Se("disabled","[...Generating PDF...]"==e.status_message()),te(),An(e.pdfButtonCaption)}}function YNt(n,t){if(1&n&&(q(0,"div",17),pe(1),$()),2&n){const e=lt();te(),di(" ",e.status_message()," ")}}function ZNt(n,t){if(1&n&&(q(0,"div",null,0)(2,"h3"),pe(3,"Generated Fractal Image:"),$(),Ye(4,"img",18),$()),2&n){const e=lt();te(4),Se("src",e.imageUrl,Js)}}let JNt=(()=>{class n extends yr{constructor(e,i,r,s,o,a,l){super(i,r,s,o,bl),this.computervisionService=e,this.configService=i,this.backendService=r,this.route=s,this.speechService=o,this.http=a,this.pdfEngine=l,this.maxIterations=500,this.realPart=-.4,this.imagPart=.6,this.imageUrl=null,this.submitTitle="[Generate Fractal]",this.pdfButtonCaption="[Generate PDF]"}onSubmit(){this.status_message.set("[Generating please wait...]"),this.computervisionService._OpenCv_GetFractal(this.maxIterations,this.realPart,this.imagPart).subscribe(e=>{this.imageUrl=URL.createObjectURL(e),this.status_message.set("[Image generated correctly]")},e=>{console.error("Error fetching the image:",e),this.imageUrl=null,this.status_message.set("[An error occurrued, plase try again]")})}GeneratePDF(){let i="";this.pdfEngine._GetPDF(this.pageTitle,this._fractal_image,this._fractal_image,"FRACTAL_IMAGE").subscribe({next:r=>{this.status_message.set("[...Generating PDF...]"),this.pdfButtonCaption="[...Generating PDF...]",i=r},error:r=>{this.status_message.set("An error occured : "+r.message),this.pdfButtonCaption="[Generate PDF]"},complete:()=>{this.status_message.set("[PDF File generated correctly]"),this.pdfButtonCaption="[Generate PDF]"}})}static{this.\u0275fac=function(i){return new(i||n)(oe(Y6),oe(Hi),oe($r),oe(Wr),oe(vs),oe(oh),oe(CD))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-juliaform"]],viewQuery:function(i,r){if(1&i&&Tn($Nt,5),2&i){let s;Ut(s=Ht())&&(r._fractal_image=s.first)}},features:[Ln([{provide:ra,useValue:"PAGE_MISCELANEOUS_FRACTAL_DEMO"}]),mn],decls:30,vars:11,consts:[["_fractal_image",""],["align","center",1,"content"],[1,"form-container"],[3,"ngSubmit"],["for","maxIterations"],["type","number","id","maxIterations","name","maxIterations","required","","readonly","readonly",3,"ngModelChange","ngModel"],["for","realPart"],["type","number","step","0.01","id","realPart","name","realPart","required","","readonly","readonly",3,"ngModelChange","ngModel"],["for","imagPart"],["type","number","step","0.01","id","imagPart","name","imagPart","required","","readonly","readonly",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button","class","btn btn-secondary",3,"disabled","click",4,"ngIf"],["class","alert alert-secondary","role","alert","align","center",4,"ngIf"],[4,"ngIf"],["align","right"],[3,"routerLink","queryParams"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["role","alert","align","center",1,"alert","alert-secondary"],["alt","Julia Fractal","width","350px","height","350px",3,"src"]],template:function(i,r){1&i&&(q(0,"div",1),Ye(1,"app-base-reference")(2,"hr"),q(3,"div",2)(4,"h2"),pe(5,"Fractal Parameters"),$(),q(6,"form",3),ct("ngSubmit",function(){return r.onSubmit()}),q(7,"div")(8,"label",4),pe(9,"Max Iterations:"),$(),q(10,"input",5),Mo("ngModelChange",function(o){return Vo(r.maxIterations,o)||(r.maxIterations=o),o}),$()(),q(11,"div")(12,"label",6),pe(13,"Real Part:"),$(),q(14,"input",7),Mo("ngModelChange",function(o){return Vo(r.realPart,o)||(r.realPart=o),o}),$()(),q(15,"div")(16,"label",8),pe(17,"Imaginary Part:"),$(),q(18,"input",9),Mo("ngModelChange",function(o){return Vo(r.imagPart,o)||(r.imagPart=o),o}),$()(),q(19,"button",10),pe(20),$(),ht(21,XNt,2,2,"button",11),Ye(22,"hr"),ht(23,YNt,2,1,"div",12),$(),Ye(24,"hr"),ht(25,ZNt,5,1,"div",13),$(),Ye(26,"hr"),q(27,"div",14)(28,"a",15),pe(29,"[Back to Menu]"),$()()()),2&i&&(te(10),Do("ngModel",r.maxIterations),te(4),Do("ngModel",r.realPart),te(4),Do("ngModel",r.imagPart),te(),Se("disabled","[...Generating please wait...]"==r.status_message()),te(),An(r.submitTitle),te(),Se("ngIf",r.imageUrl),te(2),Se("ngIf",r.status_message),te(2),Se("ngIf",r.imageUrl),te(3),Se("routerLink","/PageUrlList")("queryParams",Us(10,KNt)))},dependencies:[pa,Yh,sd,aw,$h,Kh,cw,Xh,od,rs,yr],styles:[".form-container[_ngcontent-%COMP%]{max-width:400px;margin:50px auto;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 4px 6px #0000001a;font-size:x-small}.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;color:#333}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-container[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{width:100%;padding:5px;margin:5px 0;border:1px solid #ccc;border-radius:4px;transition:border-color .3s ease}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:hover, .form-container[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:hover{border-color:#007bff}.form-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus, .form-container[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.form-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.form-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700;color:#333}.form-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:15px}@media (max-width: 600px){.form-container[_ngcontent-%COMP%]{max-width:100%;padding:15px}}"]})}}return n})(),eIt=(()=>{class n{get pageTitle(){return this._pageTitle}set pageTitle(e){this._pageTitle=e}constructor(e,i,r,s){this.configService=e,this.backendService=i,this.route=r,this.speechService=s,this._pageTitle="",this.isListVisible=!1,this.toogleLisCaption="[See references]",this.status_message=hA(""),this._pages=[],dv(()=>{this.status_message()&&this.speechService.speakTextCustom(this.status_message())})}ngOnInit(){this.route.queryParams.subscribe(e=>{const i=e.pageName?e.pageName:"";i?(console.log(`PAGE NAME: ${i}`),this.updatePageContent(i)):console.warn("No pageName provided in query params")})}updatePageContent(e){var i=this;return(0,Tt.A)(function*(){i._pages=[];try{yield i.configService._loadMainPages(),eo.mainPageListDictionary[e]?(i.pageTitle=eo.mainPageListDictionary[e].page_name,i.speechService.speakTextCustom(i.pageTitle),i.backendService.SetLog(i.pageTitle,e),eo.mainPageListDictionary[e].pages&&(i._pages=eo.mainPageListDictionary[e].pages,i._pages=i._pages.map(r=>({...r,queryParamsObj:r.queryParams&&"string"==typeof r.queryParams?i.parseQueryParams(r.queryParams):r.queryParamsObj})))):(console.error(`Unknown pageName: ${e}`),i.pageTitle="P\xe1gina no encontrada")}catch(r){console.error("Failed to load pages",r)}})()}toggleList(){this.isListVisible=!this.isListVisible,this.toogleLisCaption=this.isListVisible?"[Hide references]":"[See references]",this.isListVisible&&this.speechService.speakTextCustom("See references")}parseQueryParams(e){return"string"==typeof e&&e.trim()?e.replace(/{|}/g,"").replace(/['"]/g,"").replace(/\s+/g," ").trim().split(",").reduce((r,s)=>{const[o,a]=s.split(":").map(l=>l.trim());return o&&a&&(r[o]=a),r},{}):(console.debug("parseQueryParams: Invalid input",{input:e}),{})}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-base-custom"]],decls:3,vars:1,template:function(i,r){1&i&&(q(0,"div")(1,"h1"),pe(2),$()()),2&i&&(te(2),An(r.pageTitle))}})}}return n})();const a0e=n=>[n];function tIt(n,t){if(1&n&&(q(0,"a",4),pe(1),$()),2&n){const e=lt().$implicit;Se("routerLink",Fl(3,a0e,e.url))("queryParams",e.queryParamsObj),te(),An(e.text)}}function nIt(n,t){if(1&n&&(q(0,"a",5),pe(1),$()),2&n){const e=lt().$implicit;Se("routerLink",Fl(2,a0e,e.url)),te(),An(e.text)}}function iIt(n,t){if(1&n&&(q(0,"ul")(1,"li"),ht(2,tIt,2,5,"a",4)(3,nIt,2,4),$()()),2&n){const e=t.$implicit;te(2),fi(2,e.queryParams?2:3)}}let E9=(()=>{class n extends eIt{constructor(e,i,r,s){super(e,i,r,s)}static{this.\u0275fac=function(i){return new(i||n)(oe(Hi),oe($r),oe(Wr),oe(vs))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-page-url-list"]],features:[mn],decls:9,vars:2,consts:[["align","left"],[4,"ngFor","ngForOf"],["align","right"],["routerLink","/Home"],[3,"routerLink","queryParams"],[3,"routerLink"]],template:function(i,r){1&i&&(q(0,"H4"),pe(1),$(),Ye(2,"hr"),q(3,"div",0),ht(4,iIt,4,1,"ul",1),$(),Ye(5,"hr"),q(6,"div",2)(7,"a",3),pe(8,"[Home]"),$()()),2&i&&(te(),An(r.pageTitle),te(3),Se("ngForOf",r._pages))},dependencies:[Ma,rs]})}}return n})(),D9=(()=>{class n{constructor(e,i,r,s,o,a,l){this.PAGE_ID=e,this.PAGE_SIZE=i,this.SEARCH_TERM=r,this.pipe=s,this.__configService=o,this.backendService=a,this.speechService=l,this._loading=new Qr(!0),this._search$=new Rn,this._Pagelist=new Qr([]),this._total=new Qr(0),this._pageTitle="",this._PAGE_ID="",this._environmentList=[],this._state={page:1,pageSize:4,searchTerm:"",sortColumn:"",sortDirection:""},this.GetData(e),this.pageSize=i,this.searchTerm=r}GetData(e){this.__configService._loadMainPages().then(()=>{this.pageTitle=eo.mainPageListDictionary[e].page_name,this.__configService.loadJsonData(eo.mainPageListDictionary[e].pages[0].url,this._environmentList).then(()=>{this._search$.pipe($s(()=>this._loading.next(!0)),nw(200),Ta(()=>this._search()),b2(200),$s(()=>this._loading.next(!1))).subscribe(r=>{this._Pagelist.next(r.searchPages),this._total.next(r.total)}),this._search$.next(),console.info("speak "+this.pageTitle),console.info("log   "+this.pageID),this.speechService.speakTextCustom(this.pageTitle),this.backendService.SetLog(this.pageTitle,this.pageID)})})}_search(){let i,e=[],r={searchPages:e,total:i};const{sortColumn:s,sortDirection:o,pageSize:a,page:l,searchTerm:c}=this._state;this._environmentList.forEach(f=>{e.push(f)});let u=1;return e=e.map(f=>({...f,id:u++})),e=e.map(f=>({...f,field_4:this.fixBackend(f.field_4)})),e=hse(e,s,o),e=e.filter(f=>fse(f,c)),i=e.length,e=e.slice((l-1)*a,(l-1)*a+a),r={searchPages:e,total:i},Yn(r)}get pageID(){return this._PAGE_ID}set pageID(e){this._PAGE_ID=e}get pageTitle(){return this._pageTitle}set pageTitle(e){this._pageTitle=e}get total(){return this._total.asObservable()}get loading(){return this._loading.asObservable()}get Pagelist(){return this._Pagelist.asObservable()}set Pagelist(e){this._Pagelist=e}get page(){return this._state.page}set page(e){this._set({page:e})}get pageSize(){return this._state.pageSize}set pageSize(e){this._set({pageSize:e})}get searchTerm(){return this._state.searchTerm}set searchTerm(e){this._set({searchTerm:e})}set sortColumn(e){this._set({sortColumn:e})}set sortDirection(e){this._set({sortDirection:e})}_set(e){Object.assign(this._state,e),this._search$.next()}speakText(e){this.searchTerm=e}clearText(){this.searchTerm=""}fixBackend(e){return e.replace(/\{\{(.+?)\}\}/g,(o,a)=>{const l=a.trim();let c=e;return void 0!==l&&(c=this.__configService.getConfigValue(l)),void 0!==c?c:o})}static{this.\u0275fac=function(i){return new(i||n)(dt(uD),dt(dD),dt(hD),dt(N0),dt(Hi),dt($r),dt(vs))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rIt=(()=>{class n{constructor(e){this.searchService=e,this.ConfigRoleString=_6.RoleConfig.toString(),this.__pages=this.searchService.Pagelist,this.__total=this.searchService.total}onSort({_column:e,_direction:i}){this._headers?.forEach(r=>{r.sortable!==e&&(r.direction="")}),this.searchService.sortColumn=e,this.searchService.sortDirection=i}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||n)(oe(D9))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-search-custom"]],viewQuery:function(i,r){if(1&i&&Tn(pD,5),2&i){let s;Ut(s=Ht())&&(r._headers=s)}},decls:2,vars:0,template:function(i,r){1&i&&(q(0,"p"),pe(1,"search works!"),$())}})}}return n})();const sIt=(n,t)=>t.id,oIt=()=>({pageName:""});function aIt(n,t){1&n&&(q(0,"span",7),pe(1,"[Loading...]"),$())}function lIt(n,t){if(1&n&&(q(0,"tr")(1,"th",23),pe(2),$(),q(3,"td")(4,"a",24),Ye(5,"ngb-highlight",25),$()(),q(6,"td")(7,"a",26),pe(8," [Demo] "),$()(),q(9,"td")(10,"a",27),pe(11," [Repo] "),$()(),q(12,"td")(13,"a",27),pe(14," [EndPoint] "),$()(),q(15,"td")(16,"a",27),pe(17," [Topic] "),$()(),q(18,"td"),Ye(19,"ngb-highlight",25),$(),q(20,"td"),Ye(21,"ngb-highlight",25),$()()),2&n){const e=t.$implicit,i=lt();te(2),An(e.id),te(2),Se("href",e.field_2,Js),te(),Se("result",e.name)("term",i.searchService.searchTerm),te(2),Se("href",e.field_2,Js),te(3),Se("href",e.field_3,Js),te(3),Se("href",e.field_4,Js),te(3),Se("href",e.field_6,Js),te(3),Se("result",e.field_1)("term",i.searchService.searchTerm),te(2),Se("result",e.description)("term",i.searchService.searchTerm)}}function cIt(n,t){1&n&&(q(0,"tr")(1,"td",28),pe(2,"[NO SE ENCONTRARON DATOS]"),$()())}let yf=(()=>{class n extends rIt{constructor(e,i){super(e),this.searchService=e,this.router=i,this.toogleLisCaption="[Ir a Referencia - <page_nanme>...]"}toggleList(){this.router.navigateByUrl("/<pageName>")}static{this.\u0275fac=function(i){return new(i||n)(oe(D9),oe(Cu))}}static{this.\u0275cmp=Nn({type:n,selectors:[["app-grid-param"]],features:[Ln([Hi,D9,{provide:uD,useFactory:e=>e.queryUrlParams("pageName"),deps:[Hi]},{provide:dD,useValue:8},{provide:hD,useFactory:e=>e.queryUrlParams("searchTerm"),deps:[Hi]}]),mn],decls:53,vars:20,consts:[["align","left"],[1,"mb-3","row"],["for","table-complete-search",1,"col-xs-3","col-sm-auto","col-form-label"],[1,"col-xs-3","col-sm-auto"],["id","table-complete-search","type","text","name","searchTerm",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-auto"],[3,"clickEventSpeak","clickEventClearText"],[1,"col","col-form-label"],[1,"table","table-striped","table-dark"],["scope","col","sortable","id",3,"sortevent"],["scope","col","sortable","name",3,"sortevent"],["scope","col","sortable","field_2",3,"sortevent"],["scope","col","sortable","field_3",3,"sortevent"],["scope","col","sortable","field_4",3,"sortevent"],["scope","col","sortable","field_6",3,"sortevent"],["scope","col","sortable","field_1",3,"sortevent"],["scope","col","sortable","description",3,"sortevent"],[1,"d-flex","justify-content-between","p-2"],[3,"pageChange","collectionSize","page","pageSize"],["name","pageSize",1,"form-select",2,"width","auto",3,"ngModelChange","ngModel"],[3,"ngValue"],["align","right"],[3,"routerLink","queryParams"],["scope","row"],[3,"href"],[3,"result","term"],["ngb-highlight","",3,"href"],["ngb-highlight","","target","_blank",3,"href"],["colspan","4",2,"text-align","center"]],template:function(i,r){1&i&&(q(0,"div",0)(1,"h1"),pe(2),$(),Ye(3,"hr"),q(4,"form")(5,"div",1)(6,"label",2),pe(7,"Full Text Search:"),$(),q(8,"div",3)(9,"input",4),Mo("ngModelChange",function(o){return Vo(r.searchService.searchTerm,o)||(r.searchService.searchTerm=o),o}),$()(),q(10,"span",5)(11,"div")(12,"app-speech-panel",6),ct("clickEventSpeak",function(o){return r.searchService.speakText(o)})("clickEventClearText",function(){return r.searchService.clearText()}),$()()(),ht(13,aIt,2,0,"span",7),ml(14,"async"),$(),q(15,"table",8)(16,"thead")(17,"tr")(18,"th",9),ct("sortevent",function(o){return r.onSort(o)}),pe(19,"#"),$(),q(20,"th",10),ct("sortevent",function(o){return r.onSort(o)}),pe(21,"Name"),$(),q(22,"th",11),ct("sortevent",function(o){return r.onSort(o)}),pe(23,"Demo"),$(),q(24,"th",12),ct("sortevent",function(o){return r.onSort(o)}),pe(25,"Repo"),$(),q(26,"th",13),ct("sortevent",function(o){return r.onSort(o)}),pe(27,"EndPoint"),$(),q(28,"th",14),ct("sortevent",function(o){return r.onSort(o)}),pe(29,"Topic"),$(),q(30,"th",15),ct("sortevent",function(o){return r.onSort(o)}),pe(31,"Keyword"),$(),q(32,"th",16),ct("sortevent",function(o){return r.onSort(o)}),pe(33,"Description"),$()()(),q(34,"tbody"),tc(35,lIt,22,12,"tr",null,sIt,!1,cIt,3,0,"tr"),ml(38,"async"),$()(),q(39,"div",17)(40,"ngb-pagination",18),ml(41,"async"),Mo("pageChange",function(o){return Vo(r.searchService.page,o)||(r.searchService.page=o),o}),$(),q(42,"select",19),Mo("ngModelChange",function(o){return Vo(r.searchService.pageSize,o)||(r.searchService.pageSize=o),o}),q(43,"option",20),pe(44,"2 items por Pagina"),$(),q(45,"option",20),pe(46,"4 items por Pagina"),$(),q(47,"option",20),pe(48,"6 items por Pagina"),$()()()(),Ye(49,"hr"),$(),q(50,"div",21)(51,"a",22),pe(52,"[Back to Menu]"),$()()),2&i&&(te(2),An(r.searchService.pageTitle),te(7),Do("ngModel",r.searchService.searchTerm),te(4),fi(13,xc(14,13,r.searchService.loading)?13:-1),te(22),nc(xc(38,15,r.__pages)),te(5),Se("collectionSize",xc(41,17,r.searchService.total)),Do("page",r.searchService.page),Se("pageSize",r.searchService.pageSize),te(2),Do("ngModel",r.searchService.pageSize),te(),Se("ngValue",2),te(2),Se("ngValue",4),te(2),Se("ngValue",6),te(4),Se("routerLink","/")("queryParams",Us(19,oIt)))},dependencies:[Yh,wu,xu,sd,V0,$h,Kh,Xh,od,lD,cD,rs,WF,pD,pv],styles:["a[_ngcontent-%COMP%]:link{color:#00ff40}a[_ngcontent-%COMP%]:visited{color:green}a[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#add8e6}input[type=checkbox][_ngcontent-%COMP%]{outline:1px solid rgb(0,17,255);color:#8a2be2;pointer-events:none}"]})}}return n})();const M9=[{id:0,path:"Home",component:dse,caption:" Home",queryParams:"PAGE_ANGULAR_DEMO_INDEX"},{id:0,path:"Index",component:WNt,caption:" Index",queryParams:"PAGE_HOME_INDEX"},{id:0,path:"",component:dse,caption:"",queryParams:""},{id:0,path:"SCM",component:AVe,caption:" About  - SCM",queryParams:""},{id:0,path:"PageUrlList",component:E9,caption:" About  - LLM List",queryParams:"PAGE_ABOUT_LLM_LIST"},{id:0,path:"PageUrlList",component:E9,caption:" About  - Educational Resources",queryParams:"PAGE_ABOUT_EDU_RESC"},{id:0,path:"TechnicalSpecs",component:vVe,caption:" About  - Technical Specifications",queryParams:""},{id:0,path:"ContactForm",component:kNt,caption:" About  - Contact Form",queryParams:""},{id:0,path:"AlgorithmRegEx",component:Kze,caption:" Algorithms - Regular Expression",queryParams:""},{id:0,path:"AlgorithmSort",component:a7e,caption:" Algorithms - Sort",queryParams:""},{id:0,path:"AlgorithmDijkstra",component:Hze,caption:" Algorithms - Dijkstra  - Shortest Path",queryParams:""},{id:0,path:"AlgorithmCollision",component:DVe,caption:" Algorithms - Collision - Demo",queryParams:""},{id:0,path:"FilesGenerationXLS",component:sWe,caption:" File Generation - XLS",queryParams:""},{id:0,path:"FilesGenerationCSV",component:Nqe,caption:" File Generation - CSV",queryParams:""},{id:0,path:"FilesGenerationPDF",component:kqe,caption:" File Generation - PDF",queryParams:""},{id:0,path:"Chart",component:cqe,caption:" File Generation - Chart Demo",queryParams:""},{id:0,path:"GamesSudoku",component:Ctt,caption:" Games  - Sudoku",queryParams:""},{id:0,path:"GamesTicTacToe",component:ent,caption:" Games  - Tic-Tac-Toe",queryParams:""},{id:0,path:"GamesTicTacToeAI",component:cnt,caption:" Games  - Tic-Tac-Toe - A.I.",queryParams:""},{id:0,path:"GamesHanoiAuto",component:dWe,caption:" Games  - Hanoi 2d",queryParams:""},{id:0,path:"GamesHanoi3d",component:ctt,caption:" Games  - Hanoi 3d",queryParams:""},{id:0,path:"GamesTetris",component:Ntt,caption:" Games  - Tetris",queryParams:""},{id:0,path:"GamesTetrisAI",component:jtt,caption:" Games  - Tetris - A.I.",queryParams:""},{id:0,path:"Chat",component:dit,caption:" MISCELLANEOUS - Chat Demo",queryParams:""},{id:0,path:"OcrPhotoCapture",component:m2t,caption:" MISCELLANEOUS - Ocr Photo Capture",queryParams:""},{id:0,path:"ComputerVision",component:Mit,caption:" MISCELLANEOUS - Computer Vision",queryParams:""},{id:0,path:"MathParsing",component:s2t,caption:" MISCELLANEOUS - Math Parsing",queryParams:""},{id:0,path:"FractalDemo",component:JNt,caption:" MISCELLANEOUS - Fractal Demo",queryParams:""},{id:0,path:"LinearRegression",component:ONt,caption:" Machine Learning  - Linear Regression",queryParams:""},{id:0,path:"GridParam",component:yf,caption:" Curriculum - Artificial Intelligence",queryParams:"PAGE_CURRICULUM_AI"},{id:0,path:"GridParam",component:yf,caption:" Curriculum - C++",queryParams:"PAGE_CURRICULUM_CPP"},{id:0,path:"CurriculumAngular",component:CVe,caption:" Curriculum - Angular    / Typescript",queryParams:"PAGE_CURRICULUM_ANGULAR"},{id:0,path:"GridParam",component:yf,caption:" Curriculum - Node.js    / Javascript",queryParams:"PAGE_CURRICULUM_NODE_JS"},{id:0,path:"GridParam",component:yf,caption:" Curriculum - SpringBoot / Java",queryParams:"PAGE_CURRICULUM_SPRING_BOOT_JAVA"},{id:0,path:"GridParam",component:yf,caption:" Curriculum - Django     / Python",queryParams:"PAGE_CURRICULUM_DJANGO_PYTHON"},{id:0,path:"GridParam",component:yf,caption:" Curriculum - .Net core  / C#",queryParams:"PAGE_CURRICULUM_NET_CORE"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - Angular",queryParams:"PAGE_DEMOS_ANGULAR_JAVASCRIPT"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - C++",queryParams:"PAGE_DEMOS_NETCORE_CPP"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - .NET CORE / C#",queryParams:"PAGE_DEMOS_NETCORE_CSHARP"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - Node.js / Javascript",queryParams:"PAGE_DEMOS_NODEJS_JAVASCRIPT"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - SpringBoot / Java",queryParams:"PAGE_DEMOS_SPRING_BOOT_JAVA"},{id:0,path:"GridParam",component:yf,caption:" Demos / Language - Django / Python",queryParams:"PAGE_DEMOS_DJANGO_PYTHON"},{id:0,path:"PageUrlList",component:E9,caption:"",queryParams:""},{id:0,path:"Landing",component:use,caption:"",queryParams:""},{id:0,path:"**",component:oVe,caption:"",queryParams:""}];let uIt=(()=>{class n{constructor(){let e=0;M9.forEach(i=>{""==i.path&&""==i.caption||(i.id=++e)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=gi({type:n})}static{this.\u0275inj=pi({imports:[g6.forRoot(M9),g6]})}}return n})();function dIt(n){return()=>n.loadConfig()}let l0e=(()=>{class n{constructor(){}intercept(e,i){const r=Date.now();let s;return i.handle(e).pipe($s({next:o=>s=o instanceof fm?"succeeded":"",error:o=>s="failed"}),hw(()=>{const o=Date.now()-r;console.warn(` [REQUESTING URL (INTERCEPT)] : ${e.method} "${e.urlWithParams}" ${s} in ${o} ms.`)}))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JM=(()=>{class n{constructor(e){this.backendService=e}handleError(e){console.error("[CUSTOM ERROR HANDLING]:\n"+e),this.backendService.SetLog("[CUSTOM ERROR HANDLING]",e.message,v6.Error)}static{this.\u0275fac=function(i){return new(i||n)(dt($r))}}static{this.\u0275prov=Nt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),hIt=(()=>{class n{constructor(e,i,r){this.customErrorHandler=e,this.loggingInterceptor=i,this.backendService=r}static{this.\u0275fac=function(i){return new(i||n)(dt(JM),dt(l0e),dt($r))}}static{this.\u0275mod=gi({type:n,bootstrap:[kie]})}static{this.\u0275inj=pi({providers:[eB,N0,Hi,$r,{provide:vne,useClass:l0e,multi:!0},{provide:fv,useClass:EY},{provide:Xd,useClass:JM},[{provide:qE,useFactory:dIt,deps:[Hi,$r,oh],multi:!0}]],imports:[NNt,gA,Mne,VFe,pZ,lLe,zFe,Mne,UBe,_Pe,GIe,kOe,_Re,FB,g6e,cD,X6,O6,vit,xde,yde,uIt,KBe.register("ngsw-worker.js",{enabled:!0,registrationStrategy:"registerWhenStable:30000"}),g6]})}}return n})();(function iX(n,t,e){const i=n.\u0275cmp;i.directiveDefs=Xm(t,!1),i.pipeDefs=Xm(e,!0)})(kie,function(){return[y6e]},[]),FMe().bootstrapModule(hIt).catch(n=>console.error(n))},4987:Ti=>{"use strict";var li=Object.assign||function(Ot){for(var yn=1;yn<arguments.length;yn++){var vn=arguments[yn];for(var Pn in vn)Object.prototype.hasOwnProperty.call(vn,Pn)&&(Ot[Pn]=vn[Pn])}return Ot},Me={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},Pt={"\u2013":"\\--","\u2014":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},Tt=function(yn,vn){return li({},yn,vn)};Ti.exports=function(Ot){for(var yn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},vn=yn.preserveFormatting,Pn=void 0!==vn&&vn,Gn=yn.escapeMapFn,It=void 0===Gn?Tt:Gn,je=String(Ot),qt="",zt=It(li({},Me),Pn?li({},Pt):{}),Ct=Object.keys(zt),en=function(){var fn=!1;Ct.forEach(function(vr,Rs){fn||je.length>=vr.length&&je.slice(0,vr.length)===vr&&(qt+=zt[Ct[Rs]],je=je.slice(vr.length,je.length),fn=!0)}),fn||(qt+=je.slice(0,1),je=je.slice(1,je.length))};je;)en();return qt}},7239:function(Ti){Ti.exports=function(){"use strict";var li=function(N,E){return(li=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,I){B.__proto__=I}||function(B,I){for(var Q in I)Object.prototype.hasOwnProperty.call(I,Q)&&(B[Q]=I[Q])})(N,E)};function Me(N,E){if("function"!=typeof E&&null!==E)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");function B(){this.constructor=N}li(N,E),N.prototype=null===E?Object.create(E):(B.prototype=E.prototype,new B)}var Pt=function(){return Pt=Object.assign||function(E){for(var B,I=1,Q=arguments.length;I<Q;I++)for(var ne in B=arguments[I])Object.prototype.hasOwnProperty.call(B,ne)&&(E[ne]=B[ne]);return E},Pt.apply(this,arguments)};function Tt(N,E,B,I){return new(B||(B=Promise))(function(ne,me){function Be(tt){try{We(I.next(tt))}catch(ft){me(ft)}}function Ie(tt){try{We(I.throw(tt))}catch(ft){me(ft)}}function We(tt){tt.done?ne(tt.value):function Q(ne){return ne instanceof B?ne:new B(function(me){me(ne)})}(tt.value).then(Be,Ie)}We((I=I.apply(N,E||[])).next())})}function Ot(N,E){var I,Q,ne,me,B={label:0,sent:function(){if(1&ne[0])throw ne[1];return ne[1]},trys:[],ops:[]};return me={next:Be(0),throw:Be(1),return:Be(2)},"function"==typeof Symbol&&(me[Symbol.iterator]=function(){return this}),me;function Be(We){return function(tt){return function Ie(We){if(I)throw new TypeError("Generator is already executing.");for(;B;)try{if(I=1,Q&&(ne=2&We[0]?Q.return:We[0]?Q.throw||((ne=Q.return)&&ne.call(Q),0):Q.next)&&!(ne=ne.call(Q,We[1])).done)return ne;switch(Q=0,ne&&(We=[2&We[0],ne.value]),We[0]){case 0:case 1:ne=We;break;case 4:return B.label++,{value:We[1],done:!1};case 5:B.label++,Q=We[1],We=[0];continue;case 7:We=B.ops.pop(),B.trys.pop();continue;default:if(!(ne=(ne=B.trys).length>0&&ne[ne.length-1])&&(6===We[0]||2===We[0])){B=0;continue}if(3===We[0]&&(!ne||We[1]>ne[0]&&We[1]<ne[3])){B.label=We[1];break}if(6===We[0]&&B.label<ne[1]){B.label=ne[1],ne=We;break}if(ne&&B.label<ne[2]){B.label=ne[2],B.ops.push(We);break}ne[2]&&B.ops.pop(),B.trys.pop();continue}We=E.call(N,B)}catch(tt){We=[6,tt],Q=0}finally{I=ne=0}if(5&We[0])throw We[1];return{value:We[0]?We[1]:void 0,done:!0}}([We,tt])}}}function yn(N,E,B){if(B||2===arguments.length)for(var ne,I=0,Q=E.length;I<Q;I++)(ne||!(I in E))&&(ne||(ne=Array.prototype.slice.call(E,0,I)),ne[I]=E[I]);return N.concat(ne||E)}for(var vn=function(){function N(E,B,I,Q){this.left=E,this.top=B,this.width=I,this.height=Q}return N.prototype.add=function(E,B,I,Q){return new N(this.left+E,this.top+B,this.width+I,this.height+Q)},N.fromClientRect=function(E,B){return new N(B.left+E.windowBounds.left,B.top+E.windowBounds.top,B.width,B.height)},N.fromDOMRectList=function(E,B){var I=Array.from(B).find(function(Q){return 0!==Q.width});return I?new N(I.left+E.windowBounds.left,I.top+E.windowBounds.top,I.width,I.height):N.EMPTY},N.EMPTY=new N(0,0,0,0),N}(),Pn=function(N,E){return vn.fromClientRect(N,E.getBoundingClientRect())},It=function(N){for(var E=[],B=0,I=N.length;B<I;){var Q=N.charCodeAt(B++);if(Q>=55296&&Q<=56319&&B<I){var ne=N.charCodeAt(B++);56320==(64512&ne)?E.push(((1023&Q)<<10)+(1023&ne)+65536):(E.push(Q),B--)}else E.push(Q)}return E},je=function(){for(var N=[],E=0;E<arguments.length;E++)N[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,N);var B=N.length;if(!B)return"";for(var I=[],Q=-1,ne="";++Q<B;){var me=N[Q];me<=65535?I.push(me):I.push(55296+((me-=65536)>>10),me%1024+56320),(Q+1===B||I.length>16384)&&(ne+=String.fromCharCode.apply(String,I),I.length=0)}return ne},qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zt=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ct=0;Ct<64;Ct++)zt[qt.charCodeAt(Ct)]=Ct;for(var en="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=typeof Uint8Array>"u"?[]:new Uint8Array(256),fn=0;fn<64;fn++)cn[en.charCodeAt(fn)]=fn;for(var Bp=function(N,E,B){return N.slice?N.slice(E,B):new Uint16Array(Array.prototype.slice.call(N,E,B))},Fp=function(){function N(E,B,I,Q,ne,me){this.initialValue=E,this.errorValue=B,this.highStart=I,this.highValueIndex=Q,this.index=ne,this.data=me}return N.prototype.get=function(E){var B;if(E>=0){if(E<55296||E>56319&&E<=65535)return this.data[B=((B=this.index[E>>5])<<2)+(31&E)];if(E<=65535)return this.data[B=((B=this.index[2048+(E-55296>>5)])<<2)+(31&E)];if(E<this.highStart)return B=this.index[B=2080+(E>>11)],this.data[B=((B=this.index[B+=E>>5&63])<<2)+(31&E)];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},N}(),R_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JC=typeof Uint8Array>"u"?[]:new Uint8Array(256),Qm=0;Qm<64;Qm++)JC[R_.charCodeAt(Qm)]=Qm;var B,I,Q,me,Be,Mr=10,du=13,Oc=15,ea=17,Rc=18,Zs=19,Nh=20,Gm=21,Ih=22,et=24,vt=25,jt=26,rn=27,Wt=28,dn=30,nn=32,xi=33,Lr=34,Ro=35,Ns=37,Xl=38,ll=39,Xi=40,Bf=42,eS=[9001,65288],Tr="\xd7",Ng=(B=function(N){var I,ne,me,Be,Ie,E=.75*N.length,B=N.length,Q=0;"="===N[N.length-1]&&(E--,"="===N[N.length-2]&&E--);var We=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),tt=Array.isArray(We)?We:new Uint8Array(We);for(I=0;I<B;I+=4)ne=cn[N.charCodeAt(I)],me=cn[N.charCodeAt(I+1)],Be=cn[N.charCodeAt(I+2)],Ie=cn[N.charCodeAt(I+3)],tt[Q++]=ne<<2|me>>4,tt[Q++]=(15&me)<<4|Be>>2,tt[Q++]=(3&Be)<<6|63&Ie;return We}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),I=Array.isArray(B)?function(N){for(var E=N.length,B=[],I=0;I<E;I+=4)B.push(N[I+3]<<24|N[I+2]<<16|N[I+1]<<8|N[I]);return B}(B):new Uint32Array(B),Q=Array.isArray(B)?function(N){for(var E=N.length,B=[],I=0;I<E;I+=2)B.push(N[I+1]<<8|N[I]);return B}(B):new Uint16Array(B),me=Bp(Q,12,I[4]/2),Be=2===I[5]?Bp(Q,(24+I[4])/2):function(N,E,B){return N.slice?N.slice(E,B):new Uint32Array(Array.prototype.slice.call(N,E,B))}(I,Math.ceil((24+I[4])/4)),new Fp(I[0],I[1],I[2],I[3],me,Be)),Xr=[dn,36],ds=[1,2,3,5],_y=[Mr,8],_i=[rn,jt],ET=ds.concat(_y),k_=[Xl,ll,Xi,Lr,Ro],xt=[Oc,du],kp=function(N,E,B,I){var Q=I[B];if(Array.isArray(N)?-1!==N.indexOf(Q):N===Q)for(var ne=B;ne<=I.length;){if((me=I[++ne])===E)return!0;if(me!==Mr)break}if(Q===Mr)for(ne=B;ne>0;){var Be=I[--ne];if(Array.isArray(N)?-1!==N.indexOf(Be):N===Be)for(var Ie=B;Ie<=I.length;){var me;if((me=I[++Ie])===E)return!0;if(me!==Mr)break}if(Be!==Mr)break}return!1},L_=function(N,E){for(var B=N;B>=0;){var I=E[B];if(I!==Mr)return I;B--}return 0},DT=function(N,E,B,I,Q){if(0===B[I])return Tr;var ne=I-1;if(Array.isArray(Q)&&!0===Q[ne])return Tr;var me=ne-1,Be=ne+1,Ie=E[ne],We=me>=0?E[me]:0,tt=E[Be];if(2===Ie&&3===tt)return Tr;if(-1!==ds.indexOf(Ie))return"!";if(-1!==ds.indexOf(tt)||-1!==_y.indexOf(tt))return Tr;if(8===L_(ne,E))return"\xf7";if(11===Ng.get(N[ne])||(Ie===nn||Ie===xi)&&11===Ng.get(N[Be])||7===Ie||7===tt||9===Ie||-1===[Mr,du,Oc].indexOf(Ie)&&9===tt||-1!==[ea,Rc,Zs,et,Wt].indexOf(tt)||L_(ne,E)===Ih||kp(23,Ih,ne,E)||kp([ea,Rc],Gm,ne,E)||kp(12,12,ne,E))return Tr;if(Ie===Mr)return"\xf7";if(23===Ie||23===tt)return Tr;if(16===tt||16===Ie)return"\xf7";if(-1!==[du,Oc,Gm].indexOf(tt)||14===Ie||36===We&&-1!==xt.indexOf(Ie)||Ie===Wt&&36===tt||tt===Nh||-1!==Xr.indexOf(tt)&&Ie===vt||-1!==Xr.indexOf(Ie)&&tt===vt||Ie===rn&&-1!==[Ns,nn,xi].indexOf(tt)||-1!==[Ns,nn,xi].indexOf(Ie)&&tt===jt||-1!==Xr.indexOf(Ie)&&-1!==_i.indexOf(tt)||-1!==_i.indexOf(Ie)&&-1!==Xr.indexOf(tt)||-1!==[rn,jt].indexOf(Ie)&&(tt===vt||-1!==[Ih,Oc].indexOf(tt)&&E[Be+1]===vt)||-1!==[Ih,Oc].indexOf(Ie)&&tt===vt||Ie===vt&&-1!==[vt,Wt,et].indexOf(tt))return Tr;if(-1!==[vt,Wt,et,ea,Rc].indexOf(tt))for(var ft=ne;ft>=0;){if((Et=E[ft])===vt)return Tr;if(-1===[Wt,et].indexOf(Et))break;ft--}if(-1!==[rn,jt].indexOf(tt))for(ft=-1!==[ea,Rc].indexOf(Ie)?me:ne;ft>=0;){var Et;if((Et=E[ft])===vt)return Tr;if(-1===[Wt,et].indexOf(Et))break;ft--}if(Xl===Ie&&-1!==[Xl,ll,Lr,Ro].indexOf(tt)||-1!==[ll,Lr].indexOf(Ie)&&-1!==[ll,Xi].indexOf(tt)||-1!==[Xi,Ro].indexOf(Ie)&&tt===Xi||-1!==k_.indexOf(Ie)&&-1!==[Nh,jt].indexOf(tt)||-1!==k_.indexOf(tt)&&Ie===rn||-1!==Xr.indexOf(Ie)&&-1!==Xr.indexOf(tt)||Ie===et&&-1!==Xr.indexOf(tt)||-1!==Xr.concat(vt).indexOf(Ie)&&tt===Ih&&-1===eS.indexOf(N[Be])||-1!==Xr.concat(vt).indexOf(tt)&&Ie===Rc)return Tr;if(41===Ie&&41===tt){for(var Qn=B[ne],xn=1;Qn>0&&41===E[--Qn];)xn++;if(xn%2!=0)return Tr}return Ie===nn&&tt===xi?Tr:"\xf7"},MT=function(N,E){E||(E={lineBreak:"normal",wordBreak:"normal"});var B=function(N,E){void 0===E&&(E="strict");var B=[],I=[],Q=[];return N.forEach(function(ne,me){var Be=Ng.get(ne);if(Be>50?(Q.push(!0),Be-=50):Q.push(!1),-1!==["normal","auto","loose"].indexOf(E)&&-1!==[8208,8211,12316,12448].indexOf(ne))return I.push(me),B.push(16);if(4===Be||11===Be){if(0===me)return I.push(me),B.push(dn);var Ie=B[me-1];return-1===ET.indexOf(Ie)?(I.push(I[me-1]),B.push(Ie)):(I.push(me),B.push(dn))}return I.push(me),31===Be?B.push("strict"===E?Gm:Ns):Be===Bf||29===Be?B.push(dn):43===Be?B.push(ne>=131072&&ne<=196605||ne>=196608&&ne<=262141?Ns:dn):void B.push(Be)}),[I,B,Q]}(N,E.lineBreak),I=B[0],Q=B[1],ne=B[2];return("break-all"===E.wordBreak||"break-word"===E.wordBreak)&&(Q=Q.map(function(Be){return-1!==[vt,dn,Bf].indexOf(Be)?Ns:Be})),[I,Q,"keep-all"===E.wordBreak?ne.map(function(Be,Ie){return Be&&N[Ie]>=19968&&N[Ie]<=40959}):void 0]},by=function(){function N(E,B,I,Q){this.codePoints=E,this.required="!"===B,this.start=I,this.end=Q}return N.prototype.slice=function(){return je.apply(void 0,this.codePoints.slice(this.start,this.end))},N}(),ul=function(N){return N>=48&&N<=57},Q_=function(N){return ul(N)||N>=65&&N<=70||N>=97&&N<=102},Pg=function(N){return 10===N||9===N||32===N},Og=function(N){return function(N){return function(N){return N>=97&&N<=122}(N)||function(N){return N>=65&&N<=90}(N)}(N)||function(N){return N>=128}(N)||95===N},oS=function(N){return Og(N)||ul(N)||45===N},Pf=function(N){return N>=0&&N<=8||11===N||N>=14&&N<=31||127===N},ju=function(N,E){return 92===N&&10!==E},j_=function(N,E,B){return 45===N?Og(E)||ju(E,B):!!Og(N)||!(92!==N||!ju(N,E))},Qi=function(N,E,B){return 43===N||45===N?!!ul(E)||46===E&&ul(B):ul(46===N?E:N)},xs=function(N){var E=0,B=1;(43===N[E]||45===N[E])&&(45===N[E]&&(B=-1),E++);for(var I=[];ul(N[E]);)I.push(N[E++]);var Q=I.length?parseInt(je.apply(void 0,I),10):0;46===N[E]&&E++;for(var ne=[];ul(N[E]);)ne.push(N[E++]);var me=ne.length,Be=me?parseInt(je.apply(void 0,ne),10):0;(69===N[E]||101===N[E])&&E++;var Ie=1;(43===N[E]||45===N[E])&&(45===N[E]&&(Ie=-1),E++);for(var We=[];ul(N[E]);)We.push(N[E++]);var tt=We.length?parseInt(je.apply(void 0,We),10):0;return B*(Q+Be*Math.pow(10,-me))*Math.pow(10,Ie*tt)},bj={type:2},KL={type:3},XL={type:4},yj={type:13},YL={type:8},aS={type:21},Ur={type:9},lS={type:10},IT={type:11},Lc={type:12},BT={type:14},cS={type:23},wj={type:1},q_={type:25},uS={type:24},Dy={type:26},ZL={type:27},JL={type:28},e5={type:29},FT={type:31},zp={type:32},PT=function(){function N(){this._value=[]}return N.prototype.write=function(E){this._value=this._value.concat(It(E))},N.prototype.read=function(){for(var E=[],B=this.consumeToken();B!==zp;)E.push(B),B=this.consumeToken();return E},N.prototype.consumeToken=function(){var E=this.consumeCodePoint();switch(E){case 34:return this.consumeStringToken(34);case 35:var B=this.peekCodePoint(0),I=this.peekCodePoint(1),Q=this.peekCodePoint(2);if(oS(B)||ju(I,Q)){var ne=j_(B,I,Q)?2:1;return{type:5,value:this.consumeName(),flags:ne}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yj;break;case 39:return this.consumeStringToken(39);case 40:return bj;case 41:return KL;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),BT;break;case 43:if(Qi(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case 44:return XL;case 45:var Be=E,Ie=this.peekCodePoint(0),We=this.peekCodePoint(1);if(Qi(Be,Ie,We))return this.reconsumeCodePoint(E),this.consumeNumericToken();if(j_(Be,Ie,We))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();if(45===Ie&&62===We)return this.consumeCodePoint(),this.consumeCodePoint(),uS;break;case 46:if(Qi(E,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(E),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var tt=this.consumeCodePoint();if(42===tt&&47===(tt=this.consumeCodePoint()))return this.consumeToken();if(-1===tt)return this.consumeToken()}break;case 58:return Dy;case 59:return ZL;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),q_;break;case 64:var ft=this.peekCodePoint(0),Et=this.peekCodePoint(1),Qn=this.peekCodePoint(2);if(j_(ft,Et,Qn))return{type:7,value:this.consumeName()};break;case 91:return JL;case 92:if(ju(E,this.peekCodePoint(0)))return this.reconsumeCodePoint(E),this.consumeIdentLikeToken();break;case 93:return e5;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),YL;break;case 123:return IT;case 125:return Lc;case 117:case 85:var xn=this.peekCodePoint(0),In=this.peekCodePoint(1);return 43===xn&&(Q_(In)||63===In)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(E),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ur;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),aS;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),lS;break;case-1:return zp}return Pg(E)?(this.consumeWhiteSpace(),FT):ul(E)?(this.reconsumeCodePoint(E),this.consumeNumericToken()):Og(E)?(this.reconsumeCodePoint(E),this.consumeIdentLikeToken()):{type:6,value:je(E)}},N.prototype.consumeCodePoint=function(){var E=this._value.shift();return typeof E>"u"?-1:E},N.prototype.reconsumeCodePoint=function(E){this._value.unshift(E)},N.prototype.peekCodePoint=function(E){return E>=this._value.length?-1:this._value[E]},N.prototype.consumeUnicodeRangeToken=function(){for(var E=[],B=this.consumeCodePoint();Q_(B)&&E.length<6;)E.push(B),B=this.consumeCodePoint();for(var I=!1;63===B&&E.length<6;)E.push(B),B=this.consumeCodePoint(),I=!0;if(I)return{type:30,start:parseInt(je.apply(void 0,E.map(function(Ie){return 63===Ie?48:Ie})),16),end:parseInt(je.apply(void 0,E.map(function(Ie){return 63===Ie?70:Ie})),16)};var me=parseInt(je.apply(void 0,E),16);if(45===this.peekCodePoint(0)&&Q_(this.peekCodePoint(1))){this.consumeCodePoint(),B=this.consumeCodePoint();for(var Be=[];Q_(B)&&Be.length<6;)Be.push(B),B=this.consumeCodePoint();return{type:30,start:me,end:parseInt(je.apply(void 0,Be),16)}}return{type:30,start:me,end:me}},N.prototype.consumeIdentLikeToken=function(){var E=this.consumeName();return"url"===E.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:E}):{type:20,value:E}},N.prototype.consumeUrlToken=function(){var E=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var B=this.peekCodePoint(0);if(39===B||34===B){var I=this.consumeStringToken(this.consumeCodePoint());return 0===I.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:I.value}):(this.consumeBadUrlRemnants(),cS)}for(;;){var Q=this.consumeCodePoint();if(-1===Q||41===Q)return{type:22,value:je.apply(void 0,E)};if(Pg(Q))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:je.apply(void 0,E)}):(this.consumeBadUrlRemnants(),cS);if(34===Q||39===Q||40===Q||Pf(Q))return this.consumeBadUrlRemnants(),cS;if(92===Q){if(!ju(Q,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),cS;E.push(this.consumeEscapedCodePoint())}else E.push(Q)}},N.prototype.consumeWhiteSpace=function(){for(;Pg(this.peekCodePoint(0));)this.consumeCodePoint()},N.prototype.consumeBadUrlRemnants=function(){for(;;){var E=this.consumeCodePoint();if(41===E||-1===E)return;ju(E,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},N.prototype.consumeStringSlice=function(E){for(var I="";E>0;){var Q=Math.min(5e4,E);I+=je.apply(void 0,this._value.splice(0,Q)),E-=Q}return this._value.shift(),I},N.prototype.consumeStringToken=function(E){for(var B="",I=0;;){var Q=this._value[I];if(-1===Q||void 0===Q||Q===E)return{type:0,value:B+=this.consumeStringSlice(I)};if(10===Q)return this._value.splice(0,I),wj;if(92===Q){var ne=this._value[I+1];-1!==ne&&void 0!==ne&&(10===ne?(B+=this.consumeStringSlice(I),I=-1,this._value.shift()):ju(Q,ne)&&(B+=this.consumeStringSlice(I),B+=je(this.consumeEscapedCodePoint()),I=-1))}I++}},N.prototype.consumeNumber=function(){var E=[],B=4,I=this.peekCodePoint(0);for((43===I||45===I)&&E.push(this.consumeCodePoint());ul(this.peekCodePoint(0));)E.push(this.consumeCodePoint());I=this.peekCodePoint(0);var Q=this.peekCodePoint(1);if(46===I&&ul(Q))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),B=8;ul(this.peekCodePoint(0));)E.push(this.consumeCodePoint());I=this.peekCodePoint(0),Q=this.peekCodePoint(1);var ne=this.peekCodePoint(2);if((69===I||101===I)&&((43===Q||45===Q)&&ul(ne)||ul(Q)))for(E.push(this.consumeCodePoint(),this.consumeCodePoint()),B=8;ul(this.peekCodePoint(0));)E.push(this.consumeCodePoint());return[xs(E),B]},N.prototype.consumeNumericToken=function(){var E=this.consumeNumber(),B=E[0],I=E[1],Q=this.peekCodePoint(0),ne=this.peekCodePoint(1),me=this.peekCodePoint(2);return j_(Q,ne,me)?{type:15,number:B,flags:I,unit:this.consumeName()}:37===Q?(this.consumeCodePoint(),{type:16,number:B,flags:I}):{type:17,number:B,flags:I}},N.prototype.consumeEscapedCodePoint=function(){var E=this.consumeCodePoint();if(Q_(E)){for(var B=je(E);Q_(this.peekCodePoint(0))&&B.length<6;)B+=je(this.consumeCodePoint());Pg(this.peekCodePoint(0))&&this.consumeCodePoint();var I=parseInt(B,16);return 0===I||function(N){return N>=55296&&N<=57343}(I)||I>1114111?65533:I}return-1===E?65533:E},N.prototype.consumeName=function(){for(var E="";;){var B=this.consumeCodePoint();if(oS(B))E+=je(B);else{if(!ju(B,this.peekCodePoint(0)))return this.reconsumeCodePoint(B),E;E+=je(this.consumeEscapedCodePoint())}}},N}(),Of=function(){function N(E){this._tokens=E}return N.create=function(E){var B=new PT;return B.write(E),new N(B.read())},N.parseValue=function(E){return N.create(E).parseComponentValue()},N.parseValues=function(E){return N.create(E).parseComponentValues()},N.prototype.parseComponentValue=function(){for(var E=this.consumeToken();31===E.type;)E=this.consumeToken();if(32===E.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(E);var B=this.consumeComponentValue();do{E=this.consumeToken()}while(31===E.type);if(32===E.type)return B;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},N.prototype.parseComponentValues=function(){for(var E=[];;){var B=this.consumeComponentValue();if(32===B.type)return E;E.push(B),E.push()}},N.prototype.consumeComponentValue=function(){var E=this.consumeToken();switch(E.type){case 11:case 28:case 2:return this.consumeSimpleBlock(E.type);case 19:return this.consumeFunction(E)}return E},N.prototype.consumeSimpleBlock=function(E){for(var B={type:E,values:[]},I=this.consumeToken();;){if(32===I.type||t5(I,E))return B;this.reconsumeToken(I),B.values.push(this.consumeComponentValue()),I=this.consumeToken()}},N.prototype.consumeFunction=function(E){for(var B={name:E.value,values:[],type:18};;){var I=this.consumeToken();if(32===I.type||3===I.type)return B;this.reconsumeToken(I),B.values.push(this.consumeComponentValue())}},N.prototype.consumeToken=function(){var E=this._tokens.shift();return typeof E>"u"?zp:E},N.prototype.reconsumeToken=function(E){this._tokens.unshift(E)},N}(),W_=function(N){return 15===N.type},dt=function(N){return 17===N.type},ks=function(N){return 20===N.type},ze=function(N){return 0===N.type},Rg=function(N,E){return ks(N)&&N.value===E},My=function(N){return 31!==N.type},Fh=function(N){return 31!==N.type&&4!==N.type},Ph=function(N){var E=[],B=[];return N.forEach(function(I){if(4===I.type){if(0===B.length)throw new Error("Error parsing function args, zero tokens for arg");return E.push(B),void(B=[])}31!==I.type&&B.push(I)}),B.length&&E.push(B),E},t5=function(N,E){return 11===E&&12===N.type||28===E&&29===N.type||2===E&&3===N.type},Qp=function(N){return 17===N.type||15===N.type},wa=function(N){return 16===N.type||Qp(N)},kg=function(N){return N.length>1?[N[0],N[1]]:[N[0]]},Ml={type:17,number:0,flags:4},jm={type:16,number:50,flags:4},Gp={type:16,number:100,flags:4},Od=function(N,E,B){var I=N[0],Q=N[1];return[fo(I,E),fo(typeof Q<"u"?Q:I,B)]},fo=function(N,E){if(16===N.type)return N.number/100*E;if(W_(N))switch(N.unit){case"rem":case"em":return 16*N.number;default:return N.number}return N.number},Wm_parse=function(N,E){if(15===E.type)switch(E.unit){case"deg":return Math.PI*E.number/180;case"grad":return Math.PI/200*E.number;case"rad":return E.number;case"turn":return 2*Math.PI*E.number}throw new Error("Unsupported angle type")},Ty=function(N){return 15===N.type&&("deg"===N.unit||"grad"===N.unit||"rad"===N.unit||"turn"===N.unit)},n5=function(N){switch(N.filter(ks).map(function(B){return B.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ml,Ml];case"to top":case"bottom":return fu(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ml,Gp];case"to right":case"left":return fu(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gp,Gp];case"to bottom":case"top":return fu(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gp,Ml];case"to left":case"right":return fu(270)}return 0},fu=function(N){return Math.PI*N/180},$m_parse=function(N,E){if(18===E.type){var B=Km[E.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported color function "'+E.name+'"');return B(N,E.values)}if(5===E.type){if(3===E.value.length){var I=E.value.substring(0,1),Q=E.value.substring(1,2),ne=E.value.substring(2,3);return pu(parseInt(I+I,16),parseInt(Q+Q,16),parseInt(ne+ne,16),1)}if(4===E.value.length){I=E.value.substring(0,1),Q=E.value.substring(1,2),ne=E.value.substring(2,3);var me=E.value.substring(3,4);return pu(parseInt(I+I,16),parseInt(Q+Q,16),parseInt(ne+ne,16),parseInt(me+me,16)/255)}if(6===E.value.length)return I=E.value.substring(0,2),Q=E.value.substring(2,4),ne=E.value.substring(4,6),pu(parseInt(I,16),parseInt(Q,16),parseInt(ne,16),1);if(8===E.value.length)return I=E.value.substring(0,2),Q=E.value.substring(2,4),ne=E.value.substring(4,6),me=E.value.substring(6,8),pu(parseInt(I,16),parseInt(Q,16),parseInt(ne,16),parseInt(me,16)/255)}if(20===E.type){var Be=Rd[E.value.toUpperCase()];if(typeof Be<"u")return Be}return Rd.TRANSPARENT},xa=function(N){return!(255&N)},Ca=function(N){var E=255&N,B=255&N>>8,I=255&N>>16,Q=255&N>>24;return E<255?"rgba("+Q+","+I+","+B+","+E/255+")":"rgb("+Q+","+I+","+B+")"},pu=function(N,E,B,I){return(N<<24|E<<16|B<<8|Math.round(255*I))>>>0},i5=function(N,E){if(17===N.type)return N.number;if(16===N.type){var B=3===E?1:255;return 3===E?N.number/100*B:Math.round(N.number/100*B)}return 0},hS=function(N,E){var B=E.filter(Fh);if(3===B.length){var I=B.map(i5);return pu(I[0],I[1],I[2],1)}if(4===B.length){var Be=B.map(i5);return pu(Be[0],Be[1],Be[2],Be[3])}return 0};function qu(N,E,B){return B<0&&(B+=1),B>=1&&(B-=1),B<1/6?(E-N)*B*6+N:B<.5?E:B<2/3?6*(E-N)*(2/3-B)+N:N}var ns=function(N,E){var B=E.filter(Fh),I=B[0],Q=B[1],ne=B[2],me=B[3],Be=(17===I.type?fu(I.number):Wm_parse(N,I))/(2*Math.PI),Ie=wa(Q)?Q.number/100:0,We=wa(ne)?ne.number/100:0,tt=typeof me<"u"&&wa(me)?fo(me,1):1;if(0===Ie)return pu(255*We,255*We,255*We,1);var ft=We<=.5?We*(Ie+1):We+Ie-We*Ie,Et=2*We-ft,Qn=qu(Et,ft,Be+1/3),xn=qu(Et,ft,Be),In=qu(Et,ft,Be-1/3);return pu(255*Qn,255*xn,255*In,tt)},Km={hsl:ns,hsla:ns,rgb:hS,rgba:hS},Lg=function(N,E){return $m_parse(N,Of.create(E).parseComponentValue())},Rd={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ny={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(N,E){return E.map(function(B){if(ks(B))switch(B.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Iy={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Uc=function(N,E){var B=$m_parse(N,E[0]),I=E[1];return I&&wa(I)?{color:B,stop:I}:{color:B,stop:null}},kt=function(N,E){var B=N[0],I=N[N.length-1];null===B.stop&&(B.stop=Ml),null===I.stop&&(I.stop=Gp);for(var Q=[],ne=0,me=0;me<N.length;me++){var Be=N[me].stop;if(null!==Be){var Ie=fo(Be,E);Q.push(Ie>ne?Ie:ne),ne=Ie}else Q.push(null)}var We=null;for(me=0;me<Q.length;me++){var tt=Q[me];if(null===tt)null===We&&(We=me);else if(null!==We){for(var ft=me-We,Qn=(tt-Q[We-1])/(ft+1),xn=1;xn<=ft;xn++)Q[We+xn-1]=Qn*xn;We=null}}return N.map(function(In,bi){return{color:In.color,stop:Math.max(Math.min(1,Q[bi]/E),0)}})},fS=function(N,E,B){var I="number"==typeof N?N:function(N,E,B){var I=E/2,Q=B/2,ne=fo(N[0],E)-I,me=Q-fo(N[1],B);return(Math.atan2(me,ne)+2*Math.PI)%(2*Math.PI)}(N,E,B),Q=Math.abs(E*Math.sin(I))+Math.abs(B*Math.cos(I)),ne=E/2,me=B/2,Be=Q/2,Ie=Math.sin(I-Math.PI/2)*Be,We=Math.cos(I-Math.PI/2)*Be;return[Q,ne-We,ne+We,me-Ie,me+Ie]},Wu=function(N,E){return Math.sqrt(N*N+E*E)},pS=function(N,E,B,I,Q){return[[0,0],[0,E],[N,0],[N,E]].reduce(function(me,Be){var tt=Wu(B-Be[0],I-Be[1]);return(Q?tt<me.optimumDistance:tt>me.optimumDistance)?{optimumCorner:Be,optimumDistance:tt}:me},{optimumDistance:Q?1/0:-1/0,optimumCorner:null}).optimumCorner},X_=function(N,E){var B=fu(180),I=[];return Ph(E).forEach(function(Q,ne){if(0===ne){var me=Q[0];if(20===me.type&&-1!==["top","left","right","bottom"].indexOf(me.value))return void(B=n5(Q));if(Ty(me))return void(B=(Wm_parse(N,me)+fu(270))%fu(360))}var Be=Uc(N,Q);I.push(Be)}),{angle:B,stops:I,type:1}},By="closest-side",RT="farthest-side",kT="closest-corner",$u="farthest-corner",mS="ellipse",HT="contain",Fy=function(N,E){var B=0,I=3,Q=[],ne=[];return Ph(E).forEach(function(me,Be){var Ie=!0;if(0===Be?Ie=me.reduce(function(tt,ft){if(ks(ft))switch(ft.value){case"center":return ne.push(jm),!1;case"top":case"left":return ne.push(Ml),!1;case"right":case"bottom":return ne.push(Gp),!1}else if(wa(ft)||Qp(ft))return ne.push(ft),!1;return tt},Ie):1===Be&&(Ie=me.reduce(function(tt,ft){if(ks(ft))switch(ft.value){case"circle":return B=0,!1;case mS:return B=1,!1;case HT:case By:return I=0,!1;case RT:return I=1,!1;case kT:return I=2,!1;case"cover":case $u:return I=3,!1}else if(Qp(ft)||wa(ft))return Array.isArray(I)||(I=[]),I.push(ft),!1;return tt},Ie)),Ie){var We=Uc(N,me);Q.push(We)}}),{size:I,shape:B,stops:Q,position:ne,type:2}},AS_parse=function(N,E){if(22===E.type){var B={url:E.value,type:0};return N.cache.addImage(E.value),B}if(18===E.type){var I=Nn[E.name];if(typeof I>"u")throw new Error('Attempting to parse an unsupported image function "'+E.name+'"');return I(N,E.values)}throw new Error("Unsupported image type "+E.type)};for(var Nn={"linear-gradient":function(N,E){var B=fu(180),I=[];return Ph(E).forEach(function(Q,ne){if(0===ne){var me=Q[0];if(20===me.type&&"to"===me.value)return void(B=n5(Q));if(Ty(me))return void(B=Wm_parse(N,me))}var Be=Uc(N,Q);I.push(Be)}),{angle:B,stops:I,type:1}},"-moz-linear-gradient":X_,"-ms-linear-gradient":X_,"-o-linear-gradient":X_,"-webkit-linear-gradient":X_,"radial-gradient":function(N,E){var B=0,I=3,Q=[],ne=[];return Ph(E).forEach(function(me,Be){var Ie=!0;if(0===Be){var We=!1;Ie=me.reduce(function(ft,Et){if(We)if(ks(Et))switch(Et.value){case"center":return ne.push(jm),ft;case"top":case"left":return ne.push(Ml),ft;case"right":case"bottom":return ne.push(Gp),ft}else(wa(Et)||Qp(Et))&&ne.push(Et);else if(ks(Et))switch(Et.value){case"circle":return B=0,!1;case mS:return B=1,!1;case"at":return We=!0,!1;case By:return I=0,!1;case"cover":case RT:return I=1,!1;case HT:case kT:return I=2,!1;case $u:return I=3,!1}else if(Qp(Et)||wa(Et))return Array.isArray(I)||(I=[]),I.push(Et),!1;return ft},Ie)}if(Ie){var tt=Uc(N,me);Q.push(tt)}}),{size:I,shape:B,stops:Q,position:ne,type:2}},"-moz-radial-gradient":Fy,"-ms-radial-gradient":Fy,"-o-radial-gradient":Fy,"-webkit-radial-gradient":Fy,"-webkit-gradient":function(N,E){var B=fu(180),I=[],Q=1;return Ph(E).forEach(function(Ie,We){var tt=Ie[0];if(0===We){if(ks(tt)&&"linear"===tt.value)return void(Q=1);if(ks(tt)&&"radial"===tt.value)return void(Q=2)}if(18===tt.type)if("from"===tt.name){var ft=$m_parse(N,tt.values[0]);I.push({stop:Ml,color:ft})}else if("to"===tt.name)ft=$m_parse(N,tt.values[0]),I.push({stop:Gp,color:ft});else if("color-stop"===tt.name){var Et=tt.values.filter(Fh);if(2===Et.length){ft=$m_parse(N,Et[1]);var Qn=Et[0];dt(Qn)&&I.push({stop:{type:16,number:100*Qn.number,flags:Qn.flags},color:ft})}}}),1===Q?{angle:(B+fu(180))%fu(360),stops:I,type:Q}:{size:3,shape:0,stops:I,position:[],type:Q}}},c5={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(N,E){if(0===E.length)return[];var B=E[0];return 20===B.type&&"none"===B.value?[]:E.filter(function(I){return Fh(I)&&function l5(N){return!(20===N.type&&"none"===N.value||18===N.type&&!Nn[N.name])}(I)}).map(function(I){return AS_parse(N,I)})}},u5={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(N,E){return E.map(function(B){if(ks(B))switch(B.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},gi={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(N,E){return Ph(E).map(function(B){return B.filter(wa)}).map(kg)}},zT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(N,E){return Ph(E).map(function(B){return B.filter(ks).map(function(I){return I.value}).join(" ")}).map(Mt)}},Mt=function(N){switch(N){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},dl=function(N){return N.AUTO="auto",N.CONTAIN="contain",N.COVER="cover",N}(dl||{}),Nr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(N,E){return Ph(E).map(function(B){return B.filter(La)})}},La=function(N){return ks(N)||wa(N)},Sa=function(N){return{name:"border-"+N+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jp=Sa("top"),Yl=Sa("right"),QT=Sa("bottom"),GT=Sa("left"),Xm=function(N){return{name:"border-radius-"+N,initialValue:"0 0",prefix:!1,type:1,parse:function(E,B){return kg(B.filter(wa))}}},d5=Xm("top-left"),h5=Xm("top-right"),Ug=Xm("bottom-right"),f5=Xm("bottom-left"),Hg=function(N){return{name:"border-"+N+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(E,B){switch(B){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},jT=Hg("top"),Py=Hg("right"),xj=Hg("bottom"),gS=Hg("left"),Oy=function(N){return{name:"border-"+N+"-width",initialValue:"0",type:0,prefix:!1,parse:function(E,B){return W_(B)?B.number:0}}},vS=Oy("top"),qT=Oy("right"),WT=Oy("bottom"),Ym=Oy("left"),p5={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_S={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(N,E){return"rtl"===E?1:0}},Ry={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(N,E){return E.filter(ks).reduce(function(B,I){return B|m5(I.value)},0)}},m5=function(N){switch(N){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},bS={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(N,E){switch(E){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},ky={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(N,E){return 20===E.type&&"normal"===E.value?0:17===E.type||15===E.type?E.number:0}},Ua=function(N){return N.NORMAL="normal",N.STRICT="strict",N}(Ua||{}),Vg={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(N,E){return"strict"===E?Ua.STRICT:Ua.NORMAL}},yS={name:"line-height",initialValue:"normal",prefix:!1,type:4},$T=function(N,E){return ks(N)&&"normal"===N.value?1.2*E:17===N.type?E*N.number:wa(N)?fo(N,E):E},A5={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(N,E){return 20===E.type&&"none"===E.value?null:AS_parse(N,E)}},KT={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(N,E){return"inside"===E?0:1}},qp={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(N,E){switch(E){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ly=function(N){return{name:"margin-"+N,initialValue:"0",prefix:!1,type:4}},g5=Ly("top"),v5=Ly("right"),wS=Ly("bottom"),Oh=Ly("left"),XT={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(N,E){return E.filter(ks).map(function(B){switch(B.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Y_={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(N,E){return"break-word"===E?"break-word":"normal"}},Rf=function(N){return{name:"padding-"+N,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},_5=Rf("top"),b5=Rf("right"),Ha=Rf("bottom"),YT=Rf("left"),y5={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(N,E){switch(E){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Z_={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(N,E){switch(E){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},w5={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(N,E){return 1===E.length&&Rg(E[0],"none")?[]:Ph(E).map(function(B){for(var I={color:Rd.TRANSPARENT,offsetX:Ml,offsetY:Ml,blur:Ml},Q=0,ne=0;ne<B.length;ne++){var me=B[ne];Qp(me)?(0===Q?I.offsetX=me:1===Q?I.offsetY=me:I.blur=me,Q++):I.color=$m_parse(N,me)}return I})}},x5={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(N,E){switch(E){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},C5={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(N,E){if(20===E.type&&"none"===E.value)return null;if(18===E.type){var B=D5[E.name];if(typeof B>"u")throw new Error('Attempting to parse an unsupported transform function "'+E.name+'"');return B(E.values)}return null}},D5={matrix:function(N){var E=N.filter(function(B){return 17===B.type}).map(function(B){return B.number});return 6===E.length?E:null},matrix3d:function(N){var E=N.filter(function(Ie){return 17===Ie.type}).map(function(Ie){return Ie.number});return 16===E.length?[E[0],E[1],E[4],E[5],E[12],E[13]]:null}},Uy={type:16,number:50,flags:4},Hy=[Uy,Uy],ko={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(N,E){var B=E.filter(wa);return 2!==B.length?Hy:[B[0],B[1]]}},wn={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(N,E){switch(E){case"hidden":return 1;case"collapse":return 2;default:return 0}}},hi=function(N){return N.NORMAL="normal",N.BREAK_ALL="break-all",N.KEEP_ALL="keep-all",N}(hi||{}),ua={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(N,E){switch(E){case"break-all":return hi.BREAK_ALL;case"keep-all":return hi.KEEP_ALL;default:return hi.NORMAL}}},kd={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(N,E){if(20===E.type)return{auto:!0,order:0};if(dt(E))return{auto:!1,order:E.number};throw new Error("Invalid z-index number parsed")}},Tl={name:"time",parse:function(N,E){if(15===E.type)switch(E.unit.toLowerCase()){case"s":return 1e3*E.number;case"ms":return E.number}throw new Error("Unsupported time type")}},mu={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(N,E){return dt(E)?E.number:1}},zg={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},po={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(N,E){return E.filter(ks).map(function(B){switch(B.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(B){return 0!==B})}},Ea={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(N,E){var B=[],I=[];return E.forEach(function(Q){switch(Q.type){case 20:case 0:B.push(Q.value);break;case 17:B.push(Q.number.toString());break;case 4:I.push(B.join(" ")),B.length=0}}),B.length&&I.push(B.join(" ")),I.map(function(Q){return-1===Q.indexOf(" ")?Q:"'"+Q+"'"})}},Ld={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ki={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(N,E){return dt(E)?E.number:ks(E)&&"bold"===E.value?700:400}},J_={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(N,E){return E.filter(ks).map(function(B){return B.value})}},ZT={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(N,E){switch(E){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Lo=function(N,E){return!!(N&E)},Ko={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(N,E){if(0===E.length)return[];var B=E[0];return 20===B.type&&"none"===B.value?[]:E}},e0={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(N,E){if(0===E.length)return null;var B=E[0];if(20===B.type&&"none"===B.value)return null;for(var I=[],Q=E.filter(My),ne=0;ne<Q.length;ne++){var me=Q[ne],Be=Q[ne+1];if(20===me.type){var Ie=Be&&dt(Be)?Be.number:1;I.push({counter:me.value,increment:Ie})}}return I}},Qg={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(N,E){if(0===E.length)return[];for(var B=[],I=E.filter(My),Q=0;Q<I.length;Q++){var ne=I[Q],me=I[Q+1];if(ks(ne)&&"none"!==ne.value){var Be=me&&dt(me)?me.number:0;B.push({counter:ne.value,reset:Be})}}return B}},kf={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(N,E){return E.filter(W_).map(function(B){return Tl.parse(N,B)})}},t0={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(N,E){if(0===E.length)return null;var B=E[0];if(20===B.type&&"none"===B.value)return null;var I=[],Q=E.filter(ze);if(Q.length%2!=0)return null;for(var ne=0;ne<Q.length;ne+=2)I.push({open:Q[ne].value,close:Q[ne+1].value});return I}},xS=function(N,E,B){if(!N)return"";var I=N[Math.min(E,N.length-1)];return I?B?I.open:I.close:""},Wp={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(N,E){return 1===E.length&&Rg(E[0],"none")?[]:Ph(E).map(function(B){for(var I={color:255,offsetX:Ml,offsetY:Ml,blur:Ml,spread:Ml,inset:!1},Q=0,ne=0;ne<B.length;ne++){var me=B[ne];Rg(me,"inset")?I.inset=!0:Qp(me)?(0===Q?I.offsetX=me:1===Q?I.offsetY=me:2===Q?I.blur=me:I.spread=me,Q++):I.color=$m_parse(N,me)}return I})}},Vy={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(N,E){var I=[];return E.filter(ks).forEach(function(Q){switch(Q.value){case"stroke":I.push(1);break;case"fill":I.push(0);break;case"markers":I.push(2)}}),[0,1,2].forEach(function(Q){-1===I.indexOf(Q)&&I.push(Q)}),I}},Zm={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Yi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(N,E){return W_(E)?E.number:0}},CS=function(){function N(E,B){var I,Q;this.animationDuration=Vn(E,kf,B.animationDuration),this.backgroundClip=Vn(E,Ny,B.backgroundClip),this.backgroundColor=Vn(E,Iy,B.backgroundColor),this.backgroundImage=Vn(E,c5,B.backgroundImage),this.backgroundOrigin=Vn(E,u5,B.backgroundOrigin),this.backgroundPosition=Vn(E,gi,B.backgroundPosition),this.backgroundRepeat=Vn(E,zT,B.backgroundRepeat),this.backgroundSize=Vn(E,Nr,B.backgroundSize),this.borderTopColor=Vn(E,jp,B.borderTopColor),this.borderRightColor=Vn(E,Yl,B.borderRightColor),this.borderBottomColor=Vn(E,QT,B.borderBottomColor),this.borderLeftColor=Vn(E,GT,B.borderLeftColor),this.borderTopLeftRadius=Vn(E,d5,B.borderTopLeftRadius),this.borderTopRightRadius=Vn(E,h5,B.borderTopRightRadius),this.borderBottomRightRadius=Vn(E,Ug,B.borderBottomRightRadius),this.borderBottomLeftRadius=Vn(E,f5,B.borderBottomLeftRadius),this.borderTopStyle=Vn(E,jT,B.borderTopStyle),this.borderRightStyle=Vn(E,Py,B.borderRightStyle),this.borderBottomStyle=Vn(E,xj,B.borderBottomStyle),this.borderLeftStyle=Vn(E,gS,B.borderLeftStyle),this.borderTopWidth=Vn(E,vS,B.borderTopWidth),this.borderRightWidth=Vn(E,qT,B.borderRightWidth),this.borderBottomWidth=Vn(E,WT,B.borderBottomWidth),this.borderLeftWidth=Vn(E,Ym,B.borderLeftWidth),this.boxShadow=Vn(E,Wp,B.boxShadow),this.color=Vn(E,p5,B.color),this.direction=Vn(E,_S,B.direction),this.display=Vn(E,Ry,B.display),this.float=Vn(E,bS,B.cssFloat),this.fontFamily=Vn(E,Ea,B.fontFamily),this.fontSize=Vn(E,Ld,B.fontSize),this.fontStyle=Vn(E,ZT,B.fontStyle),this.fontVariant=Vn(E,J_,B.fontVariant),this.fontWeight=Vn(E,ki,B.fontWeight),this.letterSpacing=Vn(E,ky,B.letterSpacing),this.lineBreak=Vn(E,Vg,B.lineBreak),this.lineHeight=Vn(E,yS,B.lineHeight),this.listStyleImage=Vn(E,A5,B.listStyleImage),this.listStylePosition=Vn(E,KT,B.listStylePosition),this.listStyleType=Vn(E,qp,B.listStyleType),this.marginTop=Vn(E,g5,B.marginTop),this.marginRight=Vn(E,v5,B.marginRight),this.marginBottom=Vn(E,wS,B.marginBottom),this.marginLeft=Vn(E,Oh,B.marginLeft),this.opacity=Vn(E,mu,B.opacity);var ne=Vn(E,XT,B.overflow);this.overflowX=ne[0],this.overflowY=ne[ne.length>1?1:0],this.overflowWrap=Vn(E,Y_,B.overflowWrap),this.paddingTop=Vn(E,_5,B.paddingTop),this.paddingRight=Vn(E,b5,B.paddingRight),this.paddingBottom=Vn(E,Ha,B.paddingBottom),this.paddingLeft=Vn(E,YT,B.paddingLeft),this.paintOrder=Vn(E,Vy,B.paintOrder),this.position=Vn(E,Z_,B.position),this.textAlign=Vn(E,y5,B.textAlign),this.textDecorationColor=Vn(E,zg,null!==(I=B.textDecorationColor)&&void 0!==I?I:B.color),this.textDecorationLine=Vn(E,po,null!==(Q=B.textDecorationLine)&&void 0!==Q?Q:B.textDecoration),this.textShadow=Vn(E,w5,B.textShadow),this.textTransform=Vn(E,x5,B.textTransform),this.transform=Vn(E,C5,B.transform),this.transformOrigin=Vn(E,ko,B.transformOrigin),this.visibility=Vn(E,wn,B.visibility),this.webkitTextStrokeColor=Vn(E,Zm,B.webkitTextStrokeColor),this.webkitTextStrokeWidth=Vn(E,Yi,B.webkitTextStrokeWidth),this.wordBreak=Vn(E,ua,B.wordBreak),this.zIndex=Vn(E,kd,B.zIndex)}return N.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},N.prototype.isTransparent=function(){return xa(this.backgroundColor)},N.prototype.isTransformed=function(){return null!==this.transform},N.prototype.isPositioned=function(){return 0!==this.position},N.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},N.prototype.isFloating=function(){return 0!==this.float},N.prototype.isInlineLevel=function(){return Lo(this.display,4)||Lo(this.display,33554432)||Lo(this.display,268435456)||Lo(this.display,536870912)||Lo(this.display,67108864)||Lo(this.display,134217728)},N}(),n0=function(){return function N(E,B){this.content=Vn(E,Ko,B.content),this.quotes=Vn(E,t0,B.quotes)}}(),Ud=function(){return function N(E,B){this.counterIncrement=Vn(E,e0,B.counterIncrement),this.counterReset=Vn(E,Qg,B.counterReset)}}(),Vn=function(N,E,B){var I=new PT,Q=null!==B&&typeof B<"u"?B.toString():E.initialValue;I.write(Q);var ne=new Of(I.read());switch(E.type){case 2:var me=ne.parseComponentValue();return E.parse(N,ks(me)?me.value:E.initialValue);case 0:return E.parse(N,ne.parseComponentValue());case 1:return E.parse(N,ne.parseComponentValues());case 4:return ne.parseComponentValue();case 3:switch(E.format){case"angle":return Wm_parse(N,ne.parseComponentValue());case"color":return $m_parse(N,ne.parseComponentValue());case"image":return AS_parse(N,ne.parseComponentValue());case"length":var Be=ne.parseComponentValue();return Qp(Be)?Be:Ml;case"length-percentage":var Ie=ne.parseComponentValue();return wa(Ie)?Ie:Ml;case"time":return Tl.parse(N,ne.parseComponentValue())}}},r0=function(N,E){var B=function(N){switch(N.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(N);return 1===B||E===B},So=function(){return function N(E,B){this.context=E,this.textNodes=[],this.elements=[],this.flags=0,r0(B,3),this.styles=new CS(E,window.getComputedStyle(B,null)),Jy(B)&&(this.styles.animationDuration.some(function(I){return I>0})&&(B.style.animationDuration="0s"),null!==this.styles.transform&&(B.style.transform="none")),this.bounds=Pn(this.context,B),r0(B,4)&&(this.flags|=16)}}(),zy="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hd=typeof Uint8Array>"u"?[]:new Uint8Array(256),Jm=0;Jm<64;Jm++)Hd[zy.charCodeAt(Jm)]=Jm;for(var N5=function(N,E,B){return N.slice?N.slice(E,B):new Uint16Array(Array.prototype.slice.call(N,E,B))},tN=function(){function N(E,B,I,Q,ne,me){this.initialValue=E,this.errorValue=B,this.highStart=I,this.highValueIndex=Q,this.index=ne,this.data=me}return N.prototype.get=function(E){var B;if(E>=0){if(E<55296||E>56319&&E<=65535)return this.data[B=((B=this.index[E>>5])<<2)+(31&E)];if(E<=65535)return this.data[B=((B=this.index[2048+(E-55296>>5)])<<2)+(31&E)];if(E<this.highStart)return B=this.index[B=2080+(E>>11)],this.data[B=((B=this.index[B+=E>>5&63])<<2)+(31&E)];if(E<=1114111)return this.data[this.highValueIndex]}return this.errorValue},N}(),I5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Pj=typeof Uint8Array>"u"?[]:new Uint8Array(256),ES=0;ES<64;ES++)Pj[I5.charCodeAt(ES)]=ES;var nN=8,qy=9,iN=11,$y=12,oN=function(){for(var N=[],E=0;E<arguments.length;E++)N[E]=arguments[E];if(String.fromCodePoint)return String.fromCodePoint.apply(String,N);var B=N.length;if(!B)return"";for(var I=[],Q=-1,ne="";++Q<B;){var me=N[Q];me<=65535?I.push(me):I.push(55296+((me-=65536)>>10),me%1024+56320),(Q+1===B||I.length>16384)&&(ne+=String.fromCharCode.apply(String,I),I.length=0)}return ne},F5=function(N,E){var B=function(N){var I,ne,me,Be,Ie,E=.75*N.length,B=N.length,Q=0;"="===N[N.length-1]&&(E--,"="===N[N.length-2]&&E--);var We=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(E):new Array(E),tt=Array.isArray(We)?We:new Uint8Array(We);for(I=0;I<B;I+=4)ne=Hd[N.charCodeAt(I)],me=Hd[N.charCodeAt(I+1)],Be=Hd[N.charCodeAt(I+2)],Ie=Hd[N.charCodeAt(I+3)],tt[Q++]=ne<<2|me>>4,tt[Q++]=(15&me)<<4|Be>>2,tt[Q++]=(3&Be)<<6|63&Ie;return We}(N),I=Array.isArray(B)?function(N){for(var E=N.length,B=[],I=0;I<E;I+=4)B.push(N[I+3]<<24|N[I+2]<<16|N[I+1]<<8|N[I]);return B}(B):new Uint32Array(B),Q=Array.isArray(B)?function(N){for(var E=N.length,B=[],I=0;I<E;I+=2)B.push(N[I+1]<<8|N[I]);return B}(B):new Uint16Array(B),me=N5(Q,12,I[4]/2),Be=2===I[5]?N5(Q,(24+I[4])/2):function(N,E,B){return N.slice?N.slice(E,B):new Uint32Array(Array.prototype.slice.call(N,E,B))}(I,Math.ceil((24+I[4])/4));return new tN(I[0],I[1],I[2],I[3],me,Be)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),TS=function(N){return F5.get(N)},o0=function(N,E,B){var I=B-2,Q=E[I],ne=E[B-1],me=E[B];if(2===ne&&3===me)return"\xd7";if(2===ne||3===ne||4===ne||2===me||3===me||4===me)return"\xf7";if(ne===nN&&-1!==[nN,qy,iN,$y].indexOf(me)||(ne===iN||ne===qy)&&(me===qy||10===me)||(ne===$y||10===ne)&&10===me||13===me||5===me||7===me||1===ne)return"\xd7";if(13===ne&&14===me){for(;5===Q;)Q=E[--I];if(14===Q)return"\xd7"}if(15===ne&&15===me){for(var Be=0;15===Q;)Be++,Q=E[--I];if(Be%2==0)return"\xd7"}return"\xf7"},yc=function(N){var E=function(N){for(var E=[],B=0,I=N.length;B<I;){var Q=N.charCodeAt(B++);if(Q>=55296&&Q<=56319&&B<I){var ne=N.charCodeAt(B++);56320==(64512&ne)?E.push(((1023&Q)<<10)+(1023&ne)+65536):(E.push(Q),B--)}else E.push(Q)}return E}(N),B=E.length,I=0,Q=0,ne=E.map(TS);return{next:function(){if(I>=B)return{done:!0,value:null};for(var me="\xd7";I<B&&"\xd7"===(me=o0(0,ne,++I)););if("\xd7"!==me||I===B){var Be=oN.apply(null,E.slice(Q,I));return Q=I,{value:Be,done:!1}}return{done:!0,value:null}}}},aN=function(N){return 0===N[0]&&255===N[1]&&0===N[2]&&255===N[3]},Xy=function(N,E,B,I,Q){var ne="http://www.w3.org/2000/svg",me=document.createElementNS(ne,"svg"),Be=document.createElementNS(ne,"foreignObject");return me.setAttributeNS(null,"width",N.toString()),me.setAttributeNS(null,"height",E.toString()),Be.setAttributeNS(null,"width","100%"),Be.setAttributeNS(null,"height","100%"),Be.setAttributeNS(null,"x",B.toString()),Be.setAttributeNS(null,"y",I.toString()),Be.setAttributeNS(null,"externalResourcesRequired","true"),me.appendChild(Be),Be.appendChild(Q),me},lN=function(N){return new Promise(function(E,B){var I=new Image;I.onload=function(){return E(I)},I.onerror=B,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(N))})},hl={get SUPPORT_RANGE_BOUNDS(){var N=function(N){if(N.createRange){var B=N.createRange();if(B.getBoundingClientRect){var I=N.createElement("boundtest");I.style.height="123px",I.style.display="block",N.body.appendChild(I),B.selectNode(I);var Q=B.getBoundingClientRect(),ne=Math.round(Q.height);if(N.body.removeChild(I),123===ne)return!0}}return!1}(document);return Object.defineProperty(hl,"SUPPORT_RANGE_BOUNDS",{value:N}),N},get SUPPORT_WORD_BREAKING(){var N=hl.SUPPORT_RANGE_BOUNDS&&function(N){var E=N.createElement("boundtest");E.style.width="50px",E.style.display="block",E.style.fontSize="12px",E.style.letterSpacing="0px",E.style.wordSpacing="0px",N.body.appendChild(E);var B=N.createRange();E.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var I=E.firstChild,Q=It(I.data).map(function(Ie){return je(Ie)}),ne=0,me={},Be=Q.every(function(Ie,We){B.setStart(I,ne),B.setEnd(I,ne+Ie.length);var tt=B.getBoundingClientRect();ne+=Ie.length;var ft=tt.x>me.x||tt.y>me.y;return me=tt,0===We||ft});return N.body.removeChild(E),Be}(document);return Object.defineProperty(hl,"SUPPORT_WORD_BREAKING",{value:N}),N},get SUPPORT_SVG_DRAWING(){var N=function(N){var E=new Image,B=N.createElement("canvas"),I=B.getContext("2d");if(!I)return!1;E.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{I.drawImage(E,0,0),B.toDataURL()}catch{return!1}return!0}(document);return Object.defineProperty(hl,"SUPPORT_SVG_DRAWING",{value:N}),N},get SUPPORT_FOREIGNOBJECT_DRAWING(){var N="function"==typeof Array.from&&"function"==typeof window.fetch?function(N){var E=N.createElement("canvas"),B=100;E.width=B,E.height=B;var I=E.getContext("2d");if(!I)return Promise.reject(!1);I.fillStyle="rgb(0, 255, 0)",I.fillRect(0,0,B,B);var Q=new Image,ne=E.toDataURL();Q.src=ne;var me=Xy(B,B,0,0,Q);return I.fillStyle="red",I.fillRect(0,0,B,B),lN(me).then(function(Be){I.drawImage(Be,0,0);var Ie=I.getImageData(0,0,B,B).data;I.fillStyle="red",I.fillRect(0,0,B,B);var We=N.createElement("div");return We.style.backgroundImage="url("+ne+")",We.style.height=B+"px",aN(Ie)?lN(Xy(B,B,0,0,We)):Promise.reject(!1)}).then(function(Be){return I.drawImage(Be,0,0),aN(I.getImageData(0,0,B,B).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(hl,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:N}),N},get SUPPORT_CORS_IMAGES(){var N=typeof(new Image).crossOrigin<"u";return Object.defineProperty(hl,"SUPPORT_CORS_IMAGES",{value:N}),N},get SUPPORT_RESPONSE_TYPE(){var N="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(hl,"SUPPORT_RESPONSE_TYPE",{value:N}),N},get SUPPORT_CORS_XHR(){var N="withCredentials"in new XMLHttpRequest;return Object.defineProperty(hl,"SUPPORT_CORS_XHR",{value:N}),N},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var N=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(hl,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:N}),N}},tA=function(){return function N(E,B){this.text=E,this.bounds=B}}(),l0=function(N,E){var B=E.ownerDocument;if(B){var I=B.createElement("html2canvaswrapper");I.appendChild(E.cloneNode(!0));var Q=E.parentNode;if(Q){Q.replaceChild(I,E);var ne=Pn(N,I);return I.firstChild&&Q.replaceChild(I.firstChild,I),ne}}return vn.EMPTY},c0=function(N,E,B){var I=N.ownerDocument;if(!I)throw new Error("Node has no owner document");var Q=I.createRange();return Q.setStart(N,E),Q.setEnd(N,E+B),Q},u0=function(N){if(hl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var E=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(E.segment(N)).map(function(B){return B.segment})}return function(N){for(var I,E=yc(N),B=[];!(I=E.next()).done;)I.value&&B.push(I.value.slice());return B}(N)},Li=function(N,E){return 0!==E.letterSpacing?u0(N):function(N,E){if(hl.SUPPORT_NATIVE_TEXT_SEGMENTATION){var B=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(B.segment(N)).map(function(I){return I.segment})}return Rj(N,E)}(N,E)},cN=[32,160,4961,65792,65793,4153,4241],Rj=function(N,E){for(var Q,B=function(N,E){var B=It(N),I=MT(B,E),Q=I[0],ne=I[1],me=I[2],Be=B.length,Ie=0,We=0;return{next:function(){if(We>=Be)return{done:!0,value:null};for(var tt=Tr;We<Be&&(tt=DT(B,ne,Q,++We,me))===Tr;);if(tt!==Tr||We===Be){var ft=new by(B,tt,Ie,We);return Ie=We,{value:ft,done:!1}}return{done:!0,value:null}}}}(N,{lineBreak:E.lineBreak,wordBreak:"break-word"===E.overflowWrap?"break-word":E.wordBreak}),I=[],ne=function(){if(Q.value){var me=Q.value.slice(),Be=It(me),Ie="";Be.forEach(function(We){-1===cN.indexOf(We)?Ie+=je(We):(Ie.length&&I.push(Ie),I.push(je(We)),Ie="")}),Ie.length&&I.push(Ie)}};!(Q=B.next()).done;)ne();return I},R5=function(){return function N(E,B,I){this.text=k5(B.data,I.textTransform),this.textBounds=function(N,E,B,I){var Q=Li(E,B),ne=[],me=0;return Q.forEach(function(Be){if(B.textDecorationLine.length||Be.trim().length>0)if(hl.SUPPORT_RANGE_BOUNDS){var Ie=c0(I,me,Be.length).getClientRects();if(Ie.length>1){var We=u0(Be),tt=0;We.forEach(function(Et){ne.push(new tA(Et,vn.fromDOMRectList(N,c0(I,tt+me,Et.length).getClientRects()))),tt+=Et.length})}else ne.push(new tA(Be,vn.fromDOMRectList(N,Ie)))}else{var ft=I.splitText(Be.length);ne.push(new tA(Be,l0(N,I))),I=ft}else hl.SUPPORT_RANGE_BOUNDS||(I=I.splitText(Be.length));me+=Be.length}),ne}(E,this.text,I,B)}}(),k5=function(N,E){switch(E){case 1:return N.toLowerCase();case 3:return N.replace(L5,uN);case 2:return N.toUpperCase();default:return N}},L5=/(^|\s|:|-|\(|\))([a-z])/g,uN=function(N,E,B){return N.length>0?E+B.toUpperCase():N},iA=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.src=I.currentSrc||I.src,Q.intrinsicWidth=I.naturalWidth,Q.intrinsicHeight=I.naturalHeight,Q.context.cache.addImage(Q.src),Q}return Me(E,N),E}(So),dN=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.canvas=I,Q.intrinsicWidth=I.width,Q.intrinsicHeight=I.height,Q}return Me(E,N),E}(So),hN=function(N){function E(B,I){var Q=N.call(this,B,I)||this,ne=new XMLSerializer,me=Pn(B,I);return I.setAttribute("width",me.width+"px"),I.setAttribute("height",me.height+"px"),Q.svg="data:image/svg+xml,"+encodeURIComponent(ne.serializeToString(I)),Q.intrinsicWidth=I.width.baseVal.value,Q.intrinsicHeight=I.height.baseVal.value,Q.context.cache.addImage(Q.svg),Q}return Me(E,N),E}(So),fN=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.value=I.value,Q}return Me(E,N),E}(So),BS=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.start=I.start,Q.reversed="boolean"==typeof I.reversed&&!0===I.reversed,Q}return Me(E,N),E}(So),U5=[{type:15,flags:0,unit:"px",number:3}],Lt=[{type:16,flags:0,number:50}],Gt="checkbox",As="radio",pN="password",qg=707406591,Ku=function(N){function E(B,I){var Q=N.call(this,B,I)||this;switch(Q.type=I.type.toLowerCase(),Q.checked=I.checked,Q.value=function(N){var E=N.type===pN?new Array(N.value.length+1).join("\u2022"):N.value;return 0===E.length?N.placeholder||"":E}(I),(Q.type===Gt||Q.type===As)&&(Q.styles.backgroundColor=3739148031,Q.styles.borderTopColor=Q.styles.borderRightColor=Q.styles.borderBottomColor=Q.styles.borderLeftColor=2779096575,Q.styles.borderTopWidth=Q.styles.borderRightWidth=Q.styles.borderBottomWidth=Q.styles.borderLeftWidth=1,Q.styles.borderTopStyle=Q.styles.borderRightStyle=Q.styles.borderBottomStyle=Q.styles.borderLeftStyle=1,Q.styles.backgroundClip=[0],Q.styles.backgroundOrigin=[0],Q.bounds=function(N){return N.width>N.height?new vn(N.left+(N.width-N.height)/2,N.top,N.height,N.height):N.width<N.height?new vn(N.left,N.top+(N.height-N.width)/2,N.width,N.width):N}(Q.bounds)),Q.type){case Gt:Q.styles.borderTopRightRadius=Q.styles.borderTopLeftRadius=Q.styles.borderBottomRightRadius=Q.styles.borderBottomLeftRadius=U5;break;case As:Q.styles.borderTopRightRadius=Q.styles.borderTopLeftRadius=Q.styles.borderBottomRightRadius=Q.styles.borderBottomLeftRadius=Lt}return Q}return Me(E,N),E}(So),Yy=function(N){function E(B,I){var Q=N.call(this,B,I)||this,ne=I.options[I.selectedIndex||0];return Q.value=ne&&ne.text||"",Q}return Me(E,N),E}(So),Zy=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.value=I.value,Q}return Me(E,N),E}(So),mN=function(N){function E(B,I){var Q=N.call(this,B,I)||this;Q.src=I.src,Q.width=parseInt(I.width,10)||0,Q.height=parseInt(I.height,10)||0,Q.backgroundColor=Q.styles.backgroundColor;try{if(I.contentWindow&&I.contentWindow.document&&I.contentWindow.document.documentElement){Q.tree=kh(B,I.contentWindow.document.documentElement);var ne=I.contentWindow.document.documentElement?Lg(B,getComputedStyle(I.contentWindow.document.documentElement).backgroundColor):Rd.TRANSPARENT,me=I.contentWindow.document.body?Lg(B,getComputedStyle(I.contentWindow.document.body).backgroundColor):Rd.TRANSPARENT;Q.backgroundColor=xa(ne)?xa(me)?Q.styles.backgroundColor:me:ne}}catch{}return Q}return Me(E,N),E}(So),kj=["OL","UL","MENU"],d0=function(N,E,B,I){for(var Q=E.firstChild,ne=void 0;Q;Q=ne)if(ne=Q.nextSibling,Lh(Q)&&Q.data.trim().length>0)B.textNodes.push(new R5(N,Q,B.styles));else if(Wg(Q))if(Nl(Q)&&Q.assignedNodes)Q.assignedNodes().forEach(function(Be){return d0(N,Be,B,I)});else{var me=Jl(N,Q);me.styles.isVisible()&&(AN(Q,me,I)?me.flags|=4:Gd(me.styles)&&(me.flags|=2),-1!==kj.indexOf(Q.tagName)&&(me.flags|=8),B.elements.push(me),Q.shadowRoot?d0(N,Q.shadowRoot,me,I):!$g(Q)&&!h0(Q)&&!r1(Q)&&d0(N,Q,me,I))}},Jl=function(N,E){return n1(E)?new iA(N,E):kS(E)?new dN(N,E):h0(E)?new hN(N,E):H5(E)?new fN(N,E):FS(E)?new BS(N,E):PS(E)?new Ku(N,E):r1(E)?new Yy(N,E):$g(E)?new Zy(N,E):LS(E)?new mN(N,E):new So(N,E)},kh=function(N,E){var B=Jl(N,E);return B.flags|=4,d0(N,E,B,B),B},AN=function(N,E,B){return E.styles.isPositionedWithZIndex()||E.styles.opacity<1||E.styles.isTransformed()||RS(N)&&B.styles.isTransparent()},Gd=function(N){return N.isPositioned()||N.isFloating()},Lh=function(N){return N.nodeType===Node.TEXT_NODE},Wg=function(N){return N.nodeType===Node.ELEMENT_NODE},Jy=function(N){return Wg(N)&&typeof N.style<"u"&&!e1(N)},e1=function(N){return"object"==typeof N.className},H5=function(N){return"LI"===N.tagName},FS=function(N){return"OL"===N.tagName},PS=function(N){return"INPUT"===N.tagName},h0=function(N){return"svg"===N.tagName},RS=function(N){return"BODY"===N.tagName},kS=function(N){return"CANVAS"===N.tagName},t1=function(N){return"VIDEO"===N.tagName},n1=function(N){return"IMG"===N.tagName},LS=function(N){return"IFRAME"===N.tagName},US=function(N){return"STYLE"===N.tagName},$g=function(N){return"TEXTAREA"===N.tagName},r1=function(N){return"SELECT"===N.tagName},Nl=function(N){return"SLOT"===N.tagName},$p=function(N){return N.tagName.indexOf("-")>0},mo=function(){function N(){this.counters={}}return N.prototype.getCounterValue=function(E){var B=this.counters[E];return B&&B.length?B[B.length-1]:1},N.prototype.getCounterValues=function(E){return this.counters[E]||[]},N.prototype.pop=function(E){var B=this;E.forEach(function(I){return B.counters[I].pop()})},N.prototype.parse=function(E){var B=this,I=E.counterIncrement,Q=E.counterReset,ne=!0;null!==I&&I.forEach(function(Be){var Ie=B.counters[Be.counter];Ie&&0!==Be.increment&&(ne=!1,Ie.length||Ie.push(1),Ie[Math.max(0,Ie.length-1)]+=Be.increment)});var me=[];return ne&&Q.forEach(function(Be){var Ie=B.counters[Be.counter];me.push(Be.counter),Ie||(Ie=B.counters[Be.counter]=[]),Ie.push(Be.reset)}),me},N}(),Kp={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},vN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},HS={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},V5={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},rA=function(N,E,B,I,Q,ne){return N<E||N>B?Lf(N,Q,ne.length>0):I.integers.reduce(function(me,Be,Ie){for(;N>=Be;)N-=Be,me+=I.values[Ie];return me},"")+ne},VS=function(N,E,B,I){var Q="";do{B||N--,Q=I(N)+Q,N/=E}while(N*E>=E);return Q},Eo=function(N,E,B,I,Q){var ne=B-E+1;return(N<0?"-":"")+(VS(Math.abs(N),ne,I,function(me){return je(Math.floor(me%ne)+E)})+Q)},ec=function(N,E,B){void 0===B&&(B=". ");var I=E.length;return VS(Math.abs(N),I,!1,function(Q){return E[Math.floor(Q%I)]})+B},Wd=function(N,E,B,I,Q,ne){if(N<-9999||N>9999)return Lf(N,4,Q.length>0);var me=Math.abs(N),Be=Q;if(0===me)return E[0]+Be;for(var Ie=0;me>0&&Ie<=4;Ie++){var We=me%10;0===We&&Lo(ne,1)&&""!==Be?Be=E[We]+Be:We>1||1===We&&0===Ie||1===We&&1===Ie&&Lo(ne,2)||1===We&&1===Ie&&Lo(ne,4)&&N>100||1===We&&Ie>1&&Lo(ne,8)?Be=E[We]+(Ie>0?B[Ie-1]:"")+Be:1===We&&Ie>0&&(Be=B[Ie-1]+Be),me=Math.floor(me/10)}return(N<0?I:"")+Be},Yp="\ub9c8\uc774\ub108\uc2a4",Lf=function(N,E,B){var I=B?". ":"",Q=B?"\u3001":"",ne=B?", ":"",me=B?" ":"";switch(E){case 0:return"\u2022"+me;case 1:return"\u25e6"+me;case 2:return"\u25fe"+me;case 5:var Be=Eo(N,48,57,!0,I);return Be.length<4?"0"+Be:Be;case 4:return ec(N,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Q);case 6:return rA(N,1,3999,Kp,3,I).toLowerCase();case 7:return rA(N,1,3999,Kp,3,I);case 8:return Eo(N,945,969,!1,I);case 9:return Eo(N,97,122,!1,I);case 10:return Eo(N,65,90,!1,I);case 11:return Eo(N,1632,1641,!0,I);case 12:case 49:return rA(N,1,9999,vN,3,I);case 35:return rA(N,1,9999,vN,3,I).toLowerCase();case 13:return Eo(N,2534,2543,!0,I);case 14:case 30:return Eo(N,6112,6121,!0,I);case 15:return ec(N,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",Q);case 16:return ec(N,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",Q);case 17:case 48:return Wd(N,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",Q,14);case 47:return Wd(N,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",Q,15);case 42:return Wd(N,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",Q,14);case 41:return Wd(N,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",Q,15);case 26:return Wd(N,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",Q,0);case 25:return Wd(N,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",Q,7);case 31:return Wd(N,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Yp,ne,7);case 33:return Wd(N,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Yp,ne,0);case 32:return Wd(N,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Yp,ne,7);case 18:return Eo(N,2406,2415,!0,I);case 20:return rA(N,1,19999,V5,3,I);case 21:return Eo(N,2790,2799,!0,I);case 22:return Eo(N,2662,2671,!0,I);case 22:return rA(N,1,10999,HS,3,I);case 23:return ec(N,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return ec(N,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Eo(N,3302,3311,!0,I);case 28:return ec(N,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",Q);case 29:return ec(N,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",Q);case 34:return Eo(N,3792,3801,!0,I);case 37:return Eo(N,6160,6169,!0,I);case 38:return Eo(N,4160,4169,!0,I);case 39:return Eo(N,2918,2927,!0,I);case 40:return Eo(N,1776,1785,!0,I);case 43:return Eo(N,3046,3055,!0,I);case 44:return Eo(N,3174,3183,!0,I);case 45:return Eo(N,3664,3673,!0,I);case 46:return Eo(N,3872,3881,!0,I);default:return Eo(N,48,57,!0,I)}},bN="data-html2canvas-ignore",s1=function(){function N(E,B,I){if(this.context=E,this.options=I,this.scrolledElements=[],this.referenceElement=B,this.counters=new mo,this.quoteDepth=0,!B.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(B.ownerDocument.documentElement,!1)}return N.prototype.toIFrame=function(E,B){var I=this,Q=z5(E,B);if(!Q.contentWindow)return Promise.reject("Unable to find iframe window");var ne=E.defaultView.pageXOffset,me=E.defaultView.pageYOffset,Be=Q.contentWindow,Ie=Be.document,We=Uj(Q).then(function(){return Tt(I,void 0,void 0,function(){var tt,ft;return Ot(this,function(Et){switch(Et.label){case 0:return this.scrolledElements.forEach(jS),Be&&(Be.scrollTo(B.left,B.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(Be.scrollY!==B.top||Be.scrollX!==B.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(Be.scrollX-B.left,Be.scrollY-B.top,0,0))),tt=this.options.onclone,typeof(ft=this.clonedReferenceElement)>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:Ie.fonts&&Ie.fonts.ready?[4,Ie.fonts.ready]:[3,2];case 1:Et.sent(),Et.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Lj(Ie)]:[3,4];case 3:Et.sent(),Et.label=4;case 4:return"function"==typeof tt?[2,Promise.resolve().then(function(){return tt(Ie,ft)}).then(function(){return Q})]:[2,Q]}})})});return Ie.open(),Ie.write(G5(document.doctype)+"<html></html>"),f0(this.referenceElement.ownerDocument,ne,me),Ie.replaceChild(Ie.adoptNode(this.documentElement),Ie.documentElement),Ie.close(),We},N.prototype.createElementClone=function(E){if(r0(E,2),kS(E))return this.createCanvasClone(E);if(t1(E))return this.createVideoClone(E);if(US(E))return this.createStyleClone(E);var B=E.cloneNode(!1);return n1(B)&&(n1(E)&&E.currentSrc&&E.currentSrc!==E.src&&(B.src=E.currentSrc,B.srcset=""),"lazy"===B.loading&&(B.loading="eager")),$p(B)?this.createCustomElementClone(B):B},N.prototype.createCustomElementClone=function(E){var B=document.createElement("html2canvascustomelement");return sA(E.style,B),B},N.prototype.createStyleClone=function(E){try{var B=E.sheet;if(B&&B.cssRules){var I=[].slice.call(B.cssRules,0).reduce(function(ne,me){return me&&"string"==typeof me.cssText?ne+me.cssText:ne},""),Q=E.cloneNode(!1);return Q.textContent=I,Q}}catch(ne){if(this.context.logger.error("Unable to access cssRules property",ne),"SecurityError"!==ne.name)throw ne}return E.cloneNode(!1)},N.prototype.createCanvasClone=function(E){var B;if(this.options.inlineImages&&E.ownerDocument){var I=E.ownerDocument.createElement("img");try{return I.src=E.toDataURL(),I}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",E)}}var Q=E.cloneNode(!1);try{Q.width=E.width,Q.height=E.height;var ne=E.getContext("2d"),me=Q.getContext("2d");if(me)if(!this.options.allowTaint&&ne)me.putImageData(ne.getImageData(0,0,E.width,E.height),0,0);else{var Be=null!==(B=E.getContext("webgl2"))&&void 0!==B?B:E.getContext("webgl");if(Be){var Ie=Be.getContextAttributes();!1===Ie?.preserveDrawingBuffer&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",E)}me.drawImage(E,0,0)}return Q}catch{this.context.logger.info("Unable to clone canvas as it is tainted",E)}return Q},N.prototype.createVideoClone=function(E){var B=E.ownerDocument.createElement("canvas");B.width=E.offsetWidth,B.height=E.offsetHeight;var I=B.getContext("2d");try{return I&&(I.drawImage(E,0,0,B.width,B.height),this.options.allowTaint||I.getImageData(0,0,B.width,B.height)),B}catch{this.context.logger.info("Unable to clone video as it is tainted",E)}var Q=E.ownerDocument.createElement("canvas");return Q.width=E.offsetWidth,Q.height=E.offsetHeight,Q},N.prototype.appendChildNode=function(E,B,I){(!Wg(B)||!function(N){return"SCRIPT"===N.tagName}(B)&&!B.hasAttribute(bN)&&("function"!=typeof this.options.ignoreElements||!this.options.ignoreElements(B)))&&(!this.options.copyStyles||!Wg(B)||!US(B))&&E.appendChild(this.cloneNode(B,I))},N.prototype.cloneChildNodes=function(E,B,I){for(var Q=this,ne=E.shadowRoot?E.shadowRoot.firstChild:E.firstChild;ne;ne=ne.nextSibling)if(Wg(ne)&&Nl(ne)&&"function"==typeof ne.assignedNodes){var me=ne.assignedNodes();me.length&&me.forEach(function(Be){return Q.appendChildNode(B,Be,I)})}else this.appendChildNode(B,ne,I)},N.prototype.cloneNode=function(E,B){if(Lh(E))return document.createTextNode(E.data);if(!E.ownerDocument)return E.cloneNode(!1);var I=E.ownerDocument.defaultView;if(I&&Wg(E)&&(Jy(E)||e1(E))){var Q=this.createElementClone(E);Q.style.transitionProperty="none";var ne=I.getComputedStyle(E),me=I.getComputedStyle(E,":before"),Be=I.getComputedStyle(E,":after");this.referenceElement===E&&Jy(Q)&&(this.clonedReferenceElement=Q),RS(Q)&&Uh(Q);var Ie=this.counters.parse(new Ud(this.context,ne)),We=this.resolvePseudoContent(E,Q,me,o1.BEFORE);$p(E)&&(B=!0),t1(E)||this.cloneChildNodes(E,Q,B),We&&Q.insertBefore(We,Q.firstChild);var tt=this.resolvePseudoContent(E,Q,Be,o1.AFTER);return tt&&Q.appendChild(tt),this.counters.pop(Ie),(ne&&(this.options.copyStyles||e1(E))&&!LS(E)||B)&&sA(ne,Q),(0!==E.scrollTop||0!==E.scrollLeft)&&this.scrolledElements.push([Q,E.scrollLeft,E.scrollTop]),($g(E)||r1(E))&&($g(Q)||r1(Q))&&(Q.value=E.value),Q}return E.cloneNode(!1)},N.prototype.resolvePseudoContent=function(E,B,I,Q){var ne=this;if(I){var me=I.content,Be=B.ownerDocument;if(Be&&me&&"none"!==me&&"-moz-alt-content"!==me&&"none"!==I.display){this.counters.parse(new Ud(this.context,I));var Ie=new n0(this.context,I),We=Be.createElement("html2canvaspseudoelement");sA(I,We),Ie.content.forEach(function(ft){if(0===ft.type)We.appendChild(Be.createTextNode(ft.value));else if(22===ft.type){var Et=Be.createElement("img");Et.src=ft.value,Et.style.opacity="1",We.appendChild(Et)}else if(18===ft.type){if("attr"===ft.name){var Qn=ft.values.filter(ks);Qn.length&&We.appendChild(Be.createTextNode(E.getAttribute(Qn[0].value)||""))}else if("counter"===ft.name){var xn=ft.values.filter(Fh),bi=xn[1];if((In=xn[0])&&ks(In)){var ri=ne.counters.getCounterValue(In.value),si=bi&&ks(bi)?qp.parse(ne.context,bi.value):3;We.appendChild(Be.createTextNode(Lf(ri,si,!1)))}}else if("counters"===ft.name){var In,hs=ft.values.filter(Fh),_r=hs[1];if(bi=hs[2],(In=hs[0])&&ks(In)){var Ui=ne.counters.getCounterValues(In.value),jn=bi&&ks(bi)?qp.parse(ne.context,bi.value):3,Zr=_r&&0===_r.type?_r.value:"",is=Ui.map(function(Hc){return Lf(Hc,jn,!1)}).join(Zr);We.appendChild(Be.createTextNode(is))}}}else if(20===ft.type)switch(ft.value){case"open-quote":We.appendChild(Be.createTextNode(xS(Ie.quotes,ne.quoteDepth++,!0)));break;case"close-quote":We.appendChild(Be.createTextNode(xS(Ie.quotes,--ne.quoteDepth,!1)));break;default:We.appendChild(Be.createTextNode(ft.value))}}),We.className=l1+" "+c1;var tt=Q===o1.BEFORE?" "+l1:" "+c1;return e1(B)?B.className.baseValue+=tt:B.className+=tt,We}}},N.destroy=function(E){return!!E.parentNode&&(E.parentNode.removeChild(E),!0)},N}(),o1=function(N){return N[N.BEFORE=0]="BEFORE",N[N.AFTER=1]="AFTER",N}(o1||{}),z5=function(N,E){var B=N.createElement("iframe");return B.className="html2canvas-container",B.style.visibility="hidden",B.style.position="fixed",B.style.left="-10000px",B.style.top="0px",B.style.border="0",B.width=E.width.toString(),B.height=E.height.toString(),B.scrolling="no",B.setAttribute(bN,"true"),N.body.appendChild(B),B},Q5=function(N){return new Promise(function(E){N.complete?E():N.src?(N.onload=E,N.onerror=E):E()})},Lj=function(N){return Promise.all([].slice.call(N.images,0).map(Q5))},Uj=function(N){return new Promise(function(E,B){var I=N.contentWindow;if(!I)return B("No window assigned for iframe");var Q=I.document;I.onload=N.onload=function(){I.onload=N.onload=null;var ne=setInterval(function(){Q.body.childNodes.length>0&&"complete"===Q.readyState&&(clearInterval(ne),E(N))},50)}})},GS=["all","d","content"],sA=function(N,E){for(var B=N.length-1;B>=0;B--){var I=N.item(B);-1===GS.indexOf(I)&&E.style.setProperty(I,N.getPropertyValue(I))}return E},G5=function(N){var E="";return N&&(E+="<!DOCTYPE ",N.name&&(E+=N.name),N.internalSubset&&(E+=N.internalSubset),N.publicId&&(E+='"'+N.publicId+'"'),N.systemId&&(E+='"'+N.systemId+'"'),E+=">"),E},f0=function(N,E,B){N&&N.defaultView&&(E!==N.defaultView.pageXOffset||B!==N.defaultView.pageYOffset)&&N.defaultView.scrollTo(E,B)},jS=function(N){var E=N[0],I=N[2];E.scrollLeft=N[1],E.scrollTop=I},l1="___html2canvas___pseudoelement_before",c1="___html2canvas___pseudoelement_after",yN='{\n    content: "" !important;\n    display: none !important;\n}',Uh=function(N){j5(N,"."+l1+":before"+yN+"\n         ."+c1+":after"+yN)},j5=function(N,E){var B=N.ownerDocument;if(B){var I=B.createElement("style");I.textContent=E,N.appendChild(I)}},p0=function(){function N(){}return N.getOrigin=function(E){var B=N._link;return B?(B.href=E,B.href=B.href,B.protocol+B.hostname+B.port):"about:blank"},N.isSameOrigin=function(E){return N.getOrigin(E)===N._origin},N.setContext=function(E){N._link=E.document.createElement("a"),N._origin=N.getOrigin(E.location.href)},N._origin="about:blank",N}(),qS=function(){function N(E,B){this.context=E,this._options=B,this._cache={}}return N.prototype.addImage=function(E){var B=Promise.resolve();return this.has(E)||(h1(E)||q5(E))&&(this._cache[E]=this.loadImage(E)).catch(function(){}),B},N.prototype.match=function(E){return this._cache[E]},N.prototype.loadImage=function(E){return Tt(this,void 0,void 0,function(){var B,I,Q,ne,me=this;return Ot(this,function(Be){switch(Be.label){case 0:return B=p0.isSameOrigin(E),I=!d1(E)&&!0===this._options.useCORS&&hl.SUPPORT_CORS_IMAGES&&!B,Q=!d1(E)&&!B&&!h1(E)&&"string"==typeof this._options.proxy&&hl.SUPPORT_CORS_XHR&&!I,B||!1!==this._options.allowTaint||d1(E)||h1(E)||Q||I?(ne=E,Q?[4,this.proxy(ne)]:[3,2]):[2];case 1:ne=Be.sent(),Be.label=2;case 2:return this.context.logger.debug("Added image "+E.substring(0,256)),[4,new Promise(function(Ie,We){var tt=new Image;tt.onload=function(){return Ie(tt)},tt.onerror=We,(xN(ne)||I)&&(tt.crossOrigin="anonymous"),tt.src=ne,!0===tt.complete&&setTimeout(function(){return Ie(tt)},500),me._options.imageTimeout>0&&setTimeout(function(){return We("Timed out ("+me._options.imageTimeout+"ms) loading image")},me._options.imageTimeout)})];case 3:return[2,Be.sent()]}})})},N.prototype.has=function(E){return typeof this._cache[E]<"u"},N.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},N.prototype.proxy=function(E){var B=this,I=this._options.proxy;if(!I)throw new Error("No proxy defined");var Q=E.substring(0,256);return new Promise(function(ne,me){var Be=hl.SUPPORT_RESPONSE_TYPE?"blob":"text",Ie=new XMLHttpRequest;Ie.onload=function(){if(200===Ie.status)if("text"===Be)ne(Ie.response);else{var ft=new FileReader;ft.addEventListener("load",function(){return ne(ft.result)},!1),ft.addEventListener("error",function(Et){return me(Et)},!1),ft.readAsDataURL(Ie.response)}else me("Failed to proxy resource "+Q+" with status code "+Ie.status)},Ie.onerror=me;var We=I.indexOf("?")>-1?"&":"?";if(Ie.open("GET",""+I+We+"url="+encodeURIComponent(E)+"&responseType="+Be),"text"!==Be&&Ie instanceof XMLHttpRequest&&(Ie.responseType=Be),B._options.imageTimeout){var tt=B._options.imageTimeout;Ie.timeout=tt,Ie.ontimeout=function(){return me("Timed out ("+tt+"ms) proxying "+Q)}}Ie.send()})},N}(),wN=/^data:image\/svg\+xml/i,u1=/^data:image\/.*;base64,/i,WS=/^data:image\/.*/i,q5=function(N){return hl.SUPPORT_SVG_DRAWING||!CN(N)},d1=function(N){return WS.test(N)},xN=function(N){return u1.test(N)},h1=function(N){return"blob"===N.substr(0,4)},CN=function(N){return"svg"===N.substr(-3).toLowerCase()||wN.test(N)},zn=function(){function N(E,B){this.type=0,this.x=E,this.y=B}return N.prototype.add=function(E,B){return new N(this.x+E,this.y+B)},N}(),Uf=function(N,E,B){return new zn(N.x+(E.x-N.x)*B,N.y+(E.y-N.y)*B)},Hh=function(){function N(E,B,I,Q){this.type=1,this.start=E,this.startControl=B,this.endControl=I,this.end=Q}return N.prototype.subdivide=function(E,B){var I=Uf(this.start,this.startControl,E),Q=Uf(this.startControl,this.endControl,E),ne=Uf(this.endControl,this.end,E),me=Uf(I,Q,E),Be=Uf(Q,ne,E),Ie=Uf(me,Be,E);return B?new N(this.start,I,me,Ie):new N(Ie,Be,ne,this.end)},N.prototype.add=function(E,B){return new N(this.start.add(E,B),this.startControl.add(E,B),this.endControl.add(E,B),this.end.add(E,B))},N.prototype.reverse=function(){return new N(this.end,this.endControl,this.startControl,this.start)},N}(),Xu=function(N){return 1===N.type},SN=function(){return function N(E){var B=E.styles,I=E.bounds,Q=Od(B.borderTopLeftRadius,I.width,I.height),ne=Q[0],me=Q[1],Be=Od(B.borderTopRightRadius,I.width,I.height),Ie=Be[0],We=Be[1],tt=Od(B.borderBottomRightRadius,I.width,I.height),ft=tt[0],Et=tt[1],Qn=Od(B.borderBottomLeftRadius,I.width,I.height),xn=Qn[0],In=Qn[1],bi=[];bi.push((ne+Ie)/I.width),bi.push((xn+ft)/I.width),bi.push((me+In)/I.height),bi.push((We+Et)/I.height);var ri=Math.max.apply(Math,bi);ri>1&&(ne/=ri,me/=ri,Ie/=ri,We/=ri,ft/=ri,Et/=ri,xn/=ri,In/=ri);var si=I.width-Ie,hs=I.height-Et,_r=I.width-ft,Ui=I.height-In,jn=B.borderTopWidth,Zr=B.borderRightWidth,is=B.borderBottomWidth,Gi=B.borderLeftWidth,Da=fo(B.paddingTop,E.bounds.width),Hc=fo(B.paddingRight,E.bounds.width),gu=fo(B.paddingBottom,E.bounds.width),qs=fo(B.paddingLeft,E.bounds.width);this.topLeftBorderDoubleOuterBox=ne>0||me>0?Ls(I.left+Gi/3,I.top+jn/3,ne-Gi/3,me-jn/3,Fs.TOP_LEFT):new zn(I.left+Gi/3,I.top+jn/3),this.topRightBorderDoubleOuterBox=ne>0||me>0?Ls(I.left+si,I.top+jn/3,Ie-Zr/3,We-jn/3,Fs.TOP_RIGHT):new zn(I.left+I.width-Zr/3,I.top+jn/3),this.bottomRightBorderDoubleOuterBox=ft>0||Et>0?Ls(I.left+_r,I.top+hs,ft-Zr/3,Et-is/3,Fs.BOTTOM_RIGHT):new zn(I.left+I.width-Zr/3,I.top+I.height-is/3),this.bottomLeftBorderDoubleOuterBox=xn>0||In>0?Ls(I.left+Gi/3,I.top+Ui,xn-Gi/3,In-is/3,Fs.BOTTOM_LEFT):new zn(I.left+Gi/3,I.top+I.height-is/3),this.topLeftBorderDoubleInnerBox=ne>0||me>0?Ls(I.left+2*Gi/3,I.top+2*jn/3,ne-2*Gi/3,me-2*jn/3,Fs.TOP_LEFT):new zn(I.left+2*Gi/3,I.top+2*jn/3),this.topRightBorderDoubleInnerBox=ne>0||me>0?Ls(I.left+si,I.top+2*jn/3,Ie-2*Zr/3,We-2*jn/3,Fs.TOP_RIGHT):new zn(I.left+I.width-2*Zr/3,I.top+2*jn/3),this.bottomRightBorderDoubleInnerBox=ft>0||Et>0?Ls(I.left+_r,I.top+hs,ft-2*Zr/3,Et-2*is/3,Fs.BOTTOM_RIGHT):new zn(I.left+I.width-2*Zr/3,I.top+I.height-2*is/3),this.bottomLeftBorderDoubleInnerBox=xn>0||In>0?Ls(I.left+2*Gi/3,I.top+Ui,xn-2*Gi/3,In-2*is/3,Fs.BOTTOM_LEFT):new zn(I.left+2*Gi/3,I.top+I.height-2*is/3),this.topLeftBorderStroke=ne>0||me>0?Ls(I.left+Gi/2,I.top+jn/2,ne-Gi/2,me-jn/2,Fs.TOP_LEFT):new zn(I.left+Gi/2,I.top+jn/2),this.topRightBorderStroke=ne>0||me>0?Ls(I.left+si,I.top+jn/2,Ie-Zr/2,We-jn/2,Fs.TOP_RIGHT):new zn(I.left+I.width-Zr/2,I.top+jn/2),this.bottomRightBorderStroke=ft>0||Et>0?Ls(I.left+_r,I.top+hs,ft-Zr/2,Et-is/2,Fs.BOTTOM_RIGHT):new zn(I.left+I.width-Zr/2,I.top+I.height-is/2),this.bottomLeftBorderStroke=xn>0||In>0?Ls(I.left+Gi/2,I.top+Ui,xn-Gi/2,In-is/2,Fs.BOTTOM_LEFT):new zn(I.left+Gi/2,I.top+I.height-is/2),this.topLeftBorderBox=ne>0||me>0?Ls(I.left,I.top,ne,me,Fs.TOP_LEFT):new zn(I.left,I.top),this.topRightBorderBox=Ie>0||We>0?Ls(I.left+si,I.top,Ie,We,Fs.TOP_RIGHT):new zn(I.left+I.width,I.top),this.bottomRightBorderBox=ft>0||Et>0?Ls(I.left+_r,I.top+hs,ft,Et,Fs.BOTTOM_RIGHT):new zn(I.left+I.width,I.top+I.height),this.bottomLeftBorderBox=xn>0||In>0?Ls(I.left,I.top+Ui,xn,In,Fs.BOTTOM_LEFT):new zn(I.left,I.top+I.height),this.topLeftPaddingBox=ne>0||me>0?Ls(I.left+Gi,I.top+jn,Math.max(0,ne-Gi),Math.max(0,me-jn),Fs.TOP_LEFT):new zn(I.left+Gi,I.top+jn),this.topRightPaddingBox=Ie>0||We>0?Ls(I.left+Math.min(si,I.width-Zr),I.top+jn,si>I.width+Zr?0:Math.max(0,Ie-Zr),Math.max(0,We-jn),Fs.TOP_RIGHT):new zn(I.left+I.width-Zr,I.top+jn),this.bottomRightPaddingBox=ft>0||Et>0?Ls(I.left+Math.min(_r,I.width-Gi),I.top+Math.min(hs,I.height-is),Math.max(0,ft-Zr),Math.max(0,Et-is),Fs.BOTTOM_RIGHT):new zn(I.left+I.width-Zr,I.top+I.height-is),this.bottomLeftPaddingBox=xn>0||In>0?Ls(I.left+Gi,I.top+Math.min(Ui,I.height-is),Math.max(0,xn-Gi),Math.max(0,In-is),Fs.BOTTOM_LEFT):new zn(I.left+Gi,I.top+I.height-is),this.topLeftContentBox=ne>0||me>0?Ls(I.left+Gi+qs,I.top+jn+Da,Math.max(0,ne-(Gi+qs)),Math.max(0,me-(jn+Da)),Fs.TOP_LEFT):new zn(I.left+Gi+qs,I.top+jn+Da),this.topRightContentBox=Ie>0||We>0?Ls(I.left+Math.min(si,I.width+Gi+qs),I.top+jn+Da,si>I.width+Gi+qs?0:Ie-Gi+qs,We-(jn+Da),Fs.TOP_RIGHT):new zn(I.left+I.width-(Zr+Hc),I.top+jn+Da),this.bottomRightContentBox=ft>0||Et>0?Ls(I.left+Math.min(_r,I.width-(Gi+qs)),I.top+Math.min(hs,I.height+jn+Da),Math.max(0,ft-(Zr+Hc)),Et-(is+gu),Fs.BOTTOM_RIGHT):new zn(I.left+I.width-(Zr+Hc),I.top+I.height-(is+gu)),this.bottomLeftContentBox=xn>0||In>0?Ls(I.left+Gi+qs,I.top+Ui,Math.max(0,xn-(Gi+qs)),In-(is+gu),Fs.BOTTOM_LEFT):new zn(I.left+Gi+qs,I.top+I.height-(is+gu))}}(),Fs=function(N){return N[N.TOP_LEFT=0]="TOP_LEFT",N[N.TOP_RIGHT=1]="TOP_RIGHT",N[N.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",N[N.BOTTOM_LEFT=3]="BOTTOM_LEFT",N}(Fs||{}),Ls=function(N,E,B,I,Q){var ne=(Math.sqrt(2)-1)/3*4,me=B*ne,Be=I*ne,Ie=N+B,We=E+I;switch(Q){case Fs.TOP_LEFT:return new Hh(new zn(N,We),new zn(N,We-Be),new zn(Ie-me,E),new zn(Ie,E));case Fs.TOP_RIGHT:return new Hh(new zn(N,E),new zn(N+me,E),new zn(Ie,We-Be),new zn(Ie,We));case Fs.BOTTOM_RIGHT:return new Hh(new zn(Ie,E),new zn(Ie,E+Be),new zn(N+me,We),new zn(N,We));default:return new Hh(new zn(Ie,We),new zn(Ie-me,We),new zn(N,E+Be),new zn(N,E))}},Hf=function(N){return[N.topLeftBorderBox,N.topRightBorderBox,N.bottomRightBorderBox,N.bottomLeftBorderBox]},f1=function(N){return[N.topLeftPaddingBox,N.topRightPaddingBox,N.bottomRightPaddingBox,N.bottomLeftPaddingBox]},tr=function(){return function N(E,B,I){this.offsetX=E,this.offsetY=B,this.matrix=I,this.type=0,this.target=6}}(),Xg=function(){return function N(E,B){this.path=E,this.target=B,this.type=1}}(),W5=function(){return function N(E){this.opacity=E,this.type=2,this.target=6}}(),$d=function(N){return 1===N.type},$S=function(N,E){return N.length===E.length&&N.some(function(B,I){return B===E[I]})},m0=function(){return function N(E){this.element=E,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}}(),XS=function(){function N(E,B){if(this.container=E,this.parent=B,this.effects=[],this.curves=new SN(this.container),this.container.styles.opacity<1&&this.effects.push(new W5(this.container.styles.opacity)),null!==this.container.styles.transform&&this.effects.push(new tr(this.container.bounds.left+this.container.styles.transformOrigin[0].number,this.container.bounds.top+this.container.styles.transformOrigin[1].number,this.container.styles.transform)),0!==this.container.styles.overflowX){var me=Hf(this.curves),Be=f1(this.curves);$S(me,Be)?this.effects.push(new Xg(me,6)):(this.effects.push(new Xg(me,2)),this.effects.push(new Xg(Be,4)))}}return N.prototype.getEffects=function(E){for(var B=-1===[2,3].indexOf(this.container.styles.position),I=this.parent,Q=this.effects.slice(0);I;){var ne=I.effects.filter(function(Ie){return!$d(Ie)});if(B||0!==I.container.styles.position||!I.parent){if(Q.unshift.apply(Q,ne),B=-1===[2,3].indexOf(I.container.styles.position),0!==I.container.styles.overflowX){var me=Hf(I.curves),Be=f1(I.curves);$S(me,Be)||Q.unshift(new Xg(Be,6))}}else Q.unshift.apply(Q,ne);I=I.parent}return Q.filter(function(Ie){return Lo(Ie.target,E)})},N}(),YS=function(N,E,B,I){N.container.elements.forEach(function(Q){var ne=Lo(Q.flags,4),me=Lo(Q.flags,2),Be=new XS(Q,N);Lo(Q.styles.display,2048)&&I.push(Be);var Ie=Lo(Q.flags,8)?[]:I;if(ne||me){var We=ne||Q.styles.isPositioned()?B:E,tt=new m0(Be);if(Q.styles.isPositioned()||Q.styles.opacity<1||Q.styles.isTransformed()){var ft=Q.styles.zIndex.order;if(ft<0){var Et=0;We.negativeZIndex.some(function(xn,In){return ft>xn.element.container.styles.zIndex.order?(Et=In,!1):Et>0}),We.negativeZIndex.splice(Et,0,tt)}else if(ft>0){var Qn=0;We.positiveZIndex.some(function(xn,In){return ft>=xn.element.container.styles.zIndex.order?(Qn=In+1,!1):Qn>0}),We.positiveZIndex.splice(Qn,0,tt)}else We.zeroOrAutoZIndexOrTransformedOrOpacity.push(tt)}else Q.styles.isFloating()?We.nonPositionedFloats.push(tt):We.nonPositionedInlineLevel.push(tt);YS(Be,tt,ne?tt:B,Ie)}else Q.styles.isInlineLevel()?E.inlineLevel.push(Be):E.nonInlineLevel.push(Be),YS(Be,E,B,Ie);Lo(Q.flags,8)&&DN(Q,Ie)})},DN=function(N,E){for(var B=N instanceof BS?N.start:1,I=N instanceof BS&&N.reversed,Q=0;Q<E.length;Q++){var ne=E[Q];ne.container instanceof fN&&"number"==typeof ne.container.value&&0!==ne.container.value&&(B=ne.container.value),ne.listValue=Lf(B,ne.container.styles.listStyleType,!0),B+=I?-1:1}},ZS=function(N,E){switch(E){case 0:return Kd(N.topLeftBorderBox,N.topLeftPaddingBox,N.topRightBorderBox,N.topRightPaddingBox);case 1:return Kd(N.topRightBorderBox,N.topRightPaddingBox,N.bottomRightBorderBox,N.bottomRightPaddingBox);case 2:return Kd(N.bottomRightBorderBox,N.bottomRightPaddingBox,N.bottomLeftBorderBox,N.bottomLeftPaddingBox);default:return Kd(N.bottomLeftBorderBox,N.bottomLeftPaddingBox,N.topLeftBorderBox,N.topLeftPaddingBox)}},p1=function(N,E){var B=[];return Xu(N)?B.push(N.subdivide(.5,!1)):B.push(N),Xu(E)?B.push(E.subdivide(.5,!0)):B.push(E),B},Kd=function(N,E,B,I){var Q=[];return Xu(N)?Q.push(N.subdivide(.5,!1)):Q.push(N),Xu(B)?Q.push(B.subdivide(.5,!0)):Q.push(B),Xu(I)?Q.push(I.subdivide(.5,!0).reverse()):Q.push(I),Xu(E)?Q.push(E.subdivide(.5,!1).reverse()):Q.push(E),Q},JS=function(N){var B=N.styles;return N.bounds.add(B.borderLeftWidth,B.borderTopWidth,-(B.borderRightWidth+B.borderLeftWidth),-(B.borderTopWidth+B.borderBottomWidth))},A0=function(N){var E=N.styles,B=N.bounds,I=fo(E.paddingLeft,B.width),Q=fo(E.paddingRight,B.width),ne=fo(E.paddingTop,B.width),me=fo(E.paddingBottom,B.width);return B.add(I+E.borderLeftWidth,ne+E.borderTopWidth,-(E.borderRightWidth+E.borderLeftWidth+I+Q),-(E.borderTopWidth+E.borderBottomWidth+ne+me))},m1=function(N,E,B){var I=function(N,E){return 0===N?E.bounds:2===N?A0(E):JS(E)}(oA(N.styles.backgroundOrigin,E),N),Q=function(N,E){return 0===N?E.bounds:2===N?A0(E):JS(E)}(oA(N.styles.backgroundClip,E),N),ne=Xd(oA(N.styles.backgroundSize,E),B,I),me=ne[0],Be=ne[1],Ie=Od(oA(N.styles.backgroundPosition,E),I.width-me,I.height-Be);return[Vh(oA(N.styles.backgroundRepeat,E),Ie,ne,I,Q),Math.round(I.left+Ie[0]),Math.round(I.top+Ie[1]),me,Be]},g0=function(N){return ks(N)&&N.value===dl.AUTO},Yg=function(N){return"number"==typeof N},Xd=function(N,E,B){var I=E[0],Q=E[1],ne=E[2],me=N[0],Be=N[1];if(!me)return[0,0];if(wa(me)&&Be&&wa(Be))return[fo(me,B.width),fo(Be,B.height)];var Ie=Yg(ne);if(ks(me)&&(me.value===dl.CONTAIN||me.value===dl.COVER))return Yg(ne)?B.width/B.height<ne!=(me.value===dl.COVER)?[B.width,B.width/ne]:[B.height*ne,B.height]:[B.width,B.height];var tt=Yg(I),ft=Yg(Q),Et=tt||ft;if(g0(me)&&(!Be||g0(Be)))return tt&&ft?[I,Q]:Ie||Et?Et&&Ie?[tt?I:Q*ne,ft?Q:I/ne]:[tt?I:B.width,ft?Q:B.height]:[B.width,B.height];if(Ie){var ri=0,si=0;return wa(me)?ri=fo(me,B.width):wa(Be)&&(si=fo(Be,B.height)),g0(me)?ri=si*ne:(!Be||g0(Be))&&(si=ri/ne),[ri,si]}var hs=null,_r=null;if(wa(me)?hs=fo(me,B.width):Be&&wa(Be)&&(_r=fo(Be,B.height)),null!==hs&&(!Be||g0(Be))&&(_r=tt&&ft?hs/I*Q:B.height),null!==_r&&g0(me)&&(hs=tt&&ft?_r/Q*I:B.width),null!==hs&&null!==_r)return[hs,_r];throw new Error("Unable to calculate background-size for element")},oA=function(N,E){var B=N[E];return typeof B>"u"?N[0]:B},Vh=function(N,E,B,I,Q){var ne=E[0],me=E[1],Be=B[0],Ie=B[1];switch(N){case 2:return[new zn(Math.round(I.left),Math.round(I.top+me)),new zn(Math.round(I.left+I.width),Math.round(I.top+me)),new zn(Math.round(I.left+I.width),Math.round(Ie+I.top+me)),new zn(Math.round(I.left),Math.round(Ie+I.top+me))];case 3:return[new zn(Math.round(I.left+ne),Math.round(I.top)),new zn(Math.round(I.left+ne+Be),Math.round(I.top)),new zn(Math.round(I.left+ne+Be),Math.round(I.height+I.top)),new zn(Math.round(I.left+ne),Math.round(I.height+I.top))];case 1:return[new zn(Math.round(I.left+ne),Math.round(I.top+me)),new zn(Math.round(I.left+ne+Be),Math.round(I.top+me)),new zn(Math.round(I.left+ne+Be),Math.round(I.top+me+Ie)),new zn(Math.round(I.left+ne),Math.round(I.top+me+Ie))];default:return[new zn(Math.round(Q.left),Math.round(Q.top)),new zn(Math.round(Q.left+Q.width),Math.round(Q.top)),new zn(Math.round(Q.left+Q.width),Math.round(Q.height+Q.top)),new zn(Math.round(Q.left),Math.round(Q.height+Q.top))]}},TN="Hidden Text",NN=function(){function N(E){this._data={},this._document=E}return N.prototype.parseMetrics=function(E,B){var I=this._document.createElement("div"),Q=this._document.createElement("img"),ne=this._document.createElement("span"),me=this._document.body;I.style.visibility="hidden",I.style.fontFamily=E,I.style.fontSize=B,I.style.margin="0",I.style.padding="0",I.style.whiteSpace="nowrap",me.appendChild(I),Q.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Q.width=1,Q.height=1,Q.style.margin="0",Q.style.padding="0",Q.style.verticalAlign="baseline",ne.style.fontFamily=E,ne.style.fontSize=B,ne.style.margin="0",ne.style.padding="0",ne.appendChild(this._document.createTextNode(TN)),I.appendChild(ne),I.appendChild(Q);var Be=Q.offsetTop-ne.offsetTop+2;I.removeChild(ne),I.appendChild(this._document.createTextNode(TN)),I.style.lineHeight="normal",Q.style.verticalAlign="super";var Ie=Q.offsetTop-I.offsetTop+2;return me.removeChild(I),{baseline:Be,middle:Ie}},N.prototype.getMetrics=function(E,B){var I=E+" "+B;return typeof this._data[I]>"u"&&(this._data[I]=this.parseMetrics(E,B)),this._data[I]},N}(),J5=function(){return function N(E,B){this.context=E,this.options=B}}(),Qj=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q._activeEffects=[],Q.canvas=I.canvas?I.canvas:document.createElement("canvas"),Q.ctx=Q.canvas.getContext("2d"),I.canvas||(Q.canvas.width=Math.floor(I.width*I.scale),Q.canvas.height=Math.floor(I.height*I.scale),Q.canvas.style.width=I.width+"px",Q.canvas.style.height=I.height+"px"),Q.fontMetrics=new NN(document),Q.ctx.scale(Q.options.scale,Q.options.scale),Q.ctx.translate(-I.x,-I.y),Q.ctx.textBaseline="bottom",Q._activeEffects=[],Q.context.logger.debug("Canvas renderer initialized ("+I.width+"x"+I.height+") with scale "+I.scale),Q}return Me(E,N),E.prototype.applyEffects=function(B){for(var I=this;this._activeEffects.length;)this.popEffect();B.forEach(function(Q){return I.applyEffect(Q)})},E.prototype.applyEffect=function(B){this.ctx.save(),function(N){return 2===N.type}(B)&&(this.ctx.globalAlpha=B.opacity),function(N){return 0===N.type}(B)&&(this.ctx.translate(B.offsetX,B.offsetY),this.ctx.transform(B.matrix[0],B.matrix[1],B.matrix[2],B.matrix[3],B.matrix[4],B.matrix[5]),this.ctx.translate(-B.offsetX,-B.offsetY)),$d(B)&&(this.path(B.path),this.ctx.clip()),this._activeEffects.push(B)},E.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},E.prototype.renderStack=function(B){return Tt(this,void 0,void 0,function(){return Ot(this,function(Q){switch(Q.label){case 0:return B.element.container.styles.isVisible()?[4,this.renderStackContent(B)]:[3,2];case 1:Q.sent(),Q.label=2;case 2:return[2]}})})},E.prototype.renderNode=function(B){return Tt(this,void 0,void 0,function(){return Ot(this,function(I){switch(I.label){case 0:return Lo(B.container.flags,16),B.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(B)]:[3,3];case 1:return I.sent(),[4,this.renderNodeContent(B)];case 2:I.sent(),I.label=3;case 3:return[2]}})})},E.prototype.renderTextWithLetterSpacing=function(B,I,Q){var ne=this;0===I?this.ctx.fillText(B.text,B.bounds.left,B.bounds.top+Q):u0(B.text).reduce(function(Be,Ie){return ne.ctx.fillText(Ie,Be,B.bounds.top+Q),Be+ne.ctx.measureText(Ie).width},B.bounds.left)},E.prototype.createFontStyle=function(B){var I=B.fontVariant.filter(function(me){return"normal"===me||"small-caps"===me}).join(""),Q=$n(B.fontFamily).join(", "),ne=W_(B.fontSize)?""+B.fontSize.number+B.fontSize.unit:B.fontSize.number+"px";return[[B.fontStyle,I,B.fontWeight,ne,Q].join(" "),Q,ne]},E.prototype.renderTextNode=function(B,I){return Tt(this,void 0,void 0,function(){var Q,me,Be,Ie,We,tt,ft,Et=this;return Ot(this,function(Qn){return Q=this.createFontStyle(I),me=Q[1],Be=Q[2],this.ctx.font=Q[0],this.ctx.direction=1===I.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",Ie=this.fontMetrics.getMetrics(me,Be),We=Ie.baseline,tt=Ie.middle,ft=I.paintOrder,B.textBounds.forEach(function(xn){ft.forEach(function(In){switch(In){case 0:Et.ctx.fillStyle=Ca(I.color),Et.renderTextWithLetterSpacing(xn,I.letterSpacing,We);var bi=I.textShadow;bi.length&&xn.text.trim().length&&(bi.slice(0).reverse().forEach(function(ri){Et.ctx.shadowColor=Ca(ri.color),Et.ctx.shadowOffsetX=ri.offsetX.number*Et.options.scale,Et.ctx.shadowOffsetY=ri.offsetY.number*Et.options.scale,Et.ctx.shadowBlur=ri.blur.number,Et.renderTextWithLetterSpacing(xn,I.letterSpacing,We)}),Et.ctx.shadowColor="",Et.ctx.shadowOffsetX=0,Et.ctx.shadowOffsetY=0,Et.ctx.shadowBlur=0),I.textDecorationLine.length&&(Et.ctx.fillStyle=Ca(I.textDecorationColor||I.color),I.textDecorationLine.forEach(function(ri){switch(ri){case 1:Et.ctx.fillRect(xn.bounds.left,Math.round(xn.bounds.top+We),xn.bounds.width,1);break;case 2:Et.ctx.fillRect(xn.bounds.left,Math.round(xn.bounds.top),xn.bounds.width,1);break;case 3:Et.ctx.fillRect(xn.bounds.left,Math.ceil(xn.bounds.top+tt),xn.bounds.width,1)}}));break;case 1:I.webkitTextStrokeWidth&&xn.text.trim().length&&(Et.ctx.strokeStyle=Ca(I.webkitTextStrokeColor),Et.ctx.lineWidth=I.webkitTextStrokeWidth,Et.ctx.lineJoin=window.chrome?"miter":"round",Et.ctx.strokeText(xn.text,xn.bounds.left,xn.bounds.top+We)),Et.ctx.strokeStyle="",Et.ctx.lineWidth=0,Et.ctx.lineJoin="miter"}})}),[2]})})},E.prototype.renderReplacedElement=function(B,I,Q){if(Q&&B.intrinsicWidth>0&&B.intrinsicHeight>0){var ne=A0(B),me=f1(I);this.path(me),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Q,0,0,B.intrinsicWidth,B.intrinsicHeight,ne.left,ne.top,ne.width,ne.height),this.ctx.restore()}},E.prototype.renderNodeContent=function(B){return Tt(this,void 0,void 0,function(){var I,Q,ne,me,Be,tt,ft,Et,xn,In,bi,ri,si,hs,_r,Ui;return Ot(this,function(jn){switch(jn.label){case 0:this.applyEffects(B.getEffects(4)),Q=B.curves,ne=(I=B.container).styles,me=0,Be=I.textNodes,jn.label=1;case 1:return me<Be.length?[4,this.renderTextNode(Be[me],ne)]:[3,4];case 2:jn.sent(),jn.label=3;case 3:return me++,[3,1];case 4:if(!(I instanceof iA))return[3,8];jn.label=5;case 5:return jn.trys.push([5,7,,8]),[4,this.context.cache.match(I.src)];case 6:return si=jn.sent(),this.renderReplacedElement(I,Q,si),[3,8];case 7:return jn.sent(),this.context.logger.error("Error loading image "+I.src),[3,8];case 8:if(I instanceof dN&&this.renderReplacedElement(I,Q,I.canvas),!(I instanceof hN))return[3,12];jn.label=9;case 9:return jn.trys.push([9,11,,12]),[4,this.context.cache.match(I.svg)];case 10:return si=jn.sent(),this.renderReplacedElement(I,Q,si),[3,12];case 11:return jn.sent(),this.context.logger.error("Error loading svg "+I.svg.substring(0,255)),[3,12];case 12:return I instanceof mN&&I.tree?[4,new E(this.context,{scale:this.options.scale,backgroundColor:I.backgroundColor,x:0,y:0,width:I.width,height:I.height}).render(I.tree)]:[3,14];case 13:tt=jn.sent(),I.width&&I.height&&this.ctx.drawImage(tt,0,0,I.width,I.height,I.bounds.left,I.bounds.top,I.bounds.width,I.bounds.height),jn.label=14;case 14:if(I instanceof Ku&&(ft=Math.min(I.bounds.width,I.bounds.height),I.type===Gt?I.checked&&(this.ctx.save(),this.path([new zn(I.bounds.left+.39363*ft,I.bounds.top+.79*ft),new zn(I.bounds.left+.16*ft,I.bounds.top+.5549*ft),new zn(I.bounds.left+.27347*ft,I.bounds.top+.44071*ft),new zn(I.bounds.left+.39694*ft,I.bounds.top+.5649*ft),new zn(I.bounds.left+.72983*ft,I.bounds.top+.23*ft),new zn(I.bounds.left+.84*ft,I.bounds.top+.34085*ft),new zn(I.bounds.left+.39363*ft,I.bounds.top+.79*ft)]),this.ctx.fillStyle=Ca(qg),this.ctx.fill(),this.ctx.restore()):I.type===As&&I.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(I.bounds.left+ft/2,I.bounds.top+ft/2,ft/4,0,2*Math.PI,!0),this.ctx.fillStyle=Ca(qg),this.ctx.fill(),this.ctx.restore())),Gj(I)&&I.value.length){switch(Et=this.createFontStyle(ne),xn=this.fontMetrics.getMetrics(_r=Et[0],Et[1]).baseline,this.ctx.font=_r,this.ctx.fillStyle=Ca(ne.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=e3(I.styles.textAlign),Ui=A0(I),In=0,I.styles.textAlign){case 1:In+=Ui.width/2;break;case 2:In+=Ui.width}bi=Ui.add(In,0,0,-Ui.height/2+1),this.ctx.save(),this.path([new zn(Ui.left,Ui.top),new zn(Ui.left+Ui.width,Ui.top),new zn(Ui.left+Ui.width,Ui.top+Ui.height),new zn(Ui.left,Ui.top+Ui.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tA(I.value,bi),ne.letterSpacing,xn),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Lo(I.styles.display,2048))return[3,20];if(null===I.styles.listStyleImage)return[3,19];if(0!==(ri=I.styles.listStyleImage).type)return[3,18];si=void 0,hs=ri.url,jn.label=15;case 15:return jn.trys.push([15,17,,18]),[4,this.context.cache.match(hs)];case 16:return si=jn.sent(),this.ctx.drawImage(si,I.bounds.left-(si.width+10),I.bounds.top),[3,18];case 17:return jn.sent(),this.context.logger.error("Error loading list-style-image "+hs),[3,18];case 18:return[3,20];case 19:B.listValue&&-1!==I.styles.listStyleType&&(_r=this.createFontStyle(ne)[0],this.ctx.font=_r,this.ctx.fillStyle=Ca(ne.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",Ui=new vn(I.bounds.left,I.bounds.top+fo(I.styles.paddingTop,I.bounds.width),I.bounds.width,$T(ne.lineHeight,ne.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tA(B.listValue,Ui),ne.letterSpacing,$T(ne.lineHeight,ne.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),jn.label=20;case 20:return[2]}})})},E.prototype.renderStackContent=function(B){return Tt(this,void 0,void 0,function(){var I,Q,ne,me,Be,Ie,We,tt,ft,Et,Qn,xn,In,bi;return Ot(this,function(si){switch(si.label){case 0:return Lo(B.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(B.element)];case 1:si.sent(),I=0,Q=B.negativeZIndex,si.label=2;case 2:return I<Q.length?[4,this.renderStack(Q[I])]:[3,5];case 3:si.sent(),si.label=4;case 4:return I++,[3,2];case 5:return[4,this.renderNodeContent(B.element)];case 6:si.sent(),ne=0,me=B.nonInlineLevel,si.label=7;case 7:return ne<me.length?[4,this.renderNode(me[ne])]:[3,10];case 8:si.sent(),si.label=9;case 9:return ne++,[3,7];case 10:Be=0,Ie=B.nonPositionedFloats,si.label=11;case 11:return Be<Ie.length?[4,this.renderStack(Ie[Be])]:[3,14];case 12:si.sent(),si.label=13;case 13:return Be++,[3,11];case 14:We=0,tt=B.nonPositionedInlineLevel,si.label=15;case 15:return We<tt.length?[4,this.renderStack(tt[We])]:[3,18];case 16:si.sent(),si.label=17;case 17:return We++,[3,15];case 18:ft=0,Et=B.inlineLevel,si.label=19;case 19:return ft<Et.length?[4,this.renderNode(Et[ft])]:[3,22];case 20:si.sent(),si.label=21;case 21:return ft++,[3,19];case 22:Qn=0,xn=B.zeroOrAutoZIndexOrTransformedOrOpacity,si.label=23;case 23:return Qn<xn.length?[4,this.renderStack(xn[Qn])]:[3,26];case 24:si.sent(),si.label=25;case 25:return Qn++,[3,23];case 26:In=0,bi=B.positiveZIndex,si.label=27;case 27:return In<bi.length?[4,this.renderStack(bi[In])]:[3,30];case 28:si.sent(),si.label=29;case 29:return In++,[3,27];case 30:return[2]}})})},E.prototype.mask=function(B){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(B.slice(0).reverse()),this.ctx.closePath()},E.prototype.path=function(B){this.ctx.beginPath(),this.formatPath(B),this.ctx.closePath()},E.prototype.formatPath=function(B){var I=this;B.forEach(function(Q,ne){var me=Xu(Q)?Q.start:Q;0===ne?I.ctx.moveTo(me.x,me.y):I.ctx.lineTo(me.x,me.y),Xu(Q)&&I.ctx.bezierCurveTo(Q.startControl.x,Q.startControl.y,Q.endControl.x,Q.endControl.y,Q.end.x,Q.end.y)})},E.prototype.renderRepeat=function(B,I,Q,ne){this.path(B),this.ctx.fillStyle=I,this.ctx.translate(Q,ne),this.ctx.fill(),this.ctx.translate(-Q,-ne)},E.prototype.resizeImage=function(B,I,Q){var ne;if(B.width===I&&B.height===Q)return B;var Be=(null!==(ne=this.canvas.ownerDocument)&&void 0!==ne?ne:document).createElement("canvas");return Be.width=Math.max(1,I),Be.height=Math.max(1,Q),Be.getContext("2d").drawImage(B,0,0,B.width,B.height,0,0,I,Q),Be},E.prototype.renderBackgroundImage=function(B){return Tt(this,void 0,void 0,function(){var I,Q,ne,me,Be;return Ot(this,function(We){switch(We.label){case 0:I=B.styles.backgroundImage.length-1,Q=function(tt){var ft,Et,Qn,xn,In,bi,ri,si,hs,_r,Ui,jn,Zr,is,Gi,Da,Hc,gu,qs,fl,Vf,wc,Il,Zp,Yd,zf,Jp,aA,Qf,lA,Gf;return Ot(this,function(cA){switch(cA.label){case 0:if(0!==tt.type)return[3,5];ft=void 0,Et=tt.url,cA.label=1;case 1:return cA.trys.push([1,3,,4]),[4,ne.context.cache.match(Et)];case 2:return ft=cA.sent(),[3,4];case 3:return cA.sent(),ne.context.logger.error("Error loading background-image "+Et),[3,4];case 4:return ft&&(Qn=m1(B,I,[ft.width,ft.height,ft.width/ft.height]),Da=Qn[0],wc=Qn[1],Il=Qn[2],is=ne.ctx.createPattern(ne.resizeImage(ft,qs=Qn[3],fl=Qn[4]),"repeat"),ne.renderRepeat(Da,is,wc,Il)),[3,6];case 5:!function(N){return 1===N.type}(tt)?function(N){return 2===N.type}(tt)&&(Gi=m1(B,I,[null,null,null]),Da=Gi[0],Hc=Gi[1],gu=Gi[2],fl=Gi[4],wc=fo((Vf=0===tt.position.length?[jm]:tt.position)[0],qs=Gi[3]),Il=fo(Vf[Vf.length-1],fl),Zp=function(N,E,B,I,Q){var ne=0,me=0;switch(N.size){case 0:0===N.shape?ne=me=Math.min(Math.abs(E),Math.abs(E-I),Math.abs(B),Math.abs(B-Q)):1===N.shape&&(ne=Math.min(Math.abs(E),Math.abs(E-I)),me=Math.min(Math.abs(B),Math.abs(B-Q)));break;case 2:if(0===N.shape)ne=me=Math.min(Wu(E,B),Wu(E,B-Q),Wu(E-I,B),Wu(E-I,B-Q));else if(1===N.shape){var Be=Math.min(Math.abs(B),Math.abs(B-Q))/Math.min(Math.abs(E),Math.abs(E-I)),Ie=pS(I,Q,E,B,!0);me=Be*(ne=Wu(Ie[0]-E,(Ie[1]-B)/Be))}break;case 1:0===N.shape?ne=me=Math.max(Math.abs(E),Math.abs(E-I),Math.abs(B),Math.abs(B-Q)):1===N.shape&&(ne=Math.max(Math.abs(E),Math.abs(E-I)),me=Math.max(Math.abs(B),Math.abs(B-Q)));break;case 3:if(0===N.shape)ne=me=Math.max(Wu(E,B),Wu(E,B-Q),Wu(E-I,B),Wu(E-I,B-Q));else if(1===N.shape){Be=Math.max(Math.abs(B),Math.abs(B-Q))/Math.max(Math.abs(E),Math.abs(E-I));var ft=pS(I,Q,E,B,!1);me=Be*(ne=Wu(ft[0]-E,(ft[1]-B)/Be))}}return Array.isArray(N.size)&&(ne=fo(N.size[0],I),me=2===N.size.length?fo(N.size[1],Q):ne),[ne,me]}(tt,wc,Il,qs,fl),zf=Zp[1],(Yd=Zp[0])>0&&zf>0&&(Jp=ne.ctx.createRadialGradient(Hc+wc,gu+Il,0,Hc+wc,gu+Il,Yd),kt(tt.stops,2*Yd).forEach(function(A1){return Jp.addColorStop(A1.stop,Ca(A1.color))}),ne.path(Da),ne.ctx.fillStyle=Jp,Yd!==zf?(aA=B.bounds.left+.5*B.bounds.width,Qf=B.bounds.top+.5*B.bounds.height,Gf=1/(lA=zf/Yd),ne.ctx.save(),ne.ctx.translate(aA,Qf),ne.ctx.transform(1,0,0,lA,0,0),ne.ctx.translate(-aA,-Qf),ne.ctx.fillRect(Hc,Gf*(gu-Qf)+Qf,qs,fl*Gf),ne.ctx.restore()):ne.ctx.fill())):(xn=m1(B,I,[null,null,null]),Da=xn[0],wc=xn[1],Il=xn[2],In=fS(tt.angle,qs=xn[3],fl=xn[4]),bi=In[0],ri=In[1],si=In[2],hs=In[3],_r=In[4],(Ui=document.createElement("canvas")).width=qs,Ui.height=fl,jn=Ui.getContext("2d"),Zr=jn.createLinearGradient(ri,hs,si,_r),kt(tt.stops,bi).forEach(function(A1){return Zr.addColorStop(A1.stop,Ca(A1.color))}),jn.fillStyle=Zr,jn.fillRect(0,0,qs,fl),qs>0&&fl>0&&(is=ne.ctx.createPattern(Ui,"repeat"),ne.renderRepeat(Da,is,wc,Il))),cA.label=6;case 6:return I--,[2]}})},ne=this,me=0,Be=B.styles.backgroundImage.slice(0).reverse(),We.label=1;case 1:return me<Be.length?[5,Q(Be[me])]:[3,4];case 2:We.sent(),We.label=3;case 3:return me++,[3,1];case 4:return[2]}})})},E.prototype.renderSolidBorder=function(B,I,Q){return Tt(this,void 0,void 0,function(){return Ot(this,function(ne){return this.path(ZS(Q,I)),this.ctx.fillStyle=Ca(B),this.ctx.fill(),[2]})})},E.prototype.renderDoubleBorder=function(B,I,Q,ne){return Tt(this,void 0,void 0,function(){var me,Be;return Ot(this,function(Ie){switch(Ie.label){case 0:return I<3?[4,this.renderSolidBorder(B,Q,ne)]:[3,2];case 1:return Ie.sent(),[2];case 2:return me=function(N,E){switch(E){case 0:return Kd(N.topLeftBorderBox,N.topLeftBorderDoubleOuterBox,N.topRightBorderBox,N.topRightBorderDoubleOuterBox);case 1:return Kd(N.topRightBorderBox,N.topRightBorderDoubleOuterBox,N.bottomRightBorderBox,N.bottomRightBorderDoubleOuterBox);case 2:return Kd(N.bottomRightBorderBox,N.bottomRightBorderDoubleOuterBox,N.bottomLeftBorderBox,N.bottomLeftBorderDoubleOuterBox);default:return Kd(N.bottomLeftBorderBox,N.bottomLeftBorderDoubleOuterBox,N.topLeftBorderBox,N.topLeftBorderDoubleOuterBox)}}(ne,Q),this.path(me),this.ctx.fillStyle=Ca(B),this.ctx.fill(),Be=function(N,E){switch(E){case 0:return Kd(N.topLeftBorderDoubleInnerBox,N.topLeftPaddingBox,N.topRightBorderDoubleInnerBox,N.topRightPaddingBox);case 1:return Kd(N.topRightBorderDoubleInnerBox,N.topRightPaddingBox,N.bottomRightBorderDoubleInnerBox,N.bottomRightPaddingBox);case 2:return Kd(N.bottomRightBorderDoubleInnerBox,N.bottomRightPaddingBox,N.bottomLeftBorderDoubleInnerBox,N.bottomLeftPaddingBox);default:return Kd(N.bottomLeftBorderDoubleInnerBox,N.bottomLeftPaddingBox,N.topLeftBorderDoubleInnerBox,N.topLeftPaddingBox)}}(ne,Q),this.path(Be),this.ctx.fill(),[2]}})})},E.prototype.renderNodeBackgroundAndBorders=function(B){return Tt(this,void 0,void 0,function(){var I,Q,ne,me,Be,Ie,We,tt,ft=this;return Ot(this,function(Et){switch(Et.label){case 0:return this.applyEffects(B.getEffects(2)),Q=!xa((I=B.container.styles).backgroundColor)||I.backgroundImage.length,ne=[{style:I.borderTopStyle,color:I.borderTopColor,width:I.borderTopWidth},{style:I.borderRightStyle,color:I.borderRightColor,width:I.borderRightWidth},{style:I.borderBottomStyle,color:I.borderBottomColor,width:I.borderBottomWidth},{style:I.borderLeftStyle,color:I.borderLeftColor,width:I.borderLeftWidth}],me=jj(oA(I.backgroundClip,0),B.curves),Q||I.boxShadow.length?(this.ctx.save(),this.path(me),this.ctx.clip(),xa(I.backgroundColor)||(this.ctx.fillStyle=Ca(I.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(B.container)]):[3,2];case 1:Et.sent(),this.ctx.restore(),I.boxShadow.slice(0).reverse().forEach(function(Qn){ft.ctx.save();var xn=Hf(B.curves),In=Qn.inset?0:1e4,bi=function(N,E,B,I,Q){return N.map(function(ne,me){switch(me){case 0:return ne.add(E,B);case 1:return ne.add(E+I,B);case 2:return ne.add(E+I,B+Q);case 3:return ne.add(E,B+Q)}return ne})}(xn,(Qn.inset?1:-1)*Qn.spread.number-In,(Qn.inset?1:-1)*Qn.spread.number,Qn.spread.number*(Qn.inset?-2:2),Qn.spread.number*(Qn.inset?-2:2));Qn.inset?(ft.path(xn),ft.ctx.clip(),ft.mask(bi)):(ft.mask(xn),ft.ctx.clip(),ft.path(bi)),ft.ctx.shadowOffsetX=Qn.offsetX.number+In,ft.ctx.shadowOffsetY=Qn.offsetY.number,ft.ctx.shadowColor=Ca(Qn.color),ft.ctx.shadowBlur=Qn.blur.number,ft.ctx.fillStyle=Qn.inset?Ca(Qn.color):"rgba(0,0,0,1)",ft.ctx.fill(),ft.ctx.restore()}),Et.label=2;case 2:Be=0,Ie=0,We=ne,Et.label=3;case 3:return Ie<We.length?0!==(tt=We[Ie]).style&&!xa(tt.color)&&tt.width>0?2!==tt.style?[3,5]:[4,this.renderDashedDottedBorder(tt.color,tt.width,Be,B.curves,2)]:[3,11]:[3,13];case 4:return Et.sent(),[3,11];case 5:return 3!==tt.style?[3,7]:[4,this.renderDashedDottedBorder(tt.color,tt.width,Be,B.curves,3)];case 6:return Et.sent(),[3,11];case 7:return 4!==tt.style?[3,9]:[4,this.renderDoubleBorder(tt.color,tt.width,Be,B.curves)];case 8:return Et.sent(),[3,11];case 9:return[4,this.renderSolidBorder(tt.color,Be,B.curves)];case 10:Et.sent(),Et.label=11;case 11:Be++,Et.label=12;case 12:return Ie++,[3,3];case 13:return[2]}})})},E.prototype.renderDashedDottedBorder=function(B,I,Q,ne,me){return Tt(this,void 0,void 0,function(){var Be,Ie,We,tt,ft,Et,Qn,xn,In,bi,ri,si,hs,_r,Ui,jn;return Ot(this,function(Zr){return this.ctx.save(),Be=function(N,E){switch(E){case 0:return p1(N.topLeftBorderStroke,N.topRightBorderStroke);case 1:return p1(N.topRightBorderStroke,N.bottomRightBorderStroke);case 2:return p1(N.bottomRightBorderStroke,N.bottomLeftBorderStroke);default:return p1(N.bottomLeftBorderStroke,N.topLeftBorderStroke)}}(ne,Q),Ie=ZS(ne,Q),2===me&&(this.path(Ie),this.ctx.clip()),Xu(Ie[0])?(We=Ie[0].start.x,tt=Ie[0].start.y):(We=Ie[0].x,tt=Ie[0].y),Xu(Ie[1])?(ft=Ie[1].end.x,Et=Ie[1].end.y):(ft=Ie[1].x,Et=Ie[1].y),Qn=0===Q||2===Q?Math.abs(We-ft):Math.abs(tt-Et),this.ctx.beginPath(),this.formatPath(3===me?Be:Ie.slice(0,2)),xn=I<3?3*I:2*I,In=I<3?2*I:I,3===me&&(xn=I,In=I),bi=!0,Qn<=2*xn?bi=!1:Qn<=2*xn+In?(xn*=ri=Qn/(2*xn+In),In*=ri):(si=Math.floor((Qn+In)/(xn+In)),hs=(Qn-si*xn)/(si-1),In=(_r=(Qn-(si+1)*xn)/si)<=0||Math.abs(In-hs)<Math.abs(In-_r)?hs:_r),bi&&this.ctx.setLineDash(3===me?[0,xn+In]:[xn,In]),3===me?(this.ctx.lineCap="round",this.ctx.lineWidth=I):this.ctx.lineWidth=2*I+1.1,this.ctx.strokeStyle=Ca(B),this.ctx.stroke(),this.ctx.setLineDash([]),2===me&&(Xu(Ie[0])&&(Ui=Ie[3],jn=Ie[0],this.ctx.beginPath(),this.formatPath([new zn(Ui.end.x,Ui.end.y),new zn(jn.start.x,jn.start.y)]),this.ctx.stroke()),Xu(Ie[1])&&(Ui=Ie[1],jn=Ie[2],this.ctx.beginPath(),this.formatPath([new zn(Ui.end.x,Ui.end.y),new zn(jn.start.x,jn.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},E.prototype.render=function(B){return Tt(this,void 0,void 0,function(){var I;return Ot(this,function(Q){switch(Q.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ca(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),I=function(N){var E=new XS(N,null),B=new m0(E),I=[];return YS(E,B,B,I),DN(E.container,I),B}(B),[4,this.renderStack(I)];case 1:return Q.sent(),this.applyEffects([]),[2,this.canvas]}})})},E}(J5),Gj=function(N){return N instanceof Zy||N instanceof Yy||N instanceof Ku&&N.type!==As&&N.type!==Gt},jj=function(N,E){switch(N){case 0:return Hf(E);case 2:return function(N){return[N.topLeftContentBox,N.topRightContentBox,N.bottomRightContentBox,N.bottomLeftContentBox]}(E);default:return f1(E)}},e3=function(N){switch(N){case 1:return"center";case 2:return"right";default:return"left"}},Zg=["-apple-system","system-ui"],$n=function(N){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?N.filter(function(E){return-1===Zg.indexOf(E)}):N},IN=function(N){function E(B,I){var Q=N.call(this,B,I)||this;return Q.canvas=I.canvas?I.canvas:document.createElement("canvas"),Q.ctx=Q.canvas.getContext("2d"),Q.options=I,Q.canvas.width=Math.floor(I.width*I.scale),Q.canvas.height=Math.floor(I.height*I.scale),Q.canvas.style.width=I.width+"px",Q.canvas.style.height=I.height+"px",Q.ctx.scale(Q.options.scale,Q.options.scale),Q.ctx.translate(-I.x,-I.y),Q.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+I.width+"x"+I.height+" at "+I.x+","+I.y+") with scale "+I.scale),Q}return Me(E,N),E.prototype.render=function(B){return Tt(this,void 0,void 0,function(){var I,Q;return Ot(this,function(ne){switch(ne.label){case 0:return I=Xy(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,B),[4,t3(I)];case 1:return Q=ne.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ca(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Q,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},E}(J5),t3=function(N){return new Promise(function(E,B){var I=new Image;I.onload=function(){E(I)},I.onerror=B,I.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(N))})},eE=function(){function N(E){var I=E.enabled;this.id=E.id,this.enabled=I,this.start=Date.now()}return N.prototype.debug=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.debug?console.debug.apply(console,yn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},N.prototype.getTime=function(){return Date.now()-this.start},N.prototype.info=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];this.enabled&&typeof window<"u"&&window.console&&"function"==typeof console.info&&console.info.apply(console,yn([this.id,this.getTime()+"ms"],E))},N.prototype.warn=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.warn?console.warn.apply(console,yn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},N.prototype.error=function(){for(var E=[],B=0;B<arguments.length;B++)E[B]=arguments[B];this.enabled&&(typeof window<"u"&&window.console&&"function"==typeof console.error?console.error.apply(console,yn([this.id,this.getTime()+"ms"],E)):this.info.apply(this,E))},N.instances={},N}(),Cn=function(){function N(E,B){var I;this.windowBounds=B,this.instanceName="#"+N.instanceCount++,this.logger=new eE({id:this.instanceName,enabled:E.logging}),this.cache=null!==(I=E.cache)&&void 0!==I?I:new qS(this,E)}return N.instanceCount=1,N}();typeof window<"u"&&p0.setContext(window);var Jg=function(N,E){return Tt(void 0,void 0,void 0,function(){var B,I,Q,ne,me,Be,Ie,We,tt,ft,Et,Qn,xn,In,bi,ri,si,hs,_r,Ui,jn,is,Gi,Da,Hc,gu,qs,fl,Vf,wc,Il,Zp,Yd,zf,Jp,aA,Qf,lA;return Ot(this,function(Gf){switch(Gf.label){case 0:if(!N||"object"!=typeof N)return[2,Promise.reject("Invalid element provided as first argument")];if(!(B=N.ownerDocument))throw new Error("Element is not attached to a Document");if(!(I=B.defaultView))throw new Error("Document is not attached to a Window");return Q={allowTaint:null!==(is=E.allowTaint)&&void 0!==is&&is,imageTimeout:null!==(Gi=E.imageTimeout)&&void 0!==Gi?Gi:15e3,proxy:E.proxy,useCORS:null!==(Da=E.useCORS)&&void 0!==Da&&Da},ne=Pt({logging:null===(Hc=E.logging)||void 0===Hc||Hc,cache:E.cache},Q),me={windowWidth:null!==(gu=E.windowWidth)&&void 0!==gu?gu:I.innerWidth,windowHeight:null!==(qs=E.windowHeight)&&void 0!==qs?qs:I.innerHeight,scrollX:null!==(fl=E.scrollX)&&void 0!==fl?fl:I.pageXOffset,scrollY:null!==(Vf=E.scrollY)&&void 0!==Vf?Vf:I.pageYOffset},Be=new vn(me.scrollX,me.scrollY,me.windowWidth,me.windowHeight),Ie=new Cn(ne,Be),We=null!==(wc=E.foreignObjectRendering)&&void 0!==wc&&wc,tt={allowTaint:null!==(Il=E.allowTaint)&&void 0!==Il&&Il,onclone:E.onclone,ignoreElements:E.ignoreElements,inlineImages:We,copyStyles:We},Ie.logger.debug("Starting document clone with size "+Be.width+"x"+Be.height+" scrolled to "+-Be.left+","+-Be.top),ft=new s1(Ie,N,tt),(Et=ft.clonedReferenceElement)?[4,ft.toIFrame(B,Be)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Qn=Gf.sent(),xn=RS(Et)||function(N){return"HTML"===N.tagName}(Et)?function(N){var E=N.body,B=N.documentElement;if(!E||!B)throw new Error("Unable to get document size");var I=Math.max(Math.max(E.scrollWidth,B.scrollWidth),Math.max(E.offsetWidth,B.offsetWidth),Math.max(E.clientWidth,B.clientWidth)),Q=Math.max(Math.max(E.scrollHeight,B.scrollHeight),Math.max(E.offsetHeight,B.offsetHeight),Math.max(E.clientHeight,B.clientHeight));return new vn(0,0,I,Q)}(Et.ownerDocument):Pn(Ie,Et),In=xn.width,bi=xn.height,ri=xn.left,si=xn.top,hs=v0(Ie,Et,E.backgroundColor),_r={canvas:E.canvas,backgroundColor:hs,scale:null!==(Yd=null!==(Zp=E.scale)&&void 0!==Zp?Zp:I.devicePixelRatio)&&void 0!==Yd?Yd:1,x:(null!==(zf=E.x)&&void 0!==zf?zf:0)+ri,y:(null!==(Jp=E.y)&&void 0!==Jp?Jp:0)+si,width:null!==(aA=E.width)&&void 0!==aA?aA:Math.ceil(In),height:null!==(Qf=E.height)&&void 0!==Qf?Qf:Math.ceil(bi)},We?(Ie.logger.debug("Document cloned, using foreign object rendering"),[4,new IN(Ie,_r).render(Et)]):[3,3];case 2:return Ui=Gf.sent(),[3,5];case 3:return Ie.logger.debug("Document cloned, element located at "+ri+","+si+" with size "+In+"x"+bi+" using computed rendering"),Ie.logger.debug("Starting DOM parsing"),jn=kh(Ie,Et),hs===jn.styles.backgroundColor&&(jn.styles.backgroundColor=Rd.TRANSPARENT),Ie.logger.debug("Starting renderer for element at "+_r.x+","+_r.y+" with size "+_r.width+"x"+_r.height),[4,new Qj(Ie,_r).render(jn)];case 4:Ui=Gf.sent(),Gf.label=5;case 5:return(!(null!==(lA=E.removeContainer)&&void 0!==lA)||lA)&&(s1.destroy(Qn)||Ie.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),Ie.logger.debug("Finished rendering"),[2,Ui]}})})},v0=function(N,E,B){var I=E.ownerDocument,Q=I.documentElement?Lg(N,getComputedStyle(I.documentElement).backgroundColor):Rd.TRANSPARENT,ne=I.body?Lg(N,getComputedStyle(I.body).backgroundColor):Rd.TRANSPARENT,me="string"==typeof B?Lg(N,B):null===B?Rd.TRANSPARENT:4294967295;return E===I.documentElement?xa(Q)?xa(ne)?me:ne:Q:me};return function(N,E){return void 0===E&&(E={}),Jg(N,E)}}()},7955:Ti=>{Ti.exports=function li(Me,Pt){"use strict";var cn,fn,Tt=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,Ot=/(^[ ]*|[ ]*$)/g,yn=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,vn=/^0x[0-9a-f]+$/i,Pn=/^0/,Gn=function(uo){return li.insensitive&&(""+uo).toLowerCase()||""+uo},It=Gn(Me).replace(Ot,"")||"",je=Gn(Pt).replace(Ot,"")||"",qt=It.replace(Tt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),zt=je.replace(Tt,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),Ct=parseInt(It.match(vn),16)||1!==qt.length&&It.match(yn)&&Date.parse(It),en=parseInt(je.match(vn),16)||Ct&&je.match(yn)&&Date.parse(je)||null;if(en){if(Ct<en)return-1;if(Ct>en)return 1}for(var vr=0,Rs=Math.max(qt.length,zt.length);vr<Rs;vr++){if(cn=!(qt[vr]||"").match(Pn)&&parseFloat(qt[vr])||qt[vr]||0,fn=!(zt[vr]||"").match(Pn)&&parseFloat(zt[vr])||zt[vr]||0,isNaN(cn)!==isNaN(fn))return isNaN(cn)?1:-1;if(typeof cn!=typeof fn&&(cn+="",fn+=""),cn<fn)return-1;if(cn>fn)return 1}return 0}},8814:(Ti,li,Me)=>{var Pt=Me(2495),Tt=Me(7850),Ot=Me(5704),yn=Me(8114),vn=Me(9040),Pn=Me(4478),Gn=Me(7454);Gn.alea=Pt,Gn.xor128=Tt,Gn.xorwow=Ot,Gn.xorshift7=yn,Gn.xor4096=vn,Gn.tychei=Pn,Ti.exports=Gn},2495:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(je){var qt=this,zt=function It(){var je=4022871197;return function(zt){zt=String(zt);for(var Ct=0;Ct<zt.length;Ct++){var en=.02519603282416938*(je+=zt.charCodeAt(Ct));en-=je=en>>>0,je=(en*=je)>>>0,je+=4294967296*(en-=je)}return 2.3283064365386963e-10*(je>>>0)}}();qt.next=function(){var Ct=2091639*qt.s0+2.3283064365386963e-10*qt.c;return qt.s0=qt.s1,qt.s1=qt.s2,qt.s2=Ct-(qt.c=0|Ct)},qt.c=1,qt.s0=zt(" "),qt.s1=zt(" "),qt.s2=zt(" "),qt.s0-=zt(je),qt.s0<0&&(qt.s0+=1),qt.s1-=zt(je),qt.s1<0&&(qt.s1+=1),qt.s2-=zt(je),qt.s2<0&&(qt.s2+=1),zt=null}function Pn(je,qt){return qt.c=je.c,qt.s0=je.s0,qt.s1=je.s1,qt.s2=je.s2,qt}function Gn(je,qt){var zt=new vn(je),Ct=qt&&qt.state,en=zt.next;return en.int32=function(){return 4294967296*zt.next()|0},en.double=function(){return en()+11102230246251565e-32*(2097152*en()|0)},en.quick=en,Ct&&("object"==typeof Ct&&Pn(Ct,zt),en.state=function(){return Pn(zt,{})}),en}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.alea=Gn}(0,Ti=Me.nmd(Ti))},4478:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(It){var je=this,qt="";je.next=function(){var Ct=je.b,en=je.c,cn=je.d,fn=je.a;return Ct=Ct<<25^Ct>>>7^en,en=en-cn|0,cn=cn<<24^cn>>>8^fn,fn=fn-Ct|0,je.b=Ct=Ct<<20^Ct>>>12^en,je.c=en=en-cn|0,je.d=cn<<16^en>>>16^fn,je.a=fn-Ct|0},je.a=0,je.b=0,je.c=-1640531527,je.d=1367130551,It===Math.floor(It)?(je.a=It/4294967296|0,je.b=0|It):qt+=It;for(var zt=0;zt<qt.length+20;zt++)je.b^=0|qt.charCodeAt(zt),je.next()}function Pn(It,je){return je.a=It.a,je.b=It.b,je.c=It.c,je.d=It.d,je}function Gn(It,je){var qt=new vn(It),zt=je&&je.state,Ct=function(){return(qt.next()>>>0)/4294967296};return Ct.double=function(){do{var fn=((qt.next()>>>11)+(qt.next()>>>0)/4294967296)/(1<<21)}while(0===fn);return fn},Ct.int32=qt.next,Ct.quick=Ct,zt&&("object"==typeof zt&&Pn(zt,qt),Ct.state=function(){return Pn(qt,{})}),Ct}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.tychei=Gn}(0,Ti=Me.nmd(Ti))},7850:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(It){var je=this,qt="";je.x=0,je.y=0,je.z=0,je.w=0,je.next=function(){var Ct=je.x^je.x<<11;return je.x=je.y,je.y=je.z,je.z=je.w,je.w^=je.w>>>19^Ct^Ct>>>8},It===(0|It)?je.x=It:qt+=It;for(var zt=0;zt<qt.length+64;zt++)je.x^=0|qt.charCodeAt(zt),je.next()}function Pn(It,je){return je.x=It.x,je.y=It.y,je.z=It.z,je.w=It.w,je}function Gn(It,je){var qt=new vn(It),zt=je&&je.state,Ct=function(){return(qt.next()>>>0)/4294967296};return Ct.double=function(){do{var fn=((qt.next()>>>11)+(qt.next()>>>0)/4294967296)/(1<<21)}while(0===fn);return fn},Ct.int32=qt.next,Ct.quick=Ct,zt&&("object"==typeof zt&&Pn(zt,qt),Ct.state=function(){return Pn(qt,{})}),Ct}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.xor128=Gn}(0,Ti=Me.nmd(Ti))},9040:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(It){var je=this;je.next=function(){var cn,fn,zt=je.w,Ct=je.X,en=je.i;return je.w=zt=zt+1640531527|0,fn=Ct[en+34&127],cn=Ct[en=en+1&127],fn^=fn<<13,cn^=cn<<17,fn=Ct[en]=(fn^=fn>>>15)^(cn^=cn>>>12),je.i=en,fn+(zt^zt>>>16)|0},function qt(zt,Ct){var en,cn,fn,vr,Rs,uo=[],Ys=128;for(Ct===(0|Ct)?(cn=Ct,Ct=null):(Ct+="\0",cn=0,Ys=Math.max(Ys,Ct.length)),fn=0,vr=-32;vr<Ys;++vr)Ct&&(cn^=Ct.charCodeAt((vr+32)%Ct.length)),0===vr&&(Rs=cn),cn^=cn<<10,cn^=cn>>>15,cn^=cn<<4,cn^=cn>>>13,vr>=0&&(fn=0==(en=uo[127&vr]^=cn+(Rs=Rs+1640531527|0))?fn+1:0);for(fn>=128&&(uo[127&(Ct&&Ct.length||0)]=-1),fn=127,vr=512;vr>0;--vr)cn=uo[fn+34&127],en=uo[fn=fn+1&127],cn^=cn<<13,en^=en<<17,uo[fn]=(cn^=cn>>>15)^(en^=en>>>12);zt.w=Rs,zt.X=uo,zt.i=fn}(je,It)}function Pn(It,je){return je.i=It.i,je.w=It.w,je.X=It.X.slice(),je}function Gn(It,je){null==It&&(It=+new Date);var qt=new vn(It),zt=je&&je.state,Ct=function(){return(qt.next()>>>0)/4294967296};return Ct.double=function(){do{var fn=((qt.next()>>>11)+(qt.next()>>>0)/4294967296)/(1<<21)}while(0===fn);return fn},Ct.int32=qt.next,Ct.quick=Ct,zt&&(zt.X&&Pn(zt,qt),Ct.state=function(){return Pn(qt,{})}),Ct}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.xor4096=Gn}(0,Ti=Me.nmd(Ti))},8114:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(It){var je=this;je.next=function(){var en,cn,zt=je.x,Ct=je.i;return en=zt[Ct],cn=(en^=en>>>7)^en<<24,cn^=(en=zt[Ct+1&7])^en>>>10,cn^=(en=zt[Ct+3&7])^en>>>3,cn^=(en=zt[Ct+4&7])^en<<7,en=zt[Ct+7&7],zt[Ct]=cn^=(en^=en<<13)^en<<9,je.i=Ct+1&7,cn},function qt(zt,Ct){var en,fn=[];if(Ct===(0|Ct))fn[0]=Ct;else for(Ct=""+Ct,en=0;en<Ct.length;++en)fn[7&en]=fn[7&en]<<15^Ct.charCodeAt(en)+fn[en+1&7]<<13;for(;fn.length<8;)fn.push(0);for(en=0;en<8&&0===fn[en];++en);for(8==en&&(fn[7]=-1),zt.x=fn,zt.i=0,en=256;en>0;--en)zt.next()}(je,It)}function Pn(It,je){return je.x=It.x.slice(),je.i=It.i,je}function Gn(It,je){null==It&&(It=+new Date);var qt=new vn(It),zt=je&&je.state,Ct=function(){return(qt.next()>>>0)/4294967296};return Ct.double=function(){do{var fn=((qt.next()>>>11)+(qt.next()>>>0)/4294967296)/(1<<21)}while(0===fn);return fn},Ct.int32=qt.next,Ct.quick=Ct,zt&&(zt.x&&Pn(zt,qt),Ct.state=function(){return Pn(qt,{})}),Ct}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.xorshift7=Gn}(0,Ti=Me.nmd(Ti))},5704:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){function vn(It){var je=this,qt="";je.next=function(){var Ct=je.x^je.x>>>2;return je.x=je.y,je.y=je.z,je.z=je.w,je.w=je.v,(je.d=je.d+362437|0)+(je.v=je.v^je.v<<4^Ct^Ct<<1)|0},je.x=0,je.y=0,je.z=0,je.w=0,je.v=0,It===(0|It)?je.x=It:qt+=It;for(var zt=0;zt<qt.length+64;zt++)je.x^=0|qt.charCodeAt(zt),zt==qt.length&&(je.d=je.x<<10^je.x>>>4),je.next()}function Pn(It,je){return je.x=It.x,je.y=It.y,je.z=It.z,je.w=It.w,je.v=It.v,je.d=It.d,je}function Gn(It,je){var qt=new vn(It),zt=je&&je.state,Ct=function(){return(qt.next()>>>0)/4294967296};return Ct.double=function(){do{var fn=((qt.next()>>>11)+(qt.next()>>>0)/4294967296)/(1<<21)}while(0===fn);return fn},Ct.int32=qt.next,Ct.quick=Ct,zt&&("object"==typeof zt&&Pn(zt,qt),Ct.state=function(){return Pn(qt,{})}),Ct}Ot&&Ot.exports?Ot.exports=Gn:Me.amdD&&Me.amdO?void 0!==(Pt=function(){return Gn}.call(li,Me,li,Ot))&&(Ot.exports=Pt):this.xorwow=Gn}(0,Ti=Me.nmd(Ti))},7454:function(Ti,li,Me){var Pt;!function(Tt,Ot,yn){var en,vn=256,je=yn.pow(vn,6),qt=yn.pow(2,52),zt=2*qt,Ct=vn-1;function cn(Ri,cs,$o){var Gs=[],us=uo(Rs((cs=1==cs?{entropy:!0}:cs||{}).entropy?[Ri,sl(Ot)]:Ri??function Ys(){try{var Ri;return en&&(Ri=en.randomBytes)?Ri=Ri(vn):(Ri=new Uint8Array(vn),(Tt.crypto||Tt.msCrypto).getRandomValues(Ri)),sl(Ri)}catch{var cs=Tt.navigator,$o=cs&&cs.plugins;return[+new Date,Tt,$o,Tt.screen,sl(Ot)]}}(),3),Gs),Fr=new fn(Gs),zr=function(){for(var ol=Fr.g(6),$l=je,al=0;ol<qt;)ol=(ol+al)*vn,$l*=vn,al=Fr.g(1);for(;ol>=zt;)ol/=2,$l/=2,al>>>=1;return(ol+al)/$l};return zr.int32=function(){return 0|Fr.g(4)},zr.quick=function(){return Fr.g(4)/4294967296},zr.double=zr,uo(sl(Fr.S),Ot),(cs.pass||$o||function(ol,$l,al,_c){return _c&&(_c.S&&vr(_c,Fr),ol.state=function(){return vr(Fr,{})}),al?(yn.random=ol,$l):ol})(zr,us,"global"in cs?cs.global:this==yn,cs.state)}function fn(Ri){var cs,$o=Ri.length,Gs=this,us=0,Fr=Gs.i=Gs.j=0,zr=Gs.S=[];for($o||(Ri=[$o++]);us<vn;)zr[us]=us++;for(us=0;us<vn;us++)zr[us]=zr[Fr=Ct&Fr+Ri[us%$o]+(cs=zr[us])],zr[Fr]=cs;(Gs.g=function(ol){for(var $l,al=0,_c=Gs.i,Th=Gs.j,Qu=Gs.S;ol--;)$l=Qu[_c=Ct&_c+1],al=al*vn+Qu[Ct&(Qu[_c]=Qu[Th=Ct&Th+$l])+(Qu[Th]=$l)];return Gs.i=_c,Gs.j=Th,al})(vn)}function vr(Ri,cs){return cs.i=Ri.i,cs.j=Ri.j,cs.S=Ri.S.slice(),cs}function Rs(Ri,cs){var us,$o=[],Gs=typeof Ri;if(cs&&"object"==Gs)for(us in Ri)try{$o.push(Rs(Ri[us],cs-1))}catch{}return $o.length?$o:"string"==Gs?Ri:Ri+"\0"}function uo(Ri,cs){for(var Gs,$o=Ri+"",us=0;us<$o.length;)cs[Ct&us]=Ct&(Gs^=19*cs[Ct&us])+$o.charCodeAt(us++);return sl(cs)}function sl(Ri){return String.fromCharCode.apply(0,Ri)}if(uo(yn.random(),Ot),Ti.exports){Ti.exports=cn;try{en=Me(1234)}catch{}}else void 0!==(Pt=function(){return cn}.call(li,Me,li,Ti))&&(Ti.exports=Pt)}(typeof self<"u"?self:this,[],Math)},724:Ti=>{void 0===Date.now&&(Date.now=function(){return(new Date).valueOf()});var li=li||function(){var Me=[];return{REVISION:"8",getAll:function(){return Me},removeAll:function(){Me=[]},add:function(Pt){Me.push(Pt)},remove:function(Pt){var Tt=Me.indexOf(Pt);-1!==Tt&&Me.splice(Tt,1)},update:function(Pt){if(0===Me.length)return!1;var Tt=0,Ot=Me.length;for(Pt=void 0!==Pt?Pt:Date.now();Tt<Ot;)Me[Tt].update(Pt)?Tt++:(Me.splice(Tt,1),Ot--);return!0}}}();li.Tween=function(Me){var Pt=Me,Tt={},Ot={},yn=1e3,vn=0,Pn=null,Gn=li.Easing.Linear.None,It=li.Interpolation.Linear,je=[],qt=null,zt=!1,Ct=null,en=null;this.to=function(cn,fn){return void 0!==fn&&(yn=fn),Ot=cn,this},this.start=function(cn){for(var fn in li.add(this),zt=!1,Pn=void 0!==cn?cn:Date.now(),Pn+=vn,Ot)if(null!==Pt[fn]&&fn in Pt){if(Ot[fn]instanceof Array){if(0===Ot[fn].length)continue;Ot[fn]=[Pt[fn]].concat(Ot[fn])}Tt[fn]=Pt[fn]}return this},this.stop=function(){return li.remove(this),this},this.delay=function(cn){return vn=cn,this},this.easing=function(cn){return Gn=cn,this},this.interpolation=function(cn){return It=cn,this},this.chain=function(){return je=arguments,this},this.onStart=function(cn){return qt=cn,this},this.onUpdate=function(cn){return Ct=cn,this},this.onComplete=function(cn){return en=cn,this},this.update=function(cn){if(cn<Pn)return!0;!1===zt&&(null!==qt&&qt.call(Pt),zt=!0);var fn=(cn-Pn)/yn,vr=Gn(fn=fn>1?1:fn);for(var Rs in Tt){var uo=Tt[Rs],Ys=Ot[Rs];Pt[Rs]=Ys instanceof Array?It(Ys,vr):uo+(Ys-uo)*vr}if(null!==Ct&&Ct.call(Pt,vr),1==fn){null!==en&&en.call(Pt);for(var sl=0,Ri=je.length;sl<Ri;sl++)je[sl].start(cn);return!1}return!0}},li.Easing={Linear:{None:function(Me){return Me}},Quadratic:{In:function(Me){return Me*Me},Out:function(Me){return Me*(2-Me)},InOut:function(Me){return(Me*=2)<1?.5*Me*Me:-.5*(--Me*(Me-2)-1)}},Cubic:{In:function(Me){return Me*Me*Me},Out:function(Me){return--Me*Me*Me+1},InOut:function(Me){return(Me*=2)<1?.5*Me*Me*Me:.5*((Me-=2)*Me*Me+2)}},Quartic:{In:function(Me){return Me*Me*Me*Me},Out:function(Me){return 1- --Me*Me*Me*Me},InOut:function(Me){return(Me*=2)<1?.5*Me*Me*Me*Me:-.5*((Me-=2)*Me*Me*Me-2)}},Quintic:{In:function(Me){return Me*Me*Me*Me*Me},Out:function(Me){return--Me*Me*Me*Me*Me+1},InOut:function(Me){return(Me*=2)<1?.5*Me*Me*Me*Me*Me:.5*((Me-=2)*Me*Me*Me*Me+2)}},Sinusoidal:{In:function(Me){return 1-Math.cos(Me*Math.PI/2)},Out:function(Me){return Math.sin(Me*Math.PI/2)},InOut:function(Me){return.5*(1-Math.cos(Math.PI*Me))}},Exponential:{In:function(Me){return 0===Me?0:Math.pow(1024,Me-1)},Out:function(Me){return 1===Me?1:1-Math.pow(2,-10*Me)},InOut:function(Me){return 0===Me?0:1===Me?1:(Me*=2)<1?.5*Math.pow(1024,Me-1):.5*(2-Math.pow(2,-10*(Me-1)))}},Circular:{In:function(Me){return 1-Math.sqrt(1-Me*Me)},Out:function(Me){return Math.sqrt(1- --Me*Me)},InOut:function(Me){return(Me*=2)<1?-.5*(Math.sqrt(1-Me*Me)-1):.5*(Math.sqrt(1-(Me-=2)*Me)+1)}},Elastic:{In:function(Me){var Pt,Tt=.1;return 0===Me?0:1===Me?1:(!Tt||Tt<1?(Tt=1,Pt=.1):Pt=.4*Math.asin(1/Tt)/(2*Math.PI),-Tt*Math.pow(2,10*(Me-=1))*Math.sin((Me-Pt)*(2*Math.PI)/.4))},Out:function(Me){var Pt,Tt=.1;return 0===Me?0:1===Me?1:(!Tt||Tt<1?(Tt=1,Pt=.1):Pt=.4*Math.asin(1/Tt)/(2*Math.PI),Tt*Math.pow(2,-10*Me)*Math.sin((Me-Pt)*(2*Math.PI)/.4)+1)},InOut:function(Me){var Pt,Tt=.1;return 0===Me?0:1===Me?1:(!Tt||Tt<1?(Tt=1,Pt=.1):Pt=.4*Math.asin(1/Tt)/(2*Math.PI),(Me*=2)<1?Tt*Math.pow(2,10*(Me-=1))*Math.sin((Me-Pt)*(2*Math.PI)/.4)*-.5:Tt*Math.pow(2,-10*(Me-=1))*Math.sin((Me-Pt)*(2*Math.PI)/.4)*.5+1)}},Back:{In:function(Me){return Me*Me*(2.70158*Me-1.70158)},Out:function(Me){return--Me*Me*(2.70158*Me+1.70158)+1},InOut:function(Me){var Pt=2.5949095;return(Me*=2)<1?Me*Me*((Pt+1)*Me-Pt)*.5:.5*((Me-=2)*Me*((Pt+1)*Me+Pt)+2)}},Bounce:{In:function(Me){return 1-li.Easing.Bounce.Out(1-Me)},Out:function(Me){return Me<1/2.75?7.5625*Me*Me:Me<2/2.75?7.5625*(Me-=1.5/2.75)*Me+.75:Me<2.5/2.75?7.5625*(Me-=2.25/2.75)*Me+.9375:7.5625*(Me-=2.625/2.75)*Me+.984375},InOut:function(Me){return Me<.5?.5*li.Easing.Bounce.In(2*Me):.5*li.Easing.Bounce.Out(2*Me-1)+.5}}},li.Interpolation={Linear:function(Me,Pt){var Tt=Me.length-1,Ot=Tt*Pt,yn=Math.floor(Ot),vn=li.Interpolation.Utils.Linear;return Pt<0?vn(Me[0],Me[1],Ot):Pt>1?vn(Me[Tt],Me[Tt-1],Tt-Ot):vn(Me[yn],Me[yn+1>Tt?Tt:yn+1],Ot-yn)},Bezier:function(Me,Pt){var Pn,Tt=0,Ot=Me.length-1,yn=Math.pow,vn=li.Interpolation.Utils.Bernstein;for(Pn=0;Pn<=Ot;Pn++)Tt+=yn(1-Pt,Ot-Pn)*yn(Pt,Pn)*Me[Pn]*vn(Ot,Pn);return Tt},CatmullRom:function(Me,Pt){var Tt=Me.length-1,Ot=Tt*Pt,yn=Math.floor(Ot),vn=li.Interpolation.Utils.CatmullRom;return Me[0]===Me[Tt]?(Pt<0&&(yn=Math.floor(Ot=Tt*(1+Pt))),vn(Me[(yn-1+Tt)%Tt],Me[yn],Me[(yn+1)%Tt],Me[(yn+2)%Tt],Ot-yn)):Pt<0?Me[0]-(vn(Me[0],Me[0],Me[1],Me[1],-Ot)-Me[0]):Pt>1?Me[Tt]-(vn(Me[Tt],Me[Tt],Me[Tt-1],Me[Tt-1],Ot-Tt)-Me[Tt]):vn(Me[yn?yn-1:0],Me[yn],Me[Tt<yn+1?Tt:yn+1],Me[Tt<yn+2?Tt:yn+2],Ot-yn)},Utils:{Linear:function(Me,Pt,Tt){return(Pt-Me)*Tt+Me},Bernstein:function(Me,Pt){var Tt=li.Interpolation.Utils.Factorial;return Tt(Me)/Tt(Pt)/Tt(Me-Pt)},Factorial:function(){var Me=[1];return function(Pt){var Ot,Tt=1;if(Me[Pt])return Me[Pt];for(Ot=Pt;Ot>1;Ot--)Tt*=Ot;return Me[Pt]=Tt}}(),CatmullRom:function(Me,Pt,Tt,Ot,yn){var vn=.5*(Tt-Me),Pn=.5*(Ot-Pt),Gn=yn*yn;return(2*Pt-2*Tt+vn+Pn)*(yn*Gn)+(-3*Pt+3*Tt-2*vn-Pn)*Gn+vn*yn+Pt}}},Ti.exports=li},1234:()=>{},616:function(Ti){Ti.exports=function(){"use strict";function li(){return!0}function Me(){return!1}function Pt(){}const Tt="Argument is not a typed-function.";return function Ot(){function vn(He){return"object"==typeof He&&null!==He&&He.constructor===Object}const Pn=[{name:"number",test:function(He){return"number"==typeof He}},{name:"string",test:function(He){return"string"==typeof He}},{name:"boolean",test:function(He){return"boolean"==typeof He}},{name:"Function",test:function(He){return"function"==typeof He}},{name:"Array",test:Array.isArray},{name:"Date",test:function(He){return He instanceof Date}},{name:"RegExp",test:function(He){return He instanceof RegExp}},{name:"Object",test:vn},{name:"null",test:function(He){return null===He}},{name:"undefined",test:function(He){return void 0===He}}],Gn={name:"any",test:li,isAny:!0};let It,je,qt=0,zt={createCount:0};function Ct(He){const et=It.get(He);if(et)return et;let vt='Unknown type "'+He+'"';const jt=He.toLowerCase();let rn;for(rn of je)if(rn.toLowerCase()===jt){vt+='. Did you mean "'+rn+'" ?';break}throw new TypeError(vt)}function en(He){let et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"any";const vt=et?Ct(et).index:je.length,jt=[];for(let Wt=0;Wt<He.length;++Wt){if(!He[Wt]||"string"!=typeof He[Wt].name||"function"!=typeof He[Wt].test)throw new TypeError("Object with properties {name: string, test: function} expected");const Dn=He[Wt].name;if(It.has(Dn))throw new TypeError('Duplicate type name "'+Dn+'"');jt.push(Dn),It.set(Dn,{name:Dn,test:He[Wt].test,isAny:He[Wt].isAny,index:vt+Wt,conversionsTo:[]})}const rn=je.slice(vt);je=je.slice(0,vt).concat(jt).concat(rn);for(let Wt=vt+jt.length;Wt<je.length;++Wt)It.get(je[Wt]).index=Wt}function cn(){It=new Map,je=[],qt=0,en([Gn],!1)}function vr(He){const et=je.filter(vt=>{const jt=It.get(vt);return!jt.isAny&&jt.test(He)});return et.length?et:["any"]}function Rs(He){return He&&"function"==typeof He&&"_typedFunctionData"in He}function uo(He,et,vt){if(!Rs(He))throw new TypeError(Tt);const jt=vt&&vt.exact,Wt=us(Array.isArray(et)?et.join(","):et),Dn=Ri(Wt);if(!jt||Dn in He.signatures){const xi=He._typedFunctionData.signatureMap.get(Dn);if(xi)return xi}const dn=Wt.length;let Hn,nn;if(jt){let xi;for(xi in Hn=[],He.signatures)Hn.push(He._typedFunctionData.signatureMap.get(xi))}else Hn=He._typedFunctionData.signatures;for(let xi=0;xi<dn;++xi){const Lr=Wt[xi],Ro=[];let ya;for(ya of Hn){const Ns=$l(ya.params,xi);if(Ns&&(!Lr.restParam||Ns.restParam)){if(!Ns.hasAny){const Xl=Gs(Ns);if(Lr.types.some(ll=>!Xl.has(ll.name)))continue}Ro.push(ya)}}if(Hn=Ro,0===Hn.length)break}for(nn of Hn)if(nn.params.length<=dn)return nn;throw new TypeError("Signature not found (signature: "+(He.name||"unnamed")+"("+Ri(Wt,", ")+"))")}function Ri(He){let et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",";return He.map(vt=>vt.name).join(et)}function cs(He){const et=0===He.indexOf("..."),jt=(et?He.length>3?He.slice(3):"any":He).split("|").map(dn=>Ct(dn.trim()));let rn=!1,Wt=et?"...":"";return{types:jt.map(function(dn){return rn=dn.isAny||rn,Wt+=dn.name+"|",{name:dn.name,typeIndex:dn.index,test:dn.test,isAny:dn.isAny,conversion:null,conversionIndex:-1}}),name:Wt.slice(0,-1),hasAny:rn,hasConversion:!1,restParam:et}}function $o(He){const vt=function R_(He){if(0===He.length)return[];const et=He.map(Ct);if(1===He.length)return et[0].conversionsTo;const vt=new Set(He),jt=new Set;for(let Wt=0;Wt<et.length;++Wt)for(const Dn of et[Wt].conversionsTo)vt.has(Dn.from)||jt.add(Dn.from);const rn=[];for(const Wt of jt){let Dn=qt+1,dn=null;for(let Hn=0;Hn<et.length;++Hn)for(const nn of et[Hn].conversionsTo)nn.from===Wt&&nn.index<Dn&&(Dn=nn.index,dn=nn);rn.push(dn)}return rn}(He.types.map(Dn=>Dn.name));let jt=He.hasAny,rn=He.name;const Wt=vt.map(function(Dn){const dn=Ct(Dn.from);return jt=dn.isAny||jt,rn+="|"+Dn.from,{name:Dn.from,typeIndex:dn.index,test:dn.test,isAny:dn.isAny,conversion:Dn,conversionIndex:Dn.index}});return{types:He.types.concat(Wt),name:rn,hasAny:jt,hasConversion:Wt.length>0,restParam:He.restParam}}function Gs(He){return He.typeSet||(He.typeSet=new Set,He.types.forEach(et=>He.typeSet.add(et.name))),He.typeSet}function us(He){const et=[];if("string"!=typeof He)throw new TypeError("Signatures must be strings");const vt=He.trim();if(""===vt)return et;const jt=vt.split(",");for(let rn=0;rn<jt.length;++rn){const Wt=cs(jt[rn].trim());if(Wt.restParam&&rn!==jt.length-1)throw new SyntaxError('Unexpected rest parameter "'+jt[rn]+'": only allowed for the last parameter');if(0===Wt.types.length)return null;et.push(Wt)}return et}function Fr(He){const et=ho(He);return!!et&&et.restParam}function zr(He){if(!He||0===He.types.length)return li;if(1===He.types.length)return Ct(He.types[0].name).test;if(2===He.types.length){const et=Ct(He.types[0].name).test,vt=Ct(He.types[1].name).test;return function(rn){return et(rn)||vt(rn)}}{const et=He.types.map(function(vt){return Ct(vt.name).test});return function(jt){for(let rn=0;rn<et.length;rn++)if(et[rn](jt))return!0;return!1}}}function ol(He){let et,vt,jt;if(Fr(He)){et=bn(He).map(zr);const rn=et.length,Wt=zr(ho(He)),Dn=function(dn){for(let Hn=rn;Hn<dn.length;Hn++)if(!Wt(dn[Hn]))return!1;return!0};return function(Hn){for(let nn=0;nn<et.length;nn++)if(!et[nn](Hn[nn]))return!1;return Dn(Hn)&&Hn.length>=rn+1}}return 0===He.length?function(Wt){return 0===Wt.length}:1===He.length?(vt=zr(He[0]),function(Wt){return vt(Wt[0])&&1===Wt.length}):2===He.length?(vt=zr(He[0]),jt=zr(He[1]),function(Wt){return vt(Wt[0])&&jt(Wt[1])&&2===Wt.length}):(et=He.map(zr),function(Wt){for(let Dn=0;Dn<et.length;Dn++)if(!et[Dn](Wt[Dn]))return!1;return Wt.length===et.length})}function $l(He,et){return et<He.length?He[et]:Fr(He)?ho(He):null}function al(He,et){const vt=$l(He,et);return vt?Gs(vt):new Set}function _c(He){return null==He.conversion}function Th(He,et){const vt=new Set;return He.forEach(jt=>{const rn=al(jt.params,et);let Wt;for(Wt of rn)vt.add(Wt)}),vt.has("any")?["any"]:Array.from(vt)}function Qu(He,et,vt){let jt,rn;const Wt=He||"unnamed";let dn,Dn=vt;for(dn=0;dn<et.length;dn++){const Lr=[];if(Dn.forEach(Ro=>{const Ns=zr($l(Ro.params,dn));(dn<Ro.params.length||Fr(Ro.params))&&Ns(et[dn])&&Lr.push(Ro)}),0===Lr.length){if(rn=Th(Dn,dn),rn.length>0){const Ro=vr(et[dn]);return jt=new TypeError("Unexpected type of argument in function "+Wt+" (expected: "+rn.join(" or ")+", actual: "+Ro.join(" | ")+", index: "+dn+")"),jt.data={category:"wrongType",fn:Wt,index:dn,actual:Ro,expected:rn},jt}}else Dn=Lr}const Hn=Dn.map(function(Lr){return Fr(Lr.params)?1/0:Lr.params.length});if(et.length<Math.min.apply(null,Hn))return rn=Th(Dn,dn),jt=new TypeError("Too few arguments in function "+Wt+" (expected: "+rn.join(" or ")+", index: "+et.length+")"),jt.data={category:"tooFewArgs",fn:Wt,index:et.length,expected:rn},jt;const nn=Math.max.apply(null,Hn);if(et.length>nn)return jt=new TypeError("Too many arguments in function "+Wt+" (expected: "+nn+", actual: "+et.length+")"),jt.data={category:"tooManyArgs",fn:Wt,index:et.length,expectedLength:nn},jt;const xi=[];for(let Lr=0;Lr<et.length;++Lr)xi.push(vr(et[Lr]).join("|"));return jt=new TypeError('Arguments of type "'+xi.join(", ")+'" do not match any of the defined signatures of function '+Wt+"."),jt.data={category:"mismatch",actual:xi},jt}function Bp(He){let et=je.length+1;for(let vt=0;vt<He.types.length;vt++)et=Math.min(et,He.types[vt].typeIndex);return et}function Sg(He){let et=qt+1;for(let vt=0;vt<He.types.length;vt++)_c(He.types[vt])||(et=Math.min(et,He.types[vt].conversionIndex));return et}function Eg(He,et){if(He.hasAny){if(!et.hasAny)return.1}else if(et.hasAny)return-.1;if(He.restParam){if(!et.restParam)return.01}else if(et.restParam)return-.01;const vt=Bp(He)-Bp(et);if(vt<0)return-.001;if(vt>0)return.001;const jt=Sg(He),rn=Sg(et);if(He.hasConversion){if(!et.hasConversion)return 1e-6*(1+jt)}else if(et.hasConversion)return 1e-6*-(1+rn);const Wt=jt-rn;return Wt<0?-1e-7:Wt>0?1e-7:0}function Fp(He,et){const vt=He.params,jt=et.params,rn=ho(vt),Wt=ho(jt),Dn=Fr(vt),dn=Fr(jt);if(Dn&&rn.hasAny){if(!dn||!Wt.hasAny)return 1e7}else if(dn&&Wt.hasAny)return-1e7;let xi,Hn=0,nn=0;for(xi of vt)xi.hasAny&&++Hn,xi.hasConversion&&++nn;let Lr=0,Ro=0;for(xi of jt)xi.hasAny&&++Lr,xi.hasConversion&&++Ro;if(Hn!==Lr)return 1e6*(Hn-Lr);if(Dn&&rn.hasConversion){if(!dn||!Wt.hasConversion)return 1e5}else if(dn&&Wt.hasConversion)return-1e5;if(nn!==Ro)return 1e4*(nn-Ro);if(Dn){if(!dn)return 1e3}else if(dn)return-1e3;const ya=(vt.length-jt.length)*(Dn?-100:100);if(0!==ya)return ya;const Ns=[];let Xl=0;for(let Bf=0;Bf<vt.length;++Bf){const Tg=Eg(vt[Bf],jt[Bf]);Ns.push(Tg),Xl+=Tg}if(0!==Xl)return(Xl<0?-10:10)+Xl;let ll,Xi=9;const Op=Xi/(Ns.length+1);for(ll of Ns){if(0!==ll)return(ll<0?-Xi:Xi)+ll;Xi-=Op}return 0}function JC(He,et){let vt=et,jt="";if(He.some(Wt=>Wt.hasConversion)){const Wt=Fr(He),Dn=He.map(Qm);jt=Dn.map(dn=>dn.name).join(";"),vt=function(){const Hn=[],nn=Wt?arguments.length-1:arguments.length;for(let xi=0;xi<nn;xi++)Hn[xi]=Dn[xi](arguments[xi]);return Wt&&(Hn[nn]=arguments[nn].map(Dn[nn])),et.apply(this,Hn)}}let rn=vt;if(Fr(He)){const Wt=He.length-1;rn=function(){return vt.apply(this,Mr(arguments,0,Wt).concat([Mr(arguments,Wt)]))}}return jt&&Object.defineProperty(rn,"name",{value:jt}),rn}function Qm(He){let et,vt,jt,rn;const Wt=[],Dn=[];let dn="";He.types.forEach(function(nn){nn.conversion&&(dn+=nn.conversion.from+"~>"+nn.conversion.to+",",Wt.push(Ct(nn.conversion.from).test),Dn.push(nn.conversion.convert))}),dn=dn?dn.slice(0,-1):"pass";let Hn=nn=>nn;switch(Dn.length){case 0:break;case 1:et=Wt[0],jt=Dn[0],Hn=function(xi){return et(xi)?jt(xi):xi};break;case 2:et=Wt[0],vt=Wt[1],jt=Dn[0],rn=Dn[1],Hn=function(xi){return et(xi)?jt(xi):vt(xi)?rn(xi):xi};break;default:Hn=function(xi){for(let Lr=0;Lr<Dn.length;Lr++)if(Wt[Lr](xi))return Dn[Lr](xi);return xi}}return Object.defineProperty(Hn,"name",{value:dn}),Hn}function Pp(He){return function et(vt,jt,rn){if(jt<vt.length){const Wt=vt[jt];let Dn=[];if(Wt.restParam){const dn=Wt.types.filter(_c);dn.length<Wt.types.length&&Dn.push({types:dn,name:"..."+dn.map(Hn=>Hn.name).join("|"),hasAny:dn.some(Hn=>Hn.isAny),hasConversion:!1,restParam:!0}),Dn.push(Wt)}else Dn=Wt.types.map(function(dn){return{types:[dn],name:dn.name,hasAny:dn.isAny,hasConversion:dn.conversion,restParam:!1}});return function Ni(He,et){return Array.prototype.concat.apply([],He.map(et))}(Dn,function(dn){return et(vt,jt+1,rn.concat([dn]))})}return[rn]}(He,0,[])}function Dg(He,et){const vt=Math.max(He.length,et.length);for(let dn=0;dn<vt;dn++){const Hn=al(He,dn),nn=al(et,dn);let Lr,xi=!1;for(Lr of nn)if(Hn.has(Lr)){xi=!0;break}if(!xi)return!1}const jt=He.length,rn=et.length,Wt=Fr(He),Dn=Fr(et);return Wt?Dn?jt===rn:rn>=jt:Dn?jt>=rn:jt===rn}function _t(He,et,vt){const jt=[];let rn;for(rn of He){let Wt=vt[rn];if("number"!=typeof Wt)throw new TypeError('No definition for referenced signature "'+rn+'"');if(Wt=et[Wt],"function"!=typeof Wt)return!1;jt.push(Wt)}return jt}function St(He,et,vt){const jt=function Mg(He){return He.map(et=>ea(et)?Oc(et.referToSelf.callback):Kl(et)?Fd(et.referTo.references,et.referTo.callback):et)}(He),rn=new Array(jt.length).fill(!1);let Wt=!0;for(;Wt;){Wt=!1;let Dn=!0;for(let dn=0;dn<jt.length;++dn){if(rn[dn])continue;const Hn=jt[dn];if(ea(Hn))jt[dn]=Hn.referToSelf.callback(vt),jt[dn].referToSelf=Hn.referToSelf,rn[dn]=!0,Dn=!1;else if(Kl(Hn)){const nn=_t(Hn.referTo.references,jt,et);nn?(jt[dn]=Hn.referTo.callback.apply(this,nn),jt[dn].referTo=Hn.referTo,rn[dn]=!0,Dn=!1):Wt=!0}}if(Dn&&Wt)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return jt}function _n(He,et){if(zt.createCount++,0===Object.keys(et).length)throw new SyntaxError("No signatures provided");zt.warnAgainstDeprecatedThis&&function ln(He){const et=/\bthis(\(|\.signatures\b)/;Object.keys(He).forEach(vt=>{if(et.test(He[vt].toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(et);const vt=[],jt=[],rn={},Wt=[];let Dn;for(Dn in et){if(!Object.prototype.hasOwnProperty.call(et,Dn))continue;const Is=us(Dn);if(!Is)continue;vt.forEach(function(Co){if(Dg(Co,Is))throw new TypeError('Conflicting signatures "'+Ri(Co)+'" and "'+Ri(Is)+'".')}),vt.push(Is);const cl=jt.length;jt.push(et[Dn]);const Yr=Is.map($o);let Bg;for(Bg of Pp(Yr)){const Co=Ri(Bg);Wt.push({params:Bg,name:Co,fn:cl}),Bg.every(H_=>!H_.hasConversion)&&(rn[Co]=cl)}}Wt.sort(Fp);const dn=St(jt,rn,Gr);let Hn;for(Hn in rn)Object.prototype.hasOwnProperty.call(rn,Hn)&&(rn[Hn]=dn[rn[Hn]]);const nn=[],xi=new Map;for(Hn of Wt)xi.has(Hn.name)||(Hn.fn=dn[Hn.fn],nn.push(Hn),xi.set(Hn.name,Hn));const Lr=nn[0]&&nn[0].params.length<=2&&!Fr(nn[0].params),Ro=nn[1]&&nn[1].params.length<=2&&!Fr(nn[1].params),ya=nn[2]&&nn[2].params.length<=2&&!Fr(nn[2].params),Ns=nn[3]&&nn[3].params.length<=2&&!Fr(nn[3].params),Xl=nn[4]&&nn[4].params.length<=2&&!Fr(nn[4].params),ll=nn[5]&&nn[5].params.length<=2&&!Fr(nn[5].params),Xi=Lr&&Ro&&ya&&Ns&&Xl&&ll;for(let Is=0;Is<nn.length;++Is)nn[Is].test=ol(nn[Is].params);const Op=Lr?zr(nn[0].params[0]):Me,Bf=Ro?zr(nn[1].params[0]):Me,Tg=ya?zr(nn[2].params[0]):Me,eS=Ns?zr(nn[3].params[0]):Me,Rn=Xl?zr(nn[4].params[0]):Me,Tr=ll?zr(nn[5].params[0]):Me,Qr=Lr?zr(nn[0].params[1]):Me,Ng=Ro?zr(nn[1].params[1]):Me,Xr=ya?zr(nn[2].params[1]):Me,ds=Ns?zr(nn[3].params[1]):Me,_y=Xl?zr(nn[4].params[1]):Me,_i=ll?zr(nn[5].params[1]):Me;for(let Is=0;Is<nn.length;++Is)nn[Is].implementation=JC(nn[Is].params,nn[Is].fn);const ET=Lr?nn[0].implementation:Pt,k_=Ro?nn[1].implementation:Pt,xt=ya?nn[2].implementation:Pt,Rp=Ns?nn[3].implementation:Pt,kp=Xl?nn[4].implementation:Pt,L_=ll?nn[5].implementation:Pt,DT=Lr?nn[0].params.length:-1,MT=Ro?nn[1].params.length:-1,by=ya?nn[2].params.length:-1,Pd=Ns?nn[3].params.length:-1,Lp=Xl?nn[4].params.length:-1,Up=ll?nn[5].params.length:-1,Gu=Xi?6:0,U_=nn.length,Hp=nn.map(Is=>Is.test),Ff=nn.map(Is=>Is.implementation),Ig=function(){for(let cl=Gu;cl<U_;cl++)if(Hp[cl](arguments))return Ff[cl].apply(this,arguments);return zt.onMismatch(He,arguments,nn)};function Gr(Is,cl){return arguments.length===DT&&Op(Is)&&Qr(cl)?ET.apply(this,arguments):arguments.length===MT&&Bf(Is)&&Ng(cl)?k_.apply(this,arguments):arguments.length===by&&Tg(Is)&&Xr(cl)?xt.apply(this,arguments):arguments.length===Pd&&eS(Is)&&ds(cl)?Rp.apply(this,arguments):arguments.length===Lp&&Rn(Is)&&_y(cl)?kp.apply(this,arguments):arguments.length===Up&&Tr(Is)&&_i(cl)?L_.apply(this,arguments):Ig.apply(this,arguments)}try{Object.defineProperty(Gr,"name",{value:He})}catch{}return Gr.signatures=rn,Gr._typedFunctionData={signatures:nn,signatureMap:xi},Gr}function ci(He,et,vt){throw Qu(He,et,vt)}function bn(He){return Mr(He,0,He.length-1)}function ho(He){return He[He.length-1]}function Mr(He,et,vt){return Array.prototype.slice.call(He,et,vt)}function Fd(He,et){return{referTo:{references:He,callback:et}}}function Oc(He){if("function"!=typeof He)throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:He}}}function Kl(He){return He&&"object"==typeof He.referTo&&Array.isArray(He.referTo.references)&&"function"==typeof He.referTo.callback}function ea(He){return He&&"object"==typeof He.referToSelf&&"function"==typeof He.referToSelf.callback}function Rc(He,et){if(!He)return et;if(et&&et!==He){const vt=new Error("Function names do not match (expected: "+He+", actual: "+et+")");throw vt.data={actual:et,expected:He},vt}return He}function Zs(He){let et;for(const vt in He)Object.prototype.hasOwnProperty.call(He,vt)&&(Rs(He[vt])||"string"==typeof He[vt].signature)&&(et=Rc(et,He[vt].name));return et}function Nh(He,et){let vt;for(vt in et)if(Object.prototype.hasOwnProperty.call(et,vt)){if(vt in He&&et[vt]!==He[vt]){const jt=new Error('Signature "'+vt+'" is defined twice');throw jt.data={signature:vt,sourceFunction:et[vt],destFunction:He[vt]},jt}He[vt]=et[vt]}}cn(),en(Pn);const Gm=zt;function Ih(He){if(!He||"string"!=typeof He.from||"string"!=typeof He.to||"function"!=typeof He.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(He.to===He.from)throw new SyntaxError('Illegal to define conversion from "'+He.from+'" to itself.')}return zt=function(He){const et="string"==typeof He;let jt=et?He:"";const rn={};for(let Wt=et?1:0;Wt<arguments.length;++Wt){const Dn=arguments[Wt];let Hn,dn={};if("function"==typeof Dn?(Hn=Dn.name,"string"==typeof Dn.signature?dn[Dn.signature]=Dn:Rs(Dn)&&(dn=Dn.signatures)):vn(Dn)&&(dn=Dn,et||(Hn=Zs(Dn))),0===Object.keys(dn).length){const nn=new TypeError("Argument to 'typed' at index "+Wt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw nn.data={index:Wt,argument:Dn},nn}et||(jt=Rc(jt,Hn)),Nh(rn,dn)}return _n(jt||"",rn)},zt.create=Ot,zt.createCount=Gm.createCount,zt.onMismatch=ci,zt.throwMismatchError=ci,zt.createError=Qu,zt.clear=cn,zt.clearConversions=function fn(){let He;for(He of je)It.get(He).conversionsTo=[];qt=0},zt.addTypes=en,zt._findType=Ct,zt.referTo=function du(){const He=bn(arguments).map(vt=>Ri(us(vt))),et=ho(arguments);if("function"!=typeof et)throw new TypeError("Callback function expected as last argument");return Fd(He,et)},zt.referToSelf=Oc,zt.convert=function sl(He,et){const vt=Ct(et);if(vt.test(He))return He;const jt=vt.conversionsTo;if(0===jt.length)throw new Error("There are no conversions to "+et+" defined.");for(let rn=0;rn<jt.length;rn++)if(Ct(jt[rn].from).test(He))return jt[rn].convert(He);throw new Error("Cannot convert "+He+" to "+et)},zt.findSignature=uo,zt.find=function Ys(He,et,vt){return uo(He,et,vt).implementation},zt.isTypedFunction=Rs,zt.warnAgainstDeprecatedThis=!0,zt.addType=function(He,et){let vt="any";!1!==et&&It.has("Object")&&(vt="Object"),zt.addTypes([He],vt)},zt.addConversion=function(He){let et=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{override:!1};Ih(He);const vt=Ct(He.to),jt=vt.conversionsTo.find(rn=>rn.from===He.from);if(jt){if(!et||!et.override)throw new Error('There is already a conversion from "'+He.from+'" to "'+vt.name+'"');zt.removeConversion({from:jt.from,to:He.to,convert:jt.convert})}vt.conversionsTo.push({from:He.from,to:vt.name,convert:He.convert,index:qt++})},zt.addConversions=function(He,et){He.forEach(vt=>zt.addConversion(vt,et))},zt.removeConversion=function(He){Ih(He);const et=Ct(He.to),vt=function ts(He,et){for(let vt=0;vt<He.length;vt++)if(et(He[vt]))return He[vt]}(et.conversionsTo,rn=>rn.from===He.from);if(!vt)throw new Error("Attempt to remove nonexistent conversion from "+He.from+" to "+He.to);if(vt.convert!==He.convert)throw new Error("Conversion to remove does not match existing conversion");const jt=et.conversionsTo.indexOf(vt);et.conversionsTo.splice(jt,1)},zt.resolve=function(He,et){if(!Rs(He))throw new TypeError(Tt);const vt=He._typedFunctionData.signatures;for(let jt=0;jt<vt.length;++jt)if(vt[jt].test(et))return vt[jt];return null},zt}()}()},4073:()=>{"use strict";const Ti=":";Error;const Pp=function(_t,...St){if(Pp.translate){const _n=Pp.translate(_t,St);_t=_n[0],St=_n[1]}let ln=Mg(_t[0],_t.raw[0]);for(let _n=1;_n<_t.length;_n++)ln+=St[_n-1]+Mg(_t[_n],_t.raw[_n]);return ln},Dg=":";function Mg(_t,St){return St.charAt(0)===Dg?_t.substring(function al(_t,St){for(let ln=1,_n=1;ln<_t.length;ln++,_n++)if("\\"===St[_n])_n++;else if(_t[ln]===Ti)return ln;throw new Error(`Unterminated $localize metadata block in "${St}".`)}(_t,St)+1):_t}globalThis.$localize=Pp},467:(Ti,li,Me)=>{"use strict";function Pt(Ot,yn,vn,Pn,Gn,It,je){try{var qt=Ot[It](je),zt=qt.value}catch(Ct){return void vn(Ct)}qt.done?yn(zt):Promise.resolve(zt).then(Pn,Gn)}function Tt(Ot){return function(){var yn=this,vn=arguments;return new Promise(function(Pn,Gn){var It=Ot.apply(yn,vn);function je(zt){Pt(It,Pn,Gn,je,qt,"next",zt)}function qt(zt){Pt(It,Pn,Gn,je,qt,"throw",zt)}je(void 0)})}}Me.d(li,{A:()=>Tt})},1660:(Ti,li,Me)=>{"use strict";Me.d(li,{A:()=>yn});var Pt=Me(2284);function yn(vn,Pn,Gn){return(Pn=function Ot(vn){var Pn=function Tt(vn,Pn){if("object"!=(0,Pt.A)(vn)||!vn)return vn;var Gn=vn[Symbol.toPrimitive];if(void 0!==Gn){var It=Gn.call(vn,Pn||"default");if("object"!=(0,Pt.A)(It))return It;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Pn?String:Number)(vn)}(vn,"string");return"symbol"==(0,Pt.A)(Pn)?Pn:Pn+""}(Pn))in vn?Object.defineProperty(vn,Pn,{value:Gn,enumerable:!0,configurable:!0,writable:!0}):vn[Pn]=Gn,vn}},2284:(Ti,li,Me)=>{"use strict";function Pt(Tt){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ot){return typeof Ot}:function(Ot){return Ot&&"function"==typeof Symbol&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot})(Tt)}Me.d(li,{A:()=>Pt})}},Ti=>{var li=Pt=>Ti(Ti.s=Pt);li(4073),li(1082)}]);