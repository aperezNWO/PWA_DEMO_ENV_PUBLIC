<div class="content">    
      <!-- ENCABEZADO / INICIO  -->  
      <app-base-reference></app-base-reference> 
      <!-- ENCABEZADO / FIN -->  
      <hr>
      <!-- TABLERO / INICIO -->
      <div class="game-container">
            <!-- Controls -->
            <div class="controls">
                <!-- AI Style Dropdown -->
                <label>
                AI Style:
                <select id="LanguageList"
                        name="LanguajeList"
                        (change)="onAiModeChange($event)"
                        #_languajeList>
                        <option *ngFor="let _languageName of __languajeList" 
                                [value]   ="_languageName._index"
                                [selected]="_languageName._selected">{{_languageName._value}}
                        </option>
                </select>
                </label>
                <br>    
                <!-- Temperature Slider -->
                <label *ngIf="aiMode === 1">
                Creativity:
                <input 
                    type="range" 
                    min="0.1" max="2.0" step="0.1"
                    [value]="temperature" 
                    (input)="onTempChange($event)"
                >
                {{ temperature.toFixed(1) }}
                </label>
                <br>
                <!-- Ensure it's loadGame(), not playGame -->
                <button class="button_tictactoe" (click)="loadGame()" [disabled]="loading">
                {{ loading ? 'Loading...' : 'üîÅ Replay Game' }}
                </button>
            </div>        
            <!-- Error -->
            <div class="error" *ngIf="error">
                ‚ö†Ô∏è {{ error }}
            </div>
            <!-- Loading -->
            <div class="loading" *ngIf="loading">
                üß† AI is generating a game...
            </div>
            <!-- Board -->
            <div align="center" class="board" *ngIf="!loading && !error">
                <div *ngFor="let cell of gameHistory[currentStep]; let i = index"
                    class="{{ getCellClass(cell, i) }}">
                {{ getCellSymbol(cell) }}
                </div>
            </div>

            <!-- Game Info -->
            <div class="game-info" *ngIf="!loading && gameHistory.length > 0">
                <p><strong>Step {{ currentStep }} / {{ gameHistory.length - 1 }}</strong></p>
                <p><strong>{{ this.winner }}</strong></p>
            </div>
      </div>
       <!-- TABLERO / FIN    -->
      <hr />
      <div align="right">
          <a [routerLink]="'/PageUrlList'" [queryParams]="{pageName : 'PAGE_DEMOS_GAMES_INDEX'}" >[Back to Menu]</a>
      </div>
</div>      


